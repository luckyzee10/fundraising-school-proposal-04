!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}({"+9ZR":function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?h(t):e}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||v(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var b={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},_=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),Object.assign(this,b,e),this.smartphone=b.smartphone,e.smartphone&&Object.assign(this.smartphone,e.smartphone),this.tablet=b.tablet,e.tablet&&Object.assign(this.tablet,e.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",this.isMobile&&(this.direction=this[this.context].direction),"horizontal"===this.direction?this.directionAxis="x":this.directionAxis="y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return i(t,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame((function(){t.resize(),t.resizeTick=!1})))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var t=this.context;if(this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",t!=this.context)("desktop"==t?this.smooth:this[t].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}},{key:"initEvents",value:function(){var t=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach((function(e){e.addEventListener("click",t.setScrollTo,!1)}))}},{key:"setScrollTo",value:function(t){t.preventDefault(),this.scrollTo(t.currentTarget.getAttribute("data-".concat(this.name,"-href"))||t.currentTarget.getAttribute("href"),{offset:t.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(t){var e=this,n=this.instance.scroll.y,r=n+this.windowHeight,i=this.instance.scroll.x,o=i+this.windowWidth;Object.entries(this.els).forEach((function(s){var a=m(s,2),l=a[0],c=a[1];if(!c||c.inView&&!t||("horizontal"===e.direction?o>=c.left&&i<c.right&&e.setInView(c,l):r>=c.top&&n<c.bottom&&e.setInView(c,l)),c&&c.inView)if("horizontal"===e.direction){var u=c.right-c.left;c.progress=(e.instance.scroll.x-(c.left-e.windowWidth))/(u+e.windowWidth),(o<c.left||i>c.right)&&e.setOutOfView(c,l)}else{var h=c.bottom-c.top;c.progress=(e.instance.scroll.y-(c.top-e.windowHeight))/(h+e.windowHeight),(r<c.top||n>c.bottom)&&e.setOutOfView(c,l)}})),this.hasScrollTicking=!1}},{key:"setInView",value:function(t,e){this.els[e].inView=!0,t.el.classList.add(t.class),this.currentElements[e]=t,t.call&&this.hasCallEventSet&&(this.dispatchCall(t,"enter"),t.repeat||(this.els[e].call=!1))}},{key:"setOutOfView",value:function(t,e){var n=this;this.els[e].inView=!1,Object.keys(this.currentElements).forEach((function(t){t===e&&delete n.currentElements[t]})),t.call&&this.hasCallEventSet&&this.dispatchCall(t,"exit"),t.repeat&&t.el.classList.remove(t.class)}},{key:"dispatchCall",value:function(t,e){this.callWay=e,this.callValue=t.call.split(",").map((function(t){return t.trim()})),this.callObj=t,1==this.callValue.length&&(this.callValue=this.callValue[0]);var n=new Event(this.namespace+"call");this.el.dispatchEvent(n)}},{key:"dispatchScroll",value:function(){var t=new Event(this.namespace+"scroll");this.el.dispatchEvent(t)}},{key:"setEvents",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]);var n=this.listeners[t];n.push(e),1===n.length&&this.el.addEventListener(this.namespace+t,this.checkEvent,!1),"call"===t&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(t,e){if(this.listeners[t]){var n=this.listeners[t],r=n.indexOf(e);r<0||(n.splice(r,1),0===n.index&&this.el.removeEventListener(this.namespace+t,this.checkEvent,!1))}}},{key:"checkEvent",value:function(t){var e=this,n=t.type.replace(this.namespace,""),r=this.listeners[n];r&&0!==r.length&&r.forEach((function(t){switch(n){case"scroll":return t(e.instance);case"call":return t(e.callValue,e.callWay,e.callObj);default:return t()}}))}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(t,e){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var t=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach((function(e){t.el.removeEventListener(t.namespace+e,t.checkEvent,!1)})),this.listeners={},this.scrollToEls.forEach((function(e){e.removeEventListener("click",t.setScrollTo,!1)})),this.html.classList.remove(this.initClass)}}]),t}(),x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function w(t,e){return t(e={exports:{}},e.exports),e.exports}var E=w((function(t,e){t.exports={polyfill:function(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style)||!0===t.__forceSmoothScrollPolyfill__){var n,r=t.HTMLElement||t.Element,i={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:r.prototype.scroll||a,scrollIntoView:r.prototype.scrollIntoView},o=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,s=(n=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?f.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):i.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?i.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):f.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==l(arguments[0])){var t=arguments[0].left,e=arguments[0].top;f.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==l(arguments[0])){var n=p(this),r=n.getBoundingClientRect(),o=this.getBoundingClientRect();n!==e.body?(f.call(this,n,n.scrollLeft+o.left-r.left,n.scrollTop+o.top-r.top),"fixed"!==t.getComputedStyle(n).position&&t.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):t.scrollBy({left:o.left,top:o.top,behavior:"smooth"})}else i.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function a(t,e){this.scrollLeft=t,this.scrollTop=e}function l(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(t,e){return"Y"===e?t.clientHeight+s<t.scrollHeight:"X"===e?t.clientWidth+s<t.scrollWidth:void 0}function u(e,n){var r=t.getComputedStyle(e,null)["overflow"+n];return"auto"===r||"scroll"===r}function h(t){var e=c(t,"Y")&&u(t,"Y"),n=c(t,"X")&&u(t,"X");return e||n}function p(t){for(;t!==e.body&&!1===h(t);)t=t.parentNode||t.host;return t}function d(e){var n,r,i,s,a=(o()-e.startTime)/468;s=a=a>1?1:a,n=.5*(1-Math.cos(Math.PI*s)),r=e.startX+(e.x-e.startX)*n,i=e.startY+(e.y-e.startY)*n,e.method.call(e.scrollable,r,i),r===e.x&&i===e.y||t.requestAnimationFrame(d.bind(t,e))}function f(n,r,s){var l,c,u,h,p=o();n===e.body?(l=t,c=t.scrollX||t.pageXOffset,u=t.scrollY||t.pageYOffset,h=i.scroll):(l=n,c=n.scrollLeft,u=n.scrollTop,h=a),d({scrollable:l,method:h,startTime:p,startX:c,startY:u,x:r,y:s})}}}})),S=(E.polyfill,function(t){l(r,t);var e=d(r);function r(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,r),(t=e.call(this,i)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",t.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=E,window.smoothscrollPolyfill.polyfill()),t}return i(r,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),f(c(r.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var t=this;f(c(r.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame((function(){t.detectElements()})),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var t=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach((function(e,n){e.getBoundingClientRect();var r,i,o,s=e.dataset[t.name+"Class"]||t.class,a="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:n,l="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,c=e.dataset[t.name+"Repeat"],u=e.dataset[t.name+"Call"],h=e.dataset[t.name+"Target"],p=(o=void 0!==h?document.querySelector("".concat(h)):e).getBoundingClientRect();r=p.top+t.instance.scroll.y,i=p.left+t.instance.scroll.x;var d=r+o.offsetHeight,f=i+o.offsetWidth;c="false"!=c&&(null!=c||t.repeat);var m=t.getRelativeOffset(l),g={el:e,targetEl:o,id:a,class:s,top:r+=m[0],bottom:d-=m[1],left:i,right:f,offset:l,progress:0,repeat:c,inView:!1,call:u};t.els[a]=g,e.classList.contains(s)&&t.setInView(t.els[a],a)}))}},{key:"updateElements",value:function(){var t=this;Object.entries(this.els).forEach((function(e){var n=m(e,2),r=n[0],i=n[1],o=i.targetEl.getBoundingClientRect().top+t.instance.scroll.y,s=o+i.targetEl.offsetHeight,a=t.getRelativeOffset(i.offset);t.els[r].top=o+a[0],t.els[r].bottom=s-a[1]})),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(t){var e=[0,0];if(t)for(var n=0;n<t.length;n++)"string"==typeof t[n]?t[n].includes("%")?e[n]=parseInt(t[n].replace("%","")*this.windowHeight/100):e[n]=parseInt(t[n]):e[n]=t[n];return e}},{key:"scrollTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=parseInt(e.offset)||0,r=!!e.callback&&e.callback;if("string"==typeof t){if("top"===t)t=this.html;else if("bottom"===t)t=this.html.offsetHeight-window.innerHeight;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");n="number"!=typeof t?t.getBoundingClientRect().top+n+this.instance.scroll.y:t+n;var i=function(){return parseInt(window.pageYOffset)===parseInt(n)};if(r){if(i())return void r();var o=function t(){i()&&(window.removeEventListener("scroll",t),r())};window.addEventListener("scroll",o)}window.scrollTo({top:n,behavior:0===e.duration?"auto":"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){f(c(r.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),r}(_)),T=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;function C(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var P=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,i=C(t),o=1;o<arguments.length;o++){for(var s in n=Object(arguments[o]))A.call(n,s)&&(i[s]=n[s]);if(T){r=T(n);for(var a=0;a<r.length;a++)M.call(n,r[a])&&(i[r[a]]=n[r[a]])}}return i};function D(){}D.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function i(){r.off(t,i),e.apply(n,arguments)}return i._=e,this.on(t,i,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,s=r.length;o<s;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}};var R=D,O=w((function(t,e){(function(){(null!==e?e:this).Lethargy=function(){function t(t,e,n,r){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=n?1+Math.abs(n):1.1,this.delay=null!=r?r:150,this.lastUpDeltas=function(){var t,e,n;for(n=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)n.push(null);return n}.call(this),this.lastDownDeltas=function(){var t,e,n;for(n=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)n.push(null);return n}.call(this),this.deltasTimestamp=function(){var t,e,n;for(n=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)n.push(null);return n}.call(this)}return t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,n,r,i,o,s,a;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(r=e.slice(0,this.stability),n=e.slice(this.stability,2*this.stability),a=r.reduce((function(t,e){return t+e})),o=n.reduce((function(t,e){return t+e})),s=a/r.length,i=o/n.length,Math.abs(s)<Math.abs(i*this.tolerance)&&this.sensitivity<Math.abs(i)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(x)})),I={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1},L=Object.prototype.toString,k=Object.prototype.hasOwnProperty;function F(t,e){return function(){return t.apply(e,arguments)}}var N=O.Lethargy,B="virtualscroll",U=X,G=37,z=38,H=39,j=40,V=32;function X(t){!function(t){if(!t)return console.warn("bindAll requires at least one argument.");var e=Array.prototype.slice.call(arguments,1);if(0===e.length)for(var n in t)k.call(t,n)&&"function"==typeof t[n]&&"[object Function]"==L.call(t[n])&&e.push(n);for(var r=0;r<e.length;r++){var i=e[r];t[i]=F(t[i],t)}}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,t&&t.el&&(this.el=t.el,delete t.el),this.options=P({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},t),this.options.limitInertia&&(this._lethargy=new N),this._emitter=new R,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function W(t,e,n){return(1-n)*t+n*e}function q(t){var e={};if(window.getComputedStyle){var n=getComputedStyle(t),r=n.transform||n.webkitTransform||n.mozTransform,i=r.match(/^matrix3d\((.+)\)$/);return i?(e.x=i?parseFloat(i[1].split(", ")[12]):0,e.y=i?parseFloat(i[1].split(", ")[13]):0):(i=r.match(/^matrix\((.+)\)$/),e.x=i?parseFloat(i[1].split(", ")[4]):0,e.y=i?parseFloat(i[1].split(", ")[5]):0),e}}function Y(t){for(var e=[];t&&t!==document;t=t.parentNode)e.push(t);return e}X.prototype._notify=function(t){var e=this._event;e.x+=e.deltaX,e.y+=e.deltaY,this._emitter.emit(B,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},X.prototype._onWheel=function(t){var e=this.options;if(!this._lethargy||!1!==this._lethargy.check(t)){var n=this._event;n.deltaX=t.wheelDeltaX||-1*t.deltaX,n.deltaY=t.wheelDeltaY||-1*t.deltaY,I.isFirefox&&1==t.deltaMode&&(n.deltaX*=e.firefoxMultiplier,n.deltaY*=e.firefoxMultiplier),n.deltaX*=e.mouseMultiplier,n.deltaY*=e.mouseMultiplier,this._notify(t)}},X.prototype._onMouseWheel=function(t){if(!this.options.limitInertia||!1!==this._lethargy.check(t)){var e=this._event;e.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,e.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,this._notify(t)}},X.prototype._onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t;this.touchStartX=e.pageX,this.touchStartY=e.pageY},X.prototype._onTouchMove=function(t){var e=this.options;e.preventTouch&&!t.target.classList.contains(e.unpreventTouchClass)&&t.preventDefault();var n=this._event,r=t.targetTouches?t.targetTouches[0]:t;n.deltaX=(r.pageX-this.touchStartX)*e.touchMultiplier,n.deltaY=(r.pageY-this.touchStartY)*e.touchMultiplier,this.touchStartX=r.pageX,this.touchStartY=r.pageY,this._notify(t)},X.prototype._onKeyDown=function(t){var e=this._event;e.deltaX=e.deltaY=0;var n=window.innerHeight-40;switch(t.keyCode){case G:case z:e.deltaY=this.options.keyStep;break;case H:case j:e.deltaY=-this.options.keyStep;break;case t.shiftKey:e.deltaY=n;break;case V:e.deltaY=-n;break;default:return}this._notify(t)},X.prototype._bind=function(){I.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),I.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),I.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),I.hasPointer&&I.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),I.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},X.prototype._unbind=function(){I.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),I.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),I.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),I.hasPointer&&I.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),I.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},X.prototype.on=function(t,e){this._emitter.on(B,t,e);var n=this._emitter.e;n&&n[B]&&1===n[B].length&&this._bind()},X.prototype.off=function(t,e){this._emitter.off(B,t,e);var n=this._emitter.e;(!n[B]||n[B].length<=0)&&this._unbind()},X.prototype.reset=function(){var t=this._event;t.x=0,t.y=0},X.prototype.destroy=function(){this._emitter.off(),this._unbind()};var $="function"==typeof Float32Array;function K(t,e){return 1-3*e+3*t}function Z(t,e){return 3*e-6*t}function J(t){return 3*t}function Q(t,e,n){return((K(e,n)*t+Z(e,n))*t+J(e))*t}function tt(t,e,n){return 3*K(e,n)*t*t+2*Z(e,n)*t+J(e)}function et(t){return t}var nt=function(t,e,n,r){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&n===r)return et;for(var i=$?new Float32Array(11):new Array(11),o=0;o<11;++o)i[o]=Q(.1*o,t,n);function s(e){for(var r=0,o=1;10!==o&&i[o]<=e;++o)r+=.1;--o;var s=r+.1*((e-i[o])/(i[o+1]-i[o])),a=tt(s,t,n);return a>=.001?function(t,e,n,r){for(var i=0;i<4;++i){var o=tt(e,n,r);if(0===o)return e;e-=(Q(e,n,r)-t)/o}return e}(e,s,t,n):0===a?s:function(t,e,n,r,i){var o,s,a=0;do{(o=Q(s=e+(n-e)/2,r,i)-t)>0?n=s:e=s}while(Math.abs(o)>1e-7&&++a<10);return s}(e,r,r+.1,t,n)}return function(t){return 0===t?0:1===t?1:Q(s(t),e,r)}},rt=38,it=40,ot=32,st=9,at=33,lt=34,ct=36,ut=35,ht=function(t){l(r,t);var e=d(r);function r(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,r),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(t=e.call(this,i)).inertia&&(t.lerp=.1*t.inertia),t.isScrolling=!1,t.isDraggingScrollbar=!1,t.isTicking=!1,t.hasScrollTicking=!1,t.parallaxElements={},t.stop=!1,t.scrollbarContainer=i.scrollbarContainer,t.checkKey=t.checkKey.bind(h(t)),window.addEventListener("keydown",t.checkKey,!1),t}return i(r,[{key:"init",value:function(){var t=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=a({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new U({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on((function(e){t.stop||t.isDraggingScrollbar||requestAnimationFrame((function(){t.updateDelta(e),t.isScrolling||t.startScrolling()}))})),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),f(c(r.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var t=0,e=this.el.children,n=0;n<e.length;n++)t+=e[n].offsetWidth;this.instance.limit.x=t-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf),this.startScrollTs=void 0,this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(t){var e=this;if(this.stop)t.keyCode==st&&requestAnimationFrame((function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0}));else{switch(t.keyCode){case st:requestAnimationFrame((function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0,e.scrollTo(document.activeElement,{offset:-window.innerHeight/2})}));break;case rt:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]-=240);break;case it:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]+=240);break;case at:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case lt:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case ct:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case ut:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case ot:this.isActiveElementScrollSensitive()&&(t.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"isActiveElementScrollSensitive",value:function(){return!(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||document.activeElement instanceof HTMLButtonElement||document.activeElement instanceof HTMLSelectElement)}},{key:"checkScroll",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame((function(){return t.checkScroll()})),this.hasScrollTicking=!0),this.updateScroll();var n=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),i=Date.now()-this.startScrollTs;if(!this.animatingScroll&&i>100&&(n<.5&&0!=this.instance.delta[this.directionAxis]||n<.5&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach((function(n){var r=m(n,2),i=(r[0],r[1]);i.persistent||t.instance.scroll[t.directionAxis]>i.offset[t.directionAxis]&&t.instance.scroll[t.directionAxis]<i.limit[t.directionAxis]?("horizontal"===t.direction?t.transform(i.el,-t.instance.scroll[t.directionAxis],0):t.transform(i.el,0,-t.instance.scroll[t.directionAxis]),i.inView||(i.inView=!0,i.el.style.opacity=1,i.el.style.pointerEvents="all",i.el.setAttribute("data-".concat(t.name,"-section-inview"),""))):((i.inView||e)&&(i.inView=!1,i.el.style.opacity=0,i.el.style.pointerEvents="none",i.el.removeAttribute("data-".concat(t.name,"-section-inview"))),t.transform(i.el,0,0))})),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var o=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];"horizontal"===this.direction?this.transform(this.scrollbarThumb,o,0):this.transform(this.scrollbarThumb,0,o)}f(c(r.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function(t){var e,n=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;e="both"===n?t.deltaX+t.deltaY:"vertical"===n?t.deltaY:"horizontal"===n?t.deltaX:t.deltaY,this.instance.delta[this.directionAxis]-=e*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(t){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=W(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function(){this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?this.instance.speed=(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(t){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(t){this.isDraggingScrollbar=!1,this.isScrolling&&this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(t){var e=this;this.isDraggingScrollbar&&requestAnimationFrame((function(){var n=100*(t.clientX-e.scrollbarBCR.left)/e.scrollbarWidth*e.instance.limit.x/100,r=100*(t.clientY-e.scrollbarBCR.top)/e.scrollbarHeight*e.instance.limit.y/100;r>0&&r<e.instance.limit.y&&(e.instance.delta.y=r),n>0&&n<e.instance.limit.x&&(e.instance.delta.x=n)}))}},{key:"addElements",value:function(){var t=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach((function(e,n){var r,i,o,s=Y(e),a=Object.entries(t.sections).map((function(t){var e=m(t,2);e[0];return e[1]})).find((function(t){return s.includes(t.el)})),l=e.dataset[t.name+"Class"]||t.class,c="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:"el"+n,u=e.dataset[t.name+"Repeat"],h=e.dataset[t.name+"Call"],p=e.dataset[t.name+"Position"],d=e.dataset[t.name+"Delay"],f=e.dataset[t.name+"Direction"],g="string"==typeof e.dataset[t.name+"Sticky"],v=!!e.dataset[t.name+"Speed"]&&parseFloat(e.dataset[t.name+"Speed"])/10,y="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,b=e.dataset[t.name+"Target"],_=(o=void 0!==b?document.querySelector("".concat(b)):e).getBoundingClientRect();null===a||a.inView?(r=_.top+t.instance.scroll.y-q(o).y,i=_.left+t.instance.scroll.x-q(o).x):(r=_.top-q(a.el).y-q(o).y,i=_.left-q(a.el).x-q(o).x);var x=r+o.offsetHeight,w=i+o.offsetWidth,E={x:(w-i)/2+i,y:(x-r)/2+r};if(g){var S=e.getBoundingClientRect(),T=S.top,A=S.left,M={x:A-i,y:T-r};r+=window.innerHeight,i+=window.innerWidth,x=T+o.offsetHeight-e.offsetHeight-M[t.directionAxis],E={x:((w=A+o.offsetWidth-e.offsetWidth-M[t.directionAxis])-i)/2+i,y:(x-r)/2+r}}u="false"!=u&&(null!=u||t.repeat);var C=[0,0];if(y)if("horizontal"===t.direction){for(var P=0;P<y.length;P++)"string"==typeof y[P]?y[P].includes("%")?C[P]=parseInt(y[P].replace("%","")*t.windowWidth/100):C[P]=parseInt(y[P]):C[P]=y[P];i+=C[0],w-=C[1]}else{for(P=0;P<y.length;P++)"string"==typeof y[P]?y[P].includes("%")?C[P]=parseInt(y[P].replace("%","")*t.windowHeight/100):C[P]=parseInt(y[P]):C[P]=y[P];r+=C[0],x-=C[1]}var D={el:e,id:c,class:l,section:a,top:r,middle:E,bottom:x,left:i,right:w,offset:y,progress:0,repeat:u,inView:!1,call:h,speed:v,delay:d,position:p,target:o,direction:f,sticky:g};t.els[c]=D,e.classList.contains(l)&&t.setInView(t.els[c],c),(!1!==v||g)&&(t.parallaxElements[c]=D)}))}},{key:"addSections",value:function(){var t=this;this.sections={};var e=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===e.length&&(e=[this.el]),e.forEach((function(e,n){var r="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:"section"+n,i=e.getBoundingClientRect(),o={x:i.left-1.5*window.innerWidth-q(e).x,y:i.top-1.5*window.innerHeight-q(e).y},s={x:o.x+i.width+2*window.innerWidth,y:o.y+i.height+2*window.innerHeight},a="string"==typeof e.dataset[t.name+"Persistent"];e.setAttribute("data-scroll-section-id",r);var l={el:e,offset:o,limit:s,inView:!1,persistent:a,id:r};t.sections[r]=l}))}},{key:"transform",value:function(t,e,n,r){var i;if(r){var o=q(t),s=W(o.x,e,r),a=W(o.y,n,r);i="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(s,",").concat(a,",0,1)")}else i="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(e,",").concat(n,",0,1)");t.style.webkitTransform=i,t.style.msTransform=i,t.style.transform=i}},{key:"transformElements",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.instance.scroll.x+this.windowWidth,i=this.instance.scroll.y+this.windowHeight,o={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach((function(s){var a=m(s,2),l=(a[0],a[1]),c=!1;if(t&&(c=0),l.inView||n)switch(l.position){case"top":c=e.instance.scroll[e.directionAxis]*-l.speed;break;case"elementTop":c=(i-l.top)*-l.speed;break;case"bottom":c=(e.instance.limit[e.directionAxis]-i+e.windowHeight)*l.speed;break;case"left":c=e.instance.scroll[e.directionAxis]*-l.speed;break;case"elementLeft":c=(r-l.left)*-l.speed;break;case"right":c=(e.instance.limit[e.directionAxis]-r+e.windowHeight)*l.speed;break;default:c=(o[e.directionAxis]-l.middle[e.directionAxis])*-l.speed}l.sticky&&(c=l.inView?"horizontal"===e.direction?e.instance.scroll.x-l.left+window.innerWidth:e.instance.scroll.y-l.top+window.innerHeight:"horizontal"===e.direction?e.instance.scroll.x<l.left-window.innerWidth&&e.instance.scroll.x<l.left-window.innerWidth/2?0:e.instance.scroll.x>l.right&&e.instance.scroll.x>l.right+100&&l.right-l.left+window.innerWidth:e.instance.scroll.y<l.top-window.innerHeight&&e.instance.scroll.y<l.top-window.innerHeight/2?0:e.instance.scroll.y>l.bottom&&e.instance.scroll.y>l.bottom+100&&l.bottom-l.top+window.innerHeight),!1!==c&&("horizontal"===l.direction||"horizontal"===e.direction&&"vertical"!==l.direction?e.transform(l.el,c,0,!t&&l.delay):e.transform(l.el,0,c,!t&&l.delay))}))}},{key:"scrollTo",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=parseInt(n.offset)||0,i=isNaN(parseInt(n.duration))?1e3:parseInt(n.duration),o=n.easing||[.25,0,.35,1],s=!!n.disableLerp,a=!!n.callback&&n.callback;if(o=nt.apply(void 0,g(o)),"string"==typeof t){if("top"===t)t=0;else if("bottom"===t)t=this.instance.limit.y;else if("left"===t)t=0;else if("right"===t)t=this.instance.limit.x;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");if("number"!=typeof t){var l=Y(t).includes(this.el);if(!l)return;var c=t.getBoundingClientRect(),u=c.top,h=c.left,p=Y(t),d=p.find((function(t){return Object.entries(e.sections).map((function(t){var e=m(t,2);e[0];return e[1]})).find((function(e){return e.el==t}))})),f=0;f=d?q(d)[this.directionAxis]:-this.instance.scroll[this.directionAxis],r="horizontal"===this.direction?h+r-f:u+r-f}else r=t+r;var v=parseFloat(this.instance.delta[this.directionAxis]),y=Math.max(0,Math.min(r,this.instance.limit[this.directionAxis])),b=y-v,_=function(t){s?"horizontal"===e.direction?e.setScroll(v+b*t,e.instance.delta.y):e.setScroll(e.instance.delta.x,v+b*t):e.instance.delta[e.directionAxis]=v+b*t};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var x=Date.now(),w=function t(){var n=(Date.now()-x)/i;n>1?(_(1),e.animatingScroll=!1,0==i&&e.update(),a&&a()):(e.scrollToRaf=requestAnimationFrame(t),_(o(n)))};w()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(t,e){this.instance=a(a({},this.instance),{},{scroll:{x:t,y:e},delta:{x:t,y:e},speed:0})}},{key:"destroy",value:function(){f(c(r.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),r}(_),pt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.options=e,Object.assign(this,b,e),this.smartphone=b.smartphone,e.smartphone&&Object.assign(this.smartphone,e.smartphone),this.tablet=b.tablet,e.tablet&&Object.assign(this.tablet,e.tablet),this.smooth||"horizontal"!=this.direction||console.warn("ðŸš¨ `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn("ðŸš¨ `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn("ðŸš¨ `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return i(t,[{key:"init",value:function(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.scroll=new ht(this.options):this.scroll=new S(this.options),this.scroll.init(),window.location.hash){var t=window.location.hash.slice(1,window.location.hash.length),e=document.getElementById(t);e&&this.scroll.scrollTo(e)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(t,e){this.scroll.scrollTo(t,e)}},{key:"setScroll",value:function(t,e){this.scroll.setScroll(t,e)}},{key:"on",value:function(t,e){this.scroll.setEvents(t,e)}},{key:"off",value:function(t,e){this.scroll.unsetEvents(t,e)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),t}();e.a=pt}).call(this,n("yLpj"))},"+Nns":function(t,e,n){"use strict";e.a=function(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,n){if(n&&("object"==typeof n||"function"==typeof n)){var s=n.then;if("function"==typeof s)return void s.call(n,(function(e){o(t,e)}),(function(n){r[t]={status:"rejected",reason:n},0==--i&&e(r)}))}r[t]={status:"fulfilled",value:n},0==--i&&e(r)}for(var s=0;s<r.length;s++)o(s,r[s])}))}},"/pFH":function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}},0:function(t,e,n){n("ng4s"),n("NlKh"),n("TG6t"),t.exports=n("6ufr")},"0Ake":function(t,e,n){"use strict";var r=n("AM7I"),i=n("eZIG"),o=n("ZLCw")(),s=n("Kqna"),a=r("%TypeError%"),l=r("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new a("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||l(e)!==e)throw new a("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,c=!0;if("length"in t&&s){var u=s(t,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(c=!1)}return(r||c||!n)&&(o?i(t,"length",e,!0,!0):i(t,"length",e)),t}},"0LjR":function(t,e,n){"use strict";n.d(e,"a",(function(){return P})),n.d(e,"b",(function(){return P}));var r=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:String(e)}var a,l,c,u,h,p,d=/(?:\r|\n|\t\t)/g,f=/(?:\s\s+)/g,m=function(t){a=document,l=window,(u=u||t||l.gsap||console.warn("Please gsap.registerPlugin(SplitText)"))&&(p=u.utils.toArray,h=u.core.context||function(){},c=1)},g=function(t){return l.getComputedStyle(t)},v=function(t){return"absolute"===t.position||!0===t.absolute},y=function(t,e){for(var n,r=e.length;--r>-1;)if(n=e[r],t.substr(0,n.length)===n)return n.length},b=" style='position:relative;display:inline-block;'",_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=~t.indexOf("++"),r=1;return n&&(t=t.split("++").join("")),function(){return"<"+e+b+(t?" class='"+t+(n?r++:"")+"'>":">")}},x=function t(e,n,r){var i=e.nodeType;if(1===i||9===i||11===i)for(e=e.firstChild;e;e=e.nextSibling)t(e,n,r);else 3!==i&&4!==i||(e.nodeValue=e.nodeValue.split(n).join(r))},w=function(t,e){for(var n=e.length;--n>-1;)t.push(e[n])},E=function(t,e,n){for(var r;t&&t!==e;){if(r=t._next||t.nextSibling)return r.textContent.charAt(0)===n;t=t.parentNode||t._parent}},S=function t(e){var n,r,i=p(e.childNodes),o=i.length;for(n=0;n<o;n++)(r=i[n])._isSplit?t(r):n&&r.previousSibling&&3===r.previousSibling.nodeType?(r.previousSibling.nodeValue+=3===r.nodeType?r.nodeValue:r.firstChild.nodeValue,e.removeChild(r)):3!==r.nodeType&&(e.insertBefore(r.firstChild,r),e.removeChild(r))},T=function(t,e){return parseFloat(e[t])||0},A=function(t,e,n,r,i,o,s){var l,c,u,h,p,d,f,m,y,b,_,A,M=g(t),C=T("paddingLeft",M),P=-999,D=T("borderBottomWidth",M)+T("borderTopWidth",M),R=T("borderLeftWidth",M)+T("borderRightWidth",M),O=T("paddingTop",M)+T("paddingBottom",M),I=T("paddingLeft",M)+T("paddingRight",M),L=T("fontSize",M)*(e.lineThreshold||.2),k=M.textAlign,F=[],N=[],B=[],U=e.wordDelimiter||" ",G=e.tag?e.tag:e.span?"span":"div",z=e.type||e.split||"chars,words,lines",H=i&&~z.indexOf("lines")?[]:null,j=~z.indexOf("words"),V=~z.indexOf("chars"),X=v(e),W=e.linesClass,q=~(W||"").indexOf("++"),Y=[],$="flex"===M.display,K=t.style.display;for(q&&(W=W.split("++").join("")),$&&(t.style.display="block"),u=(c=t.getElementsByTagName("*")).length,p=[],l=0;l<u;l++)p[l]=c[l];if(H||X)for(l=0;l<u;l++)((d=(h=p[l]).parentNode===t)||X||V&&!j)&&(A=h.offsetTop,H&&d&&Math.abs(A-P)>L&&("BR"!==h.nodeName||0===l)&&(f=[],H.push(f),P=A),X&&(h._x=h.offsetLeft,h._y=A,h._w=h.offsetWidth,h._h=h.offsetHeight),H&&((h._isSplit&&d||!V&&d||j&&d||!j&&h.parentNode.parentNode===t&&!h.parentNode._isSplit)&&(f.push(h),h._x-=C,E(h,t,U)&&(h._wordEnd=!0)),"BR"===h.nodeName&&(h.nextSibling&&"BR"===h.nextSibling.nodeName||0===l)&&H.push([])));for(l=0;l<u;l++)if(d=(h=p[l]).parentNode===t,"BR"!==h.nodeName)if(X&&(y=h.style,j||d||(h._x+=h.parentNode._x,h._y+=h.parentNode._y),y.left=h._x+"px",y.top=h._y+"px",y.position="absolute",y.display="block",y.width=h._w+1+"px",y.height=h._h+"px"),!j&&V)if(h._isSplit)for(h._next=c=h.nextSibling,h.parentNode.appendChild(h);c&&3===c.nodeType&&" "===c.textContent;)h._next=c.nextSibling,h.parentNode.appendChild(c),c=c.nextSibling;else h.parentNode._isSplit?(h._parent=h.parentNode,!h.previousSibling&&h.firstChild&&(h.firstChild._isFirst=!0),h.nextSibling&&" "===h.nextSibling.textContent&&!h.nextSibling.nextSibling&&Y.push(h.nextSibling),h._next=h.nextSibling&&h.nextSibling._isFirst?null:h.nextSibling,h.parentNode.removeChild(h),p.splice(l--,1),u--):d||(A=!h.nextSibling&&E(h.parentNode,t,U),h.parentNode._parent&&h.parentNode._parent.appendChild(h),A&&h.parentNode.appendChild(a.createTextNode(" ")),"span"===G&&(h.style.display="inline"),F.push(h));else h.parentNode._isSplit&&!h._isSplit&&""!==h.innerHTML?N.push(h):V&&!h._isSplit&&("span"===G&&(h.style.display="inline"),F.push(h));else H||X?(h.parentNode&&h.parentNode.removeChild(h),p.splice(l--,1),u--):j||t.appendChild(h);for(l=Y.length;--l>-1;)Y[l].parentNode.removeChild(Y[l]);if(H){for(X&&(b=a.createElement(G),t.appendChild(b),_=b.offsetWidth+"px",A=b.offsetParent===t?0:t.offsetLeft,t.removeChild(b)),y=t.style.cssText,t.style.cssText="display:none;";t.firstChild;)t.removeChild(t.firstChild);for(m=" "===U&&(!X||!j&&!V),l=0;l<H.length;l++){for(f=H[l],(b=a.createElement(G)).style.cssText="display:block;text-align:"+k+";position:"+(X?"absolute;":"relative;"),W&&(b.className=W+(q?l+1:"")),B.push(b),u=f.length,c=0;c<u;c++)"BR"!==f[c].nodeName&&(h=f[c],b.appendChild(h),m&&h._wordEnd&&b.appendChild(a.createTextNode(" ")),X&&(0===c&&(b.style.top=h._y+"px",b.style.left=C+A+"px"),h.style.top="0px",A&&(h.style.left=h._x-A+"px")));0===u?b.innerHTML="&nbsp;":j||V||(S(b),x(b,String.fromCharCode(160)," ")),X&&(b.style.width=_,b.style.height=h._h+"px"),t.appendChild(b)}t.style.cssText=y}X&&(s>t.clientHeight&&(t.style.height=s-O+"px",t.clientHeight<s&&(t.style.height=s+D+"px")),o>t.clientWidth&&(t.style.width=o-I+"px",t.clientWidth<o&&(t.style.width=o+R+"px"))),$&&(K?t.style.display=K:t.style.removeProperty("display")),w(n,F),j&&w(r,N),w(i,B)},M=function(t,e,n,i){var o,s,l,c,u,h,p,m,g=e.tag?e.tag:e.span?"span":"div",b=~(e.type||e.split||"chars,words,lines").indexOf("chars"),_=v(e),w=e.wordDelimiter||" ",E=" "!==w?"":_?"&#173; ":" ",S="</"+g+">",T=1,A=e.specialChars?"function"==typeof e.specialChars?e.specialChars:y:null,M=a.createElement("div"),C=t.parentNode;for(C.insertBefore(M,t),M.textContent=t.nodeValue,C.removeChild(t),p=-1!==(o=function t(e){var n=e.nodeType,r="";if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=t(e)}else if(3===n||4===n)return e.nodeValue;return r}(t=M)).indexOf("<"),!1!==e.reduceWhiteSpace&&(o=o.replace(f," ").replace(d,"")),p&&(o=o.split("<").join("{{LT}}")),u=o.length,s=(" "===o.charAt(0)?E:"")+n(),l=0;l<u;l++)if(h=o.charAt(l),A&&(m=A(o.substr(l),e.specialChars)))h=o.substr(l,m||1),s+=b&&" "!==h?i()+h+"</"+g+">":h,l+=m-1;else if(h===w&&o.charAt(l-1)!==w&&l){for(s+=T?S:"",T=0;o.charAt(l+1)===w;)s+=E,l++;l===u-1?s+=E:")"!==o.charAt(l+1)&&(s+=E+n(),T=1)}else"{"===h&&"{{LT}}"===o.substr(l,6)?(s+=b?i()+"{{LT}}</"+g+">":"{{LT}}",l+=5):h.charCodeAt(0)>=55296&&h.charCodeAt(0)<=56319||o.charCodeAt(l+1)>=65024&&o.charCodeAt(l+1)<=65039?(c=((o.substr(l,12).split(r)||[])[1]||"").length||2,s+=b&&" "!==h?i()+o.substr(l,c)+"</"+g+">":o.substr(l,c),l+=c-1):s+=b&&" "!==h?i()+h+"</"+g+">":h;t.outerHTML=s+(T?S:""),p&&x(C,"{{LT}}","<")},C=function t(e,n,r,i){var o,s,a=p(e.childNodes),l=a.length,c=v(n);if(3!==e.nodeType||l>1){for(n.absolute=!1,o=0;o<l;o++)(s=a[o])._next=s._isFirst=s._parent=s._wordEnd=null,(3!==s.nodeType||/\S+/.test(s.nodeValue))&&(c&&3!==s.nodeType&&"inline"===g(s).display&&(s.style.display="inline-block",s.style.position="relative"),s._isSplit=!0,t(s,n,r,i));return n.absolute=c,void(e._isSplit=!0)}M(e,n,r,i)},P=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c||m(),this.elements=p(e),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=n||{},h(this),this.split(n)}var e,n,r;return e=t,r=[{key:"create",value:function(e,n){return new t(e,n)}}],(n=[{key:"split",value:function(t){this.isSplit&&this.revert(),this.vars=t=t||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var e,n,r,i=this.elements.length,o=t.tag?t.tag:t.span?"span":"div",s=_(t.wordsClass,o),a=_(t.charsClass,o);--i>-1;)r=this.elements[i],this._originals[i]=r.innerHTML,e=r.clientHeight,n=r.clientWidth,C(r,t,s,a),A(r,t,this.chars,this.words,this.lines,n,e);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this}},{key:"revert",value:function(){var t=this._originals;if(!t)throw"revert() call wasn't scoped properly.";return this.elements.forEach((function(e,n){return e.innerHTML=t[n]})),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();P.version="3.11.5",P.register=m},"0jNN":function(t,e,n){"use strict";var r=n("sxOR"),i=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var i=e[r],s=i.obj[i.prop],a=Object.keys(s),l=0;l<a.length;++l){var c=a[l],u=s[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(e.push({obj:s,prop:c}),n.push(u))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n,i,o){if(0===t.length)return t;var a=t;if("symbol"==typeof t?a=Symbol.prototype.toString.call(t):"string"!=typeof t&&(a=String(t)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var l="",c=0;c<a.length;++c){var u=a.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||o===r.RFC1738&&(40===u||41===u)?l+=a.charAt(c):u<128?l+=s[u]:u<2048?l+=s[192|u>>6]+s[128|63&u]:u<55296||u>=57344?l+=s[224|u>>12]+s[128|u>>6&63]+s[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&a.charCodeAt(c)),l+=s[240|u>>18]+s[128|u>>12&63]+s[128|u>>6&63]+s[128|63&u])}return l},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(o(t)){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)},merge:function t(e,n,r){if(!n)return e;if("object"!=typeof n){if(o(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var s=e;return o(e)&&!o(n)&&(s=a(e,r)),o(e)&&o(n)?(n.forEach((function(n,o){if(i.call(e,o)){var s=e[o];s&&"object"==typeof s&&n&&"object"==typeof n?e[o]=t(s,n,r):e.push(n)}else e[o]=n})),e):Object.keys(n).reduce((function(e,o){var s=n[o];return i.call(e,o)?e[o]=t(e[o],s,r):e[o]=s,e}),s)}}},1:function(t,e){},"2Eoh":function(t,e,n){"use strict";n.d(e,"n",(function(){return d})),n.d(e,"p",(function(){return f})),n.d(e,"v",(function(){return m})),n.d(e,"i",(function(){return g})),n.d(e,"q",(function(){return v})),n.d(e,"c",(function(){return y})),n.d(e,"g",(function(){return b})),n.d(e,"k",(function(){return _})),n.d(e,"b",(function(){return x})),n.d(e,"h",(function(){return w})),n.d(e,"s",(function(){return E})),n.d(e,"E",(function(){return S})),n.d(e,"f",(function(){return T})),n.d(e,"r",(function(){return A})),n.d(e,"x",(function(){return M})),n.d(e,"y",(function(){return C})),n.d(e,"w",(function(){return P})),n.d(e,"e",(function(){return D})),n.d(e,"o",(function(){return R})),n.d(e,"B",(function(){return O})),n.d(e,"A",(function(){return I})),n.d(e,"d",(function(){return L})),n.d(e,"u",(function(){return k})),n.d(e,"D",(function(){return F})),n.d(e,"t",(function(){return N})),n.d(e,"m",(function(){return B})),n.d(e,"j",(function(){return U})),n.d(e,"a",(function(){return G})),n.d(e,"z",(function(){return z})),n.d(e,"l",(function(){return H})),n.d(e,"C",(function(){return j}));n("ynzQ");var r=n("z/o8"),i=n("Haw6");n("gZXI"),n("+9ZR"),n("lBRf");function o(){o=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function p(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,s=Object.create(o.prototype),a=new R(r||[]);return i(s,"_invoke",{value:M(t,n,a)}),s}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var f="suspendedStart",m="executing",g="completed",v={};function y(){}function b(){}function _(){}var x={};h(x,l,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(O([])));E&&E!==n&&r.call(E,l)&&(x=E);var S=_.prototype=y.prototype=Object.create(x);function T(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(i,o,s,l){var c=d(t[i],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==a(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,l)}),(function(t){n("throw",t,s,l)})):e.resolve(h).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,l)}))}l(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function M(e,n,r){var i=f;return function(o,s){if(i===m)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw s;return{value:t,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var l=C(a,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=d(e,n,r);if("normal"===c.type){if(i=r.done?g:"suspendedYield",c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function C(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var s=o.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function O(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(a(e)+" is not iterable")}return b.prototype=_,i(S,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:b,configurable:!0}),b.displayName=h(_,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,h(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},T(A.prototype),h(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new A(p(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},T(S),h(S,u,"Generator"),h(S,l,(function(){return this})),h(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=O,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;D(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function s(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(r,i)}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:String(e)}r.b.registerPlugin(i.a);var u,h,p,d=function(){var t=$(".nav-opener"),e=$(".nav-slide").find("a");t.click((function(){$("body").toggleClass("nav-active"),$(this).hasClass("close")&&($("body").addClass("nav-close"),setTimeout((function(){$("body").removeClass("nav-close")}),1001))}));var n=document.querySelectorAll(".main-nav li > a");n&&n.forEach((function(t){t.insertAdjacentHTML("beforeend",'<i class="arrow-right"></i>')})),$(".main-nav li").each((function(t){var e=$(this),n=e.find("ul"),r=e.find("a").eq(0);n.length&&(e.addClass("hasdrop"),r.length&&r.addClass("hasdrop-a").attr({"data-more":"","data-outside":""})),e[0].style="--index:"+t})),e.click((function(){!$(this).hasClass("hasdrop-a")&&$("body").removeClass("nav-active")}));var r=function(){var t=window.innerHeight||document.documentElement.clientHeight,e=document.querySelector(".nav-slide");null==e||e.style.setProperty("height",t+"px")};r(),window.addEventListener("resize",r)},f=function(){var t=function(t){t.preventDefault(),$(this).hasClass("active")?($(this).removeClass("active"),$(this).next().stop().slideUp(200)):($("[data-more]").not(this).removeClass("active").next().stop().slideUp(200),$(this).addClass("active"),$(this).next().stop().slideDown(200))},e=function(t){$("[data-outside]").not(this).removeClass("active").next().slideUp(200)},n=function(t){var e=$(t.target);e.closest("[data-outside]").length||e.closest("[data-outside] + *").length||setTimeout((function(){$("[data-outside]").removeClass("active").next().slideUp(200)}),200)};$(document).off("click","[data-more]",t),$(document).off("click","[data-outside]",e),$("html").off("click touchstart pointerdown MSPointerDown",n),$("[data-more]").next().hide(),$("[data-more].active").next().show(),$(void 0).hasClass("active")?$(void 0).removeClass("active"):$(void 0).addClass("active"),$(document).on("click","[data-more]",t),$(document).on("click","[data-outside]",e),$("html").on("click touchstart pointerdown MSPointerDown",n),$(".block-holder").each((function(){var t=$(this),e=t.find(".block.drop-open"),n=t.find(".lts-drop");e.on("click",(function(t){t.preventDefault(),n.toggleClass("visible"),$("body").toggleClass("drop-active",n.hasClass("visible")),$(window).width()<=768&&$("body").css("overflow","hidden")})),$(".modal-close-btn").on("click",(function(t){t.preventDefault(),n.removeClass("visible"),n.hide(),$(".drop-open").removeClass("active"),$("body").css("overflow","auto")})),$(document).on("click",(function(e){t.is(e.target)||0!==t.has(e.target).length||n.hasClass("visible")&&(n.removeClass("visible"),$("body").removeClass("drop-active"))}))}))},m=function(){$(document).off("click","[data-more]"),$(document).off("click","[data-outside]"),$("html").off("click touchstart pointerdown MSPointerDown")},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-accordion-trigger]",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"[data-accordion]",n=document.querySelectorAll(t);Array.from(n).forEach((function(t){return t.classList.remove("hover")})),n.forEach((function(t){"mouseenter focusin".split(" ").forEach((function(n){t.addEventListener(n,(function(){var n;null===(n=t.closest(e))||void 0===n||n.classList.add("hover")}))})),"mouseout focusout".split(" ").forEach((function(n){t.addEventListener(n,(function(){var n;null===(n=t.closest(e))||void 0===n||n.classList.remove("hover")}))}))}))},v=function(){$("[data-more]").next().hide();var t=$("[data-accordion] [data-more]").first();t.length&&(t.addClass("active"),t.next().show())},y=function(){jQuery("[data-select]").each((function(){var t=jQuery(this),e=t.next(),n=e.find("a");t.attr({"data-outside":"","data-more":""}),n.on("click",(function(n){n.preventDefault(),t.text(jQuery(this).text()),e.slideUp(200),t.removeClass("active").addClass("selected"),e.find("li").removeClass("active"),jQuery(this).parent().addClass("active")})),e.children().hasClass("active")&&t.text(jQuery(this).next().find(".active a").text()).addClass("selected")}))},b=function(){$("body").find("[data-close]").on("click",(function(t){t.preventDefault(),C((function(){$("body").removeClass("filter--active")}))}))},_=function(){$("body").find("[data-back-blog]").on("click",(function(){new URL(window.location.href);var t=new URL(document.referrer);window.location.replace(t)}))},x=function(){var t=navigator.appVersion.toLowerCase().match(new RegExp(["iphone","ipad","windows","mac","linux"].join("|")));t&&$("body").addClass(t[0])},w=function(t){return new Promise((function(e,n){try{var r,i,o=t.next.container.querySelector("#featuredSequences");if(o)try{r=JSON.parse(o.text),window.featuredSequences=r}catch(t){console.error("Error parsing featuredSequences:",t)}if(!r||0===r.length)return t.next.container.querySelectorAll("[data-script]").forEach((function(t){if(!t.src){var e=document.createElement("script");e.innerHTML=t.innerHTML,document.body.appendChild(e)}t.remove()})),e(null);if("true"===localStorage.getItem("hasSeenNewImages"))i=Math.random()<.7?r[0]:r[Math.floor(Math.random()*r.length)];else i=r[0],localStorage.setItem("hasSeenNewImages","true");var s=document.querySelector(".banner-type-2 .banner-text");if(!s)return console.error("Banner text element not found"),e(null);var a=["229","209","344"],l=["yellow","blue","red"],c=["1","3.2","5.2"],u=[i.vertical_image_1,i.vertical_image_2,i.horizontal_image],h=[i.company_1_url,i.company_2_url,i.company_3_url];u.forEach((function(t,e){if(t&&t.url){var n=document.createElement("div");n.setAttribute("data-content-parallax",""),n.setAttribute("data-speed","1"),n.setAttribute("data-scroll",""),n.setAttribute("data-scroll-speed",c[e]),n.style.pointerEvents="none";var r=h[e],i='<img src="'.concat(t.url,'" alt="').concat(t.alt||"",'" width="').concat(a[e],'">');n.innerHTML='\n\t\t\t\t<div class="img-banner img-0'.concat(e+1,'" data-home-slideIn>\n\t\t\t\t\t<div class="wrapper" data-sequence="1">\n\t\t\t\t\t<div data-select-effect class="').concat(l[e],'-gradient">\n\t\t\t\t\t\t').concat(r?'<a href="'.concat(r,'" style="pointer-events: auto; position: relative; z-index: 2; display: block; height: 100%;">').concat(i,"</a>"):i,"\n\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t"),s.parentNode.insertBefore(n,s)}else console.warn("Image ".concat(e," is missing or has no URL"))})),e(i)}catch(t){console.error("Error in HomeHeroImages:",t),n(t)}}))},E=function(t){var e=t.querySelector(".bg-about");if(null!==e){var n=t.querySelector(".news-feed").offsetHeight;e.style.height=n+"px"}},S=function(){document.querySelectorAll(".link").forEach((function(t){t.style.width=t.offsetWidth+20+"px"}))},T=function(){var t=$('[href^="#modal-faction"]');t.length&&(t.each((function(){$(this).click((function(t){return t.preventDefault(),$("body").addClass("modal-faction-active"),$("#modal-faction").addClass("show"),!1}))})),$("#modal-faction .modal-close-btn, #modal-faction .btn").click((function(t){$("body").removeClass("modal-faction-active"),$("#modal-faction").removeClass("show")})))},A=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"===a(e)&&e.length>0&&this.init(e)}var e,n,r,i,c;return e=t,n=[{key:"init",value:function(t){var e=this;t.forEach((function(t){t.querySelectorAll("img").forEach((function(t){"string"==typeof t.src&&t.src.length>0&&!t.src.endsWith(".svg")&&e.removeBackground(t.src).then((function(e){t.src=e}))}))}))}},{key:"removeBackground",value:(i=o().mark((function t(e){var n,r,i,s,a,l,c,u,h,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={red:255,green:255,blue:255},r=10,(i=new Image).src=e,t.next=6,new Promise((function(t){i.addEventListener("load",t)}));case 6:for((s=document.createElement("canvas")).width=i.naturalWidth,s.height=i.naturalHeight,(a=s.getContext("2d")).drawImage(i,0,0),l=a.getImageData(0,0,s.width,s.height),c=0;c<l.data.length;c+=4)u=l.data[c],h=l.data[c+1],p=l.data[c+2],Math.abs(u-n.red)<r&&Math.abs(h-n.green)<r&&Math.abs(p-n.blue)<r&&(l.data[c+3]=0);return a.putImageData(l,0,0),t.abrupt("return",s.toDataURL("image/png"));case 15:case"end":return t.stop()}}),t)})),c=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){s(o,n,r,a,l,"next",t)}function l(t){s(o,n,r,a,l,"throw",t)}a(void 0)}))},function(t){return c.apply(this,arguments)})}],r=[{key:"create",value:function(e){return t.instance||(t.instance=new t(e)),t.instance}},{key:"destroy",value:function(){t.instance=null}}],n&&l(e.prototype,n),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();u=A,p=null,(h=c(h="instance"))in u?Object.defineProperty(u,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[h]=p;var M=function(t){t&&t(),setTimeout((function(){var t=document.querySelector("body");window.scroller.stop(),window.filterScrollPosition=window.pageYOffset,t.style.overflow="hidden",t.style.position="fixed",t.style.top="-".concat(window.filterScrollPosition,"px"),t.style.width="100%"}),0)},C=function(t){var e=window.filterScrollPosition||0,n=document.querySelector("body");n.style.removeProperty("overflow"),n.style.removeProperty("position"),n.style.removeProperty("top"),n.style.removeProperty("width"),window.scrollTo(0,e),void 0!==window.scroller&&window.scroller.start(),setTimeout((function(){t&&t()}),0)},P=function(){var t=navigator.userAgent.toLowerCase();return-1!==t.indexOf("mac")?"Mac":-1!==t.indexOf("win")?"Windows":"Unknown"},D=function(){var t=window.location.hostname;$("a").each((function(){var e=$(this);(function(e){var n=e.hostname;return n===t||n.includes("lsvp.com")})(this)||e.attr("target","_blank")})),$("a:contains(http)").addClass("a-break")},R=function(){$('[data-modal]:not([href="#game-theory"]):not(.research-ai)').on("click",(function(){$("body").addClass("modal-active"),$(".modal").removeClass("show");var t=$($(this).attr("href"));t.removeAttr("style").addClass("show");var e=t.find('iframe[src*="vimeo.com"]');e.length&&new Vimeo.Player(e[0]).play().catch((function(t){console.error("Error playing Vimeo video:",t)}));return!1})),$("[data-modal].research-ai").on("click",(function(){$("body").addClass("modal-active"),$(".modal").removeClass("show");var t=$(".modal-container").find($(this).attr("href"));t.removeAttr("style").addClass("show");var e=t.find('iframe[src*="vimeo.com"]');e.length&&new Vimeo.Player(e[0]).play().catch((function(t){console.error("Error playing Vimeo video:",t)}));var n=t.find("iframe");if(n.length){var r=n.attr("src");if(r)if(r.includes("youtube.com")||r.includes("youtu.be")){var i=r.includes("?")?"&":"?",o=r+i+"autoplay=1&mute=0";n.attr("src",o)}else if(r.includes("vimeo.com"));else{var s=r.includes("?")?"&":"?",a=r+s+"autoplay=1";n.attr("src",a)}}return!1})),$('[data-modal][href="#game-theory"]').on("click",(function(t){t.preventDefault(),r(i,!1),$(".modal").removeClass("show").removeClass("fadein"),$(".nl-podcast--inner").css({"pointer-events":"none","touch-action":"none",position:"relative","z-index":"-1"});var e=$(this).attr("video-id"),n=$(this).attr("data-index"),i=$("#game-theory");return function(t,e,n,r,i){if(t.length){i?setTimeout((function(){t.removeAttr("style").addClass("show"),$("body").addClass("modal-active"),requestAnimationFrame((function(){t.addClass("fadein")}))}),300):(t.removeAttr("style").addClass("show"),$("body").addClass("modal-active"),requestAnimationFrame((function(){t.addClass("fadein")})));var o=videoEmbedsData[e];o=n&&n>0?o.replace(/src="([^"]+)/,(function(t,e){return e.includes("?")?'src="'+e+"&start="+n+"&autoplay=0&mute=0&rel=0":'src="'+e+"?start="+n+"&autoplay=0&mute=0&rel=0"})):o.replace(/src="([^"]+)/,(function(t,e){return e.includes("?"),'src="'+e+"&autoplay=0&mute=0&rel=0"})),$("#video-embed-area").html(o);var s=$("#video-embed-area iframe")[0];new YT.Player(s,{events:{onReady:function(t){t.target.playVideo(),setTimeout((function(){try{t.target.unMute(),t.target.setVolume(80)}catch(t){console.log("Could not unmute video:",t)}}),1e3)}}});setTimeout((function(){var t=document.querySelector(".modal-thumbnails-slider");if(t&&t.swiper&&r){var e=parseInt(r,10);isNaN(e)||t.swiper.slideTo(e,300,!1)}}),100)}}(i,e,0,n,!0),$(document).on("click","a[swiper-video]",(function(t){t.preventDefault();var e=$(this).attr("video-id"),n=document.querySelector(".modal-thumbnails-slider"),r=$(this).closest(".swiper-slide");if(e&&videoEmbedsData[e]){var i=videoEmbedsData[e];i=i.replace(/src="([^"]+)/,(function(t,e){return e.includes("?"),'src="'+e+"&autoplay=0&mute=0&rel=0"})),$("#video-embed-area").html(i);var o=$("#video-embed-area iframe")[0];new YT.Player(o,{events:{onReady:function(t){t.target.playVideo(),setTimeout((function(){try{t.target.unMute(),t.target.setVolume(80)}catch(t){console.log("Could not unmute video:",t)}}),1e3)}}});if(n&&n.swiper){var s=r.data("index");void 0!==s&&n.swiper.slideTo(s,300,!1)}}})),!1})),jQuery(".modal .close").click((function(t){t.preventDefault();var e=$(this).closest(".modal");$("body").removeClass("modal-active"),$(".modal").removeClass("show").removeClass("fadein"),r(e),$(".nl-podcast--inner").css({"pointer-events":"auto","touch-action":"auto",position:"relative","z-index":"1"})}));var t=null,e=!1,n=function(n){var i=jQuery(n.target),o=$(".modal.show");if(o.length){if(e)return n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),!1;return i.closest(".modal-content").length||i.closest(".modal-content-holder").length||function(t){var e=t.target.getBoundingClientRect();return t.clientX>e.left+e.width-20}(n)?void 0:(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),e=!0,t&&clearTimeout(t),t=setTimeout((function(){$("body").removeClass("modal-active"),$(".modal").removeClass("show"),"video-modal"!==o.attr("id")&&r(o),setTimeout((function(){$(".nl-podcast--inner").css({"pointer-events":"auto","touch-action":"auto",position:"relative","z-index":"1"}),e=!1}),100)}),50),!1)}};function r(t,e){var n=document.querySelectorAll("video:not(.background):not(.game-theory-video)"),r=(document.querySelectorAll("iframe"),"");n.forEach((function(t){t.paused||t.pause()})),t?t.find("iframe").each((function(){(r=this.getAttribute("src"))&&(r=(r=(r=(r=r.replace(/[?&]autoplay=1/g,"")).replace(/[?&]mute=[01]/g,"")).replace(/[?&]+$/,"")).replace(/\?&/,"?"),this.setAttribute("src",r))})):document.querySelectorAll("iframe").forEach((function(t){(r=t.getAttribute("src"))&&(r=(r=(r=(r=r.replace(/[?&]autoplay=1/g,"")).replace(/[?&]mute=[01]/g,"")).replace(/[?&]+$/,"")).replace(/\?&/,"?"),t.setAttribute("src",r))}))}document.documentElement.addEventListener("click",n,!1),document.documentElement.addEventListener("touchstart",n,{passive:!1}),document.documentElement.addEventListener("pointerdown",n,{passive:!1}),document.documentElement.addEventListener("MSPointerDown",n,{passive:!1})},O=function(){$(document).ready((function(){var t=window.location.href;$("#focus-area-menu li").each((function(){$(this).find("a").attr("href")===t&&$(this).addClass("active")}))}));var t=$("#focus-area-menu");$(t).find('a[target="_blank"]').length>0&&$(t).find("li").on("click",(function(){$(t).find("li").removeClass("active"),$(this).addClass("active")}))},I=function(){$(document).ready((function(){var t=$(".swiper-slide-active"),e=t.data("caption"),n=t.data("url");$(".img-caption").text(e),n?$(".img-caption").attr("href",n):$(".img-caption").removeAttr("href");var r=$(".image-slider-modal .swiper-slide-active"),i=r.data("caption"),o=r.data("url");$(".img-caption-modal").text(i),o?$(".img-caption-modal").attr("href",o):$(".img-caption-modal").removeAttr("href")}))},L=function(){$(document).ready((function(){var t=$(".cyber-content .cyber-section-box[id], .cyber-content .the-cyber-60[id]"),e=$(".cyber-toc-list:not(.research-toc)");t.each((function(t){var n=$(this).find("h3:first:not(.hide-in-toc), h2:first:not(.hide-in-toc), span:first + h3:not(.hide-in-toc), h5:first:not(.hide-in-toc)");if(n.length){var r;r=n.first().html().trim();var i="section-".concat(t+1);$(this).attr("id",i);var o=$("<li>").html('<a href="#'.concat(i,'">').concat(r,"</a>"));e.append(o)}}));var n=e.find("a");$(".cyber-toc-list a, .cyber-hero .tag").on("click",(function(t){t.preventDefault(),$(this).parents(".cyber-toc-list").find("a").removeClass("active"),$(this).addClass("active");var e=$(this).attr("href");window.scroller.scrollTo(e,{offset:-67,duration:800,ease:"easeInOutQuart"})})),$(".gt-navigation a").on("click",(function(t){t.preventDefault(),$(this).addClass("active");var e=$(this).attr("href");window.scroller.scrollTo(e,{offset:-67,duration:800,ease:"easeInOutQuart"})})),window.scroller.on("scroll",(function(){var e=$(window).scrollTop();t.each((function(t){var r="#section-".concat(t+1),i=$(this).offset().top-80,o=$(this).outerHeight();e>=i&&e<i+o&&(n.removeClass("active"),n.filter('[href="'.concat(r,'"]')).addClass("active"))}))}))}))},k=function(){document.querySelectorAll("[data-class-on-load]").forEach((function(t){t.dataset.classOnLoad&&t.dataset.classOnLoad.length>0&&t.classList.add(t.dataset.classOnLoad)}))},F=function(){$(document).ready((function(){var t=[];$(".vimeo-video").each((function(){var e=$(this).find("iframe").get(0),n=new Vimeo.Player(e),r=!1;n.on("pause",(function(){r=!0})),n.on("play",(function(){r=!1})),t.push({player:n,top:$(this).position().top,height:$(this).outerHeight(),status:"paused",manuallyPaused:function(){return r}})}));var e=$(window).height();scroller.on("scroll",(function(n){for(var r=n.scroll.y,i=0;i<t.length;i++){var o=t[i].top,s=o+t[i].height;r+e>o&&r<s&&"play"!==t[i].status&&!t[i].manuallyPaused()&&(t[i].status="play",t[i].player.play())}}))}))},N=function(){$(".lr-research .video-thumbnails .row[data-tab]").click((function(t){for(var e=$(t.target);e.length>0;){if(e.is("[data-modal]")||e.is(".btn-play")||e.is("a[data-modal]")||e.hasClass("btn-play")||e.hasClass("link-m")||void 0!==e.attr("data-modal"))return;e=e.parent()}t.preventDefault();var n=$(this).attr("data-tab");$(this).parent().siblings().find("[data-tab]").removeClass("active"),$("#"+n).siblings().fadeOut(310),$(this).addClass("active"),setTimeout((function(){$("#"+n).fadeIn(300)}),305)})),$("#"+$("[data-tab].active").data("tab")).addClass("active")},B=function(){$("[data-marquee-left]").marquee({speed:40,gap:66,delayBeforeStart:0,direction:"left",duplicated:!0,duplicateCount:4,pauseOnHover:!1,startVisible:!0}),$("[data-marquee-right]").marquee({speed:40,gap:66,delayBeforeStart:0,direction:"right",duplicated:!0,duplicateCount:4,pauseOnHover:!1,startVisible:!0}),$("[data-marquee-left-2]").marquee({speed:40,gap:66,delayBeforeStart:0,direction:"left",duplicated:!0,duplicateCount:4,pauseOnHover:!1,startVisible:!0})},U=function(){$("[data-width]").each((function(){var t=$(this),e=t.data("width").split(","),n=function(){$(window).width()>=1280?t.width(parseInt(e[0])):$(window).width()<1280&&$(window).width()>=1024?t.width(parseInt(e[1])):$(window).width()<1024&&t.width(parseInt(e[2]))};n(),$(window).on("resize",n)}))},G=function(){$(document).on("click",".lr-visual-breakdown .breakdown-image-modal-trigger",(function(t){if(t.preventDefault(),$(window).width()<=768)return!1;var e=$(this).data("image"),n=$(this).data("title"),r=$('<div class="breakdown-image-modal-overlay"></div>'),i=$('\n\t\t\t<div class="breakdown-image-modal-content">\n\t\t\t\t<button class="breakdown-image-modal-close">&times;</button>\n\t\t\t\t<img src="'.concat(e,'" alt="').concat(n,'" class="breakdown-image-modal-img">\n\t\t\t</div>\n\t\t'));return r.append(i),$("body").append(r),setTimeout((function(){r.addClass("show")}),10),!1})),$(document).on("click",".breakdown-image-modal-overlay, .breakdown-image-modal-close",(function(t){t.preventDefault();var e=$(".breakdown-image-modal-overlay");e.removeClass("show"),setTimeout((function(){e.remove()}),300)})),$(document).on("keydown",(function(t){if("Escape"===t.key&&$(".breakdown-image-modal-overlay").length){var e=$(".breakdown-image-modal-overlay");e.removeClass("show"),setTimeout((function(){e.remove()}),300)}}))},z=(window.videosData,function(){$(".thumbnail-image").each((function(){var t=$(this);t.attr("data-video-id");t.hasClass("youtube-image-processed")||(t.addClass("youtube-image-processed"),t.html('\n            <div class="channel-icon">\n                <img src="'.concat("/wp-content/themes/lsvp/assets/images/default-channel-icon.jpg",'" alt="LSVP">\n            </div>\n        ')))})),$(".thumbnail-guest.views").each((function(){var t=$(this),e=t.attr("data-video-id");t.hasClass("youtube-views-processed")||(t.addClass("youtube-views-processed"),e&&"$video_id"!==e&&""!==e.trim()?(t.text("Loading views..."),$.ajax({url:"https://www.googleapis.com/youtube/v3/videos",data:{part:"statistics",id:e,key:"AIzaSyBL_rLVlJvDQq7JDjW_dtN2KpGpd_r8Dw0"},dataType:"json",success:function(e){if(e.items&&e.items.length>0){var n=parseInt(e.items[0].statistics.viewCount),r=(i=n)>=1e6?(i/1e6).toFixed(1)+"M views":i>=1e3?(i/1e3).toFixed(1)+"K views":i+" views";t.text(r)}else t.text("Views not available");var i},error:function(e){console.error("Error fetching video stats for views:",e),t.text("Unable to load views")}})):t.text(""))}))}),H=function(){var t=document.querySelector("#modal-lsip");if(t){var e=t.getAttribute("data-referrer");if(e){var n=null,r=!1,i=function(){$("body").removeClass("modal-lsip-active"),$("#modal-lsip").removeClass("show"),n=null,o()};$(document).on("click","a[href]",(function(t){var i=$(this),s=i.attr("href");i.closest("#modal-lsip").length||function(t){try{var n=t;n.startsWith("@")&&(n=n.substring(1)),n.match(/^https?:\/\//)||(n="https://"+n);var r=e;r.startsWith("@")&&(r=r.substring(1)),r.match(/^https?:\/\//)||(r="https://"+r);var i=new URL(n),o=new URL(r),s=i.hostname,a=o.hostname,l=s===a,c=s.endsWith("."+a),u=a.endsWith("."+s);return l||c||u}catch(t){return!1}}(s)&&(t.preventDefault(),n=s,setTimeout((function(){r=!0,$("body").addClass("modal-lsip-active"),$("#modal-lsip").addClass("show"),o(),setTimeout((function(){r=!1}),100)}),10))})),$("#modal-lsip .btn").click((function(t){t.preventDefault(),n&&(window.location.href=n),i()}));var o=function(){var t=$("#modal-lsip .btn");n?t.attr("href",n):t.removeAttr("href")};$("#modal-lsip .modal-close-btn").click((function(t){t.preventDefault(),i()})),$(document).on("click",(function(t){r||$("#modal-lsip").hasClass("show")&&($(t.target).closest("#modal-lsip .modal-box").length||i())}))}}},j=function(){$(".inline-svg").each((function(){var t=$(this);t.length>0&&$.get(t[0].src,(function(e){var n=document.importNode(e.documentElement,!0);t.hasClass("no-fill")?t.parent().html(n):t.parent().html(n).find("svg").addClass("fill-current")}))}))}},"6ufr":function(t,e){},"8IGP":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){$("#mc-newsletter-form, #cyber-newsletter-form, #cyber-v2-newsletter-form").on("submit",(function(t){t.preventDefault();var e=$("#newsletter-nonce").val(),n=$(".signup-form #email").val(),r=window.location.href,o=t.target.id;n.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)?(console.log(o),$.ajax({type:"post",dataType:"json",url:wp_ajax.ajaxurl,data:{action:"lsvp_newsletter",nonce:e,email:n,referring_site:r,formId:o},success:function(t){$(".signup-form #email").parent().removeClass("invalid"),$(".signup-form #email").parent().addClass("success")},error:function(t){i("Error: Please try again later"),console.log(t)}})):i("Invalid email address")}))},i=function(t){var e=$(".signup-form #email");e.parent().addClass("invalid"),e.parent().removeClass("success"),e.val(""),e.attr("placeholder",t)}},"8oxB":function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var l,c=[],u=!1,h=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&d())}function d(){if(!u){var t=a(p);u=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||u||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"9tPo":function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},AM7I:function(t,e,n){"use strict";var r=SyntaxError,i=Function,o=TypeError,s=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch(t){a=null}var l=function(){throw new o},c=a?function(){try{return l}catch(t){try{return a(arguments,"callee").get}catch(t){return l}}}():l,u=n("UVaH")(),h=n("CjYj")(),p=Object.getPrototypeOf||(h?function(t){return t.__proto__}:null),d={},f="undefined"!=typeof Uint8Array&&p?p(Uint8Array):void 0,m={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":u&&p?p([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u&&p?p(p([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u&&p?p((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u&&p?p((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u&&p?p(""[Symbol.iterator]()):void 0,"%Symbol%":u?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":c,"%TypedArray%":f,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet};if(p)try{null.error}catch(t){var g=p(p(t));m["%Error.prototype%"]=g}var v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n("D3zA"),b=n("lnE3"),_=y.call(Function.call,Array.prototype.concat),x=y.call(Function.apply,Array.prototype.splice),w=y.call(Function.call,String.prototype.replace),E=y.call(Function.call,String.prototype.slice),S=y.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,M=function(t){var e=E(t,0,1),n=E(t,-1);if("%"===e&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return w(t,T,(function(t,e,n,r){i[i.length]=n?w(r,A,"$1"):e||t})),i},C=function(t,e){var n,i=t;if(b(v,i)&&(i="%"+(n=v[i])[0]+"%"),b(m,i)){var a=m[i];if(a===d&&(a=function t(e){var n;if("%AsyncFunction%"===e)n=s("async function () {}");else if("%GeneratorFunction%"===e)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=s("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&p&&(n=p(i.prototype))}return m[e]=n,n}(i)),void 0===a&&!e)throw new o("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:a}}throw new r("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new o('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/,t))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=M(t),i=n.length>0?n[0]:"",s=C("%"+i+"%",e),l=s.name,c=s.value,u=!1,h=s.alias;h&&(i=h[0],x(n,_([0,1],h)));for(var p=1,d=!0;p<n.length;p+=1){var f=n[p],g=E(f,0,1),v=E(f,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new r("property names with quotes must have matching quotes");if("constructor"!==f&&d||(u=!0),b(m,l="%"+(i+="."+f)+"%"))c=m[l];else if(null!=c){if(!(f in c)){if(!e)throw new o("base intrinsic for "+t+" exists, but the property is not available.");return}if(a&&p+1>=n.length){var y=a(c,f);c=(d=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[f]}else d=b(c,f),c=c[f];d&&!u&&(m[l]=c)}}return c}},AxL3:function(t,e){var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.exports=n},"B/eG":function(t,e,n){"use strict";(function(t){var r=n("/pFH"),i=n("+Nns"),o=n("oh6g"),s=setTimeout;function a(t){return Boolean(t&&void 0!==t.length)}function l(){}function c(t){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(t,this)}function u(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,c._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void p(e.promise,t)}h(e.promise,r)}else(1===t._state?h:p)(e.promise,t._value)}))):t._deferreds.push(e)}function h(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof c)return t._state=3,t._value=e,void d(t);if("function"==typeof n)return void m((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,d(t)}catch(e){p(t,e)}var r,i}function p(t,e){t._state=2,t._value=e,d(t)}function d(t){2===t._state&&0===t._deferreds.length&&c._immediateFn((function(){t._handled||c._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)u(t,t._deferreds[e]);t._deferreds=null}function f(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function m(t,e){var n=!1;try{t((function(t){n||(n=!0,h(e,t))}),(function(t){n||(n=!0,p(e,t))}))}catch(t){if(n)return;n=!0,p(e,t)}}c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){var n=new this.constructor(l);return u(this,new f(t,e,n)),n},c.prototype.finally=r.a,c.all=function(t){return new c((function(e,n){if(!a(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(e){o(t,e)}),n)}r[t]=s,0==--i&&e(r)}catch(t){n(t)}}for(var s=0;s<r.length;s++)o(s,r[s])}))},c.any=o.a,c.allSettled=i.a,c.resolve=function(t){return t&&"object"==typeof t&&t.constructor===c?t:new c((function(e){e(t)}))},c.reject=function(t){return new c((function(e,n){n(t)}))},c.race=function(t){return new c((function(e,n){if(!a(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=t.length;r<i;r++)c.resolve(t[r]).then(e,n)}))},c._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){s(t,0)},c._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.a=c}).call(this,n("URgk").setImmediate)},CjYj:function(t,e,n){"use strict";var r={foo:{}},i=Object;t.exports=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof i)}},CxY0:function(t,e,n){"use strict";var r=n("GYWy");function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),u=["%","/","?",";","#"].concat(c),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n("Qyje");function y(t,e,n){if(t&&"object"==typeof t&&t instanceof i)return t;var r=new i;return r.parse(t,e,n),r}i.prototype.parse=function(t,e,n){if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),s=-1!==i&&i<t.indexOf("#")?"?":"#",l=t.split(s);l[0]=l[0].replace(/\\/g,"/");var y=t=l.join(s);if(y=y.trim(),!n&&1===t.split("#").length){var b=a.exec(y);if(b)return this.path=y,this.href=y,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=o.exec(y);if(_){var x=(_=_[0]).toLowerCase();this.protocol=x,y=y.substr(_.length)}if(n||_||y.match(/^\/\/[^@/]+@[^@/]+/)){var w="//"===y.substr(0,2);!w||_&&m[_]||(y=y.substr(2),this.slashes=!0)}if(!m[_]&&(w||_&&!g[_])){for(var E,S,T=-1,A=0;A<h.length;A++){-1!==(M=y.indexOf(h[A]))&&(-1===T||M<T)&&(T=M)}-1!==(S=-1===T?y.lastIndexOf("@"):y.lastIndexOf("@",T))&&(E=y.slice(0,S),y=y.slice(S+1),this.auth=decodeURIComponent(E)),T=-1;for(A=0;A<u.length;A++){var M;-1!==(M=y.indexOf(u[A]))&&(-1===T||M<T)&&(T=M)}-1===T&&(T=y.length),this.host=y.slice(0,T),y=y.slice(T),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var P=this.hostname.split(/\./),D=(A=0,P.length);A<D;A++){var R=P[A];if(R&&!R.match(p)){for(var O="",I=0,L=R.length;I<L;I++)R.charCodeAt(I)>127?O+="x":O+=R[I];if(!O.match(p)){var k=P.slice(0,A),F=P.slice(A+1),N=R.match(d);N&&(k.push(N[1]),F.unshift(N[2])),F.length&&(y="/"+F.join(".")+y),this.hostname=k.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!f[x])for(A=0,D=c.length;A<D;A++){var G=c[A];if(-1!==y.indexOf(G)){var z=encodeURIComponent(G);z===G&&(z=escape(G)),y=y.split(G).join(z)}}var H=y.indexOf("#");-1!==H&&(this.hash=y.substr(H),y=y.slice(0,H));var j=y.indexOf("?");if(-1!==j?(this.search=y.substr(j),this.query=y.substr(j+1),e&&(this.query=v.parse(this.query)),y=y.slice(0,j)):e&&(this.search="",this.query={}),y&&(this.pathname=y),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var V=this.search||"";this.path=B+V}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+i+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(t){return this.resolveObject(y(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if("string"==typeof t){var e=new i;e.parse(t,!1,!0),t=e}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),l=0;l<a.length;l++){var c=a[l];"protocol"!==c&&(n[c]=t[c])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!g[t.protocol]){for(var u=Object.keys(t),h=0;h<u.length;h++){var p=u[h];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||m[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var f=n.pathname||"",v=n.search||"";n.path=f+v}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=b||y||n.host&&t.pathname,x=_,w=n.pathname&&n.pathname.split("/")||[],E=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),_=_&&(""===d[0]||""===w[0])),b)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,w=d;else if(d.length)w||(w=[]),w.pop(),w=w.concat(d),n.search=t.search,n.query=t.query;else if(null!=t.search){if(E)n.host=w.shift(),n.hostname=n.host,(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname);return n.search=t.search,n.query=t.query,null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=w.slice(-1)[0],T=(n.host||t.host||w.length>1)&&("."===S||".."===S)||""===S,A=0,M=w.length;M>=0;M--)"."===(S=w[M])?w.splice(M,1):".."===S?(w.splice(M,1),A++):A&&(w.splice(M,1),A--);if(!_&&!x)for(;A--;A)w.unshift("..");!_||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),T&&"/"!==w.join("/").substr(-1)&&w.push("");var C,P=""===w[0]||w[0]&&"/"===w[0].charAt(0);E&&(n.hostname=P?"":w.length?w.shift():"",n.host=n.hostname,(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname));return(_=_||n.host&&w.length)&&!P&&w.unshift(""),w.length>0?n.pathname=w.join("/"):(n.pathname=null,n.path=null),null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},e.parse=y,e.resolve=function(t,e){return y(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?y(t,!1,!0).resolveObject(e):e},e.format=function(t){return"string"==typeof t&&(t=y(t)),t instanceof i?t.format():i.prototype.format.call(t)},e.Url=i},D3zA:function(t,e,n){"use strict";var r=n("aI7X");t.exports=Function.prototype.bind||r},EVdn:function(t,e,n){var r;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(n,i){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,l=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},c=o.push,u=o.indexOf,h={},p=h.toString,d=h.hasOwnProperty,f=d.toString,m=f.call(Object),g={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},y=function(t){return null!=t&&t===t.window},b=n.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,n){var r,i,o=(n=n||b).createElement("script");if(o.text=t,e)for(r in _)(i=e[r]||e.getAttribute&&e.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?h[p.call(t)]||"object":typeof t}var E=/HTML$/i,S=function(t,e){return new S.fn.init(t,e)};function T(t){var e=!!t&&"length"in t&&t.length,n=w(t);return!v(t)&&!y(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}S.fn=S.prototype={jquery:"3.7.1",constructor:S,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return S.each(this,t)},map:function(t){return this.pushStack(S.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(S.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},S.extend=S.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||v(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)r=t[e],"__proto__"!==e&&s!==r&&(c&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[e],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,s[e]=S.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},S.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==p.call(t))&&(!(e=s(t))||"function"==typeof(n=d.call(e,"constructor")&&e.constructor)&&f.call(n)===m)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){x(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(T(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},text:function(t){var e,n="",r=0,i=t.nodeType;if(!i)for(;e=t[r++];)n+=S.text(e);return 1===i||11===i?t.textContent:9===i?t.documentElement.textContent:3===i||4===i?t.nodeValue:n},makeArray:function(t,e){var n=e||[];return null!=t&&(T(Object(t))?S.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:u.call(e,t,n)},isXMLDoc:function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!E.test(e||n&&n.nodeName||"HTML")},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,s=!n;i<o;i++)!e(t[i],i)!==s&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,s=[];if(T(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&s.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&s.push(i);return l(s)},guid:1,support:g}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=o[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){h["[object "+e+"]"]=e.toLowerCase()}));var M=o.pop,C=o.sort,P=o.splice,D="[\\x20\\t\\r\\n\\f]",R=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g");S.contains=function(t,e){var n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(t.contains?t.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))};var O=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function I(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}S.escapeSelector=function(t){return(t+"").replace(O,I)};var L=b,k=c;!function(){var t,e,r,i,s,l,c,h,p,f,m=k,v=S.expando,y=0,b=0,_=tt(),x=tt(),w=tt(),E=tt(),T=function(t,e){return t===e&&(s=!0),0},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="(?:\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+D+"*("+I+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+D+"*\\]",N=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",B=new RegExp(D+"+","g"),U=new RegExp("^"+D+"*,"+D+"*"),G=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),z=new RegExp(D+"|>"),H=new RegExp(N),j=new RegExp("^"+I+"$"),V={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,W=/^h\d$/i,q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,$=new RegExp("\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\([^\\r\\n\\f])","g"),K=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Z=function(){lt()},J=pt((function(t){return!0===t.disabled&&A(t,"fieldset")}),{dir:"parentNode",next:"legend"});try{m.apply(o=a.call(L.childNodes),L.childNodes),o[L.childNodes.length].nodeType}catch(t){m={apply:function(t,e){k.apply(t,a.call(e))},call:function(t){k.apply(t,a.call(arguments,1))}}}function Q(t,e,n,r){var i,o,s,a,c,u,d,f=e&&e.ownerDocument,y=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==y&&9!==y&&11!==y)return n;if(!r&&(lt(e),e=e||l,h)){if(11!==y&&(c=q.exec(t)))if(i=c[1]){if(9===y){if(!(s=e.getElementById(i)))return n;if(s.id===i)return m.call(n,s),n}else if(f&&(s=f.getElementById(i))&&Q.contains(e,s)&&s.id===i)return m.call(n,s),n}else{if(c[2])return m.apply(n,e.getElementsByTagName(t)),n;if((i=c[3])&&e.getElementsByClassName)return m.apply(n,e.getElementsByClassName(i)),n}if(!(E[t+" "]||p&&p.test(t))){if(d=t,f=e,1===y&&(z.test(t)||G.test(t))){for((f=Y.test(t)&&at(e.parentNode)||e)==e&&g.scope||((a=e.getAttribute("id"))?a=S.escapeSelector(a):e.setAttribute("id",a=v)),o=(u=ut(t)).length;o--;)u[o]=(a?"#"+a:":scope")+" "+ht(u[o]);d=u.join(",")}try{return m.apply(n,f.querySelectorAll(d)),n}catch(e){E(t,!0)}finally{a===v&&e.removeAttribute("id")}}}return yt(t.replace(R,"$1"),e,n,r)}function tt(){var t=[];return function n(r,i){return t.push(r+" ")>e.cacheLength&&delete n[t.shift()],n[r+" "]=i}}function et(t){return t[v]=!0,t}function nt(t){var e=l.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function rt(t){return function(e){return A(e,"input")&&e.type===t}}function it(t){return function(e){return(A(e,"input")||A(e,"button"))&&e.type===t}}function ot(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&J(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function st(t){return et((function(e){return e=+e,et((function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function at(t){return t&&void 0!==t.getElementsByTagName&&t}function lt(t){var n,r=t?t.ownerDocument||t:L;return r!=l&&9===r.nodeType&&r.documentElement?(c=(l=r).documentElement,h=!S.isXMLDoc(l),f=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&L!=l&&(n=l.defaultView)&&n.top!==n&&n.addEventListener("unload",Z),g.getById=nt((function(t){return c.appendChild(t).id=S.expando,!l.getElementsByName||!l.getElementsByName(S.expando).length})),g.disconnectedMatch=nt((function(t){return f.call(t,"*")})),g.scope=nt((function(){return l.querySelectorAll(":scope")})),g.cssHas=nt((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(t){return!0}})),g.getById?(e.filter.ID=function(t){var e=t.replace($,K);return function(t){return t.getAttribute("id")===e}},e.find.ID=function(t,e){if(void 0!==e.getElementById&&h){var n=e.getElementById(t);return n?[n]:[]}}):(e.filter.ID=function(t){var e=t.replace($,K);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},e.find.ID=function(t,e){if(void 0!==e.getElementById&&h){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),e.find.TAG=function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):e.querySelectorAll(t)},e.find.CLASS=function(t,e){if(void 0!==e.getElementsByClassName&&h)return e.getElementsByClassName(t)},p=[],nt((function(t){var e;c.appendChild(t).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",t.querySelectorAll("[selected]").length||p.push("\\["+D+"*(?:value|"+O+")"),t.querySelectorAll("[id~="+v+"-]").length||p.push("~="),t.querySelectorAll("a#"+v+"+*").length||p.push(".#.+[+~]"),t.querySelectorAll(":checked").length||p.push(":checked"),(e=l.createElement("input")).setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),c.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&p.push(":enabled",":disabled"),(e=l.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||p.push("\\["+D+"*name"+D+"*="+D+"*(?:''|\"\")")})),g.cssHas||p.push(":has"),p=p.length&&new RegExp(p.join("|")),T=function(t,e){if(t===e)return s=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!g.sortDetached&&e.compareDocumentPosition(t)===n?t===l||t.ownerDocument==L&&Q.contains(L,t)?-1:e===l||e.ownerDocument==L&&Q.contains(L,e)?1:i?u.call(i,t)-u.call(i,e):0:4&n?-1:1)},l):l}for(t in Q.matches=function(t,e){return Q(t,null,null,e)},Q.matchesSelector=function(t,e){if(lt(t),h&&!E[e+" "]&&(!p||!p.test(e)))try{var n=f.call(t,e);if(n||g.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){E(e,!0)}return Q(e,l,null,[t]).length>0},Q.contains=function(t,e){return(t.ownerDocument||t)!=l&&lt(t),S.contains(t,e)},Q.attr=function(t,n){(t.ownerDocument||t)!=l&&lt(t);var r=e.attrHandle[n.toLowerCase()],i=r&&d.call(e.attrHandle,n.toLowerCase())?r(t,n,!h):void 0;return void 0!==i?i:t.getAttribute(n)},Q.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},S.uniqueSort=function(t){var e,n=[],r=0,o=0;if(s=!g.sortStable,i=!g.sortStable&&a.call(t,0),C.call(t,T),s){for(;e=t[o++];)e===t[o]&&(r=n.push(o));for(;r--;)P.call(t,n[r],1)}return i=null,t},S.fn.uniqueSort=function(){return this.pushStack(S.uniqueSort(a.apply(this)))},(e=S.expr={cacheLength:50,createPseudo:et,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace($,K),t[3]=(t[3]||t[4]||t[5]||"").replace($,K),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||Q.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&Q.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return V.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&H.test(n)&&(e=ut(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace($,K).toLowerCase();return"*"===t?function(){return!0}:function(t){return A(t,e)}},CLASS:function(t){var e=_[t+" "];return e||(e=new RegExp("(^|"+D+")"+t+"("+D+"|$)"))&&_(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var i=Q.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(B," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,p,d,f=o!==s?"nextSibling":"previousSibling",m=e.parentNode,g=a&&e.nodeName.toLowerCase(),b=!l&&!a,_=!1;if(m){if(o){for(;f;){for(h=e;h=h[f];)if(a?A(h,g):1===h.nodeType)return!1;d=f="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?m.firstChild:m.lastChild],s&&b){for(_=(p=(c=(u=m[v]||(m[v]={}))[t]||[])[0]===y&&c[1])&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[f]||(_=p=0)||d.pop();)if(1===h.nodeType&&++_&&h===e){u[t]=[y,p,_];break}}else if(b&&(_=p=(c=(u=e[v]||(e[v]={}))[t]||[])[0]===y&&c[1]),!1===_)for(;(h=++p&&h&&h[f]||(_=p=0)||d.pop())&&(!(a?A(h,g):1===h.nodeType)||!++_||(b&&((u=h[v]||(h[v]={}))[t]=[y,_]),h!==e)););return(_-=i)===r||_%r==0&&_/r>=0}}},PSEUDO:function(t,n){var r,i=e.pseudos[t]||e.setFilters[t.toLowerCase()]||Q.error("unsupported pseudo: "+t);return i[v]?i(n):i.length>1?(r=[t,t,"",n],e.setFilters.hasOwnProperty(t.toLowerCase())?et((function(t,e){for(var r,o=i(t,n),s=o.length;s--;)t[r=u.call(t,o[s])]=!(e[r]=o[s])})):function(t){return i(t,0,r)}):i}},pseudos:{not:et((function(t){var e=[],n=[],r=vt(t.replace(R,"$1"));return r[v]?et((function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}})),has:et((function(t){return function(e){return Q(t,e).length>0}})),contains:et((function(t){return t=t.replace($,K),function(e){return(e.textContent||S.text(e)).indexOf(t)>-1}})),lang:et((function(t){return j.test(t||"")||Q.error("unsupported lang: "+t),t=t.replace($,K).toLowerCase(),function(e){var n;do{if(n=h?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===c},focus:function(t){return t===function(){try{return l.activeElement}catch(t){}}()&&l.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:ot(!1),disabled:ot(!0),checked:function(t){return A(t,"input")&&!!t.checked||A(t,"option")&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!e.pseudos.empty(t)},header:function(t){return W.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){return A(t,"input")&&"button"===t.type||A(t,"button")},text:function(t){var e;return A(t,"input")&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:st((function(){return[0]})),last:st((function(t,e){return[e-1]})),eq:st((function(t,e,n){return[n<0?n+e:n]})),even:st((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:st((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:st((function(t,e,n){var r;for(r=n<0?n+e:n>e?e:n;--r>=0;)t.push(r);return t})),gt:st((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}}).pseudos.nth=e.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})e.pseudos[t]=rt(t);for(t in{submit:!0,reset:!0})e.pseudos[t]=it(t);function ct(){}function ut(t,n){var r,i,o,s,a,l,c,u=x[t+" "];if(u)return n?0:u.slice(0);for(a=t,l=[],c=e.preFilter;a;){for(s in r&&!(i=U.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),r=!1,(i=G.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(R," ")}),a=a.slice(r.length)),e.filter)!(i=V[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?Q.error(t):x(t,l).slice(0)}function ht(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function pt(t,e,n){var r=e.dir,i=e.next,o=i||r,s=n&&"parentNode"===o,a=b++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||s)return t(e,n,i);return!1}:function(e,n,l){var c,u,h=[y,a];if(l){for(;e=e[r];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[r];)if(1===e.nodeType||s)if(u=e[v]||(e[v]={}),i&&A(e,i))e=e[r]||e;else{if((c=u[o])&&c[0]===y&&c[1]===a)return h[2]=c[2];if(u[o]=h,h[2]=t(e,n,l))return!0}return!1}}function dt(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function ft(t,e,n,r,i){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),c&&e.push(a)));return s}function mt(t,e,n,r,i,o){return r&&!r[v]&&(r=mt(r)),i&&!i[v]&&(i=mt(i,o)),et((function(o,s,a,l){var c,h,p,d,f=[],g=[],v=s.length,y=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)Q(t,e[r],n);return n}(e||"*",a.nodeType?[a]:a,[]),b=!t||!o&&e?y:ft(y,f,t,a,l);if(n?n(b,d=i||(o?t:v||r)?[]:s,a,l):d=b,r)for(c=ft(d,g),r(c,[],a,l),h=c.length;h--;)(p=c[h])&&(d[g[h]]=!(b[g[h]]=p));if(o){if(i||t){if(i){for(c=[],h=d.length;h--;)(p=d[h])&&c.push(b[h]=p);i(null,d=[],c,l)}for(h=d.length;h--;)(p=d[h])&&(c=i?u.call(o,p):f[h])>-1&&(o[c]=!(s[c]=p))}}else d=ft(d===s?d.splice(v,d.length):d),i?i(null,s,d,l):m.apply(s,d)}))}function gt(t){for(var n,i,o,s=t.length,a=e.relative[t[0].type],l=a||e.relative[" "],c=a?1:0,h=pt((function(t){return t===n}),l,!0),p=pt((function(t){return u.call(n,t)>-1}),l,!0),d=[function(t,e,i){var o=!a&&(i||e!=r)||((n=e).nodeType?h(t,e,i):p(t,e,i));return n=null,o}];c<s;c++)if(i=e.relative[t[c].type])d=[pt(dt(d),i)];else{if((i=e.filter[t[c].type].apply(null,t[c].matches))[v]){for(o=++c;o<s&&!e.relative[t[o].type];o++);return mt(c>1&&dt(d),c>1&&ht(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(R,"$1"),i,c<o&&gt(t.slice(c,o)),o<s&&gt(t=t.slice(o)),o<s&&ht(t))}d.push(i)}return dt(d)}function vt(t,n){var i,o=[],s=[],a=w[t+" "];if(!a){for(n||(n=ut(t)),i=n.length;i--;)(a=gt(n[i]))[v]?o.push(a):s.push(a);(a=w(t,function(t,n){var i=n.length>0,o=t.length>0,s=function(s,a,c,u,p){var d,f,g,v=0,b="0",_=s&&[],x=[],w=r,E=s||o&&e.find.TAG("*",p),T=y+=null==w?1:Math.random()||.1,A=E.length;for(p&&(r=a==l||a||p);b!==A&&null!=(d=E[b]);b++){if(o&&d){for(f=0,a||d.ownerDocument==l||(lt(d),c=!h);g=t[f++];)if(g(d,a||l,c)){m.call(u,d);break}p&&(y=T)}i&&((d=!g&&d)&&v--,s&&_.push(d))}if(v+=b,i&&b!==v){for(f=0;g=n[f++];)g(_,x,a,c);if(s){if(v>0)for(;b--;)_[b]||x[b]||(x[b]=M.call(u));x=ft(x)}m.apply(u,x),p&&!s&&x.length>0&&v+n.length>1&&S.uniqueSort(u)}return p&&(y=T,r=w),_};return i?et(s):s}(s,o))).selector=t}return a}function yt(t,n,r,i){var o,s,a,l,c,u="function"==typeof t&&t,p=!i&&ut(t=u.selector||t);if(r=r||[],1===p.length){if((s=p[0]=p[0].slice(0)).length>2&&"ID"===(a=s[0]).type&&9===n.nodeType&&h&&e.relative[s[1].type]){if(!(n=(e.find.ID(a.matches[0].replace($,K),n)||[])[0]))return r;u&&(n=n.parentNode),t=t.slice(s.shift().value.length)}for(o=V.needsContext.test(t)?0:s.length;o--&&(a=s[o],!e.relative[l=a.type]);)if((c=e.find[l])&&(i=c(a.matches[0].replace($,K),Y.test(s[0].type)&&at(n.parentNode)||n))){if(s.splice(o,1),!(t=i.length&&ht(s)))return m.apply(r,i),r;break}}return(u||vt(t,p))(i,n,!h,r,!n||Y.test(t)&&at(n.parentNode)||n),r}ct.prototype=e.filters=e.pseudos,e.setFilters=new ct,g.sortStable=v.split("").sort(T).join("")===v,lt(),g.sortDetached=nt((function(t){return 1&t.compareDocumentPosition(l.createElement("fieldset"))})),S.find=Q,S.expr[":"]=S.expr.pseudos,S.unique=S.uniqueSort,Q.compile=vt,Q.select=yt,Q.setDocument=lt,Q.tokenize=ut,Q.escape=S.escapeSelector,Q.getText=S.text,Q.isXML=S.isXMLDoc,Q.selectors=S.expr,Q.support=S.support,Q.uniqueSort=S.uniqueSort}();var F=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&S(t).is(n))break;r.push(t)}return r},N=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},B=S.expr.match.needsContext,U=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function G(t,e,n){return v(e)?S.grep(t,(function(t,r){return!!e.call(t,r,t)!==n})):e.nodeType?S.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?S.grep(t,(function(t){return u.call(e,t)>-1!==n})):S.filter(e,t,n)}S.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?S.find.matchesSelector(r,t)?[r]:[]:S.find.matches(t,S.grep(e,(function(t){return 1===t.nodeType})))},S.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(S(t).filter((function(){for(e=0;e<r;e++)if(S.contains(i[e],this))return!0})));for(n=this.pushStack([]),e=0;e<r;e++)S.find(t,i[e],n);return r>1?S.uniqueSort(n):n},filter:function(t){return this.pushStack(G(this,t||[],!1))},not:function(t){return this.pushStack(G(this,t||[],!0))},is:function(t){return!!G(this,"string"==typeof t&&B.test(t)?S(t):t||[],!1).length}});var z,H=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||z,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:H.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),U.test(r[1])&&S.isPlainObject(e))for(r in e)v(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=b.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==n.ready?n.ready(t):t(S):S.makeArray(t,this)}).prototype=S.fn,z=S(b);var j=/^(?:parents|prev(?:Until|All))/,V={children:!0,contents:!0,next:!0,prev:!0};function X(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(S.contains(this,e[t]))return!0}))},closest:function(t,e){var n,r=0,i=this.length,o=[],s="string"!=typeof t&&S(t);if(!B.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&S.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?S.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?u.call(S(t),this[0]):u.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return F(t,"parentNode")},parentsUntil:function(t,e,n){return F(t,"parentNode",n)},next:function(t){return X(t,"nextSibling")},prev:function(t){return X(t,"previousSibling")},nextAll:function(t){return F(t,"nextSibling")},prevAll:function(t){return F(t,"previousSibling")},nextUntil:function(t,e,n){return F(t,"nextSibling",n)},prevUntil:function(t,e,n){return F(t,"previousSibling",n)},siblings:function(t){return N((t.parentNode||{}).firstChild,t)},children:function(t){return N(t.firstChild)},contents:function(t){return null!=t.contentDocument&&s(t.contentDocument)?t.contentDocument:(A(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},(function(t,e){S.fn[t]=function(n,r){var i=S.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=S.filter(r,i)),this.length>1&&(V[t]||S.uniqueSort(i),j.test(t)&&i.reverse()),this.pushStack(i)}}));var W=/[^\x20\t\r\n\f]+/g;function q(t){return t}function Y(t){throw t}function $(t,e,n,r){var i;try{t&&v(i=t.promise)?i.call(t).done(e).fail(n):t&&v(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}S.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return S.each(t.match(W)||[],(function(t,n){e[n]=!0})),e}(t):S.extend({},t);var e,n,r,i,o=[],s=[],a=-1,l=function(){for(i=i||t.once,r=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){S.each(n,(function(n,r){v(r)?t.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==w(r)&&e(r)}))}(arguments),n&&!e&&l()),this},remove:function(){return S.each(arguments,(function(t,e){for(var n;(n=S.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(t){return t?S.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},S.extend({Deferred:function(t){var e=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return S.Deferred((function(n){S.each(e,(function(e,r){var i=v(t[r[4]])&&t[r[4]];o[r[1]]((function(){var t=i&&i.apply(this,arguments);t&&v(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)}))})),t=null})).promise()},then:function(t,r,i){var o=0;function s(t,e,r,i){return function(){var a=this,l=arguments,c=function(){var n,c;if(!(t<o)){if((n=r.apply(a,l))===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(c)?i?c.call(n,s(o,e,q,i),s(o,e,Y,i)):(o++,c.call(n,s(o,e,q,i),s(o,e,Y,i),s(o,e,q,e.notifyWith))):(r!==q&&(a=void 0,l=[n]),(i||e.resolveWith)(a,l))}},u=i?c:function(){try{c()}catch(n){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(n,u.error),t+1>=o&&(r!==Y&&(a=void 0,l=[n]),e.rejectWith(a,l))}};t?u():(S.Deferred.getErrorHook?u.error=S.Deferred.getErrorHook():S.Deferred.getStackHook&&(u.error=S.Deferred.getStackHook()),n.setTimeout(u))}}return S.Deferred((function(n){e[0][3].add(s(0,n,v(i)?i:q,n.notifyWith)),e[1][3].add(s(0,n,v(t)?t:q)),e[2][3].add(s(0,n,v(r)?r:Y))})).promise()},promise:function(t){return null!=t?S.extend(t,i):i}},o={};return S.each(e,(function(t,n){var s=n[2],a=n[5];i[n[1]]=s.add,a&&s.add((function(){r=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith})),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=a.call(arguments),o=S.Deferred(),s=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?a.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&($(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||v(i[n]&&i[n].then)))return o.then();for(;n--;)$(i[n],s(n),o.reject);return o.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&K.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},S.readyException=function(t){n.setTimeout((function(){throw t}))};var Z=S.Deferred();function J(){b.removeEventListener("DOMContentLoaded",J),n.removeEventListener("load",J),S.ready()}S.fn.ready=function(t){return Z.then(t).catch((function(t){S.readyException(t)})),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==t&&--S.readyWait>0||Z.resolveWith(b,[S]))}}),S.ready.then=Z.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?n.setTimeout(S.ready):(b.addEventListener("DOMContentLoaded",J),n.addEventListener("load",J));var Q=function(t,e,n,r,i,o,s){var a=0,l=t.length,c=null==n;if("object"===w(n))for(a in i=!0,n)Q(t,e,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,v(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(S(t),n)})),e))for(;a<l;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):l?e(t[0],n):o},tt=/^-ms-/,et=/-([a-z])/g;function nt(t,e){return e.toUpperCase()}function rt(t){return t.replace(tt,"ms-").replace(et,nt)}var it=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function ot(){this.expando=S.expando+ot.uid++}ot.uid=1,ot.prototype={cache:function(t){var e=t[this.expando];return e||(e={},it(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[rt(e)]=n;else for(r in e)i[rt(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][rt(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(rt):(e=rt(e))in r?[e]:e.match(W)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||S.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var st=new ot,at=new ot,lt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ct=/[A-Z]/g;function ut(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(ct,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:lt.test(t)?JSON.parse(t):t)}(n)}catch(t){}at.set(t,e,n)}else n=void 0;return n}S.extend({hasData:function(t){return at.hasData(t)||st.hasData(t)},data:function(t,e,n){return at.access(t,e,n)},removeData:function(t,e){at.remove(t,e)},_data:function(t,e,n){return st.access(t,e,n)},_removeData:function(t,e){st.remove(t,e)}}),S.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=at.get(o),1===o.nodeType&&!st.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=rt(r.slice(5)),ut(o,r,i[r]));st.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each((function(){at.set(this,t)})):Q(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=at.get(o,t))||void 0!==(n=ut(o,t))?n:void 0;this.each((function(){at.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){at.remove(this,t)}))}}),S.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=st.get(t,e),n&&(!r||Array.isArray(n)?r=st.access(t,e,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=S.queue(t,e),r=n.length,i=n.shift(),o=S._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,(function(){S.dequeue(t,e)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return st.get(t,n)||st.access(t,n,{empty:S.Callbacks("once memory").add((function(){st.remove(t,[e+"queue",n])}))})}}),S.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?S.queue(this[0],t):void 0===e?this:this.each((function(){var n=S.queue(this,t,e);S._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&S.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){S.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=S.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=st.get(o[s],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var ht=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pt=new RegExp("^(?:([+-])=|)("+ht+")([a-z%]*)$","i"),dt=["Top","Right","Bottom","Left"],ft=b.documentElement,mt=function(t){return S.contains(t.ownerDocument,t)},gt={composed:!0};ft.getRootNode&&(mt=function(t){return S.contains(t.ownerDocument,t)||t.getRootNode(gt)===t.ownerDocument});var vt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&mt(t)&&"none"===S.css(t,"display")};function yt(t,e,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return S.css(t,e,"")},l=a(),c=n&&n[3]||(S.cssNumber[e]?"":"px"),u=t.nodeType&&(S.cssNumber[e]||"px"!==c&&+l)&&pt.exec(S.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)S.style(t,e,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,S.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var bt={};function _t(t){var e,n=t.ownerDocument,r=t.nodeName,i=bt[r];return i||(e=n.body.appendChild(n.createElement(r)),i=S.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),bt[r]=i,i)}function xt(t,e){for(var n,r,i=[],o=0,s=t.length;o<s;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=st.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&vt(r)&&(i[o]=_t(r))):"none"!==n&&(i[o]="none",st.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}S.fn.extend({show:function(){return xt(this,!0)},hide:function(){return xt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){vt(this)?S(this).show():S(this).hide()}))}});var wt,Et,St=/^(?:checkbox|radio)$/i,Tt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,At=/^$|^module$|\/(?:java|ecma)script/i;wt=b.createDocumentFragment().appendChild(b.createElement("div")),(Et=b.createElement("input")).setAttribute("type","radio"),Et.setAttribute("checked","checked"),Et.setAttribute("name","t"),wt.appendChild(Et),g.checkClone=wt.cloneNode(!0).cloneNode(!0).lastChild.checked,wt.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!wt.cloneNode(!0).lastChild.defaultValue,wt.innerHTML="<option></option>",g.option=!!wt.lastChild;var Mt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ct(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&A(t,e)?S.merge([t],n):n}function Pt(t,e){for(var n=0,r=t.length;n<r;n++)st.set(t[n],"globalEval",!e||st.get(e[n],"globalEval"))}Mt.tbody=Mt.tfoot=Mt.colgroup=Mt.caption=Mt.thead,Mt.th=Mt.td,g.option||(Mt.optgroup=Mt.option=[1,"<select multiple='multiple'>","</select>"]);var Dt=/<|&#?\w+;/;function Rt(t,e,n,r,i){for(var o,s,a,l,c,u,h=e.createDocumentFragment(),p=[],d=0,f=t.length;d<f;d++)if((o=t[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(Dt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(Tt.exec(o)||["",""])[1].toLowerCase(),l=Mt[a]||Mt._default,s.innerHTML=l[1]+S.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;S.merge(p,s.childNodes),(s=h.firstChild).textContent=""}else p.push(e.createTextNode(o));for(h.textContent="",d=0;o=p[d++];)if(r&&S.inArray(o,r)>-1)i&&i.push(o);else if(c=mt(o),s=Ct(h.appendChild(o),"script"),c&&Pt(s),n)for(u=0;o=s[u++];)At.test(o.type||"")&&n.push(o);return h}var Ot=/^([^.]*)(?:\.(.+)|)/;function It(){return!0}function Lt(){return!1}function kt(t,e,n,r,i,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(r=r||n,n=void 0),e)kt(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Lt;else if(!i)return t;return 1===o&&(s=i,(i=function(t){return S().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=S.guid++)),t.each((function(){S.event.add(this,e,i,r,n)}))}function Ft(t,e,n){n?(st.set(t,e,!1),S.event.add(t,e,{namespace:!1,handler:function(t){var n,r=st.get(this,e);if(1&t.isTrigger&&this[e]){if(r)(S.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=a.call(arguments),st.set(this,e,r),this[e](),n=st.get(this,e),st.set(this,e,!1),r!==n)return t.stopImmediatePropagation(),t.preventDefault(),n}else r&&(st.set(this,e,S.event.trigger(r[0],r.slice(1),this)),t.stopPropagation(),t.isImmediatePropagationStopped=It)}})):void 0===st.get(t,e)&&S.event.add(t,e,It)}S.event={global:{},add:function(t,e,n,r,i){var o,s,a,l,c,u,h,p,d,f,m,g=st.get(t);if(it(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(ft,i),n.guid||(n.guid=S.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(W)||[""]).length;c--;)d=m=(a=Ot.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),d&&(h=S.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=S.event.special[d]||{},u=S.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:f.join(".")},o),(p=l[d])||((p=l[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,r,f,s)||t.addEventListener&&t.addEventListener(d,s)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,u):p.push(u),S.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,s,a,l,c,u,h,p,d,f,m,g=st.hasData(t)&&st.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(W)||[""]).length;c--;)if(d=m=(a=Ot.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),d){for(h=S.event.special[d]||{},p=l[d=(r?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)u=p[o],!i&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,h.remove&&h.remove.call(t,u));s&&!p.length&&(h.teardown&&!1!==h.teardown.call(t,f,g.handle)||S.removeEvent(t,d,g.handle),delete l[d])}else for(d in l)S.event.remove(t,d+e[c],n,r,!0);S.isEmptyObject(l)&&st.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,s,a=new Array(arguments.length),l=S.event.fix(t),c=(st.get(this,"events")||Object.create(null))[l.type]||[],u=S.event.special[l.type]||{};for(a[0]=l,e=1;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=S.event.handlers.call(this,l,c),e=0;(i=s[e++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,r,i,o,s,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[i=(r=e[n]).selector+" "]&&(s[i]=r.needsContext?S(i,this).index(c)>-1:S.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return St.test(e.type)&&e.click&&A(e,"input")&&Ft(e,"click",!0),!1},trigger:function(t){var e=this||t;return St.test(e.type)&&e.click&&A(e,"input")&&Ft(e,"click"),!0},_default:function(t){var e=t.target;return St.test(e.type)&&e.click&&A(e,"input")&&st.get(e,"click")||A(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?It:Lt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Lt,isPropagationStopped:Lt,isImmediatePropagationStopped:Lt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=It,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=It,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=It,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},(function(t,e){function n(t){if(b.documentMode){var n=st.get(this,"handle"),r=S.event.fix(t);r.type="focusin"===t.type?"focus":"blur",r.isSimulated=!0,n(t),r.target===r.currentTarget&&n(r)}else S.event.simulate(e,t.target,S.event.fix(t))}S.event.special[t]={setup:function(){var r;if(Ft(this,t,!0),!b.documentMode)return!1;(r=st.get(this,e))||this.addEventListener(e,n),st.set(this,e,(r||0)+1)},trigger:function(){return Ft(this,t),!0},teardown:function(){var t;if(!b.documentMode)return!1;(t=st.get(this,e)-1)?st.set(this,e,t):(this.removeEventListener(e,n),st.remove(this,e))},_default:function(e){return st.get(e.target,t)},delegateType:e},S.event.special[e]={setup:function(){var r=this.ownerDocument||this.document||this,i=b.documentMode?this:r,o=st.get(i,e);o||(b.documentMode?this.addEventListener(e,n):r.addEventListener(t,n,!0)),st.set(i,e,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=b.documentMode?this:r,o=st.get(i,e)-1;o?st.set(i,e,o):(b.documentMode?this.removeEventListener(e,n):r.removeEventListener(t,n,!0),st.remove(i,e))}}})),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){S.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||S.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),S.fn.extend({on:function(t,e,n,r){return kt(this,t,e,n,r)},one:function(t,e,n,r){return kt(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,S(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Lt),this.each((function(){S.event.remove(this,t,n,e)}))}});var Nt=/<script|<style|<link/i,Bt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Gt(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function zt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ht(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function jt(t,e){var n,r,i,o,s,a;if(1===e.nodeType){if(st.hasData(t)&&(a=st.get(t).events))for(i in st.remove(e,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)S.event.add(e,i,a[i][n]);at.hasData(t)&&(o=at.access(t),s=S.extend({},o),at.set(e,s))}}function Vt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&St.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Xt(t,e,n,r){e=l(e);var i,o,s,a,c,u,h=0,p=t.length,d=p-1,f=e[0],m=v(f);if(m||p>1&&"string"==typeof f&&!g.checkClone&&Bt.test(f))return t.each((function(i){var o=t.eq(i);m&&(e[0]=f.call(this,i,o.html())),Xt(o,e,n,r)}));if(p&&(o=(i=Rt(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=S.map(Ct(i,"script"),zt)).length;h<p;h++)c=i,h!==d&&(c=S.clone(c,!0,!0),a&&S.merge(s,Ct(c,"script"))),n.call(t[h],c,h);if(a)for(u=s[s.length-1].ownerDocument,S.map(s,Ht),h=0;h<a;h++)c=s[h],At.test(c.type||"")&&!st.access(c,"globalEval")&&S.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?S._evalUrl&&!c.noModule&&S._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):x(c.textContent.replace(Ut,""),c,u))}return t}function Wt(t,e,n){for(var r,i=e?S.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(Ct(r)),r.parentNode&&(n&&mt(r)&&Pt(Ct(r,"script")),r.parentNode.removeChild(r));return t}S.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),l=mt(t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(s=Ct(a),r=0,i=(o=Ct(t)).length;r<i;r++)Vt(o[r],s[r]);if(e)if(n)for(o=o||Ct(t),s=s||Ct(a),r=0,i=o.length;r<i;r++)jt(o[r],s[r]);else jt(t,a);return(s=Ct(a,"script")).length>0&&Pt(s,!l&&Ct(t,"script")),a},cleanData:function(t){for(var e,n,r,i=S.event.special,o=0;void 0!==(n=t[o]);o++)if(it(n)){if(e=n[st.expando]){if(e.events)for(r in e.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,e.handle);n[st.expando]=void 0}n[at.expando]&&(n[at.expando]=void 0)}}}),S.fn.extend({detach:function(t){return Wt(this,t,!0)},remove:function(t){return Wt(this,t)},text:function(t){return Q(this,(function(t){return void 0===t?S.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Xt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Gt(this,t).appendChild(t)}))},prepend:function(){return Xt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Gt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Xt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Xt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(Ct(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return S.clone(this,t,e)}))},html:function(t){return Q(this,(function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Nt.test(t)&&!Mt[(Tt.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(S.cleanData(Ct(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Xt(this,arguments,(function(e){var n=this.parentNode;S.inArray(this,t)<0&&(S.cleanData(Ct(this)),n&&n.replaceChild(e,this))}),t)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){S.fn[t]=function(t){for(var n,r=[],i=S(t),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),S(i[s])[e](n),c.apply(r,n.get());return this.pushStack(r)}}));var qt=new RegExp("^("+ht+")(?!px)[a-z%]+$","i"),Yt=/^--/,$t=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Kt=function(t,e,n){var r,i,o={};for(i in e)o[i]=t.style[i],t.style[i]=e[i];for(i in r=n.call(t),e)t.style[i]=o[i];return r},Zt=new RegExp(dt.join("|"),"i");function Jt(t,e,n){var r,i,o,s,a=Yt.test(e),l=t.style;return(n=n||$t(t))&&(s=n.getPropertyValue(e)||n[e],a&&s&&(s=s.replace(R,"$1")||void 0),""!==s||mt(t)||(s=S.style(t,e)),!g.pixelBoxStyles()&&qt.test(s)&&Zt.test(e)&&(r=l.width,i=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=r,l.minWidth=i,l.maxWidth=o)),void 0!==s?s+"":s}function Qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ft.appendChild(c).appendChild(u);var t=n.getComputedStyle(u);r="1%"!==t.top,l=12===e(t.marginLeft),u.style.right="60%",s=36===e(t.right),i=36===e(t.width),u.style.position="absolute",o=12===e(u.offsetWidth/3),ft.removeChild(c),u=null}}function e(t){return Math.round(parseFloat(t))}var r,i,o,s,a,l,c=b.createElement("div"),u=b.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,S.extend(g,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,r,i;return null==a&&(t=b.createElement("table"),e=b.createElement("tr"),r=b.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="box-sizing:content-box;border:1px solid",e.style.height="1px",r.style.height="9px",r.style.display="block",ft.appendChild(t).appendChild(e).appendChild(r),i=n.getComputedStyle(e),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===e.offsetHeight,ft.removeChild(t)),a}}))}();var te=["Webkit","Moz","ms"],ee=b.createElement("div").style,ne={};function re(t){var e=S.cssProps[t]||ne[t];return e||(t in ee?t:ne[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=te.length;n--;)if((t=te[n]+e)in ee)return t}(t)||t)}var ie=/^(none|table(?!-c[ea]).+)/,oe={position:"absolute",visibility:"hidden",display:"block"},se={letterSpacing:"0",fontWeight:"400"};function ae(t,e,n){var r=pt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function le(t,e,n,r,i,o){var s="width"===e?1:0,a=0,l=0,c=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=S.css(t,n+dt[s],!0,i)),r?("content"===n&&(l-=S.css(t,"padding"+dt[s],!0,i)),"margin"!==n&&(l-=S.css(t,"border"+dt[s]+"Width",!0,i))):(l+=S.css(t,"padding"+dt[s],!0,i),"padding"!==n?l+=S.css(t,"border"+dt[s]+"Width",!0,i):a+=S.css(t,"border"+dt[s]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))||0),l+c}function ce(t,e,n){var r=$t(t),i=(!g.boxSizingReliable()||n)&&"border-box"===S.css(t,"boxSizing",!1,r),o=i,s=Jt(t,e,r),a="offset"+e[0].toUpperCase()+e.slice(1);if(qt.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&i||!g.reliableTrDimensions()&&A(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===S.css(t,"display",!1,r))&&t.getClientRects().length&&(i="border-box"===S.css(t,"boxSizing",!1,r),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+le(t,e,n||(i?"border":"content"),o,r,s)+"px"}function ue(t,e,n,r,i){return new ue.prototype.init(t,e,n,r,i)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Jt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=rt(e),l=Yt.test(e),c=t.style;if(l||(e=re(a)),s=S.cssHooks[e]||S.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:c[e];"string"===(o=typeof n)&&(i=pt.exec(n))&&i[1]&&(n=yt(t,e,i),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=i&&i[3]||(S.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,r){var i,o,s,a=rt(e);return Yt.test(e)||(e=re(a)),(s=S.cssHooks[e]||S.cssHooks[a])&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=Jt(t,e,r)),"normal"===i&&e in se&&(i=se[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],(function(t,e){S.cssHooks[e]={get:function(t,n,r){if(n)return!ie.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ce(t,e,r):Kt(t,oe,(function(){return ce(t,e,r)}))},set:function(t,n,r){var i,o=$t(t),s=!g.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===S.css(t,"boxSizing",!1,o),l=r?le(t,e,r,a,o):0;return a&&s&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-le(t,e,"border",!1,o)-.5)),l&&(i=pt.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=S.css(t,e)),ae(0,n,l)}}})),S.cssHooks.marginLeft=Qt(g.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Jt(t,"marginLeft"))||t.getBoundingClientRect().left-Kt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),S.each({margin:"",padding:"",border:"Width"},(function(t,e){S.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+dt[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(S.cssHooks[t+e].set=ae)})),S.fn.extend({css:function(t,e){return Q(this,(function(t,e,n){var r,i,o={},s=0;if(Array.isArray(e)){for(r=$t(t),i=e.length;s<i;s++)o[e[s]]=S.css(t,e[s],!1,r);return o}return void 0!==n?S.style(t,e,n):S.css(t,e)}),t,e,arguments.length>1)}}),S.Tween=ue,ue.prototype={constructor:ue,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var t=ue.propHooks[this.prop];return t&&t.get?t.get(this):ue.propHooks._default.get(this)},run:function(t){var e,n=ue.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ue.propHooks._default.set(this),this}},ue.prototype.init.prototype=ue.prototype,ue.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=S.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||!S.cssHooks[t.prop]&&null==t.elem.style[re(t.prop)]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}},ue.propHooks.scrollTop=ue.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=ue.prototype.init,S.fx.step={};var he,pe,de=/^(?:toggle|show|hide)$/,fe=/queueHooks$/;function me(){pe&&(!1===b.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(me):n.setTimeout(me,S.fx.interval),S.fx.tick())}function ge(){return n.setTimeout((function(){he=void 0})),he=Date.now()}function ve(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=dt[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function ye(t,e,n){for(var r,i=(be.tweeners[e]||[]).concat(be.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function be(t,e,n){var r,i,o=0,s=be.prefilters.length,a=S.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var e=he||ge(),n=Math.max(0,c.startTime+c.duration-e),r=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(r);return a.notifyWith(t,[c,r,n]),r<1&&s?n:(s||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},n),originalProperties:e,originalOptions:n,startTime:he||ge(),duration:n.duration,tweens:[],createTween:function(e,n){var r=S.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for(!function(t,e){var n,r,i,o,s;for(n in t)if(i=e[r=rt(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(s=S.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(u,c.opts.specialEasing);o<s;o++)if(r=be.prefilters[o].call(c,t,u,c.opts))return v(r.stop)&&(S._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return S.map(u,ye,c),v(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),S.fx.timer(S.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}S.Animation=S.extend(be,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return yt(n.elem,t,pt.exec(e),n),n}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(W);for(var n,r=0,i=t.length;r<i;r++)n=t[r],be.tweeners[n]=be.tweeners[n]||[],be.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,s,a,l,c,u,h="width"in e||"height"in e,p=this,d={},f=t.style,m=t.nodeType&&vt(t),g=st.get(t,"fxshow");for(r in n.queue||(null==(s=S._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always((function(){p.always((function(){s.unqueued--,S.queue(t,"fx").length||s.empty.fire()}))}))),e)if(i=e[r],de.test(i)){if(delete e[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}d[r]=g&&g[r]||S.style(t,r)}if((l=!S.isEmptyObject(e))||!S.isEmptyObject(d))for(r in h&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=st.get(t,"display")),"none"===(u=S.css(t,"display"))&&(c?u=c:(xt([t],!0),c=t.style.display||c,u=S.css(t,"display"),xt([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===S.css(t,"float")&&(l||(p.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,d)l||(g?"hidden"in g&&(m=g.hidden):g=st.access(t,"fxshow",{display:c}),o&&(g.hidden=!m),m&&xt([t],!0),p.done((function(){for(r in m||xt([t]),st.remove(t,"fxshow"),d)S.style(t,r,d[r])}))),l=ye(m?g[r]:0,r,p),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?be.prefilters.unshift(t):be.prefilters.push(t)}}),S.speed=function(t,e,n){var r=t&&"object"==typeof t?S.extend({},t):{complete:n||!n&&e||v(t)&&t,duration:t,easing:n&&e||e&&!v(e)&&e};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(t,e,n,r){return this.filter(vt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),s=function(){var e=be(this,S.extend({},t),o);(i||st.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,i=null!=t&&t+"queueHooks",o=S.timers,s=st.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&fe.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||S.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=st.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=S.timers,s=r?r.length:0;for(n.finish=!0,S.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish}))}}),S.each(["toggle","show","hide"],(function(t,e){var n=S.fn[e];S.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ve(e,!0),t,r,i)}})),S.each({slideDown:ve("show"),slideUp:ve("hide"),slideToggle:ve("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){S.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}})),S.timers=[],S.fx.tick=function(){var t,e=0,n=S.timers;for(he=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||S.fx.stop(),he=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){pe||(pe=!0,me())},S.fx.stop=function(){pe=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(t,e){return t=S.fx&&S.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}}))},function(){var t=b.createElement("input"),e=b.createElement("select").appendChild(b.createElement("option"));t.type="checkbox",g.checkOn=""!==t.value,g.optSelected=e.selected,(t=b.createElement("input")).value="t",t.type="radio",g.radioValue="t"===t.value}();var _e,xe=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return Q(this,S.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){S.removeAttr(this,t)}))}}),S.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?S.prop(t,e,n):(1===o&&S.isXMLDoc(t)||(i=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?_e:void 0)),void 0!==n?null===n?void S.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=S.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!g.radioValue&&"radio"===e&&A(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(W);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),_e={set:function(t,e,n){return!1===e?S.removeAttr(t,n):t.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=xe[e]||S.find.attr;xe[e]=function(t,e,r){var i,o,s=e.toLowerCase();return r||(o=xe[s],xe[s]=i,i=null!=n(t,e,r)?s:null,xe[s]=o),i}}));var we=/^(?:input|select|textarea|button)$/i,Ee=/^(?:a|area)$/i;function Se(t){return(t.match(W)||[]).join(" ")}function Te(t){return t.getAttribute&&t.getAttribute("class")||""}function Ae(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(W)||[]}S.fn.extend({prop:function(t,e){return Q(this,S.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[S.propFix[t]||t]}))}}),S.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(t)||(e=S.propFix[e]||e,i=S.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):we.test(t.nodeName)||Ee.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(S.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){S.propFix[this.toLowerCase()]=this})),S.fn.extend({addClass:function(t){var e,n,r,i,o,s;return v(t)?this.each((function(e){S(this).addClass(t.call(this,e,Te(this)))})):(e=Ae(t)).length?this.each((function(){if(r=Te(this),n=1===this.nodeType&&" "+Se(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");s=Se(n),r!==s&&this.setAttribute("class",s)}})):this},removeClass:function(t){var e,n,r,i,o,s;return v(t)?this.each((function(e){S(this).removeClass(t.call(this,e,Te(this)))})):arguments.length?(e=Ae(t)).length?this.each((function(){if(r=Te(this),n=1===this.nodeType&&" "+Se(r)+" "){for(o=0;o<e.length;o++)for(i=e[o];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");s=Se(n),r!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(t,e){var n,r,i,o,s=typeof t,a="string"===s||Array.isArray(t);return v(t)?this.each((function(n){S(this).toggleClass(t.call(this,n,Te(this),e),e)})):"boolean"==typeof e&&a?e?this.addClass(t):this.removeClass(t):(n=Ae(t),this.each((function(){if(a)for(o=S(this),i=0;i<n.length;i++)r=n[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!==s||((r=Te(this))&&st.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":st.get(this,"__className__")||""))})))},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+Se(Te(n))+" ").indexOf(e)>-1)return!0;return!1}});var Me=/\r/g;S.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=v(t),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,S(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=S.map(i,(function(t){return null==t?"":t+""}))),(e=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))}))):i?(e=S.valHooks[i.type]||S.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Me,""):null==n?"":n:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:Se(S.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?o+1:i.length;for(r=o<0?l:s?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(e=S(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=S.makeArray(e),s=i.length;s--;)((r=i[s]).selected=S.inArray(S.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],(function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=S.inArray(S(t).val(),e)>-1}},g.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var Ce=n.location,Pe={guid:Date.now()},De=/\?/;S.parseXML=function(t){var e,r;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){}return r=e&&e.getElementsByTagName("parsererror")[0],e&&!r||S.error("Invalid XML: "+(r?S.map(r.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Re=/^(?:focusinfocus|focusoutblur)$/,Oe=function(t){t.stopPropagation()};S.extend(S.event,{trigger:function(t,e,r,i){var o,s,a,l,c,u,h,p,f=[r||b],m=d.call(t,"type")?t.type:t,g=d.call(t,"namespace")?t.namespace.split("."):[];if(s=p=a=r=r||b,3!==r.nodeType&&8!==r.nodeType&&!Re.test(m+S.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(t=t[S.expando]?t:new S.Event(m,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:S.makeArray(e,[t]),h=S.event.special[m]||{},i||!h.trigger||!1!==h.trigger.apply(r,e))){if(!i&&!h.noBubble&&!y(r)){for(l=h.delegateType||m,Re.test(l+m)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(r.ownerDocument||b)&&f.push(a.defaultView||a.parentWindow||n)}for(o=0;(s=f[o++])&&!t.isPropagationStopped();)p=s,t.type=o>1?l:h.bindType||m,(u=(st.get(s,"events")||Object.create(null))[t.type]&&st.get(s,"handle"))&&u.apply(s,e),(u=c&&s[c])&&u.apply&&it(s)&&(t.result=u.apply(s,e),!1===t.result&&t.preventDefault());return t.type=m,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),e)||!it(r)||c&&v(r[m])&&!y(r)&&((a=r[c])&&(r[c]=null),S.event.triggered=m,t.isPropagationStopped()&&p.addEventListener(m,Oe),r[m](),t.isPropagationStopped()&&p.removeEventListener(m,Oe),S.event.triggered=void 0,a&&(r[c]=a)),t.result}},simulate:function(t,e,n){var r=S.extend(new S.Event,n,{type:t,isSimulated:!0});S.event.trigger(r,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each((function(){S.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return S.event.trigger(t,e,n,!0)}});var Ie=/\[\]$/,Le=/\r?\n/g,ke=/^(?:submit|button|image|reset|file)$/i,Fe=/^(?:input|select|textarea|keygen)/i;function Ne(t,e,n,r){var i;if(Array.isArray(e))S.each(e,(function(e,i){n||Ie.test(t)?r(t,i):Ne(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)}));else if(n||"object"!==w(e))r(t,e);else for(i in e)Ne(t+"["+i+"]",e[i],n,r)}S.param=function(t,e){var n,r=[],i=function(t,e){var n=v(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,(function(){i(this.name,this.value)}));else for(n in t)Ne(n,t[n],e,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&Fe.test(this.nodeName)&&!ke.test(t)&&(this.checked||!St.test(t))})).map((function(t,e){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,(function(t){return{name:e.name,value:t.replace(Le,"\r\n")}})):{name:e.name,value:n.replace(Le,"\r\n")}})).get()}});var Be=/%20/g,Ue=/#.*$/,Ge=/([?&])_=[^&]*/,ze=/^(.*?):[ \t]*([^\r\n]*)$/gm,He=/^(?:GET|HEAD)$/,je=/^\/\//,Ve={},Xe={},We="*/".concat("*"),qe=b.createElement("a");function Ye(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(W)||[];if(v(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function $e(t,e,n,r){var i={},o=t===Xe;function s(a){var l;return i[a]=!0,S.each(t[a]||[],(function(t,a){var c=a(e,n,r);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),s(c),!1)})),l}return s(e.dataTypes[0])||!i["*"]&&s("*")}function Ke(t,e){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&S.extend(!0,t,r),t}qe.href=Ce.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":We,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ke(Ke(t,S.ajaxSettings),e):Ke(S.ajaxSettings,t)},ajaxPrefilter:Ye(Ve),ajaxTransport:Ye(Xe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,s,a,l,c,u,h,p,d=S.ajaxSetup({},e),f=d.context||d,m=d.context&&(f.nodeType||f.jquery)?S(f):S.event,g=S.Deferred(),v=S.Callbacks("once memory"),y=d.statusCode||{},_={},x={},w="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=ze.exec(o);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)E.always(t[E.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||w;return r&&r.abort(e),T(0,e),this}};if(g.promise(E),d.url=((t||d.url||Ce.href)+"").replace(je,Ce.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(W)||[""],null==d.crossDomain){l=b.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=qe.protocol+"//"+qe.host!=l.protocol+"//"+l.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=S.param(d.data,d.traditional)),$e(Ve,d,e,E),c)return E;for(h in(u=S.event&&d.global)&&0==S.active++&&S.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!He.test(d.type),i=d.url.replace(Ue,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Be,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(De.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(Ge,"$1"),p=(De.test(i)?"&":"?")+"_="+Pe.guid+++p),d.url=i+p),d.ifModified&&(S.lastModified[i]&&E.setRequestHeader("If-Modified-Since",S.lastModified[i]),S.etag[i]&&E.setRequestHeader("If-None-Match",S.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&E.setRequestHeader("Content-Type",d.contentType),E.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+We+"; q=0.01":""):d.accepts["*"]),d.headers)E.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(f,E,d)||c))return E.abort();if(w="abort",v.add(d.complete),E.done(d.success),E.fail(d.error),r=$e(Xe,d,e,E)){if(E.readyState=1,u&&m.trigger("ajaxSend",[E,d]),c)return E;d.async&&d.timeout>0&&(a=n.setTimeout((function(){E.abort("timeout")}),d.timeout));try{c=!1,r.send(_,T)}catch(t){if(c)throw t;T(-1,t)}}else T(-1,"No Transport");function T(t,e,s,l){var h,p,b,_,x,w=e;c||(c=!0,a&&n.clearTimeout(a),r=void 0,o=l||"",E.readyState=t>0?4:0,h=t>=200&&t<300||304===t,s&&(_=function(t,e,n){for(var r,i,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||t.converters[i+" "+l[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(d,E,s)),!h&&S.inArray("script",d.dataTypes)>-1&&S.inArray("json",d.dataTypes)<0&&(d.converters["text script"]=function(){}),_=function(t,e,n,r){var i,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(d,_,E,h),h?(d.ifModified&&((x=E.getResponseHeader("Last-Modified"))&&(S.lastModified[i]=x),(x=E.getResponseHeader("etag"))&&(S.etag[i]=x)),204===t||"HEAD"===d.type?w="nocontent":304===t?w="notmodified":(w=_.state,p=_.data,h=!(b=_.error))):(b=w,!t&&w||(w="error",t<0&&(t=0))),E.status=t,E.statusText=(e||w)+"",h?g.resolveWith(f,[p,w,E]):g.rejectWith(f,[E,w,b]),E.statusCode(y),y=void 0,u&&m.trigger(h?"ajaxSuccess":"ajaxError",[E,d,h?p:b]),v.fireWith(f,[E,w]),u&&(m.trigger("ajaxComplete",[E,d]),--S.active||S.event.trigger("ajaxStop")))}return E},getJSON:function(t,e,n){return S.get(t,e,n,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],(function(t,e){S[e]=function(t,n,r,i){return v(n)&&(i=i||r,r=n,n=void 0),S.ajax(S.extend({url:t,type:e,dataType:i,data:n,success:r},S.isPlainObject(t)&&t))}})),S.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),S._evalUrl=function(t,e,n){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){S.globalEval(t,e,n)}})},S.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v(t)?this.each((function(e){S(this).wrapInner(t.call(this,e))})):this.each((function(){var e=S(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v(t);return this.each((function(n){S(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){S(this).replaceWith(this.childNodes)})),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ze={0:200,1223:204},Je=S.ajaxSettings.xhr();g.cors=!!Je&&"withCredentials"in Je,g.ajax=Je=!!Je,S.ajaxTransport((function(t){var e,r;if(g.cors||Je&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);e=function(t){return function(){e&&(e=r=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ze[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),r=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){e&&r()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),S.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),S.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,i){e=S("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),b.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Qe,tn=[],en=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=tn.pop()||S.expando+"_"+Pe.guid++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",(function(t,e,r){var i,o,s,a=!1!==t.jsonp&&(en.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(en,"$1"+i):!1!==t.jsonp&&(t.url+=(De.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||S.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){s=arguments},r.always((function(){void 0===o?S(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,tn.push(i)),s&&v(o)&&o(s[0]),s=o=void 0})),"script"})),g.createHTMLDocument=((Qe=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Qe.childNodes.length),S.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(g.createHTMLDocument?((r=(e=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,e.head.appendChild(r)):e=b),o=!n&&[],(i=U.exec(t))?[e.createElement(i[1])]:(i=Rt([t],e,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(t,e,n){var r,i,o,s=this,a=t.indexOf(" ");return a>-1&&(r=Se(t.slice(a)),t=t.slice(0,a)),v(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&S.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(r?S("<div>").append(S.parseHTML(t)).find(r):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,(function(e){return t===e.elem})).length},S.offset={setOffset:function(t,e,n){var r,i,o,s,a,l,c=S.css(t,"position"),u=S(t),h={};"static"===c&&(t.style.position="relative"),a=u.offset(),o=S.css(t,"top"),l=S.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(r=u.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),v(e)&&(e=e.call(t,n,S.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+i),"using"in e?e.using.call(t,h):u.css(h)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){S.offset.setOffset(this,t,e)}));var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),i.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-S.css(r,"marginTop",!0),left:e.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||ft}))}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;S.fn[t]=function(r){return Q(this,(function(t,r,i){var o;if(y(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i}),t,r,arguments.length)}})),S.each(["top","left"],(function(t,e){S.cssHooks[e]=Qt(g.pixelPosition,(function(t,n){if(n)return n=Jt(t,e),qt.test(n)?S(t).position()[e]+"px":n}))})),S.each({Height:"height",Width:"width"},(function(t,e){S.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,r){S.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return Q(this,(function(e,n,i){var o;return y(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?S.css(e,n,a):S.style(e,n,i,a)}),e,s?i:void 0,s)}}))})),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){S.fn[e]=function(t){return this.on(e,t)}})),S.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.on("mouseenter",t).on("mouseleave",e||t)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){S.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var nn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;S.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),v(t))return r=a.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(a.call(arguments)))}).guid=t.guid=t.guid||S.guid++,i},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=v,S.isWindow=y,S.camelCase=rt,S.type=w,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},S.trim=function(t){return null==t?"":(t+"").replace(nn,"$1")},void 0===(r=function(){return S}.apply(e,[]))||(t.exports=r);var rn=n.jQuery,on=n.$;return S.noConflict=function(t){return n.$===S&&(n.$=on),t&&n.jQuery===S&&(n.jQuery=rn),S},void 0===i&&(n.jQuery=n.$=S),S}))},FpZJ:function(t,e,n){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},GYWy:function(t,e,n){(function(t,r){var i;!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,l=2147483647,c=/^xn--/,u=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,f=String.fromCharCode;function m(t){throw new RangeError(p[t])}function g(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function v(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+g((t=t.replace(h,".")).split("."),e).join(".")}function y(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function b(t){return g(t,(function(t){var e="";return t>65535&&(e+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=f(t)})).join("")}function _(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function x(t,e,n){var r=0;for(t=n?d(t/700):t>>1,t+=d(t/e);t>455;r+=36)t=d(t/35);return d(r+36*t/(t+38))}function w(t){var e,n,r,i,o,s,a,c,u,h,p,f=[],g=t.length,v=0,y=128,_=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&m("not-basic"),f.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=v,s=1,a=36;i>=g&&m("invalid-input"),((c=(p=t.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:36)>=36||c>d((l-v)/s))&&m("overflow"),v+=c*s,!(c<(u=a<=_?1:a>=_+26?26:a-_));a+=36)s>d(l/(h=36-u))&&m("overflow"),s*=h;_=x(v-o,e=f.length+1,0==o),d(v/e)>l-y&&m("overflow"),y+=d(v/e),v%=e,f.splice(v++,0,y)}return b(f)}function E(t){var e,n,r,i,o,s,a,c,u,h,p,g,v,b,w,E=[];for(g=(t=y(t)).length,e=128,n=0,o=72,s=0;s<g;++s)(p=t[s])<128&&E.push(f(p));for(r=i=E.length,i&&E.push("-");r<g;){for(a=l,s=0;s<g;++s)(p=t[s])>=e&&p<a&&(a=p);for(a-e>d((l-n)/(v=r+1))&&m("overflow"),n+=(a-e)*v,e=a,s=0;s<g;++s)if((p=t[s])<e&&++n>l&&m("overflow"),p==e){for(c=n,u=36;!(c<(h=u<=o?1:u>=o+26?26:u-o));u+=36)w=c-h,b=36-h,E.push(f(_(h+w%b,0))),c=d(w/b);E.push(f(_(c,0))),o=x(n,v,r==i),n=0,++r}++n,++e}return E.join("")}a={version:"1.4.1",ucs2:{decode:y,encode:b},decode:w,encode:E,toASCII:function(t){return v(t,(function(t){return u.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return v(t,(function(t){return c.test(t)?w(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return a}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n("YuTi")(t),n("yLpj"))},Haw6:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",(function(){return qe})),n.d(e,"b",(function(){return qe}));var i,o,s,a,l,c,u,h,p,d,f,m,g,v=function(){return i||"undefined"!=typeof window&&(i=window.gsap)&&i.registerPlugin&&i},y=1,b=[],_=[],x=[],w=Date.now,E=function(t,e){return e},S=function(t,e){return~x.indexOf(t)&&x[x.indexOf(t)+1][e]},T=function(t){return!!~d.indexOf(t)},A=function(t,e,n,r,i){return t.addEventListener(e,n,{passive:!r,capture:!!i})},M=function(t,e,n,r){return t.removeEventListener(e,n,!!r)},C=function(){return f&&f.isPressed||_.cache++},P=function(t,e){var n=function n(r){if(r||0===r){y&&(s.history.scrollRestoration="manual");var i=f&&f.isPressed;r=n.v=Math.round(r)||(f&&f.iOS?1:0),t(r),n.cacheID=_.cache,i&&E("ss",r)}else(e||_.cache!==n.cacheID||E("ref"))&&(n.cacheID=_.cache,n.v=t());return n.v+n.offset};return n.offset=0,t&&n},D={s:"scrollLeft",p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:P((function(t){return arguments.length?s.scrollTo(t,R.sc()):s.pageXOffset||a.scrollLeft||l.scrollLeft||c.scrollLeft||0}))},R={s:"scrollTop",p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:D,sc:P((function(t){return arguments.length?s.scrollTo(D.sc(),t):s.pageYOffset||a.scrollTop||l.scrollTop||c.scrollTop||0}))},O=function(t,e){return(e&&e._ctx&&e._ctx.selector||i.utils.toArray)(t)[0]||("string"==typeof t&&!1!==i.config().nullTargetWarn?console.warn("Element not found:",t):null)},I=function(t,e){var n=e.s,r=e.sc;T(t)&&(t=a.scrollingElement||l);var o=_.indexOf(t),s=r===R.sc?1:2;!~o&&(o=_.push(t)-1),_[o+s]||A(t,"scroll",C);var c=_[o+s],u=c||(_[o+s]=P(S(t,n),!0)||(T(t)?r:P((function(e){return arguments.length?t[n]=e:t[n]}))));return u.target=t,c||(u.smooth="smooth"===i.getProperty(t,"scrollBehavior")),u},L=function(t,e,n){var r=t,i=t,o=w(),s=o,a=e||50,l=Math.max(500,3*a),c=function(t,e){var l=w();e||l-o>a?(i=r,r=t,s=o,o=l):n?r+=t:r=i+(t-i)/(l-s)*(o-s)};return{update:c,reset:function(){i=r=n?0:r,s=o=0},getVelocity:function(t){var e=s,a=i,u=w();return(t||0===t)&&t!==r&&c(t),o===s||u-s>l?0:(r+(n?a:-a))/((n?u:o)-e)*1e3}}},k=function(t,e){return e&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},F=function(t){var e=Math.max.apply(Math,t),n=Math.min.apply(Math,t);return Math.abs(e)>=Math.abs(n)?e:n},N=function(){var t,e,n,r;(p=i.core.globals().ScrollTrigger)&&p.core&&(t=p.core,e=t.bridge||{},n=t._scrollers,r=t._proxies,n.push.apply(n,_),r.push.apply(r,x),_=n,x=r,E=function(t,n){return e[t](n)})},B=function(t){return i=t||v(),!o&&i&&"undefined"!=typeof document&&document.body&&(s=window,a=document,l=a.documentElement,c=a.body,d=[s,a,l,c],i.utils.clamp,g=i.core.context||function(){},h="onpointerenter"in c?"pointer":"mouse",u=U.isTouch=s.matchMedia&&s.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in s||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,m=U.eventTypes=("ontouchstart"in l?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in l?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return y=0}),500),N(),o=1),o};D.op=R,_.cache=0;var U=function(){function t(t){this.init(t)}var e,n,d;return t.prototype.init=function(t){o||B(i)||console.warn("Please gsap.registerPlugin(Observer)"),p||N();var e=t.tolerance,n=t.dragMinimum,r=t.type,d=t.target,v=t.lineHeight,y=t.debounce,_=t.preventDefault,x=t.onStop,E=t.onStopDelay,S=t.ignore,P=t.wheelSpeed,U=t.event,G=t.onDragStart,z=t.onDragEnd,H=t.onDrag,j=t.onPress,V=t.onRelease,X=t.onRight,W=t.onLeft,q=t.onUp,Y=t.onDown,$=t.onChangeX,K=t.onChangeY,Z=t.onChange,J=t.onToggleX,Q=t.onToggleY,tt=t.onHover,et=t.onHoverEnd,nt=t.onMove,rt=t.ignoreCheck,it=t.isNormalizer,ot=t.onGestureStart,st=t.onGestureEnd,at=t.onWheel,lt=t.onEnable,ct=t.onDisable,ut=t.onClick,ht=t.scrollSpeed,pt=t.capture,dt=t.allowClicks,ft=t.lockAxis,mt=t.onLockAxis;this.target=d=O(d)||l,this.vars=t,S&&(S=i.utils.toArray(S)),e=e||1e-9,n=n||0,P=P||1,ht=ht||1,r=r||"wheel,touch,pointer",y=!1!==y,v||(v=parseFloat(s.getComputedStyle(c).lineHeight)||22);var gt,vt,yt,bt,_t,xt,wt,Et=this,St=0,Tt=0,At=I(d,D),Mt=I(d,R),Ct=At(),Pt=Mt(),Dt=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===m[0],Rt=T(d),Ot=d.ownerDocument||a,It=[0,0,0],Lt=[0,0,0],kt=0,Ft=function(){return kt=w()},Nt=function(t,e){return(Et.event=t)&&S&&~S.indexOf(t.target)||e&&Dt&&"touch"!==t.pointerType||rt&&rt(t,e)},Bt=function(){var t=Et.deltaX=F(It),n=Et.deltaY=F(Lt),r=Math.abs(t)>=e,i=Math.abs(n)>=e;Z&&(r||i)&&Z(Et,t,n,It,Lt),r&&(X&&Et.deltaX>0&&X(Et),W&&Et.deltaX<0&&W(Et),$&&$(Et),J&&Et.deltaX<0!=St<0&&J(Et),St=Et.deltaX,It[0]=It[1]=It[2]=0),i&&(Y&&Et.deltaY>0&&Y(Et),q&&Et.deltaY<0&&q(Et),K&&K(Et),Q&&Et.deltaY<0!=Tt<0&&Q(Et),Tt=Et.deltaY,Lt[0]=Lt[1]=Lt[2]=0),(bt||yt)&&(nt&&nt(Et),yt&&(H(Et),yt=!1),bt=!1),xt&&!(xt=!1)&&mt&&mt(Et),_t&&(at(Et),_t=!1),gt=0},Ut=function(t,e,n){It[n]+=t,Lt[n]+=e,Et._vx.update(t),Et._vy.update(e),y?gt||(gt=requestAnimationFrame(Bt)):Bt()},Gt=function(t,e){ft&&!wt&&(Et.axis=wt=Math.abs(t)>Math.abs(e)?"x":"y",xt=!0),"y"!==wt&&(It[2]+=t,Et._vx.update(t,!0)),"x"!==wt&&(Lt[2]+=e,Et._vy.update(e,!0)),y?gt||(gt=requestAnimationFrame(Bt)):Bt()},zt=function(t){if(!Nt(t,1)){var e=(t=k(t,_)).clientX,r=t.clientY,i=e-Et.x,o=r-Et.y,s=Et.isDragging;Et.x=e,Et.y=r,(s||Math.abs(Et.startX-e)>=n||Math.abs(Et.startY-r)>=n)&&(H&&(yt=!0),s||(Et.isDragging=!0),Gt(i,o),s||G&&G(Et))}},Ht=Et.onPress=function(t){Nt(t,1)||t&&t.button||(Et.axis=wt=null,vt.pause(),Et.isPressed=!0,t=k(t),St=Tt=0,Et.startX=Et.x=t.clientX,Et.startY=Et.y=t.clientY,Et._vx.reset(),Et._vy.reset(),A(it?d:Ot,m[1],zt,_,!0),Et.deltaX=Et.deltaY=0,j&&j(Et))},jt=Et.onRelease=function(t){if(!Nt(t,1)){M(it?d:Ot,m[1],zt,!0);var e=!isNaN(Et.y-Et.startY),n=Et.isDragging,r=n&&(Math.abs(Et.x-Et.startX)>3||Math.abs(Et.y-Et.startY)>3),o=k(t);!r&&e&&(Et._vx.reset(),Et._vy.reset(),_&&dt&&i.delayedCall(.08,(function(){if(w()-kt>300&&!t.defaultPrevented)if(t.target.click)t.target.click();else if(Ot.createEvent){var e=Ot.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,s,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(e)}}))),Et.isDragging=Et.isGesturing=Et.isPressed=!1,x&&n&&!it&&vt.restart(!0),z&&n&&z(Et),V&&V(Et,r)}},Vt=function(t){return t.touches&&t.touches.length>1&&(Et.isGesturing=!0)&&ot(t,Et.isDragging)},Xt=function(){return(Et.isGesturing=!1)||st(Et)},Wt=function(t){if(!Nt(t)){var e=At(),n=Mt();Ut((e-Ct)*ht,(n-Pt)*ht,1),Ct=e,Pt=n,x&&vt.restart(!0)}},qt=function(t){if(!Nt(t)){t=k(t,_),at&&(_t=!0);var e=(1===t.deltaMode?v:2===t.deltaMode?s.innerHeight:1)*P;Ut(t.deltaX*e,t.deltaY*e,0),x&&!it&&vt.restart(!0)}},Yt=function(t){if(!Nt(t)){var e=t.clientX,n=t.clientY,r=e-Et.x,i=n-Et.y;Et.x=e,Et.y=n,bt=!0,x&&vt.restart(!0),(r||i)&&Gt(r,i)}},$t=function(t){Et.event=t,tt(Et)},Kt=function(t){Et.event=t,et(Et)},Zt=function(t){return Nt(t)||k(t,_)&&ut(Et)};vt=Et._dc=i.delayedCall(E||.25,(function(){Et._vx.reset(),Et._vy.reset(),vt.pause(),x&&x(Et)})).pause(),Et.deltaX=Et.deltaY=0,Et._vx=L(0,50,!0),Et._vy=L(0,50,!0),Et.scrollX=At,Et.scrollY=Mt,Et.isDragging=Et.isGesturing=Et.isPressed=!1,g(this),Et.enable=function(t){return Et.isEnabled||(A(Rt?Ot:d,"scroll",C),r.indexOf("scroll")>=0&&A(Rt?Ot:d,"scroll",Wt,_,pt),r.indexOf("wheel")>=0&&A(d,"wheel",qt,_,pt),(r.indexOf("touch")>=0&&u||r.indexOf("pointer")>=0)&&(A(d,m[0],Ht,_,pt),A(Ot,m[2],jt),A(Ot,m[3],jt),dt&&A(d,"click",Ft,!1,!0),ut&&A(d,"click",Zt),ot&&A(Ot,"gesturestart",Vt),st&&A(Ot,"gestureend",Xt),tt&&A(d,h+"enter",$t),et&&A(d,h+"leave",Kt),nt&&A(d,h+"move",Yt)),Et.isEnabled=!0,t&&t.type&&Ht(t),lt&&lt(Et)),Et},Et.disable=function(){Et.isEnabled&&(b.filter((function(t){return t!==Et&&T(t.target)})).length||M(Rt?Ot:d,"scroll",C),Et.isPressed&&(Et._vx.reset(),Et._vy.reset(),M(it?d:Ot,m[1],zt,!0)),M(Rt?Ot:d,"scroll",Wt,pt),M(d,"wheel",qt,pt),M(d,m[0],Ht,pt),M(Ot,m[2],jt),M(Ot,m[3],jt),M(d,"click",Ft,!0),M(d,"click",Zt),M(Ot,"gesturestart",Vt),M(Ot,"gestureend",Xt),M(d,h+"enter",$t),M(d,h+"leave",Kt),M(d,h+"move",Yt),Et.isEnabled=Et.isPressed=Et.isDragging=!1,ct&&ct(Et))},Et.kill=Et.revert=function(){Et.disable();var t=b.indexOf(Et);t>=0&&b.splice(t,1),f===Et&&(f=0)},b.push(Et),it&&T(d)&&(f=Et),Et.enable(U)},e=t,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&r(e.prototype,n),d&&r(e,d),t}();U.version="3.12.3",U.create=function(t){return new U(t)},U.register=B,U.getAll=function(){return b.slice()},U.getById=function(t){return b.filter((function(e){return e.vars.id===t}))[0]},v()&&i.registerPlugin(U);var G,z,H,j,V,X,W,q,Y,$,K,Z,J,Q,tt,et,nt,rt,it,ot,st,at,lt,ct,ut,ht,pt,dt,ft,mt,gt,vt,yt,bt,_t,xt,wt,Et,St=1,Tt=Date.now,At=Tt(),Mt=0,Ct=0,Pt=function(t,e,n){var r=Ht(t)&&("clamp("===t.substr(0,6)||t.indexOf("max")>-1);return n["_"+e+"Clamp"]=r,r?t.substr(6,t.length-7):t},Dt=function(t,e){return!e||Ht(t)&&"clamp("===t.substr(0,6)?t:"clamp("+t+")"},Rt=function(){return Q=1},Ot=function(){return Q=0},It=function(t){return t},Lt=function(t){return Math.round(1e5*t)/1e5||0},kt=function(){return"undefined"!=typeof window},Ft=function(){return G||kt()&&(G=window.gsap)&&G.registerPlugin&&G},Nt=function(t){return!!~W.indexOf(t)},Bt=function(t){return("Height"===t?gt:H["inner"+t])||V["client"+t]||X["client"+t]},Ut=function(t){return S(t,"getBoundingClientRect")||(Nt(t)?function(){return Ge.width=H.innerWidth,Ge.height=gt,Ge}:function(){return Qt(t)})},Gt=function(t,e){var n=e.s,r=e.d2,i=e.d,o=e.a;return Math.max(0,(n="scroll"+r)&&(o=S(t,n))?o()-Ut(t)()[i]:Nt(t)?(V[n]||X[n])-Bt(r):t[n]-t["offset"+r])},zt=function(t,e){for(var n=0;n<it.length;n+=3)(!e||~e.indexOf(it[n+1]))&&t(it[n],it[n+1],it[n+2])},Ht=function(t){return"string"==typeof t},jt=function(t){return"function"==typeof t},Vt=function(t){return"number"==typeof t},Xt=function(t){return"object"==typeof t},Wt=function(t,e,n){return t&&t.progress(e?0:1)&&n&&t.pause()},qt=function(t,e){if(t.enabled){var n=t._ctx?t._ctx.add((function(){return e(t)})):e(t);n&&n.totalTime&&(t.callbackAnimation=n)}},Yt=Math.abs,$t="padding",Kt="px",Zt=function(t){return H.getComputedStyle(t)},Jt=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Qt=function(t,e){var n=e&&"matrix(1, 0, 0, 1, 0, 0)"!==Zt(t)[tt]&&G.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=t.getBoundingClientRect();return n&&n.progress(0).kill(),r},te=function(t,e){var n=e.d2;return t["offset"+n]||t["client"+n]||0},ee=function(t){var e,n=[],r=t.labels,i=t.duration();for(e in r)n.push(r[e]/i);return n},ne=function(t){var e=G.utils.snap(t),n=Array.isArray(t)&&t.slice(0).sort((function(t,e){return t-e}));return n?function(t,r,i){var o;if(void 0===i&&(i=.001),!r)return e(t);if(r>0){for(t-=i,o=0;o<n.length;o++)if(n[o]>=t)return n[o];return n[o-1]}for(o=n.length,t+=i;o--;)if(n[o]<=t)return n[o];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var o=e(n);return!r||Math.abs(o-n)<i||o-n<0==r<0?o:e(r<0?n-t:n+t)}},re=function(t,e,n,r){return n.split(",").forEach((function(n){return t(e,n,r)}))},ie=function(t,e,n,r,i){return t.addEventListener(e,n,{passive:!r,capture:!!i})},oe=function(t,e,n,r){return t.removeEventListener(e,n,!!r)},se=function(t,e,n){(n=n&&n.wheelHandler)&&(t(e,"wheel",n),t(e,"touchmove",n))},ae={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},le={toggleActions:"play",anticipatePin:0},ce={top:0,left:0,center:.5,bottom:1,right:1},ue=function(t,e){if(Ht(t)){var n=t.indexOf("="),r=~n?+(t.charAt(n-1)+1)*parseFloat(t.substr(n+1)):0;~n&&(t.indexOf("%")>n&&(r*=e/100),t=t.substr(0,n-1)),t=r+(t in ce?ce[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},he=function(t,e,n,r,i,o,s,a){var l=i.startColor,c=i.endColor,u=i.fontSize,h=i.indent,p=i.fontWeight,d=j.createElement("div"),f=Nt(n)||"fixed"===S(n,"pinType"),m=-1!==t.indexOf("scroller"),g=f?X:n,v=-1!==t.indexOf("start"),y=v?l:c,b="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+((m||a)&&f?"fixed;":"absolute;"),(m||a||!f)&&(b+=(r===R?"right":"bottom")+":"+(o+parseFloat(h))+"px;"),s&&(b+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),d._isStart=v,d.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),d.style.cssText=b,d.innerText=e||0===e?t+"-"+e:t,g.children[0]?g.insertBefore(d,g.children[0]):g.appendChild(d),d._offset=d["offset"+r.op.d2],pe(d,0,r,v),d},pe=function(t,e,n,r){var i={display:"block"},o=n[r?"os2":"p2"],s=n[r?"p2":"os2"];t._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+o+"Width"]=1,i["border"+s+"Width"]=0,i[n.p]=e+"px",G.set(t,i)},de=[],fe={},me=function(){return Tt()-Mt>34&&(_t||(_t=requestAnimationFrame(Ie)))},ge=function(){(!lt||!lt.isPressed||lt.startX>X.clientWidth)&&(_.cache++,lt?_t||(_t=requestAnimationFrame(Ie)):Ie(),Mt||we("scrollStart"),Mt=Tt())},ve=function(){ht=H.innerWidth,ut=H.innerHeight},ye=function(){_.cache++,!J&&!at&&!j.fullscreenElement&&!j.webkitFullscreenElement&&(!ct||ht!==H.innerWidth||Math.abs(H.innerHeight-ut)>.25*H.innerHeight)&&q.restart(!0)},be={},_e=[],xe=function t(){return oe(qe,"scrollEnd",t)||De(!0)},we=function(t){return be[t]&&be[t].map((function(t){return t()}))||_e},Ee=[],Se=function(t){for(var e=0;e<Ee.length;e+=5)(!t||Ee[e+4]&&Ee[e+4].query===t)&&(Ee[e].style.cssText=Ee[e+1],Ee[e].getBBox&&Ee[e].setAttribute("transform",Ee[e+2]||""),Ee[e+3].uncache=1)},Te=function(t,e){var n;for(et=0;et<de.length;et++)!(n=de[et])||e&&n._ctx!==e||(t?n.kill(1):n.revert(!0,!0));vt=!0,e&&Se(e),e||we("revert")},Ae=function(t,e){_.cache++,(e||!xt)&&_.forEach((function(t){return jt(t)&&t.cacheID++&&(t.rec=0)})),Ht(t)&&(H.history.scrollRestoration=ft=t)},Me=0,Ce=function(){X.appendChild(mt),gt=!lt&&mt.offsetHeight||H.innerHeight,X.removeChild(mt)},Pe=function(t){return Y(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach((function(e){return e.style.display=t?"none":"block"}))},De=function(t,e){if(!Mt||t){Ce(),xt=qe.isRefreshing=!0,_.forEach((function(t){return jt(t)&&++t.cacheID&&(t.rec=t())}));var n=we("refreshInit");ot&&qe.sort(),e||Te(),_.forEach((function(t){jt(t)&&(t.smooth&&(t.target.style.scrollBehavior="auto"),t(0))})),de.slice(0).forEach((function(t){return t.refresh()})),vt=!1,de.forEach((function(t){if(t._subPinOffset&&t.pin){var e=t.vars.horizontal?"offsetWidth":"offsetHeight",n=t.pin[e];t.revert(!0,1),t.adjustPinSpacing(t.pin[e]-n),t.refresh()}})),yt=1,Pe(!0),de.forEach((function(t){var e=Gt(t.scroller,t._dir),n="max"===t.vars.end||t._endClamp&&t.end>e,r=t._startClamp&&t.start>=e;(n||r)&&t.setPositions(r?e-1:t.start,n?Math.max(r?e:t.start+1,e):t.end,!0)})),Pe(!1),yt=0,n.forEach((function(t){return t&&t.render&&t.render(-1)})),_.forEach((function(t){jt(t)&&(t.smooth&&requestAnimationFrame((function(){return t.target.style.scrollBehavior="smooth"})),t.rec&&t(t.rec))})),Ae(ft,1),q.pause(),Me++,xt=2,Ie(2),de.forEach((function(t){return jt(t.vars.onRefresh)&&t.vars.onRefresh(t)})),xt=qe.isRefreshing=!1,we("refresh")}else ie(qe,"scrollEnd",xe)},Re=0,Oe=1,Ie=function(t){if(2===t||!xt&&!vt){qe.isUpdating=!0,Et&&Et.update(0);var e=de.length,n=Tt(),r=n-At>=50,i=e&&de[0].scroll();if(Oe=Re>i?-1:1,xt||(Re=i),r&&(Mt&&!Q&&n-Mt>200&&(Mt=0,we("scrollEnd")),K=At,At=n),Oe<0){for(et=e;et-- >0;)de[et]&&de[et].update(0,r);Oe=1}else for(et=0;et<e;et++)de[et]&&de[et].update(0,r);qe.isUpdating=!1}_t=0},Le=["left","top","bottom","right","marginBottom","marginRight","marginTop","marginLeft","display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],ke=Le.concat(["width","height","boxSizing","maxWidth","maxHeight","position","margin",$t,$t+"Top",$t+"Right",$t+"Bottom",$t+"Left"]),Fe=function(t,e,n,r){if(!t._gsap.swappedIn){for(var i,o=Le.length,s=e.style,a=t.style;o--;)s[i=Le[o]]=n[i];s.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(s.display="inline-block"),a.bottom=a.right="auto",s.flexBasis=n.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s.width=te(t,D)+Kt,s.height=te(t,R)+Kt,s[$t]=a.margin=a.top=a.left="0",Be(r),a.width=a.maxWidth=n.width,a.height=a.maxHeight=n.height,a[$t]=n[$t],t.parentNode!==e&&(t.parentNode.insertBefore(e,t),e.appendChild(t)),t._gsap.swappedIn=!0}},Ne=/([A-Z])/g,Be=function(t){if(t){var e,n,r=t.t.style,i=t.length,o=0;for((t.t._gsap||G.core.getCache(t.t)).uncache=1;o<i;o+=2)n=t[o+1],e=t[o],n?r[e]=n:r[e]&&r.removeProperty(e.replace(Ne,"-$1").toLowerCase())}},Ue=function(t){for(var e=ke.length,n=t.style,r=[],i=0;i<e;i++)r.push(ke[i],n[ke[i]]);return r.t=t,r},Ge={left:0,top:0},ze=function(t,e,n,r,i,o,s,a,l,c,u,h,p,d){jt(t)&&(t=t(a)),Ht(t)&&"max"===t.substr(0,3)&&(t=h+("="===t.charAt(4)?ue("0"+t.substr(3),n):0));var f,m,g,v=p?p.time():0;if(p&&p.seek(0),isNaN(t)||(t=+t),Vt(t))p&&(t=G.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,h,t)),s&&pe(s,n,r,!0);else{jt(e)&&(e=e(a));var y,b,_,x,w=(t||"0").split(" ");g=O(e,a)||X,(y=Qt(g)||{})&&(y.left||y.top)||"none"!==Zt(g).display||(x=g.style.display,g.style.display="block",y=Qt(g),x?g.style.display=x:g.style.removeProperty("display")),b=ue(w[0],y[r.d]),_=ue(w[1]||"0",n),t=y[r.p]-l[r.p]-c+b+i-_,s&&pe(s,_,r,n-_<20||s._isStart&&_>20),n-=n-_}if(d&&(a[d]=t||-.001,t<0&&(t=0)),o){var E=t+n,S=o._isStart;f="scroll"+r.d2,pe(o,E,r,S&&E>20||!S&&(u?Math.max(X[f],V[f]):o.parentNode[f])<=E+1),u&&(l=Qt(s),u&&(o.style[r.op.p]=l[r.op.p]-r.op.m-o._offset+Kt))}return p&&g&&(f=Qt(g),p.seek(h),m=Qt(g),p._caScrollDist=f[r.p]-m[r.p],t=t/p._caScrollDist*h),p&&p.seek(v),p?t:Math.round(t)},He=/(webkit|moz|length|cssText|inset)/i,je=function(t,e,n,r){if(t.parentNode!==e){var i,o,s=t.style;if(e===X){for(i in t._stOrig=s.cssText,o=Zt(t))+i||He.test(i)||!o[i]||"string"!=typeof s[i]||"0"===i||(s[i]=o[i]);s.top=n,s.left=r}else s.cssText=t._stOrig;G.core.getCache(t).uncache=1,e.appendChild(t)}},Ve=function(t,e,n){var r=e,i=r;return function(e){var o=Math.round(t());return o!==r&&o!==i&&Math.abs(o-r)>3&&Math.abs(o-i)>3&&(e=o,n&&n()),i=r,r=e,e}},Xe=function(t,e,n){var r={};r[e.p]="+="+n,G.set(t,r)},We=function(t,e){var n=I(t,e),r="_scroll"+e.p2,i=function e(i,o,s,a,l){var c=e.tween,u=o.onComplete,h={};s=s||n();var p=Ve(n,s,(function(){c.kill(),e.tween=0}));return l=a&&l||0,a=a||i-s,c&&c.kill(),o[r]=i,o.modifiers=h,h[r]=function(){return p(s+a*c.ratio+l*c.ratio*c.ratio)},o.onUpdate=function(){_.cache++,e.tween&&Ie()},o.onComplete=function(){e.tween=0,u&&u.call(c)},c=e.tween=G.to(t,o)};return t[r]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},ie(t,"wheel",n.wheelHandler),qe.isTouch&&ie(t,"touchmove",n.wheelHandler),i},qe=function(){function t(e,n){z||t.register(G)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),dt(this),this.init(e,n)}return t.prototype.init=function(e,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),Ct){var r,i,o,s,a,l,c,u,h,p,d,f,m,g,v,y,b,w,E,T,A,M,C,P,L,k,F,N,B,U,z,W,q,Z,tt,nt,rt,it,at,lt,ct,ut,ht=e=Jt(Ht(e)||Vt(e)||e.nodeType?{trigger:e}:e,le),pt=ht.onUpdate,dt=ht.toggleClass,ft=ht.id,mt=ht.onToggle,gt=ht.onRefresh,vt=ht.scrub,_t=ht.trigger,At=ht.pin,Rt=ht.pinSpacing,Ot=ht.invalidateOnRefresh,kt=ht.anticipatePin,Ft=ht.onScrubComplete,zt=ht.onSnapComplete,re=ht.once,se=ht.snap,ce=ht.pinReparent,pe=ht.pinSpacer,me=ht.containerAnimation,ve=ht.fastScrollEnd,be=ht.preventOverlaps,_e=e.horizontal||e.containerAnimation&&!1!==e.horizontal?D:R,we=!vt&&0!==vt,Ee=O(e.scroller||H),Se=G.core.getCache(Ee),Te=Nt(Ee),Ae="fixed"===("pinType"in e?e.pinType:S(Ee,"pinType")||Te&&"fixed"),Ce=[e.onEnter,e.onLeave,e.onEnterBack,e.onLeaveBack],Pe=we&&e.toggleActions.split(" "),Re="markers"in e?e.markers:le.markers,Ie=Te?0:parseFloat(Zt(Ee)["border"+_e.p2+"Width"])||0,Le=this,ke=e.onRefreshInit&&function(){return e.onRefreshInit(Le)},Ne=function(t,e,n){var r=n.d,i=n.d2,o=n.a;return(o=S(t,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(e?Bt(i):t["client"+i])||0}}(Ee,Te,_e),He=function(t,e){return!e||~x.indexOf(t)?Ut(t):function(){return Ge}}(Ee,Te),Ve=0,qe=0,Ye=0,$e=I(Ee,_e);if(Le._startClamp=Le._endClamp=!1,Le._dir=_e,kt*=45,Le.scroller=Ee,Le.scroll=me?me.time.bind(me):$e,s=$e(),Le.vars=e,n=n||e.animation,"refreshPriority"in e&&(ot=1,-9999===e.refreshPriority&&(Et=Le)),Se.tweenScroll=Se.tweenScroll||{top:We(Ee,R),left:We(Ee,D)},Le.tweenTo=r=Se.tweenScroll[_e.p],Le.scrubDuration=function(t){(q=Vt(t)&&t)?W?W.duration(t):W=G.to(n,{ease:"expo",totalProgress:"+=0",duration:q,paused:!0,onComplete:function(){return Ft&&Ft(Le)}}):(W&&W.progress(1).kill(),W=0)},n&&(n.vars.lazy=!1,n._initted&&!Le.isReverted||!1!==n.vars.immediateRender&&!1!==e.immediateRender&&n.duration()&&n.render(0,!0,!0),Le.animation=n.pause(),n.scrollTrigger=Le,Le.scrubDuration(vt),U=0,ft||(ft=n.vars.id)),se&&(Xt(se)&&!se.push||(se={snapTo:se}),"scrollBehavior"in X.style&&G.set(Te?[X,V]:Ee,{scrollBehavior:"auto"}),_.forEach((function(t){return jt(t)&&t.target===(Te?j.scrollingElement||V:Ee)&&(t.smooth=!1)})),o=jt(se.snapTo)?se.snapTo:"labels"===se.snapTo?function(t){return function(e){return G.utils.snap(ee(t),e)}}(n):"labelsDirectional"===se.snapTo?(lt=n,function(t,e){return ne(ee(lt))(t,e.direction)}):!1!==se.directional?function(t,e){return ne(se.snapTo)(t,Tt()-qe<500?0:e.direction)}:G.utils.snap(se.snapTo),Z=se.duration||{min:.1,max:2},Z=Xt(Z)?$(Z.min,Z.max):$(Z,Z),tt=G.delayedCall(se.delay||q/2||.1,(function(){var t=$e(),e=Tt()-qe<500,i=r.tween;if(!(e||Math.abs(Le.getVelocity())<10)||i||Q||Ve===t)Le.isActive&&Ve!==t&&tt.restart(!0);else{var s=(t-l)/g,a=n&&!we?n.totalProgress():s,u=e?0:(a-z)/(Tt()-K)*1e3||0,h=G.utils.clamp(-s,1-s,Yt(u/2)*u/.185),p=s+(!1===se.inertia?0:h),d=$(0,1,o(p,Le)),f=Math.round(l+d*g),m=se,v=m.onStart,y=m.onInterrupt,b=m.onComplete;if(t<=c&&t>=l&&f!==t){if(i&&!i._initted&&i.data<=Yt(f-t))return;!1===se.inertia&&(h=d-s),r(f,{duration:Z(Yt(.185*Math.max(Yt(p-a),Yt(d-a))/u/.05||0)),ease:se.ease||"power3",data:Yt(f-t),onInterrupt:function(){return tt.restart(!0)&&y&&y(Le)},onComplete:function(){Le.update(),Ve=$e(),W&&n&&n.progress(d),U=z=n&&!we?n.totalProgress():Le.progress,zt&&zt(Le),b&&b(Le)}},t,h*g,f-t-h*g),v&&v(Le,r.tween)}}})).pause()),ft&&(fe[ft]=Le),(at=(_t=Le.trigger=O(_t||!0!==At&&At))&&_t._gsap&&_t._gsap.stRevert)&&(at=at(Le)),At=!0===At?_t:O(At),Ht(dt)&&(dt={targets:_t,className:dt}),At&&(!1===Rt||"margin"===Rt||(Rt=!(!Rt&&At.parentNode&&At.parentNode.style&&"flex"===Zt(At.parentNode).display)&&$t),Le.pin=At,(i=G.core.getCache(At)).spacer?v=i.pinState:(pe&&((pe=O(pe))&&!pe.nodeType&&(pe=pe.current||pe.nativeElement),i.spacerIsNative=!!pe,pe&&(i.spacerState=Ue(pe))),i.spacer=w=pe||j.createElement("div"),w.classList.add("pin-spacer"),ft&&w.classList.add("pin-spacer-"+ft),i.pinState=v=Ue(At)),!1!==e.force3D&&G.set(At,{force3D:!0}),Le.spacer=w=i.spacer,B=Zt(At),P=B[Rt+_e.os2],T=G.getProperty(At),A=G.quickSetter(At,_e.a,Kt),Fe(At,w,B),b=Ue(At)),Re){f=Xt(Re)?Jt(Re,ae):ae,p=he("scroller-start",ft,Ee,_e,f,0),d=he("scroller-end",ft,Ee,_e,f,0,p),E=p["offset"+_e.op.d2];var Ke=O(S(Ee,"content")||Ee);u=this.markerStart=he("start",ft,Ke,_e,f,E,0,me),h=this.markerEnd=he("end",ft,Ke,_e,f,E,0,me),me&&(it=G.quickSetter([u,h],_e.a,Kt)),Ae||x.length&&!0===S(Ee,"fixedMarkers")||(ut=Zt(ct=Te?X:Ee).position,ct.style.position="absolute"===ut||"fixed"===ut?ut:"relative",G.set([p,d],{force3D:!0}),k=G.quickSetter(p,_e.a,Kt),N=G.quickSetter(d,_e.a,Kt))}if(me){var Ze=me.vars.onUpdate,Je=me.vars.onUpdateParams;me.eventCallback("onUpdate",(function(){Le.update(0,0,1),Ze&&Ze.apply(me,Je||[])}))}if(Le.previous=function(){return de[de.indexOf(Le)-1]},Le.next=function(){return de[de.indexOf(Le)+1]},Le.revert=function(t,e){if(!e)return Le.kill(!0);var r=!1!==t||!Le.enabled,i=J;r!==Le.isReverted&&(r&&(nt=Math.max($e(),Le.scroll.rec||0),Ye=Le.progress,rt=n&&n.progress()),u&&[u,h,p,d].forEach((function(t){return t.style.display=r?"none":"block"})),r&&(J=Le,Le.update(r)),!At||ce&&Le.isActive||(r?function(t,e,n){Be(n);var r=t._gsap;if(r.spacerIsNative)Be(r.spacerState);else if(t._gsap.swappedIn){var i=e.parentNode;i&&(i.insertBefore(t,e),i.removeChild(e))}t._gsap.swappedIn=!1}(At,w,v):Fe(At,w,Zt(At),L)),r||Le.update(r),J=i,Le.isReverted=r)},Le.refresh=function(i,o,f,_){if(!J&&Le.enabled||o)if(At&&i&&Mt)ie(t,"scrollEnd",xe);else{!xt&&ke&&ke(Le),J=Le,r.tween&&!f&&(r.tween.kill(),r.tween=0),W&&W.pause(),Ot&&n&&n.revert({kill:!1}).invalidate(),Le.isReverted||Le.revert(!0,!0),Le._subPinOffset=!1;var x,E,S,A,P,k,N,B,U,z,H,q,Y,$=Ne(),K=He(),Z=me?me.duration():Gt(Ee,_e),Q=g<=.01,et=0,it=_||0,ot=Xt(f)?f.end:e.end,at=e.endTrigger||_t,lt=Xt(f)?f.start:e.start||(0!==e.start&&_t?At?"0 0":"0 100%":0),ct=Le.pinnedContainer=e.pinnedContainer&&O(e.pinnedContainer,Le),ut=_t&&Math.max(0,de.indexOf(Le))||0,ht=ut;for(Re&&Xt(f)&&(q=G.getProperty(p,_e.p),Y=G.getProperty(d,_e.p));ht--;)(k=de[ht]).end||k.refresh(0,1)||(J=Le),!(N=k.pin)||N!==_t&&N!==At&&N!==ct||k.isReverted||(z||(z=[]),z.unshift(k),k.revert(!0,!0)),k!==de[ht]&&(ut--,ht--);for(jt(lt)&&(lt=lt(Le)),lt=Pt(lt,"start",Le),l=ze(lt,_t,$,_e,$e(),u,p,Le,K,Ie,Ae,Z,me,Le._startClamp&&"_startClamp")||(At?-.001:0),jt(ot)&&(ot=ot(Le)),Ht(ot)&&!ot.indexOf("+=")&&(~ot.indexOf(" ")?ot=(Ht(lt)?lt.split(" ")[0]:"")+ot:(et=ue(ot.substr(2),$),ot=Ht(lt)?lt:(me?G.utils.mapRange(0,me.duration(),me.scrollTrigger.start,me.scrollTrigger.end,l):l)+et,at=_t)),ot=Pt(ot,"end",Le),c=Math.max(l,ze(ot||(at?"100% 0":Z),at,$,_e,$e()+et,h,d,Le,K,Ie,Ae,Z,me,Le._endClamp&&"_endClamp"))||-.001,et=0,ht=ut;ht--;)(N=(k=de[ht]).pin)&&k.start-k._pinPush<=l&&!me&&k.end>0&&(x=k.end-(Le._startClamp?Math.max(0,k.start):k.start),(N===_t&&k.start-k._pinPush<l||N===ct)&&isNaN(lt)&&(et+=x*(1-k.progress)),N===At&&(it+=x));if(l+=et,c+=et,Le._startClamp&&(Le._startClamp+=et),Le._endClamp&&!xt&&(Le._endClamp=c||-.001,c=Math.min(c,Gt(Ee,_e))),g=c-l||(l-=.01)&&.001,Q&&(Ye=G.utils.clamp(0,1,G.utils.normalize(l,c,nt))),Le._pinPush=it,u&&et&&((x={})[_e.a]="+="+et,ct&&(x[_e.p]="-="+$e()),G.set([u,h],x)),!At||yt&&Le.end>=Gt(Ee,_e)){if(_t&&$e()&&!me)for(E=_t.parentNode;E&&E!==X;)E._pinOffset&&(l-=E._pinOffset,c-=E._pinOffset),E=E.parentNode}else x=Zt(At),A=_e===R,S=$e(),M=parseFloat(T(_e.a))+it,!Z&&c>1&&(H={style:H=(Te?j.scrollingElement||V:Ee).style,value:H["overflow"+_e.a.toUpperCase()]},Te&&"scroll"!==Zt(X)["overflow"+_e.a.toUpperCase()]&&(H.style["overflow"+_e.a.toUpperCase()]="scroll")),Fe(At,w,x),b=Ue(At),E=Qt(At,!0),B=Ae&&I(Ee,A?D:R)(),Rt&&((L=[Rt+_e.os2,g+it+Kt]).t=w,(ht=Rt===$t?te(At,_e)+g+it:0)&&(L.push(_e.d,ht+Kt),"auto"!==w.style.flexBasis&&(w.style.flexBasis=ht+Kt)),Be(L),ct&&de.forEach((function(t){t.pin===ct&&!1!==t.vars.pinSpacing&&(t._subPinOffset=!0)})),Ae&&$e(nt)),Ae&&((P={top:E.top+(A?S-l:B)+Kt,left:E.left+(A?B:S-l)+Kt,boxSizing:"border-box",position:"fixed"}).width=P.maxWidth=Math.ceil(E.width)+Kt,P.height=P.maxHeight=Math.ceil(E.height)+Kt,P.margin=P.marginTop=P.marginRight=P.marginBottom=P.marginLeft="0",P[$t]=x[$t],P[$t+"Top"]=x[$t+"Top"],P[$t+"Right"]=x[$t+"Right"],P[$t+"Bottom"]=x[$t+"Bottom"],P[$t+"Left"]=x[$t+"Left"],y=function(t,e,n){for(var r,i=[],o=t.length,s=n?8:0;s<o;s+=2)r=t[s],i.push(r,r in e?e[r]:t[s+1]);return i.t=t.t,i}(v,P,ce),xt&&$e(0)),n?(U=n._initted,st(1),n.render(n.duration(),!0,!0),C=T(_e.a)-M+g+it,F=Math.abs(g-C)>1,Ae&&F&&y.splice(y.length-2,2),n.render(0,!0,!0),U||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),st(0)):C=g,H&&(H.value?H.style["overflow"+_e.a.toUpperCase()]=H.value:H.style.removeProperty("overflow-"+_e.a));z&&z.forEach((function(t){return t.revert(!1,!0)})),Le.start=l,Le.end=c,s=a=xt?nt:$e(),me||xt||(s<nt&&$e(nt),Le.scroll.rec=0),Le.revert(!1,!0),qe=Tt(),tt&&(Ve=-1,tt.restart(!0)),J=0,n&&we&&(n._initted||rt)&&n.progress()!==rt&&n.progress(rt||0,!0).render(n.time(),!0,!0),(Q||Ye!==Le.progress||me)&&(n&&!we&&n.totalProgress(me&&l<-.001&&!Ye?G.utils.normalize(l,c,0):Ye,!0),Le.progress=Q||(s-l)/g===Ye?0:Ye),At&&Rt&&(w._pinOffset=Math.round(Le.progress*C)),W&&W.invalidate(),isNaN(q)||(q-=G.getProperty(p,_e.p),Y-=G.getProperty(d,_e.p),Xe(p,_e,q),Xe(u,_e,q-(_||0)),Xe(d,_e,Y),Xe(h,_e,Y-(_||0))),Q&&!xt&&Le.update(),!gt||xt||m||(m=!0,gt(Le),m=!1)}},Le.getVelocity=function(){return($e()-a)/(Tt()-K)*1e3||0},Le.endAnimation=function(){Wt(Le.callbackAnimation),n&&(W?W.progress(1):n.paused()?we||Wt(n,Le.direction<0,1):Wt(n,n.reversed()))},Le.labelToScroll=function(t){return n&&n.labels&&(l||Le.refresh()||l)+n.labels[t]/n.duration()*g||0},Le.getTrailing=function(t){var e=de.indexOf(Le),n=Le.direction>0?de.slice(0,e).reverse():de.slice(e+1);return(Ht(t)?n.filter((function(e){return e.vars.preventOverlaps===t})):n).filter((function(t){return Le.direction>0?t.end<=l:t.start>=c}))},Le.update=function(t,e,i){if(!me||i||t){var o,u,h,d,f,m,v,_=!0===xt?nt:Le.scroll(),x=t?0:(_-l)/g,E=x<0?0:x>1?1:x||0,S=Le.progress;if(e&&(a=s,s=me?$e():_,se&&(z=U,U=n&&!we?n.totalProgress():E)),kt&&!E&&At&&!J&&!St&&Mt&&l<_+(_-a)/(Tt()-K)*kt&&(E=1e-4),E!==S&&Le.enabled){if(d=(f=(o=Le.isActive=!!E&&E<1)!==(!!S&&S<1))||!!E!=!!S,Le.direction=E>S?1:-1,Le.progress=E,d&&!J&&(u=E&&!S?0:1===E?1:1===S?2:3,we&&(h=!f&&"none"!==Pe[u+1]&&Pe[u+1]||Pe[u],v=n&&("complete"===h||"reset"===h||h in n))),be&&(f||v)&&(v||vt||!n)&&(jt(be)?be(Le):Le.getTrailing(be).forEach((function(t){return t.endAnimation()}))),we||(!W||J||St?n&&n.totalProgress(E,!(!J||!qe&&!t)):(W._dp._time-W._start!==W._time&&W.render(W._dp._time-W._start),W.resetTo?W.resetTo("totalProgress",E,n._tTime/n._tDur):(W.vars.totalProgress=E,W.invalidate().restart()))),At)if(t&&Rt&&(w.style[Rt+_e.os2]=P),Ae){if(d){if(m=!t&&E>S&&c+1>_&&_+1>=Gt(Ee,_e),ce)if(t||!o&&!m)je(At,w);else{var T=Qt(At,!0),D=_-l;je(At,X,T.top+(_e===R?D:0)+Kt,T.left+(_e===R?0:D)+Kt)}Be(o||m?y:b),F&&E<1&&o||A(M+(1!==E||m?0:C))}}else A(Lt(M+C*E));se&&!r.tween&&!J&&!St&&tt.restart(!0),dt&&(f||re&&E&&(E<1||!bt))&&Y(dt.targets).forEach((function(t){return t.classList[o||re?"add":"remove"](dt.className)})),pt&&!we&&!t&&pt(Le),d&&!J?(we&&(v&&("complete"===h?n.pause().totalProgress(1):"reset"===h?n.restart(!0).pause():"restart"===h?n.restart(!0):n[h]()),pt&&pt(Le)),!f&&bt||(mt&&f&&qt(Le,mt),Ce[u]&&qt(Le,Ce[u]),re&&(1===E?Le.kill(!1,1):Ce[u]=0),f||Ce[u=1===E?1:3]&&qt(Le,Ce[u])),ve&&!o&&Math.abs(Le.getVelocity())>(Vt(ve)?ve:2500)&&(Wt(Le.callbackAnimation),W?W.progress(1):Wt(n,"reverse"===h?1:!E,1))):we&&pt&&!J&&pt(Le)}if(N){var O=me?_/me.duration()*(me._caScrollDist||0):_;k(O+(p._isFlipped?1:0)),N(O)}it&&it(-_/me.duration()*(me._caScrollDist||0))}},Le.enable=function(e,n){Le.enabled||(Le.enabled=!0,ie(Ee,"resize",ye),Te||ie(Ee,"scroll",ge),ke&&ie(t,"refreshInit",ke),!1!==e&&(Le.progress=Ye=0,s=a=Ve=$e()),!1!==n&&Le.refresh())},Le.getTween=function(t){return t&&r?r.tween:W},Le.setPositions=function(t,e,n,r){if(me){var i=me.scrollTrigger,o=me.duration(),s=i.end-i.start;t=i.start+s*t/o,e=i.start+s*e/o}Le.refresh(!1,!1,{start:Dt(t,n&&!!Le._startClamp),end:Dt(e,n&&!!Le._endClamp)},r),Le.update()},Le.adjustPinSpacing=function(t){if(L&&t){var e=L.indexOf(_e.d)+1;L[e]=parseFloat(L[e])+t+Kt,L[1]=parseFloat(L[1])+t+Kt,Be(L)}},Le.disable=function(e,n){if(Le.enabled&&(!1!==e&&Le.revert(!0,!0),Le.enabled=Le.isActive=!1,n||W&&W.pause(),nt=0,i&&(i.uncache=1),ke&&oe(t,"refreshInit",ke),tt&&(tt.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!Te)){for(var o=de.length;o--;)if(de[o].scroller===Ee&&de[o]!==Le)return;oe(Ee,"resize",ye),Te||oe(Ee,"scroll",ge)}},Le.kill=function(t,r){Le.disable(t,r),W&&!r&&W.kill(),ft&&delete fe[ft];var o=de.indexOf(Le);o>=0&&de.splice(o,1),o===et&&Oe>0&&et--,o=0,de.forEach((function(t){return t.scroller===Le.scroller&&(o=1)})),o||xt||(Le.scroll.rec=0),n&&(n.scrollTrigger=null,t&&n.revert({kill:!1}),r||n.kill()),u&&[u,h,p,d].forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),Et===Le&&(Et=0),At&&(i&&(i.uncache=1),o=0,de.forEach((function(t){return t.pin===At&&o++})),o||(i.spacer=0)),e.onKill&&e.onKill(Le)},de.push(Le),Le.enable(!1,!1),at&&at(Le),n&&n.add&&!g){var Qe=Le.update;Le.update=function(){Le.update=Qe,l||c||Le.refresh()},G.delayedCall(.01,Le.update),g=.01,l=c=0}else Le.refresh();At&&function(){if(wt!==Me){var t=wt=Me;requestAnimationFrame((function(){return t===Me&&De(!0)}))}}()}else this.update=this.refresh=this.kill=It},t.register=function(e){return z||(G=e||Ft(),kt()&&window.document&&t.enable(),z=Ct),z},t.defaults=function(t){if(t)for(var e in t)le[e]=t[e];return le},t.disable=function(t,e){Ct=0,de.forEach((function(n){return n[e?"kill":"disable"](t)})),oe(H,"wheel",ge),oe(j,"scroll",ge),clearInterval(Z),oe(j,"touchcancel",It),oe(X,"touchstart",It),re(oe,j,"pointerdown,touchstart,mousedown",Rt),re(oe,j,"pointerup,touchend,mouseup",Ot),q.kill(),zt(oe);for(var n=0;n<_.length;n+=3)se(oe,_[n],_[n+1]),se(oe,_[n],_[n+2])},t.enable=function(){if(H=window,j=document,V=j.documentElement,X=j.body,G&&(Y=G.utils.toArray,$=G.utils.clamp,dt=G.core.context||It,st=G.core.suppressOverwrites||It,ft=H.history.scrollRestoration||"auto",Re=H.pageYOffset,G.core.globals("ScrollTrigger",t),X)){Ct=1,(mt=document.createElement("div")).style.height="100vh",mt.style.position="absolute",Ce(),function t(){return Ct&&requestAnimationFrame(t)}(),U.register(G),t.isTouch=U.isTouch,pt=U.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ie(H,"wheel",ge),W=[H,j,V,X],G.matchMedia?(t.matchMedia=function(t){var e,n=G.matchMedia();for(e in t)n.add(e,t[e]);return n},G.addEventListener("matchMediaInit",(function(){return Te()})),G.addEventListener("matchMediaRevert",(function(){return Se()})),G.addEventListener("matchMedia",(function(){De(0,1),we("matchMedia")})),G.matchMedia("(orientation: portrait)",(function(){return ve(),ve}))):console.warn("Requires GSAP 3.11.0 or later"),ve(),ie(j,"scroll",ge);var e,n,r=X.style,i=r.borderTopStyle,o=G.core.Animation.prototype;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",e=Qt(X),R.m=Math.round(e.top+R.sc())||0,D.m=Math.round(e.left+D.sc())||0,i?r.borderTopStyle=i:r.removeProperty("border-top-style"),Z=setInterval(me,250),G.delayedCall(.5,(function(){return St=0})),ie(j,"touchcancel",It),ie(X,"touchstart",It),re(ie,j,"pointerdown,touchstart,mousedown",Rt),re(ie,j,"pointerup,touchend,mouseup",Ot),tt=G.utils.checkPrefix("transform"),ke.push(tt),z=Tt(),q=G.delayedCall(.2,De).pause(),it=[j,"visibilitychange",function(){var t=H.innerWidth,e=H.innerHeight;j.hidden?(nt=t,rt=e):nt===t&&rt===e||ye()},j,"DOMContentLoaded",De,H,"load",De,H,"resize",ye],zt(ie),de.forEach((function(t){return t.enable(0,1)})),n=0;n<_.length;n+=3)se(oe,_[n],_[n+1]),se(oe,_[n],_[n+2])}},t.config=function(e){"limitCallbacks"in e&&(bt=!!e.limitCallbacks);var n=e.syncInterval;n&&clearInterval(Z)||(Z=n)&&setInterval(me,n),"ignoreMobileResize"in e&&(ct=1===t.isTouch&&e.ignoreMobileResize),"autoRefreshEvents"in e&&(zt(oe)||zt(ie,e.autoRefreshEvents||"none"),at=-1===(e.autoRefreshEvents+"").indexOf("resize"))},t.scrollerProxy=function(t,e){var n=O(t),r=_.indexOf(n),i=Nt(n);~r&&_.splice(r,i?6:2),e&&(i?x.unshift(H,e,X,e,V,e):x.unshift(n,e))},t.clearMatchMedia=function(t){de.forEach((function(e){return e._ctx&&e._ctx.query===t&&e._ctx.kill(!0,!0)}))},t.isInViewport=function(t,e,n){var r=(Ht(t)?O(t):t).getBoundingClientRect(),i=r[n?"width":"height"]*e||0;return n?r.right-i>0&&r.left+i<H.innerWidth:r.bottom-i>0&&r.top+i<H.innerHeight},t.positionInViewport=function(t,e,n){Ht(t)&&(t=O(t));var r=t.getBoundingClientRect(),i=r[n?"width":"height"],o=null==e?i/2:e in ce?ce[e]*i:~e.indexOf("%")?parseFloat(e)*i/100:parseFloat(e)||0;return n?(r.left+o)/H.innerWidth:(r.top+o)/H.innerHeight},t.killAll=function(t){if(de.slice(0).forEach((function(t){return"ScrollSmoother"!==t.vars.id&&t.kill()})),!0!==t){var e=be.killAll||[];be={},e.forEach((function(t){return t()}))}},t}();qe.version="3.12.3",qe.saveStyles=function(t){return t?Y(t).forEach((function(t){if(t&&t.style){var e=Ee.indexOf(t);e>=0&&Ee.splice(e,5),Ee.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),G.core.getCache(t),dt())}})):Ee},qe.revert=function(t,e){return Te(!t,e)},qe.create=function(t,e){return new qe(t,e)},qe.refresh=function(t){return t?ye():(z||qe.register())&&De(!0)},qe.update=function(t){return++_.cache&&Ie(!0===t?2:0)},qe.clearScrollMemory=Ae,qe.maxScroll=function(t,e){return Gt(t,e?D:R)},qe.getScrollFunc=function(t,e){return I(O(t),e?D:R)},qe.getById=function(t){return fe[t]},qe.getAll=function(){return de.filter((function(t){return"ScrollSmoother"!==t.vars.id}))},qe.isScrolling=function(){return!!Mt},qe.snapDirectional=ne,qe.addEventListener=function(t,e){var n=be[t]||(be[t]=[]);~n.indexOf(e)||n.push(e)},qe.removeEventListener=function(t,e){var n=be[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},qe.batch=function(t,e){var n,r=[],i={},o=e.interval||.016,s=e.batchMax||1e9,a=function(t,e){var n=[],r=[],i=G.delayedCall(o,(function(){e(n,r),n=[],r=[]})).pause();return function(t){n.length||i.restart(!0),n.push(t.trigger),r.push(t),s<=n.length&&i.progress(1)}};for(n in e)i[n]="on"===n.substr(0,2)&&jt(e[n])&&"onRefreshInit"!==n?a(0,e[n]):e[n];return jt(s)&&(s=s(),ie(qe,"refresh",(function(){return s=e.batchMax()}))),Y(t).forEach((function(t){var e={};for(n in i)e[n]=i[n];e.trigger=t,r.push(qe.create(e))})),r};var Ye,$e=function(t,e,n,r){return e>r?t(r):e<0&&t(0),n>r?(r-e)/(n-e):n<0?e/(e-n):1},Ke=function t(e,n){!0===n?e.style.removeProperty("touch-action"):e.style.touchAction=!0===n?"auto":n?"pan-"+n+(U.isTouch?" pinch-zoom":""):"none",e===V&&t(X,n)},Ze={auto:1,scroll:1},Je=function(t){var e,n=t.event,r=t.target,i=t.axis,o=(n.changedTouches?n.changedTouches[0]:n).target,s=o._gsap||G.core.getCache(o),a=Tt();if(!s._isScrollT||a-s._isScrollT>2e3){for(;o&&o!==X&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!Ze[(e=Zt(o)).overflowY]&&!Ze[e.overflowX]);)o=o.parentNode;s._isScroll=o&&o!==r&&!Nt(o)&&(Ze[(e=Zt(o)).overflowY]||Ze[e.overflowX]),s._isScrollT=a}(s._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},Qe=function(t,e,n,r){return U.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:r=r&&Je,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&ie(j,U.eventTypes[0],en,!1,!0)},onDisable:function(){return oe(j,U.eventTypes[0],en,!0)}})},tn=/(input|label|select|textarea)/i,en=function(t){var e=tn.test(t.target.tagName);(e||Ye)&&(t._gsapAllow=!0,Ye=e)},nn=function(t){Xt(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var e,n,r,i,o,s,a,l,c=t,u=c.normalizeScrollX,h=c.momentum,p=c.allowNestedScroll,d=c.onRelease,f=O(t.target)||V,m=G.core.globals().ScrollSmoother,g=m&&m.get(),v=pt&&(t.content&&O(t.content)||g&&!1!==t.content&&!g.smooth()&&g.content()),y=I(f,R),b=I(f,D),x=1,w=(U.isTouch&&H.visualViewport?H.visualViewport.scale*H.visualViewport.width:H.outerWidth)/H.innerWidth,E=0,S=jt(h)?function(){return h(e)}:function(){return h||2.8},T=Qe(f,t.type,!0,p),A=function(){return i=!1},M=It,C=It,P=function(){n=Gt(f,R),C=$(pt?1:0,n),u&&(M=$(0,Gt(f,D))),r=Me},L=function(){v._gsap.y=Lt(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},k=function(){P(),o.isActive()&&o.vars.scrollY>n&&(y()>n?o.progress(1)&&y(n):o.resetTo("scrollY",n))};return v&&G.set(v,{y:"+=0"}),t.ignoreCheck=function(t){return pt&&"touchmove"===t.type&&function(){if(i){requestAnimationFrame(A);var t=Lt(e.deltaY/2),n=C(y.v-t);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var r=Lt((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",v._gsap.y=r+"px",y.cacheID=_.cache,Ie()}return!0}y.offset&&L(),i=!0}()||x>1.05&&"touchstart"!==t.type||e.isGesturing||t.touches&&t.touches.length>1},t.onPress=function(){i=!1;var t=x;x=Lt((H.visualViewport&&H.visualViewport.scale||1)/w),o.pause(),t!==x&&Ke(f,x>1.01||!u&&"x"),s=b(),a=y(),P(),r=Me},t.onRelease=t.onGestureStart=function(t,e){if(y.offset&&L(),e){_.cache++;var r,i,s=S();u&&(i=(r=b())+.05*s*-t.velocityX/.227,s*=$e(b,r,i,Gt(f,D)),o.vars.scrollX=M(i)),i=(r=y())+.05*s*-t.velocityY/.227,s*=$e(y,r,i,Gt(f,R)),o.vars.scrollY=C(i),o.invalidate().duration(s).play(.01),(pt&&o.vars.scrollY>=n||r>=n-1)&&G.to({},{onUpdate:k,duration:s})}else l.restart(!0);d&&d(t)},t.onWheel=function(){o._ts&&o.pause(),Tt()-E>1e3&&(r=0,E=Tt())},t.onChange=function(t,e,n,i,o){if(Me!==r&&P(),e&&u&&b(M(i[2]===e?s+(t.startX-t.x):b()+e-i[1])),n){y.offset&&L();var l=o[2]===n,c=l?a+t.startY-t.y:y()+n-o[1],h=C(c);l&&c!==h&&(a+=h-c),y(h)}(n||e)&&Ie()},t.onEnable=function(){Ke(f,!u&&"x"),qe.addEventListener("refresh",k),ie(H,"resize",k),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=b.smooth=!1),T.enable()},t.onDisable=function(){Ke(f,!0),oe(H,"resize",k),qe.removeEventListener("refresh",k),T.kill()},t.lockAxis=!1!==t.lockAxis,(e=new U(t)).iOS=pt,pt&&!y()&&y(1),pt&&G.ticker.add(It),l=e._dc,o=G.to(e,{ease:"power4",paused:!0,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Ve(y,y(),(function(){return o.pause()}))},onUpdate:Ie,onComplete:l.vars.onComplete}),e};qe.sort=function(t){return de.sort(t||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},qe.observe=function(t){return new U(t)},qe.normalizeScroll=function(t){if(void 0===t)return lt;if(!0===t&&lt)return lt.enable();if(!1===t)return lt&&lt.kill(),void(lt=t);var e=t instanceof U?t:nn(t);return lt&&lt.target===e.target&&lt.kill(),Nt(e.target)&&(lt=e),e},qe.core={_getVelocityProp:L,_inputObserver:Qe,_scrollers:_,_proxies:x,bridge:{ss:function(){Mt||we("scrollStart"),Mt=Tt()},ref:function(){return J}}},Ft()&&G.registerPlugin(qe)},I1BE:function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(s=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),o=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[n].concat(o).concat([i]).join("\n")}var s;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},JxQ3:function(t,e,n){(function(e){var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,s=r&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&l&&"function"==typeof l.get?l.get:null,u=a&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,x=String.prototype.toLowerCase,w=RegExp.prototype.test,E=Array.prototype.concat,S=Array.prototype.join,T=Array.prototype.slice,A=Math.floor,M="function"==typeof BigInt?BigInt.prototype.valueOf:null,C=Object.getOwnPropertySymbols,P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,D="function"==typeof Symbol&&"object"==typeof Symbol.iterator,R="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===D||"symbol")?Symbol.toStringTag:null,O=Object.prototype.propertyIsEnumerable,I=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function L(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||w.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var r=t<0?-A(-t):A(t);if(r!==t){var i=String(r),o=y.call(e,i.length+1);return b.call(i,n,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(e,n,"$&_")}var k=n(1),F=k.custom,N=H(F)?F:null;function B(t,e,n){var r="double"===(n.quoteStyle||e)?'"':"'";return r+t+r}function U(t){return b.call(String(t),/"/g,"&quot;")}function G(t){return!("[object Array]"!==X(t)||R&&"object"==typeof t&&R in t)}function z(t){return!("[object RegExp]"!==X(t)||R&&"object"==typeof t&&R in t)}function H(t){if(D)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!P)return!1;try{return P.call(t),!0}catch(t){}return!1}t.exports=function t(n,r,i,a){var l=r||{};if(V(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var m=!V(l,"customInspect")||l.customInspect;if("boolean"!=typeof m&&"symbol"!==m)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=l.numericSeparator;if(void 0===n)return"undefined";if(null===n)return"null";if("boolean"==typeof n)return n?"true":"false";if("string"==typeof n)return function t(e,n){if(e.length>n.maxStringLength){var r=e.length-n.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return t(y.call(e,0,n.maxStringLength),n)+i}return B(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,q),"single",n)}(n,l);if("number"==typeof n){if(0===n)return 1/0/n>0?"0":"-0";var w=String(n);return _?L(n,w):w}if("bigint"==typeof n){var A=String(n)+"n";return _?L(n,A):A}var C=void 0===l.depth?5:l.depth;if(void 0===i&&(i=0),i>=C&&C>0&&"object"==typeof n)return G(n)?"[Array]":"[Object]";var F=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;n=S.call(Array(t.indent+1)," ")}return{base:n,prev:S.call(Array(e+1),n)}}(l,i);if(void 0===a)a=[];else if(W(a,n)>=0)return"[Circular]";function j(e,n,r){if(n&&(a=T.call(a)).push(n),r){var o={depth:l.depth};return V(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),t(e,o,i+1,a)}return t(e,l,i+1,a)}if("function"==typeof n&&!z(n)){var Q=function(t){if(t.name)return t.name;var e=v.call(g.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(n),tt=J(n,j);return"[Function"+(Q?": "+Q:" (anonymous)")+"]"+(tt.length>0?" { "+S.call(tt,", ")+" }":"")}if(H(n)){var et=D?b.call(String(n),/^(Symbol\(.*\))_[^)]*$/,"$1"):P.call(n);return"object"!=typeof n||D?et:Y(et)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(n)){for(var nt="<"+x.call(String(n.nodeName)),rt=n.attributes||[],it=0;it<rt.length;it++)nt+=" "+rt[it].name+"="+B(U(rt[it].value),"double",l);return nt+=">",n.childNodes&&n.childNodes.length&&(nt+="..."),nt+="</"+x.call(String(n.nodeName))+">"}if(G(n)){if(0===n.length)return"[]";var ot=J(n,j);return F&&!function(t){for(var e=0;e<t.length;e++)if(W(t[e],"\n")>=0)return!1;return!0}(ot)?"["+Z(ot,F)+"]":"[ "+S.call(ot,", ")+" ]"}if(function(t){return!("[object Error]"!==X(t)||R&&"object"==typeof t&&R in t)}(n)){var st=J(n,j);return"cause"in Error.prototype||!("cause"in n)||O.call(n,"cause")?0===st.length?"["+String(n)+"]":"{ ["+String(n)+"] "+S.call(st,", ")+" }":"{ ["+String(n)+"] "+S.call(E.call("[cause]: "+j(n.cause),st),", ")+" }"}if("object"==typeof n&&m){if(N&&"function"==typeof n[N]&&k)return k(n,{depth:C-i});if("symbol"!==m&&"function"==typeof n.inspect)return n.inspect()}if(function(t){if(!o||!t||"object"!=typeof t)return!1;try{o.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(n)){var at=[];return s&&s.call(n,(function(t,e){at.push(j(e,n,!0)+" => "+j(t,n))})),K("Map",o.call(n),at,F)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{o.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(n)){var lt=[];return u&&u.call(n,(function(t){lt.push(j(t,n))})),K("Set",c.call(n),lt,F)}if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{p.call(t,p)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(n))return $("WeakMap");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{p.call(t,p);try{h.call(t,h)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(n))return $("WeakSet");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{return d.call(t),!0}catch(t){}return!1}(n))return $("WeakRef");if(function(t){return!("[object Number]"!==X(t)||R&&"object"==typeof t&&R in t)}(n))return Y(j(Number(n)));if(function(t){if(!t||"object"!=typeof t||!M)return!1;try{return M.call(t),!0}catch(t){}return!1}(n))return Y(j(M.call(n)));if(function(t){return!("[object Boolean]"!==X(t)||R&&"object"==typeof t&&R in t)}(n))return Y(f.call(n));if(function(t){return!("[object String]"!==X(t)||R&&"object"==typeof t&&R in t)}(n))return Y(j(String(n)));if("undefined"!=typeof window&&n===window)return"{ [object Window] }";if(n===e)return"{ [object globalThis] }";if(!function(t){return!("[object Date]"!==X(t)||R&&"object"==typeof t&&R in t)}(n)&&!z(n)){var ct=J(n,j),ut=I?I(n)===Object.prototype:n instanceof Object||n.constructor===Object,ht=n instanceof Object?"":"null prototype",pt=!ut&&R&&Object(n)===n&&R in n?y.call(X(n),8,-1):ht?"Object":"",dt=(ut||"function"!=typeof n.constructor?"":n.constructor.name?n.constructor.name+" ":"")+(pt||ht?"["+S.call(E.call([],pt||[],ht||[]),": ")+"] ":"");return 0===ct.length?dt+"{}":F?dt+"{"+Z(ct,F)+"}":dt+"{ "+S.call(ct,", ")+" }"}return String(n)};var j=Object.prototype.hasOwnProperty||function(t){return t in this};function V(t,e){return j.call(t,e)}function X(t){return m.call(t)}function W(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function q(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+_.call(e.toString(16))}function Y(t){return"Object("+t+")"}function $(t){return t+" { ? }"}function K(t,e,n,r){return t+" ("+e+") {"+(r?Z(n,r):S.call(n,", "))+"}"}function Z(t,e){if(0===t.length)return"";var n="\n"+e.prev+e.base;return n+S.call(t,","+n)+"\n"+e.prev}function J(t,e){var n=G(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=V(t,i)?e(t[i],t):""}var o,s="function"==typeof C?C(t):[];if(D){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)V(t,l)&&(n&&String(Number(l))===l&&l<t.length||D&&o["$"+l]instanceof Symbol||(w.call(/[^\w$]/,l)?r.push(e(l,t)+": "+e(t[l],t)):r.push(l+": "+e(t[l],t))));if("function"==typeof C)for(var c=0;c<s.length;c++)O.call(t,s[c])&&r.push("["+e(s[c])+"]: "+e(t[s[c]],t));return r}}).call(this,n("yLpj"))},Kqna:function(t,e,n){"use strict";var r=n("AM7I")("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(t){r=null}t.exports=r},LvDl:function(t,e,n){(function(t,r){var i;(function(){var o="Expected a function",s="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],l="[object Arguments]",c="[object Array]",u="[object Boolean]",h="[object Date]",p="[object Error]",d="[object Function]",f="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Object]",y="[object RegExp]",b="[object Set]",_="[object String]",x="[object Symbol]",w="[object WeakMap]",E="[object ArrayBuffer]",S="[object DataView]",T="[object Float32Array]",A="[object Float64Array]",M="[object Int8Array]",C="[object Int16Array]",P="[object Int32Array]",D="[object Uint8Array]",R="[object Uint16Array]",O="[object Uint32Array]",I=/\b__p \+= '';/g,L=/\b(__p \+=) '' \+/g,k=/(__e\(.*?\)|\b__t\)) \+\n'';/g,F=/&(?:amp|lt|gt|quot|#39);/g,N=/[&<>"']/g,B=RegExp(F.source),U=RegExp(N.source),G=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W=/[\\^$.*+?()[\]{}|]/g,q=RegExp(W.source),Y=/^\s+/,$=/\s/,K=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Z=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/[()=,{}\[\]\/\s]/,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,st=/^\[object .+?Constructor\]$/,at=/^0o[0-7]+$/i,lt=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ut=/($^)/,ht=/['\n\r\u2028\u2029\\]/g,pt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ft="[\\ud800-\\udfff]",mt="["+dt+"]",gt="["+pt+"]",vt="\\d+",yt="[\\u2700-\\u27bf]",bt="[a-z\\xdf-\\xf6\\xf8-\\xff]",_t="[^\\ud800-\\udfff"+dt+vt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",xt="\\ud83c[\\udffb-\\udfff]",wt="[^\\ud800-\\udfff]",Et="(?:\\ud83c[\\udde6-\\uddff]){2}",St="[\\ud800-\\udbff][\\udc00-\\udfff]",Tt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",At="(?:"+bt+"|"+_t+")",Mt="(?:"+Tt+"|"+_t+")",Ct="(?:"+gt+"|"+xt+")"+"?",Pt="[\\ufe0e\\ufe0f]?"+Ct+("(?:\\u200d(?:"+[wt,Et,St].join("|")+")[\\ufe0e\\ufe0f]?"+Ct+")*"),Dt="(?:"+[yt,Et,St].join("|")+")"+Pt,Rt="(?:"+[wt+gt+"?",gt,Et,St,ft].join("|")+")",Ot=RegExp("['â€™]","g"),It=RegExp(gt,"g"),Lt=RegExp(xt+"(?="+xt+")|"+Rt+Pt,"g"),kt=RegExp([Tt+"?"+bt+"+(?:['â€™](?:d|ll|m|re|s|t|ve))?(?="+[mt,Tt,"$"].join("|")+")",Mt+"+(?:['â€™](?:D|LL|M|RE|S|T|VE))?(?="+[mt,Tt+At,"$"].join("|")+")",Tt+"?"+At+"+(?:['â€™](?:d|ll|m|re|s|t|ve))?",Tt+"+(?:['â€™](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vt,Dt].join("|"),"g"),Ft=RegExp("[\\u200d\\ud800-\\udfff"+pt+"\\ufe0e\\ufe0f]"),Nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ut=-1,Gt={};Gt[T]=Gt[A]=Gt[M]=Gt[C]=Gt[P]=Gt[D]=Gt["[object Uint8ClampedArray]"]=Gt[R]=Gt[O]=!0,Gt[l]=Gt[c]=Gt[E]=Gt[u]=Gt[S]=Gt[h]=Gt[p]=Gt[d]=Gt[m]=Gt[g]=Gt[v]=Gt[y]=Gt[b]=Gt[_]=Gt[w]=!1;var zt={};zt[l]=zt[c]=zt[E]=zt[S]=zt[u]=zt[h]=zt[T]=zt[A]=zt[M]=zt[C]=zt[P]=zt[m]=zt[g]=zt[v]=zt[y]=zt[b]=zt[_]=zt[x]=zt[D]=zt["[object Uint8ClampedArray]"]=zt[R]=zt[O]=!0,zt[p]=zt[d]=zt[w]=!1;var Ht={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jt=parseFloat,Vt=parseInt,Xt="object"==typeof t&&t&&t.Object===Object&&t,Wt="object"==typeof self&&self&&self.Object===Object&&self,qt=Xt||Wt||Function("return this")(),Yt=e&&!e.nodeType&&e,$t=Yt&&"object"==typeof r&&r&&!r.nodeType&&r,Kt=$t&&$t.exports===Yt,Zt=Kt&&Xt.process,Jt=function(){try{var t=$t&&$t.require&&$t.require("util").types;return t||Zt&&Zt.binding&&Zt.binding("util")}catch(t){}}(),Qt=Jt&&Jt.isArrayBuffer,te=Jt&&Jt.isDate,ee=Jt&&Jt.isMap,ne=Jt&&Jt.isRegExp,re=Jt&&Jt.isSet,ie=Jt&&Jt.isTypedArray;function oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function se(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function le(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ce(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ue(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function he(t,e){return!!(null==t?0:t.length)&&xe(t,e,0)>-1}function pe(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function de(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function fe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function me(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ge(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function ve(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ye=Te("length");function be(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function _e(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function xe(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):_e(t,Ee,n)}function we(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Ee(t){return t!=t}function Se(t,e){var n=null==t?0:t.length;return n?Ce(t,e)/n:NaN}function Te(t){return function(e){return null==e?void 0:e[t]}}function Ae(t){return function(e){return null==t?void 0:t[e]}}function Me(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ce(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Pe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function De(t){return t?t.slice(0,Ye(t)+1).replace(Y,""):t}function Re(t){return function(e){return t(e)}}function Oe(t,e){return de(e,(function(e){return t[e]}))}function Ie(t,e){return t.has(e)}function Le(t,e){for(var n=-1,r=t.length;++n<r&&xe(e,t[n],0)>-1;);return n}function ke(t,e){for(var n=t.length;n--&&xe(e,t[n],0)>-1;);return n}function Fe(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Ne=Ae({"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss","Ä€":"A","Ä‚":"A","Ä„":"A","Ä":"a","Äƒ":"a","Ä…":"a","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","ÄŽ":"D","Ä":"D","Ä":"d","Ä‘":"d","Ä’":"E","Ä”":"E","Ä–":"E","Ä˜":"E","Äš":"E","Ä“":"e","Ä•":"e","Ä—":"e","Ä™":"e","Ä›":"e","Äœ":"G","Äž":"G","Ä ":"G","Ä¢":"G","Ä":"g","ÄŸ":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å€":"l","Å‚":"l","Åƒ":"N","Å…":"N","Å‡":"N","ÅŠ":"N","Å„":"n","Å†":"n","Åˆ":"n","Å‹":"n","ÅŒ":"O","ÅŽ":"O","Å":"O","Å":"o","Å":"o","Å‘":"o","Å”":"R","Å–":"R","Å˜":"R","Å•":"r","Å—":"r","Å™":"r","Åš":"S","Åœ":"S","Åž":"S","Å ":"S","Å›":"s","Å":"s","ÅŸ":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å’":"Oe","Å“":"oe","Å‰":"'n","Å¿":"s"}),Be=Ae({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ue(t){return"\\"+Ht[t]}function Ge(t){return Ft.test(t)}function ze(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function He(t,e){return function(n){return t(e(n))}}function je(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==s||(t[n]=s,o[i++]=n)}return o}function Ve(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function Xe(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function We(t){return Ge(t)?function(t){var e=Lt.lastIndex=0;for(;Lt.test(t);)++e;return e}(t):ye(t)}function qe(t){return Ge(t)?function(t){return t.match(Lt)||[]}(t):function(t){return t.split("")}(t)}function Ye(t){for(var e=t.length;e--&&$.test(t.charAt(e)););return e}var $e=Ae({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ke=function t(e){var n,r=(e=null==e?qt:Ke.defaults(qt.Object(),e,Ke.pick(qt,Bt))).Array,i=e.Date,$=e.Error,pt=e.Function,dt=e.Math,ft=e.Object,mt=e.RegExp,gt=e.String,vt=e.TypeError,yt=r.prototype,bt=pt.prototype,_t=ft.prototype,xt=e["__core-js_shared__"],wt=bt.toString,Et=_t.hasOwnProperty,St=0,Tt=(n=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",At=_t.toString,Mt=wt.call(ft),Ct=qt._,Pt=mt("^"+wt.call(Et).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dt=Kt?e.Buffer:void 0,Rt=e.Symbol,Lt=e.Uint8Array,Ft=Dt?Dt.allocUnsafe:void 0,Ht=He(ft.getPrototypeOf,ft),Xt=ft.create,Wt=_t.propertyIsEnumerable,Yt=yt.splice,$t=Rt?Rt.isConcatSpreadable:void 0,Zt=Rt?Rt.iterator:void 0,Jt=Rt?Rt.toStringTag:void 0,ye=function(){try{var t=to(ft,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ae=e.clearTimeout!==qt.clearTimeout&&e.clearTimeout,Ze=i&&i.now!==qt.Date.now&&i.now,Je=e.setTimeout!==qt.setTimeout&&e.setTimeout,Qe=dt.ceil,tn=dt.floor,en=ft.getOwnPropertySymbols,nn=Dt?Dt.isBuffer:void 0,rn=e.isFinite,on=yt.join,sn=He(ft.keys,ft),an=dt.max,ln=dt.min,cn=i.now,un=e.parseInt,hn=dt.random,pn=yt.reverse,dn=to(e,"DataView"),fn=to(e,"Map"),mn=to(e,"Promise"),gn=to(e,"Set"),vn=to(e,"WeakMap"),yn=to(ft,"create"),bn=vn&&new vn,_n={},xn=Co(dn),wn=Co(fn),En=Co(mn),Sn=Co(gn),Tn=Co(vn),An=Rt?Rt.prototype:void 0,Mn=An?An.valueOf:void 0,Cn=An?An.toString:void 0;function Pn(t){if(Xs(t)&&!Ls(t)&&!(t instanceof In)){if(t instanceof On)return t;if(Et.call(t,"__wrapped__"))return Po(t)}return new On(t)}var Dn=function(){function t(){}return function(e){if(!Vs(e))return{};if(Xt)return Xt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Rn(){}function On(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function In(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ln(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Fn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Fn;++e<n;)this.add(t[e])}function Bn(t){var e=this.__data__=new kn(t);this.size=e.size}function Un(t,e){var n=Ls(t),r=!n&&Is(t),i=!n&&!r&&Bs(t),o=!n&&!r&&!i&&Qs(t),s=n||r||i||o,a=s?Pe(t.length,gt):[],l=a.length;for(var c in t)!e&&!Et.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ao(c,l))||a.push(c);return a}function Gn(t){var e=t.length;return e?t[Nr(0,e-1)]:void 0}function zn(t,e){return To(yi(t),Kn(e,0,t.length))}function Hn(t){return To(yi(t))}function jn(t,e,n){(void 0!==n&&!Ds(t[e],n)||void 0===n&&!(e in t))&&Yn(t,e,n)}function Vn(t,e,n){var r=t[e];Et.call(t,e)&&Ds(r,n)&&(void 0!==n||e in t)||Yn(t,e,n)}function Xn(t,e){for(var n=t.length;n--;)if(Ds(t[n][0],e))return n;return-1}function Wn(t,e,n,r){return er(t,(function(t,i,o){e(r,t,n(t),o)})),r}function qn(t,e){return t&&bi(e,xa(e),t)}function Yn(t,e,n){"__proto__"==e&&ye?ye(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function $n(t,e){for(var n=-1,i=e.length,o=r(i),s=null==t;++n<i;)o[n]=s?void 0:ga(t,e[n]);return o}function Kn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Zn(t,e,n,r,i,o){var s,a=1&e,c=2&e,p=4&e;if(n&&(s=i?n(t,r,i,o):n(t)),void 0!==s)return s;if(!Vs(t))return t;var w=Ls(t);if(w){if(s=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Et.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!a)return yi(t,s)}else{var I=ro(t),L=I==d||I==f;if(Bs(t))return pi(t,a);if(I==v||I==l||L&&!i){if(s=c||L?{}:oo(t),!a)return c?function(t,e){return bi(t,no(t),e)}(t,function(t,e){return t&&bi(e,wa(e),t)}(s,t)):function(t,e){return bi(t,eo(t),e)}(t,qn(s,t))}else{if(!zt[I])return i?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case E:return di(t);case u:case h:return new r(+t);case S:return function(t,e){var n=e?di(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case T:case A:case M:case C:case P:case D:case"[object Uint8ClampedArray]":case R:case O:return fi(t,n);case m:return new r;case g:case _:return new r(t);case y:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case b:return new r;case x:return i=t,Mn?ft(Mn.call(i)):{}}var i}(t,I,a)}}o||(o=new Bn);var k=o.get(t);if(k)return k;o.set(t,s),Ks(t)?t.forEach((function(r){s.add(Zn(r,e,n,r,t,o))})):Ws(t)&&t.forEach((function(r,i){s.set(i,Zn(r,e,n,i,t,o))}));var F=w?void 0:(p?c?qi:Wi:c?wa:xa)(t);return ae(F||t,(function(r,i){F&&(r=t[i=r]),Vn(s,i,Zn(r,e,n,i,t,o))})),s}function Jn(t,e,n){var r=n.length;if(null==t)return!r;for(t=ft(t);r--;){var i=n[r],o=e[i],s=t[i];if(void 0===s&&!(i in t)||!o(s))return!1}return!0}function Qn(t,e,n){if("function"!=typeof t)throw new vt(o);return xo((function(){t.apply(void 0,n)}),e)}function tr(t,e,n,r){var i=-1,o=he,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=de(e,Re(n))),r?(o=pe,s=!1):e.length>=200&&(o=Ie,s=!1,e=new Nn(e));t:for(;++i<a;){var u=t[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,s&&h==h){for(var p=c;p--;)if(e[p]===h)continue t;l.push(u)}else o(e,h,r)||l.push(u)}return l}Pn.templateSettings={escape:G,evaluate:z,interpolate:H,variable:"",imports:{_:Pn}},Pn.prototype=Rn.prototype,Pn.prototype.constructor=Pn,On.prototype=Dn(Rn.prototype),On.prototype.constructor=On,In.prototype=Dn(Rn.prototype),In.prototype.constructor=In,Ln.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Ln.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ln.prototype.get=function(t){var e=this.__data__;if(yn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Et.call(e,t)?e[t]:void 0},Ln.prototype.has=function(t){var e=this.__data__;return yn?void 0!==e[t]:Et.call(e,t)},Ln.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yn&&void 0===e?"__lodash_hash_undefined__":e,this},kn.prototype.clear=function(){this.__data__=[],this.size=0},kn.prototype.delete=function(t){var e=this.__data__,n=Xn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Yt.call(e,n,1),--this.size,!0)},kn.prototype.get=function(t){var e=this.__data__,n=Xn(e,t);return n<0?void 0:e[n][1]},kn.prototype.has=function(t){return Xn(this.__data__,t)>-1},kn.prototype.set=function(t,e){var n=this.__data__,r=Xn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Fn.prototype.clear=function(){this.size=0,this.__data__={hash:new Ln,map:new(fn||kn),string:new Ln}},Fn.prototype.delete=function(t){var e=Ji(this,t).delete(t);return this.size-=e?1:0,e},Fn.prototype.get=function(t){return Ji(this,t).get(t)},Fn.prototype.has=function(t){return Ji(this,t).has(t)},Fn.prototype.set=function(t,e){var n=Ji(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Nn.prototype.add=Nn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Nn.prototype.has=function(t){return this.__data__.has(t)},Bn.prototype.clear=function(){this.__data__=new kn,this.size=0},Bn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Bn.prototype.get=function(t){return this.__data__.get(t)},Bn.prototype.has=function(t){return this.__data__.has(t)},Bn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof kn){var r=n.__data__;if(!fn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Fn(r)}return n.set(t,e),this.size=n.size,this};var er=wi(cr),nr=wi(ur,!0);function rr(t,e){var n=!0;return er(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function ir(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(null!=s&&(void 0===a?s==s&&!Js(s):n(s,a)))var a=s,l=o}return l}function or(t,e){var n=[];return er(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function sr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=so),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?sr(a,e-1,n,r,i):fe(i,a):r||(i[i.length]=a)}return i}var ar=Ei(),lr=Ei(!0);function cr(t,e){return t&&ar(t,e,xa)}function ur(t,e){return t&&lr(t,e,xa)}function hr(t,e){return ue(e,(function(e){return zs(t[e])}))}function pr(t,e){for(var n=0,r=(e=li(e,t)).length;null!=t&&n<r;)t=t[Mo(e[n++])];return n&&n==r?t:void 0}function dr(t,e,n){var r=e(t);return Ls(t)?r:fe(r,n(t))}function fr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Jt&&Jt in ft(t)?function(t){var e=Et.call(t,Jt),n=t[Jt];try{t[Jt]=void 0;var r=!0}catch(t){}var i=At.call(t);r&&(e?t[Jt]=n:delete t[Jt]);return i}(t):function(t){return At.call(t)}(t)}function mr(t,e){return t>e}function gr(t,e){return null!=t&&Et.call(t,e)}function vr(t,e){return null!=t&&e in ft(t)}function yr(t,e,n){for(var i=n?pe:he,o=t[0].length,s=t.length,a=s,l=r(s),c=1/0,u=[];a--;){var h=t[a];a&&e&&(h=de(h,Re(e))),c=ln(h.length,c),l[a]=!n&&(e||o>=120&&h.length>=120)?new Nn(a&&h):void 0}h=t[0];var p=-1,d=l[0];t:for(;++p<o&&u.length<c;){var f=h[p],m=e?e(f):f;if(f=n||0!==f?f:0,!(d?Ie(d,m):i(u,m,n))){for(a=s;--a;){var g=l[a];if(!(g?Ie(g,m):i(t[a],m,n)))continue t}d&&d.push(m),u.push(f)}}return u}function br(t,e,n){var r=null==(t=vo(t,e=li(e,t)))?t:t[Mo(Go(e))];return null==r?void 0:oe(r,t,n)}function _r(t){return Xs(t)&&fr(t)==l}function xr(t,e,n,r,i){return t===e||(null==t||null==e||!Xs(t)&&!Xs(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var s=Ls(t),a=Ls(e),d=s?c:ro(t),f=a?c:ro(e),w=(d=d==l?v:d)==v,T=(f=f==l?v:f)==v,A=d==f;if(A&&Bs(t)){if(!Bs(e))return!1;s=!0,w=!1}if(A&&!w)return o||(o=new Bn),s||Qs(t)?Vi(t,e,n,r,i,o):function(t,e,n,r,i,o,s){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!o(new Lt(t),new Lt(e)));case u:case h:case g:return Ds(+t,+e);case p:return t.name==e.name&&t.message==e.message;case y:case _:return t==e+"";case m:var a=ze;case b:var l=1&r;if(a||(a=Ve),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=2,s.set(t,e);var d=Vi(a(t),a(e),r,i,o,s);return s.delete(t),d;case x:if(Mn)return Mn.call(t)==Mn.call(e)}return!1}(t,e,d,n,r,i,o);if(!(1&n)){var M=w&&Et.call(t,"__wrapped__"),C=T&&Et.call(e,"__wrapped__");if(M||C){var P=M?t.value():t,D=C?e.value():e;return o||(o=new Bn),i(P,D,n,r,o)}}if(!A)return!1;return o||(o=new Bn),function(t,e,n,r,i,o){var s=1&n,a=Wi(t),l=a.length,c=Wi(e).length;if(l!=c&&!s)return!1;var u=l;for(;u--;){var h=a[u];if(!(s?h in e:Et.call(e,h)))return!1}var p=o.get(t),d=o.get(e);if(p&&d)return p==e&&d==t;var f=!0;o.set(t,e),o.set(e,t);var m=s;for(;++u<l;){h=a[u];var g=t[h],v=e[h];if(r)var y=s?r(v,g,h,e,t,o):r(g,v,h,t,e,o);if(!(void 0===y?g===v||i(g,v,n,r,o):y)){f=!1;break}m||(m="constructor"==h)}if(f&&!m){var b=t.constructor,_=e.constructor;b==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,r,i,o)}(t,e,n,r,xr,i))}function wr(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=ft(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var l=(a=n[i])[0],c=t[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in t))return!1}else{var h=new Bn;if(r)var p=r(c,u,l,t,e,h);if(!(void 0===p?xr(u,c,3,r,h):p))return!1}}return!0}function Er(t){return!(!Vs(t)||(e=t,Tt&&Tt in e))&&(zs(t)?Pt:st).test(Co(t));var e}function Sr(t){return"function"==typeof t?t:null==t?qa:"object"==typeof t?Ls(t)?Dr(t[0],t[1]):Pr(t):nl(t)}function Tr(t){if(!po(t))return sn(t);var e=[];for(var n in ft(t))Et.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ar(t){if(!Vs(t))return function(t){var e=[];if(null!=t)for(var n in ft(t))e.push(n);return e}(t);var e=po(t),n=[];for(var r in t)("constructor"!=r||!e&&Et.call(t,r))&&n.push(r);return n}function Mr(t,e){return t<e}function Cr(t,e){var n=-1,i=Fs(t)?r(t.length):[];return er(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Pr(t){var e=Qi(t);return 1==e.length&&e[0][2]?mo(e[0][0],e[0][1]):function(n){return n===t||wr(n,t,e)}}function Dr(t,e){return co(t)&&fo(e)?mo(Mo(t),e):function(n){var r=ga(n,t);return void 0===r&&r===e?va(n,t):xr(e,r,3)}}function Rr(t,e,n,r,i){t!==e&&ar(e,(function(o,s){if(i||(i=new Bn),Vs(o))!function(t,e,n,r,i,o,s){var a=bo(t,n),l=bo(e,n),c=s.get(l);if(c)return void jn(t,n,c);var u=o?o(a,l,n+"",t,e,s):void 0,h=void 0===u;if(h){var p=Ls(l),d=!p&&Bs(l),f=!p&&!d&&Qs(l);u=l,p||d||f?Ls(a)?u=a:Ns(a)?u=yi(a):d?(h=!1,u=pi(l,!0)):f?(h=!1,u=fi(l,!0)):u=[]:Ys(l)||Is(l)?(u=a,Is(a)?u=aa(a):Vs(a)&&!zs(a)||(u=oo(l))):h=!1}h&&(s.set(l,u),i(u,l,r,o,s),s.delete(l));jn(t,n,u)}(t,e,s,n,Rr,r,i);else{var a=r?r(bo(t,s),o,s+"",t,e,i):void 0;void 0===a&&(a=o),jn(t,s,a)}}),wa)}function Or(t,e){var n=t.length;if(n)return ao(e+=e<0?n:0,n)?t[e]:void 0}function Ir(t,e,n){e=e.length?de(e,(function(t){return Ls(t)?function(e){return pr(e,1===t.length?t[0]:t)}:t})):[qa];var r=-1;return e=de(e,Re(Zi())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Cr(t,(function(t,n,i){return{criteria:de(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;for(;++r<s;){var l=mi(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)}))}function Lr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=pr(t,s);n(a,s)&&Hr(o,li(s,t),a)}return o}function kr(t,e,n,r){var i=r?we:xe,o=-1,s=e.length,a=t;for(t===e&&(e=yi(e)),n&&(a=de(t,Re(n)));++o<s;)for(var l=0,c=e[o],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==t&&Yt.call(a,l,1),Yt.call(t,l,1);return t}function Fr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ao(i)?Yt.call(t,i,1):ti(t,i)}}return t}function Nr(t,e){return t+tn(hn()*(e-t+1))}function Br(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=tn(e/2))&&(t+=t)}while(e);return n}function Ur(t,e){return wo(go(t,e,qa),t+"")}function Gr(t){return Gn(Da(t))}function zr(t,e){var n=Da(t);return To(n,Kn(e,0,n.length))}function Hr(t,e,n,r){if(!Vs(t))return t;for(var i=-1,o=(e=li(e,t)).length,s=o-1,a=t;null!=a&&++i<o;){var l=Mo(e[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(i!=s){var u=a[l];void 0===(c=r?r(u,l,a):void 0)&&(c=Vs(u)?u:ao(e[i+1])?[]:{})}Vn(a,l,c),a=a[l]}return t}var jr=bn?function(t,e){return bn.set(t,e),t}:qa,Vr=ye?function(t,e){return ye(t,"toString",{configurable:!0,enumerable:!1,value:Va(e),writable:!0})}:qa;function Xr(t){return To(Da(t))}function Wr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=r(o);++i<o;)s[i]=t[i+e];return s}function qr(t,e){var n;return er(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Yr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!Js(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return $r(t,e,qa,n)}function $r(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var s=(e=n(e))!=e,a=null===e,l=Js(e),c=void 0===e;i<o;){var u=tn((i+o)/2),h=n(t[u]),p=void 0!==h,d=null===h,f=h==h,m=Js(h);if(s)var g=r||f;else g=c?f&&(r||p):a?f&&p&&(r||!d):l?f&&p&&!d&&(r||!m):!d&&!m&&(r?h<=e:h<e);g?i=u+1:o=u}return ln(o,4294967294)}function Kr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Ds(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function Zr(t){return"number"==typeof t?t:Js(t)?NaN:+t}function Jr(t){if("string"==typeof t)return t;if(Ls(t))return de(t,Jr)+"";if(Js(t))return Cn?Cn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Qr(t,e,n){var r=-1,i=he,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=pe;else if(o>=200){var c=e?null:Bi(t);if(c)return Ve(c);s=!1,i=Ie,l=new Nn}else l=e?[]:a;t:for(;++r<o;){var u=t[r],h=e?e(u):u;if(u=n||0!==u?u:0,s&&h==h){for(var p=l.length;p--;)if(l[p]===h)continue t;e&&l.push(h),a.push(u)}else i(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}function ti(t,e){return null==(t=vo(t,e=li(e,t)))||delete t[Mo(Go(e))]}function ei(t,e,n,r){return Hr(t,e,n(pr(t,e)),r)}function ni(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Wr(t,r?0:o,r?o+1:i):Wr(t,r?o+1:0,r?i:o)}function ri(t,e){var n=t;return n instanceof In&&(n=n.value()),me(e,(function(t,e){return e.func.apply(e.thisArg,fe([t],e.args))}),n)}function ii(t,e,n){var i=t.length;if(i<2)return i?Qr(t[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=t[o],l=-1;++l<i;)l!=o&&(s[o]=tr(s[o]||a,t[l],e,n));return Qr(sr(s,1),e,n)}function oi(t,e,n){for(var r=-1,i=t.length,o=e.length,s={};++r<i;){var a=r<o?e[r]:void 0;n(s,t[r],a)}return s}function si(t){return Ns(t)?t:[]}function ai(t){return"function"==typeof t?t:qa}function li(t,e){return Ls(t)?t:co(t,e)?[t]:Ao(la(t))}var ci=Ur;function ui(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Wr(t,e,n)}var hi=Ae||function(t){return qt.clearTimeout(t)};function pi(t,e){if(e)return t.slice();var n=t.length,r=Ft?Ft(n):new t.constructor(n);return t.copy(r),r}function di(t){var e=new t.constructor(t.byteLength);return new Lt(e).set(new Lt(t)),e}function fi(t,e){var n=e?di(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function mi(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Js(t),s=void 0!==e,a=null===e,l=e==e,c=Js(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}function gi(t,e,n,i){for(var o=-1,s=t.length,a=n.length,l=-1,c=e.length,u=an(s-a,0),h=r(c+u),p=!i;++l<c;)h[l]=e[l];for(;++o<a;)(p||o<s)&&(h[n[o]]=t[o]);for(;u--;)h[l++]=t[o++];return h}function vi(t,e,n,i){for(var o=-1,s=t.length,a=-1,l=n.length,c=-1,u=e.length,h=an(s-l,0),p=r(h+u),d=!i;++o<h;)p[o]=t[o];for(var f=o;++c<u;)p[f+c]=e[c];for(;++a<l;)(d||o<s)&&(p[f+n[a]]=t[o++]);return p}function yi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function bi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;void 0===l&&(l=t[a]),i?Yn(n,a,l):Vn(n,a,l)}return n}function _i(t,e){return function(n,r){var i=Ls(n)?se:Wn,o=e?e():{};return i(n,t,Zi(r,2),o)}}function xi(t){return Ur((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,s&&lo(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=ft(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e}))}function wi(t,e){return function(n,r){if(null==n)return n;if(!Fs(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=ft(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ei(t){return function(e,n,r){for(var i=-1,o=ft(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(!1===n(o[l],l,o))break}return e}}function Si(t){return function(e){var n=Ge(e=la(e))?qe(e):void 0,r=n?n[0]:e.charAt(0),i=n?ui(n,1).join(""):e.slice(1);return r[t]()+i}}function Ti(t){return function(e){return me(za(Ia(e).replace(Ot,"")),t,"")}}function Ai(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Dn(t.prototype),r=t.apply(n,e);return Vs(r)?r:n}}function Mi(t){return function(e,n,r){var i=ft(e);if(!Fs(e)){var o=Zi(n,3);e=xa(e),n=function(t){return o(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}function Ci(t){return Xi((function(e){var n=e.length,r=n,i=On.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new vt(o);if(i&&!a&&"wrapper"==$i(s))var a=new On([],!0)}for(r=a?r:n;++r<n;){var l=$i(s=e[r]),c="wrapper"==l?Yi(s):void 0;a=c&&uo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?a[$i(c[0])].apply(a,c[3]):1==s.length&&uo(s)?a[l]():a.thru(s)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&Ls(r))return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Pi(t,e,n,i,o,s,a,l,c,u){var h=128&e,p=1&e,d=2&e,f=24&e,m=512&e,g=d?void 0:Ai(t);return function v(){for(var y=arguments.length,b=r(y),_=y;_--;)b[_]=arguments[_];if(f)var x=Ki(v),w=Fe(b,x);if(i&&(b=gi(b,i,o,f)),s&&(b=vi(b,s,a,f)),y-=w,f&&y<u){var E=je(b,x);return Fi(t,e,Pi,v.placeholder,n,b,E,l,c,u-y)}var S=p?n:this,T=d?S[t]:t;return y=b.length,l?b=yo(b,l):m&&y>1&&b.reverse(),h&&c<y&&(b.length=c),this&&this!==qt&&this instanceof v&&(T=g||Ai(T)),T.apply(S,b)}}function Di(t,e){return function(n,r){return function(t,e,n,r){return cr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Ri(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Zr(n),r=Zr(r)),i=t(n,r)}return i}}function Oi(t){return Xi((function(e){return e=de(e,Re(Zi())),Ur((function(n){var r=this;return t(e,(function(t){return oe(t,r,n)}))}))}))}function Ii(t,e){var n=(e=void 0===e?" ":Jr(e)).length;if(n<2)return n?Br(e,t):e;var r=Br(e,Qe(t/We(e)));return Ge(e)?ui(qe(r),0,t).join(""):r.slice(0,t)}function Li(t){return function(e,n,i){return i&&"number"!=typeof i&&lo(e,n,i)&&(n=i=void 0),e=ra(e),void 0===n?(n=e,e=0):n=ra(n),function(t,e,n,i){for(var o=-1,s=an(Qe((e-t)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=t,t+=n;return a}(e,n,i=void 0===i?e<n?1:-1:ra(i),t)}}function ki(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=sa(e),n=sa(n)),t(e,n)}}function Fi(t,e,n,r,i,o,s,a,l,c){var u=8&e;e|=u?32:64,4&(e&=~(u?64:32))||(e&=-4);var h=[t,e,i,u?o:void 0,u?s:void 0,u?void 0:o,u?void 0:s,a,l,c],p=n.apply(void 0,h);return uo(t)&&_o(p,h),p.placeholder=r,Eo(p,t,e)}function Ni(t){var e=dt[t];return function(t,n){if(t=sa(t),(n=null==n?0:ln(ia(n),292))&&rn(t)){var r=(la(t)+"e").split("e");return+((r=(la(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Bi=gn&&1/Ve(new gn([,-0]))[1]==1/0?function(t){return new gn(t)}:Ja;function Ui(t){return function(e){var n=ro(e);return n==m?ze(e):n==b?Xe(e):function(t,e){return de(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Gi(t,e,n,i,a,l,c,u){var h=2&e;if(!h&&"function"!=typeof t)throw new vt(o);var p=i?i.length:0;if(p||(e&=-97,i=a=void 0),c=void 0===c?c:an(ia(c),0),u=void 0===u?u:ia(u),p-=a?a.length:0,64&e){var d=i,f=a;i=a=void 0}var m=h?void 0:Yi(t),g=[t,e,n,i,a,d,f,l,c,u];if(m&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?gi(c,l,e[4]):l,t[4]=c?je(t[3],s):e[4]}(l=e[5])&&(c=t[5],t[5]=c?vi(c,l,e[6]):l,t[6]=c?je(t[5],s):e[6]);(l=e[7])&&(t[7]=l);128&r&&(t[8]=null==t[8]?e[8]:ln(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(g,m),t=g[0],e=g[1],n=g[2],i=g[3],a=g[4],!(u=g[9]=void 0===g[9]?h?0:t.length:an(g[9]-p,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,n){var i=Ai(t);return function o(){for(var s=arguments.length,a=r(s),l=s,c=Ki(o);l--;)a[l]=arguments[l];var u=s<3&&a[0]!==c&&a[s-1]!==c?[]:je(a,c);if((s-=u.length)<n)return Fi(t,e,Pi,o.placeholder,void 0,a,u,void 0,void 0,n-s);var h=this&&this!==qt&&this instanceof o?i:t;return oe(h,this,a)}}(t,e,u):32!=e&&33!=e||a.length?Pi.apply(void 0,g):function(t,e,n,i){var o=1&e,s=Ai(t);return function e(){for(var a=-1,l=arguments.length,c=-1,u=i.length,h=r(u+l),p=this&&this!==qt&&this instanceof e?s:t;++c<u;)h[c]=i[c];for(;l--;)h[c++]=arguments[++a];return oe(p,o?n:this,h)}}(t,e,n,i);else var v=function(t,e,n){var r=1&e,i=Ai(t);return function e(){var o=this&&this!==qt&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return Eo((m?jr:_o)(v,g),t,e)}function zi(t,e,n,r){return void 0===t||Ds(t,_t[n])&&!Et.call(r,n)?e:t}function Hi(t,e,n,r,i,o){return Vs(t)&&Vs(e)&&(o.set(e,t),Rr(t,e,void 0,Hi,o),o.delete(e)),t}function ji(t){return Ys(t)?void 0:t}function Vi(t,e,n,r,i,o){var s=1&n,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var h=-1,p=!0,d=2&n?new Nn:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var f=t[h],m=e[h];if(r)var g=s?r(m,f,h,e,t,o):r(f,m,h,t,e,o);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!ve(e,(function(t,e){if(!Ie(d,e)&&(f===t||i(f,t,n,r,o)))return d.push(e)}))){p=!1;break}}else if(f!==m&&!i(f,m,n,r,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Xi(t){return wo(go(t,void 0,ko),t+"")}function Wi(t){return dr(t,xa,eo)}function qi(t){return dr(t,wa,no)}var Yi=bn?function(t){return bn.get(t)}:Ja;function $i(t){for(var e=t.name+"",n=_n[e],r=Et.call(_n,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Ki(t){return(Et.call(Pn,"placeholder")?Pn:t).placeholder}function Zi(){var t=Pn.iteratee||Ya;return t=t===Ya?Sr:t,arguments.length?t(arguments[0],arguments[1]):t}function Ji(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Qi(t){for(var e=xa(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,fo(i)]}return e}function to(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Er(n)?n:void 0}var eo=en?function(t){return null==t?[]:(t=ft(t),ue(en(t),(function(e){return Wt.call(t,e)})))}:ol,no=en?function(t){for(var e=[];t;)fe(e,eo(t)),t=Ht(t);return e}:ol,ro=fr;function io(t,e,n){for(var r=-1,i=(e=li(e,t)).length,o=!1;++r<i;){var s=Mo(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&js(i)&&ao(s,i)&&(Ls(t)||Is(t))}function oo(t){return"function"!=typeof t.constructor||po(t)?{}:Dn(Ht(t))}function so(t){return Ls(t)||Is(t)||!!($t&&t&&t[$t])}function ao(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&lt.test(t))&&t>-1&&t%1==0&&t<e}function lo(t,e,n){if(!Vs(n))return!1;var r=typeof e;return!!("number"==r?Fs(n)&&ao(e,n.length):"string"==r&&e in n)&&Ds(n[e],t)}function co(t,e){if(Ls(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Js(t))||(V.test(t)||!j.test(t)||null!=e&&t in ft(e))}function uo(t){var e=$i(t),n=Pn[e];if("function"!=typeof n||!(e in In.prototype))return!1;if(t===n)return!0;var r=Yi(n);return!!r&&t===r[0]}(dn&&ro(new dn(new ArrayBuffer(1)))!=S||fn&&ro(new fn)!=m||mn&&"[object Promise]"!=ro(mn.resolve())||gn&&ro(new gn)!=b||vn&&ro(new vn)!=w)&&(ro=function(t){var e=fr(t),n=e==v?t.constructor:void 0,r=n?Co(n):"";if(r)switch(r){case xn:return S;case wn:return m;case En:return"[object Promise]";case Sn:return b;case Tn:return w}return e});var ho=xt?zs:sl;function po(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||_t)}function fo(t){return t==t&&!Vs(t)}function mo(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in ft(n)))}}function go(t,e,n){return e=an(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=an(i.length-e,0),a=r(s);++o<s;)a[o]=i[e+o];o=-1;for(var l=r(e+1);++o<e;)l[o]=i[o];return l[e]=n(a),oe(t,this,l)}}function vo(t,e){return e.length<2?t:pr(t,Wr(e,0,-1))}function yo(t,e){for(var n=t.length,r=ln(e.length,n),i=yi(t);r--;){var o=e[r];t[r]=ao(o,n)?i[o]:void 0}return t}function bo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var _o=So(jr),xo=Je||function(t,e){return qt.setTimeout(t,e)},wo=So(Vr);function Eo(t,e,n){var r=e+"";return wo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(K,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ae(a,(function(n){var r="_."+n[0];e&n[1]&&!he(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Z);return e?e[1].split(J):[]}(r),n)))}function So(t){var e=0,n=0;return function(){var r=cn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function To(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Nr(n,i),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}var Ao=function(t){var e=Ss(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(X,(function(t,n,r,i){e.push(r?i.replace(et,"$1"):n||t)})),e}));function Mo(t){if("string"==typeof t||Js(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Co(t){if(null!=t){try{return wt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Po(t){if(t instanceof In)return t.clone();var e=new On(t.__wrapped__,t.__chain__);return e.__actions__=yi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Do=Ur((function(t,e){return Ns(t)?tr(t,sr(e,1,Ns,!0)):[]})),Ro=Ur((function(t,e){var n=Go(e);return Ns(n)&&(n=void 0),Ns(t)?tr(t,sr(e,1,Ns,!0),Zi(n,2)):[]})),Oo=Ur((function(t,e){var n=Go(e);return Ns(n)&&(n=void 0),Ns(t)?tr(t,sr(e,1,Ns,!0),void 0,n):[]}));function Io(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=an(r+i,0)),_e(t,Zi(e,3),i)}function Lo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ia(n),i=n<0?an(r+i,0):ln(i,r-1)),_e(t,Zi(e,3),i,!0)}function ko(t){return(null==t?0:t.length)?sr(t,1):[]}function Fo(t){return t&&t.length?t[0]:void 0}var No=Ur((function(t){var e=de(t,si);return e.length&&e[0]===t[0]?yr(e):[]})),Bo=Ur((function(t){var e=Go(t),n=de(t,si);return e===Go(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?yr(n,Zi(e,2)):[]})),Uo=Ur((function(t){var e=Go(t),n=de(t,si);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?yr(n,void 0,e):[]}));function Go(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var zo=Ur(Ho);function Ho(t,e){return t&&t.length&&e&&e.length?kr(t,e):t}var jo=Xi((function(t,e){var n=null==t?0:t.length,r=$n(t,e);return Fr(t,de(e,(function(t){return ao(t,n)?+t:t})).sort(mi)),r}));function Vo(t){return null==t?t:pn.call(t)}var Xo=Ur((function(t){return Qr(sr(t,1,Ns,!0))})),Wo=Ur((function(t){var e=Go(t);return Ns(e)&&(e=void 0),Qr(sr(t,1,Ns,!0),Zi(e,2))})),qo=Ur((function(t){var e=Go(t);return e="function"==typeof e?e:void 0,Qr(sr(t,1,Ns,!0),void 0,e)}));function Yo(t){if(!t||!t.length)return[];var e=0;return t=ue(t,(function(t){if(Ns(t))return e=an(t.length,e),!0})),Pe(e,(function(e){return de(t,Te(e))}))}function $o(t,e){if(!t||!t.length)return[];var n=Yo(t);return null==e?n:de(n,(function(t){return oe(e,void 0,t)}))}var Ko=Ur((function(t,e){return Ns(t)?tr(t,e):[]})),Zo=Ur((function(t){return ii(ue(t,Ns))})),Jo=Ur((function(t){var e=Go(t);return Ns(e)&&(e=void 0),ii(ue(t,Ns),Zi(e,2))})),Qo=Ur((function(t){var e=Go(t);return e="function"==typeof e?e:void 0,ii(ue(t,Ns),void 0,e)})),ts=Ur(Yo);var es=Ur((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,$o(t,n)}));function ns(t){var e=Pn(t);return e.__chain__=!0,e}function rs(t,e){return e(t)}var is=Xi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return $n(e,t)};return!(e>1||this.__actions__.length)&&r instanceof In&&ao(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:rs,args:[i],thisArg:void 0}),new On(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var os=_i((function(t,e,n){Et.call(t,n)?++t[n]:Yn(t,n,1)}));var ss=Mi(Io),as=Mi(Lo);function ls(t,e){return(Ls(t)?ae:er)(t,Zi(e,3))}function cs(t,e){return(Ls(t)?le:nr)(t,Zi(e,3))}var us=_i((function(t,e,n){Et.call(t,n)?t[n].push(e):Yn(t,n,[e])}));var hs=Ur((function(t,e,n){var i=-1,o="function"==typeof e,s=Fs(t)?r(t.length):[];return er(t,(function(t){s[++i]=o?oe(e,t,n):br(t,e,n)})),s})),ps=_i((function(t,e,n){Yn(t,n,e)}));function ds(t,e){return(Ls(t)?de:Cr)(t,Zi(e,3))}var fs=_i((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var ms=Ur((function(t,e){if(null==t)return[];var n=e.length;return n>1&&lo(t,e[0],e[1])?e=[]:n>2&&lo(e[0],e[1],e[2])&&(e=[e[0]]),Ir(t,sr(e,1),[])})),gs=Ze||function(){return qt.Date.now()};function vs(t,e,n){return e=n?void 0:e,Gi(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ys(t,e){var n;if("function"!=typeof e)throw new vt(o);return t=ia(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var bs=Ur((function(t,e,n){var r=1;if(n.length){var i=je(n,Ki(bs));r|=32}return Gi(t,r,e,n,i)})),_s=Ur((function(t,e,n){var r=3;if(n.length){var i=je(n,Ki(_s));r|=32}return Gi(e,r,t,n,i)}));function xs(t,e,n){var r,i,s,a,l,c,u=0,h=!1,p=!1,d=!0;if("function"!=typeof t)throw new vt(o);function f(e){var n=r,o=i;return r=i=void 0,u=e,a=t.apply(o,n)}function m(t){return u=t,l=xo(v,e),h?f(t):a}function g(t){var n=t-c;return void 0===c||n>=e||n<0||p&&t-u>=s}function v(){var t=gs();if(g(t))return y(t);l=xo(v,function(t){var n=e-(t-c);return p?ln(n,s-(t-u)):n}(t))}function y(t){return l=void 0,d&&r?f(t):(r=i=void 0,a)}function b(){var t=gs(),n=g(t);if(r=arguments,i=this,c=t,n){if(void 0===l)return m(c);if(p)return hi(l),l=xo(v,e),f(c)}return void 0===l&&(l=xo(v,e)),a}return e=sa(e)||0,Vs(n)&&(h=!!n.leading,s=(p="maxWait"in n)?an(sa(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==l&&hi(l),u=0,r=c=i=l=void 0},b.flush=function(){return void 0===l?a:y(gs())},b}var ws=Ur((function(t,e){return Qn(t,1,e)})),Es=Ur((function(t,e,n){return Qn(t,sa(e)||0,n)}));function Ss(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new vt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ss.Cache||Fn),n}function Ts(t){if("function"!=typeof t)throw new vt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ss.Cache=Fn;var As=ci((function(t,e){var n=(e=1==e.length&&Ls(e[0])?de(e[0],Re(Zi())):de(sr(e,1),Re(Zi()))).length;return Ur((function(r){for(var i=-1,o=ln(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return oe(t,this,r)}))})),Ms=Ur((function(t,e){return Gi(t,32,void 0,e,je(e,Ki(Ms)))})),Cs=Ur((function(t,e){return Gi(t,64,void 0,e,je(e,Ki(Cs)))})),Ps=Xi((function(t,e){return Gi(t,256,void 0,void 0,void 0,e)}));function Ds(t,e){return t===e||t!=t&&e!=e}var Rs=ki(mr),Os=ki((function(t,e){return t>=e})),Is=_r(function(){return arguments}())?_r:function(t){return Xs(t)&&Et.call(t,"callee")&&!Wt.call(t,"callee")},Ls=r.isArray,ks=Qt?Re(Qt):function(t){return Xs(t)&&fr(t)==E};function Fs(t){return null!=t&&js(t.length)&&!zs(t)}function Ns(t){return Xs(t)&&Fs(t)}var Bs=nn||sl,Us=te?Re(te):function(t){return Xs(t)&&fr(t)==h};function Gs(t){if(!Xs(t))return!1;var e=fr(t);return e==p||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ys(t)}function zs(t){if(!Vs(t))return!1;var e=fr(t);return e==d||e==f||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Hs(t){return"number"==typeof t&&t==ia(t)}function js(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Vs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Xs(t){return null!=t&&"object"==typeof t}var Ws=ee?Re(ee):function(t){return Xs(t)&&ro(t)==m};function qs(t){return"number"==typeof t||Xs(t)&&fr(t)==g}function Ys(t){if(!Xs(t)||fr(t)!=v)return!1;var e=Ht(t);if(null===e)return!0;var n=Et.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&wt.call(n)==Mt}var $s=ne?Re(ne):function(t){return Xs(t)&&fr(t)==y};var Ks=re?Re(re):function(t){return Xs(t)&&ro(t)==b};function Zs(t){return"string"==typeof t||!Ls(t)&&Xs(t)&&fr(t)==_}function Js(t){return"symbol"==typeof t||Xs(t)&&fr(t)==x}var Qs=ie?Re(ie):function(t){return Xs(t)&&js(t.length)&&!!Gt[fr(t)]};var ta=ki(Mr),ea=ki((function(t,e){return t<=e}));function na(t){if(!t)return[];if(Fs(t))return Zs(t)?qe(t):yi(t);if(Zt&&t[Zt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Zt]());var e=ro(t);return(e==m?ze:e==b?Ve:Da)(t)}function ra(t){return t?(t=sa(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ia(t){var e=ra(t),n=e%1;return e==e?n?e-n:e:0}function oa(t){return t?Kn(ia(t),0,4294967295):0}function sa(t){if("number"==typeof t)return t;if(Js(t))return NaN;if(Vs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Vs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=De(t);var n=ot.test(t);return n||at.test(t)?Vt(t.slice(2),n?2:8):it.test(t)?NaN:+t}function aa(t){return bi(t,wa(t))}function la(t){return null==t?"":Jr(t)}var ca=xi((function(t,e){if(po(e)||Fs(e))bi(e,xa(e),t);else for(var n in e)Et.call(e,n)&&Vn(t,n,e[n])})),ua=xi((function(t,e){bi(e,wa(e),t)})),ha=xi((function(t,e,n,r){bi(e,wa(e),t,r)})),pa=xi((function(t,e,n,r){bi(e,xa(e),t,r)})),da=Xi($n);var fa=Ur((function(t,e){t=ft(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&lo(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],s=wa(o),a=-1,l=s.length;++a<l;){var c=s[a],u=t[c];(void 0===u||Ds(u,_t[c])&&!Et.call(t,c))&&(t[c]=o[c])}return t})),ma=Ur((function(t){return t.push(void 0,Hi),oe(Sa,void 0,t)}));function ga(t,e,n){var r=null==t?void 0:pr(t,e);return void 0===r?n:r}function va(t,e){return null!=t&&io(t,e,vr)}var ya=Di((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=At.call(e)),t[e]=n}),Va(qa)),ba=Di((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=At.call(e)),Et.call(t,e)?t[e].push(n):t[e]=[n]}),Zi),_a=Ur(br);function xa(t){return Fs(t)?Un(t):Tr(t)}function wa(t){return Fs(t)?Un(t,!0):Ar(t)}var Ea=xi((function(t,e,n){Rr(t,e,n)})),Sa=xi((function(t,e,n,r){Rr(t,e,n,r)})),Ta=Xi((function(t,e){var n={};if(null==t)return n;var r=!1;e=de(e,(function(e){return e=li(e,t),r||(r=e.length>1),e})),bi(t,qi(t),n),r&&(n=Zn(n,7,ji));for(var i=e.length;i--;)ti(n,e[i]);return n}));var Aa=Xi((function(t,e){return null==t?{}:function(t,e){return Lr(t,e,(function(e,n){return va(t,n)}))}(t,e)}));function Ma(t,e){if(null==t)return{};var n=de(qi(t),(function(t){return[t]}));return e=Zi(e),Lr(t,n,(function(t,n){return e(t,n[0])}))}var Ca=Ui(xa),Pa=Ui(wa);function Da(t){return null==t?[]:Oe(t,xa(t))}var Ra=Ti((function(t,e,n){return e=e.toLowerCase(),t+(n?Oa(e):e)}));function Oa(t){return Ga(la(t).toLowerCase())}function Ia(t){return(t=la(t))&&t.replace(ct,Ne).replace(It,"")}var La=Ti((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),ka=Ti((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Fa=Si("toLowerCase");var Na=Ti((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ba=Ti((function(t,e,n){return t+(n?" ":"")+Ga(e)}));var Ua=Ti((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ga=Si("toUpperCase");function za(t,e,n){return t=la(t),void 0===(e=n?void 0:e)?function(t){return Nt.test(t)}(t)?function(t){return t.match(kt)||[]}(t):function(t){return t.match(Q)||[]}(t):t.match(e)||[]}var Ha=Ur((function(t,e){try{return oe(t,void 0,e)}catch(t){return Gs(t)?t:new $(t)}})),ja=Xi((function(t,e){return ae(e,(function(e){e=Mo(e),Yn(t,e,bs(t[e],t))})),t}));function Va(t){return function(){return t}}var Xa=Ci(),Wa=Ci(!0);function qa(t){return t}function Ya(t){return Sr("function"==typeof t?t:Zn(t,1))}var $a=Ur((function(t,e){return function(n){return br(n,t,e)}})),Ka=Ur((function(t,e){return function(n){return br(t,n,e)}}));function Za(t,e,n){var r=xa(e),i=hr(e,r);null!=n||Vs(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=hr(e,xa(e)));var o=!(Vs(n)&&"chain"in n&&!n.chain),s=zs(t);return ae(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=yi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,fe([this.value()],arguments))})})),t}function Ja(){}var Qa=Oi(de),tl=Oi(ce),el=Oi(ve);function nl(t){return co(t)?Te(Mo(t)):function(t){return function(e){return pr(e,t)}}(t)}var rl=Li(),il=Li(!0);function ol(){return[]}function sl(){return!1}var al=Ri((function(t,e){return t+e}),0),ll=Ni("ceil"),cl=Ri((function(t,e){return t/e}),1),ul=Ni("floor");var hl,pl=Ri((function(t,e){return t*e}),1),dl=Ni("round"),fl=Ri((function(t,e){return t-e}),0);return Pn.after=function(t,e){if("function"!=typeof e)throw new vt(o);return t=ia(t),function(){if(--t<1)return e.apply(this,arguments)}},Pn.ary=vs,Pn.assign=ca,Pn.assignIn=ua,Pn.assignInWith=ha,Pn.assignWith=pa,Pn.at=da,Pn.before=ys,Pn.bind=bs,Pn.bindAll=ja,Pn.bindKey=_s,Pn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ls(t)?t:[t]},Pn.chain=ns,Pn.chunk=function(t,e,n){e=(n?lo(t,e,n):void 0===e)?1:an(ia(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,s=0,a=r(Qe(i/e));o<i;)a[s++]=Wr(t,o,o+=e);return a},Pn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Pn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return fe(Ls(n)?yi(n):[n],sr(e,1))},Pn.cond=function(t){var e=null==t?0:t.length,n=Zi();return t=e?de(t,(function(t){if("function"!=typeof t[1])throw new vt(o);return[n(t[0]),t[1]]})):[],Ur((function(n){for(var r=-1;++r<e;){var i=t[r];if(oe(i[0],this,n))return oe(i[1],this,n)}}))},Pn.conforms=function(t){return function(t){var e=xa(t);return function(n){return Jn(n,t,e)}}(Zn(t,1))},Pn.constant=Va,Pn.countBy=os,Pn.create=function(t,e){var n=Dn(t);return null==e?n:qn(n,e)},Pn.curry=function t(e,n,r){var i=Gi(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Pn.curryRight=function t(e,n,r){var i=Gi(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Pn.debounce=xs,Pn.defaults=fa,Pn.defaultsDeep=ma,Pn.defer=ws,Pn.delay=Es,Pn.difference=Do,Pn.differenceBy=Ro,Pn.differenceWith=Oo,Pn.drop=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,(e=n||void 0===e?1:ia(e))<0?0:e,r):[]},Pn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,0,(e=r-(e=n||void 0===e?1:ia(e)))<0?0:e):[]},Pn.dropRightWhile=function(t,e){return t&&t.length?ni(t,Zi(e,3),!0,!0):[]},Pn.dropWhile=function(t,e){return t&&t.length?ni(t,Zi(e,3),!0):[]},Pn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&lo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=ia(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ia(r))<0&&(r+=i),r=n>r?0:oa(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Pn.filter=function(t,e){return(Ls(t)?ue:or)(t,Zi(e,3))},Pn.flatMap=function(t,e){return sr(ds(t,e),1)},Pn.flatMapDeep=function(t,e){return sr(ds(t,e),1/0)},Pn.flatMapDepth=function(t,e,n){return n=void 0===n?1:ia(n),sr(ds(t,e),n)},Pn.flatten=ko,Pn.flattenDeep=function(t){return(null==t?0:t.length)?sr(t,1/0):[]},Pn.flattenDepth=function(t,e){return(null==t?0:t.length)?sr(t,e=void 0===e?1:ia(e)):[]},Pn.flip=function(t){return Gi(t,512)},Pn.flow=Xa,Pn.flowRight=Wa,Pn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Pn.functions=function(t){return null==t?[]:hr(t,xa(t))},Pn.functionsIn=function(t){return null==t?[]:hr(t,wa(t))},Pn.groupBy=us,Pn.initial=function(t){return(null==t?0:t.length)?Wr(t,0,-1):[]},Pn.intersection=No,Pn.intersectionBy=Bo,Pn.intersectionWith=Uo,Pn.invert=ya,Pn.invertBy=ba,Pn.invokeMap=hs,Pn.iteratee=Ya,Pn.keyBy=ps,Pn.keys=xa,Pn.keysIn=wa,Pn.map=ds,Pn.mapKeys=function(t,e){var n={};return e=Zi(e,3),cr(t,(function(t,r,i){Yn(n,e(t,r,i),t)})),n},Pn.mapValues=function(t,e){var n={};return e=Zi(e,3),cr(t,(function(t,r,i){Yn(n,r,e(t,r,i))})),n},Pn.matches=function(t){return Pr(Zn(t,1))},Pn.matchesProperty=function(t,e){return Dr(t,Zn(e,1))},Pn.memoize=Ss,Pn.merge=Ea,Pn.mergeWith=Sa,Pn.method=$a,Pn.methodOf=Ka,Pn.mixin=Za,Pn.negate=Ts,Pn.nthArg=function(t){return t=ia(t),Ur((function(e){return Or(e,t)}))},Pn.omit=Ta,Pn.omitBy=function(t,e){return Ma(t,Ts(Zi(e)))},Pn.once=function(t){return ys(2,t)},Pn.orderBy=function(t,e,n,r){return null==t?[]:(Ls(e)||(e=null==e?[]:[e]),Ls(n=r?void 0:n)||(n=null==n?[]:[n]),Ir(t,e,n))},Pn.over=Qa,Pn.overArgs=As,Pn.overEvery=tl,Pn.overSome=el,Pn.partial=Ms,Pn.partialRight=Cs,Pn.partition=fs,Pn.pick=Aa,Pn.pickBy=Ma,Pn.property=nl,Pn.propertyOf=function(t){return function(e){return null==t?void 0:pr(t,e)}},Pn.pull=zo,Pn.pullAll=Ho,Pn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?kr(t,e,Zi(n,2)):t},Pn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?kr(t,e,void 0,n):t},Pn.pullAt=jo,Pn.range=rl,Pn.rangeRight=il,Pn.rearg=Ps,Pn.reject=function(t,e){return(Ls(t)?ue:or)(t,Ts(Zi(e,3)))},Pn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Zi(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Fr(t,i),n},Pn.rest=function(t,e){if("function"!=typeof t)throw new vt(o);return Ur(t,e=void 0===e?e:ia(e))},Pn.reverse=Vo,Pn.sampleSize=function(t,e,n){return e=(n?lo(t,e,n):void 0===e)?1:ia(e),(Ls(t)?zn:zr)(t,e)},Pn.set=function(t,e,n){return null==t?t:Hr(t,e,n)},Pn.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Hr(t,e,n,r)},Pn.shuffle=function(t){return(Ls(t)?Hn:Xr)(t)},Pn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&lo(t,e,n)?(e=0,n=r):(e=null==e?0:ia(e),n=void 0===n?r:ia(n)),Wr(t,e,n)):[]},Pn.sortBy=ms,Pn.sortedUniq=function(t){return t&&t.length?Kr(t):[]},Pn.sortedUniqBy=function(t,e){return t&&t.length?Kr(t,Zi(e,2)):[]},Pn.split=function(t,e,n){return n&&"number"!=typeof n&&lo(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=la(t))&&("string"==typeof e||null!=e&&!$s(e))&&!(e=Jr(e))&&Ge(t)?ui(qe(t),0,n):t.split(e,n):[]},Pn.spread=function(t,e){if("function"!=typeof t)throw new vt(o);return e=null==e?0:an(ia(e),0),Ur((function(n){var r=n[e],i=ui(n,0,e);return r&&fe(i,r),oe(t,this,i)}))},Pn.tail=function(t){var e=null==t?0:t.length;return e?Wr(t,1,e):[]},Pn.take=function(t,e,n){return t&&t.length?Wr(t,0,(e=n||void 0===e?1:ia(e))<0?0:e):[]},Pn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,(e=r-(e=n||void 0===e?1:ia(e)))<0?0:e,r):[]},Pn.takeRightWhile=function(t,e){return t&&t.length?ni(t,Zi(e,3),!1,!0):[]},Pn.takeWhile=function(t,e){return t&&t.length?ni(t,Zi(e,3)):[]},Pn.tap=function(t,e){return e(t),t},Pn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new vt(o);return Vs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xs(t,e,{leading:r,maxWait:e,trailing:i})},Pn.thru=rs,Pn.toArray=na,Pn.toPairs=Ca,Pn.toPairsIn=Pa,Pn.toPath=function(t){return Ls(t)?de(t,Mo):Js(t)?[t]:yi(Ao(la(t)))},Pn.toPlainObject=aa,Pn.transform=function(t,e,n){var r=Ls(t),i=r||Bs(t)||Qs(t);if(e=Zi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Vs(t)&&zs(o)?Dn(Ht(t)):{}}return(i?ae:cr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Pn.unary=function(t){return vs(t,1)},Pn.union=Xo,Pn.unionBy=Wo,Pn.unionWith=qo,Pn.uniq=function(t){return t&&t.length?Qr(t):[]},Pn.uniqBy=function(t,e){return t&&t.length?Qr(t,Zi(e,2)):[]},Pn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Qr(t,void 0,e):[]},Pn.unset=function(t,e){return null==t||ti(t,e)},Pn.unzip=Yo,Pn.unzipWith=$o,Pn.update=function(t,e,n){return null==t?t:ei(t,e,ai(n))},Pn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:ei(t,e,ai(n),r)},Pn.values=Da,Pn.valuesIn=function(t){return null==t?[]:Oe(t,wa(t))},Pn.without=Ko,Pn.words=za,Pn.wrap=function(t,e){return Ms(ai(e),t)},Pn.xor=Zo,Pn.xorBy=Jo,Pn.xorWith=Qo,Pn.zip=ts,Pn.zipObject=function(t,e){return oi(t||[],e||[],Vn)},Pn.zipObjectDeep=function(t,e){return oi(t||[],e||[],Hr)},Pn.zipWith=es,Pn.entries=Ca,Pn.entriesIn=Pa,Pn.extend=ua,Pn.extendWith=ha,Za(Pn,Pn),Pn.add=al,Pn.attempt=Ha,Pn.camelCase=Ra,Pn.capitalize=Oa,Pn.ceil=ll,Pn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=sa(n))==n?n:0),void 0!==e&&(e=(e=sa(e))==e?e:0),Kn(sa(t),e,n)},Pn.clone=function(t){return Zn(t,4)},Pn.cloneDeep=function(t){return Zn(t,5)},Pn.cloneDeepWith=function(t,e){return Zn(t,5,e="function"==typeof e?e:void 0)},Pn.cloneWith=function(t,e){return Zn(t,4,e="function"==typeof e?e:void 0)},Pn.conformsTo=function(t,e){return null==e||Jn(t,e,xa(e))},Pn.deburr=Ia,Pn.defaultTo=function(t,e){return null==t||t!=t?e:t},Pn.divide=cl,Pn.endsWith=function(t,e,n){t=la(t),e=Jr(e);var r=t.length,i=n=void 0===n?r:Kn(ia(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Pn.eq=Ds,Pn.escape=function(t){return(t=la(t))&&U.test(t)?t.replace(N,Be):t},Pn.escapeRegExp=function(t){return(t=la(t))&&q.test(t)?t.replace(W,"\\$&"):t},Pn.every=function(t,e,n){var r=Ls(t)?ce:rr;return n&&lo(t,e,n)&&(e=void 0),r(t,Zi(e,3))},Pn.find=ss,Pn.findIndex=Io,Pn.findKey=function(t,e){return be(t,Zi(e,3),cr)},Pn.findLast=as,Pn.findLastIndex=Lo,Pn.findLastKey=function(t,e){return be(t,Zi(e,3),ur)},Pn.floor=ul,Pn.forEach=ls,Pn.forEachRight=cs,Pn.forIn=function(t,e){return null==t?t:ar(t,Zi(e,3),wa)},Pn.forInRight=function(t,e){return null==t?t:lr(t,Zi(e,3),wa)},Pn.forOwn=function(t,e){return t&&cr(t,Zi(e,3))},Pn.forOwnRight=function(t,e){return t&&ur(t,Zi(e,3))},Pn.get=ga,Pn.gt=Rs,Pn.gte=Os,Pn.has=function(t,e){return null!=t&&io(t,e,gr)},Pn.hasIn=va,Pn.head=Fo,Pn.identity=qa,Pn.includes=function(t,e,n,r){t=Fs(t)?t:Da(t),n=n&&!r?ia(n):0;var i=t.length;return n<0&&(n=an(i+n,0)),Zs(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&xe(t,e,n)>-1},Pn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=an(r+i,0)),xe(t,e,i)},Pn.inRange=function(t,e,n){return e=ra(e),void 0===n?(n=e,e=0):n=ra(n),function(t,e,n){return t>=ln(e,n)&&t<an(e,n)}(t=sa(t),e,n)},Pn.invoke=_a,Pn.isArguments=Is,Pn.isArray=Ls,Pn.isArrayBuffer=ks,Pn.isArrayLike=Fs,Pn.isArrayLikeObject=Ns,Pn.isBoolean=function(t){return!0===t||!1===t||Xs(t)&&fr(t)==u},Pn.isBuffer=Bs,Pn.isDate=Us,Pn.isElement=function(t){return Xs(t)&&1===t.nodeType&&!Ys(t)},Pn.isEmpty=function(t){if(null==t)return!0;if(Fs(t)&&(Ls(t)||"string"==typeof t||"function"==typeof t.splice||Bs(t)||Qs(t)||Is(t)))return!t.length;var e=ro(t);if(e==m||e==b)return!t.size;if(po(t))return!Tr(t).length;for(var n in t)if(Et.call(t,n))return!1;return!0},Pn.isEqual=function(t,e){return xr(t,e)},Pn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?xr(t,e,void 0,n):!!r},Pn.isError=Gs,Pn.isFinite=function(t){return"number"==typeof t&&rn(t)},Pn.isFunction=zs,Pn.isInteger=Hs,Pn.isLength=js,Pn.isMap=Ws,Pn.isMatch=function(t,e){return t===e||wr(t,e,Qi(e))},Pn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,wr(t,e,Qi(e),n)},Pn.isNaN=function(t){return qs(t)&&t!=+t},Pn.isNative=function(t){if(ho(t))throw new $("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Er(t)},Pn.isNil=function(t){return null==t},Pn.isNull=function(t){return null===t},Pn.isNumber=qs,Pn.isObject=Vs,Pn.isObjectLike=Xs,Pn.isPlainObject=Ys,Pn.isRegExp=$s,Pn.isSafeInteger=function(t){return Hs(t)&&t>=-9007199254740991&&t<=9007199254740991},Pn.isSet=Ks,Pn.isString=Zs,Pn.isSymbol=Js,Pn.isTypedArray=Qs,Pn.isUndefined=function(t){return void 0===t},Pn.isWeakMap=function(t){return Xs(t)&&ro(t)==w},Pn.isWeakSet=function(t){return Xs(t)&&"[object WeakSet]"==fr(t)},Pn.join=function(t,e){return null==t?"":on.call(t,e)},Pn.kebabCase=La,Pn.last=Go,Pn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ia(n))<0?an(r+i,0):ln(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):_e(t,Ee,i,!0)},Pn.lowerCase=ka,Pn.lowerFirst=Fa,Pn.lt=ta,Pn.lte=ea,Pn.max=function(t){return t&&t.length?ir(t,qa,mr):void 0},Pn.maxBy=function(t,e){return t&&t.length?ir(t,Zi(e,2),mr):void 0},Pn.mean=function(t){return Se(t,qa)},Pn.meanBy=function(t,e){return Se(t,Zi(e,2))},Pn.min=function(t){return t&&t.length?ir(t,qa,Mr):void 0},Pn.minBy=function(t,e){return t&&t.length?ir(t,Zi(e,2),Mr):void 0},Pn.stubArray=ol,Pn.stubFalse=sl,Pn.stubObject=function(){return{}},Pn.stubString=function(){return""},Pn.stubTrue=function(){return!0},Pn.multiply=pl,Pn.nth=function(t,e){return t&&t.length?Or(t,ia(e)):void 0},Pn.noConflict=function(){return qt._===this&&(qt._=Ct),this},Pn.noop=Ja,Pn.now=gs,Pn.pad=function(t,e,n){t=la(t);var r=(e=ia(e))?We(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ii(tn(i),n)+t+Ii(Qe(i),n)},Pn.padEnd=function(t,e,n){t=la(t);var r=(e=ia(e))?We(t):0;return e&&r<e?t+Ii(e-r,n):t},Pn.padStart=function(t,e,n){t=la(t);var r=(e=ia(e))?We(t):0;return e&&r<e?Ii(e-r,n)+t:t},Pn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),un(la(t).replace(Y,""),e||0)},Pn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&lo(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ra(t),void 0===e?(e=t,t=0):e=ra(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=hn();return ln(t+i*(e-t+jt("1e-"+((i+"").length-1))),e)}return Nr(t,e)},Pn.reduce=function(t,e,n){var r=Ls(t)?me:Me,i=arguments.length<3;return r(t,Zi(e,4),n,i,er)},Pn.reduceRight=function(t,e,n){var r=Ls(t)?ge:Me,i=arguments.length<3;return r(t,Zi(e,4),n,i,nr)},Pn.repeat=function(t,e,n){return e=(n?lo(t,e,n):void 0===e)?1:ia(e),Br(la(t),e)},Pn.replace=function(){var t=arguments,e=la(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Pn.result=function(t,e,n){var r=-1,i=(e=li(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[Mo(e[r])];void 0===o&&(r=i,o=n),t=zs(o)?o.call(t):o}return t},Pn.round=dl,Pn.runInContext=t,Pn.sample=function(t){return(Ls(t)?Gn:Gr)(t)},Pn.size=function(t){if(null==t)return 0;if(Fs(t))return Zs(t)?We(t):t.length;var e=ro(t);return e==m||e==b?t.size:Tr(t).length},Pn.snakeCase=Na,Pn.some=function(t,e,n){var r=Ls(t)?ve:qr;return n&&lo(t,e,n)&&(e=void 0),r(t,Zi(e,3))},Pn.sortedIndex=function(t,e){return Yr(t,e)},Pn.sortedIndexBy=function(t,e,n){return $r(t,e,Zi(n,2))},Pn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Yr(t,e);if(r<n&&Ds(t[r],e))return r}return-1},Pn.sortedLastIndex=function(t,e){return Yr(t,e,!0)},Pn.sortedLastIndexBy=function(t,e,n){return $r(t,e,Zi(n,2),!0)},Pn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Yr(t,e,!0)-1;if(Ds(t[n],e))return n}return-1},Pn.startCase=Ba,Pn.startsWith=function(t,e,n){return t=la(t),n=null==n?0:Kn(ia(n),0,t.length),e=Jr(e),t.slice(n,n+e.length)==e},Pn.subtract=fl,Pn.sum=function(t){return t&&t.length?Ce(t,qa):0},Pn.sumBy=function(t,e){return t&&t.length?Ce(t,Zi(e,2)):0},Pn.template=function(t,e,n){var r=Pn.templateSettings;n&&lo(t,e,n)&&(e=void 0),t=la(t),e=ha({},e,r,zi);var i,o,s=ha({},e.imports,r.imports,zi),a=xa(s),l=Oe(s,a),c=0,u=e.interpolate||ut,h="__p += '",p=mt((e.escape||ut).source+"|"+u.source+"|"+(u===H?nt:ut).source+"|"+(e.evaluate||ut).source+"|$","g"),d="//# sourceURL="+(Et.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ut+"]")+"\n";t.replace(p,(function(e,n,r,s,a,l){return r||(r=s),h+=t.slice(c,l).replace(ht,Ue),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),h+="';\n";var f=Et.call(e,"variable")&&e.variable;if(f){if(tt.test(f))throw new $("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(I,""):h).replace(L,"$1").replace(k,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Ha((function(){return pt(a,d+"return "+h).apply(void 0,l)}));if(m.source=h,Gs(m))throw m;return m},Pn.times=function(t,e){if((t=ia(t))<1||t>9007199254740991)return[];var n=4294967295,r=ln(t,4294967295);t-=4294967295;for(var i=Pe(r,e=Zi(e));++n<t;)e(n);return i},Pn.toFinite=ra,Pn.toInteger=ia,Pn.toLength=oa,Pn.toLower=function(t){return la(t).toLowerCase()},Pn.toNumber=sa,Pn.toSafeInteger=function(t){return t?Kn(ia(t),-9007199254740991,9007199254740991):0===t?t:0},Pn.toString=la,Pn.toUpper=function(t){return la(t).toUpperCase()},Pn.trim=function(t,e,n){if((t=la(t))&&(n||void 0===e))return De(t);if(!t||!(e=Jr(e)))return t;var r=qe(t),i=qe(e);return ui(r,Le(r,i),ke(r,i)+1).join("")},Pn.trimEnd=function(t,e,n){if((t=la(t))&&(n||void 0===e))return t.slice(0,Ye(t)+1);if(!t||!(e=Jr(e)))return t;var r=qe(t);return ui(r,0,ke(r,qe(e))+1).join("")},Pn.trimStart=function(t,e,n){if((t=la(t))&&(n||void 0===e))return t.replace(Y,"");if(!t||!(e=Jr(e)))return t;var r=qe(t);return ui(r,Le(r,qe(e))).join("")},Pn.truncate=function(t,e){var n=30,r="...";if(Vs(e)){var i="separator"in e?e.separator:i;n="length"in e?ia(e.length):n,r="omission"in e?Jr(e.omission):r}var o=(t=la(t)).length;if(Ge(t)){var s=qe(t);o=s.length}if(n>=o)return t;var a=n-We(r);if(a<1)return r;var l=s?ui(s,0,a).join(""):t.slice(0,a);if(void 0===i)return l+r;if(s&&(a+=l.length-a),$s(i)){if(t.slice(a).search(i)){var c,u=l;for(i.global||(i=mt(i.source,la(rt.exec(i))+"g")),i.lastIndex=0;c=i.exec(u);)var h=c.index;l=l.slice(0,void 0===h?a:h)}}else if(t.indexOf(Jr(i),a)!=a){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+r},Pn.unescape=function(t){return(t=la(t))&&B.test(t)?t.replace(F,$e):t},Pn.uniqueId=function(t){var e=++St;return la(t)+e},Pn.upperCase=Ua,Pn.upperFirst=Ga,Pn.each=ls,Pn.eachRight=cs,Pn.first=Fo,Za(Pn,(hl={},cr(Pn,(function(t,e){Et.call(Pn.prototype,e)||(hl[e]=t)})),hl),{chain:!1}),Pn.VERSION="4.17.21",ae(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Pn[t].placeholder=Pn})),ae(["drop","take"],(function(t,e){In.prototype[t]=function(n){n=void 0===n?1:an(ia(n),0);var r=this.__filtered__&&!e?new In(this):this.clone();return r.__filtered__?r.__takeCount__=ln(n,r.__takeCount__):r.__views__.push({size:ln(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},In.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ae(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;In.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Zi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ae(["head","last"],(function(t,e){var n="take"+(e?"Right":"");In.prototype[t]=function(){return this[n](1).value()[0]}})),ae(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");In.prototype[t]=function(){return this.__filtered__?new In(this):this[n](1)}})),In.prototype.compact=function(){return this.filter(qa)},In.prototype.find=function(t){return this.filter(t).head()},In.prototype.findLast=function(t){return this.reverse().find(t)},In.prototype.invokeMap=Ur((function(t,e){return"function"==typeof t?new In(this):this.map((function(n){return br(n,t,e)}))})),In.prototype.reject=function(t){return this.filter(Ts(Zi(t)))},In.prototype.slice=function(t,e){t=ia(t);var n=this;return n.__filtered__&&(t>0||e<0)?new In(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ia(e))<0?n.dropRight(-e):n.take(e-t)),n)},In.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},In.prototype.toArray=function(){return this.take(4294967295)},cr(In.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Pn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(Pn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,a=e instanceof In,l=s[0],c=a||Ls(e),u=function(t){var e=i.apply(Pn,fe([t],s));return r&&h?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(a=c=!1);var h=this.__chain__,p=!!this.__actions__.length,d=o&&!h,f=a&&!p;if(!o&&c){e=f?e:new In(this);var m=t.apply(e,s);return m.__actions__.push({func:rs,args:[u],thisArg:void 0}),new On(m,h)}return d&&f?t.apply(this,s):(m=this.thru(u),d?r?m.value()[0]:m.value():m)})})),ae(["pop","push","shift","sort","splice","unshift"],(function(t){var e=yt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Pn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ls(i)?i:[],t)}return this[n]((function(n){return e.apply(Ls(n)?n:[],t)}))}})),cr(In.prototype,(function(t,e){var n=Pn[e];if(n){var r=n.name+"";Et.call(_n,r)||(_n[r]=[]),_n[r].push({name:e,func:n})}})),_n[Pi(void 0,2).name]=[{name:"wrapper",func:void 0}],In.prototype.clone=function(){var t=new In(this.__wrapped__);return t.__actions__=yi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=yi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=yi(this.__views__),t},In.prototype.reverse=function(){if(this.__filtered__){var t=new In(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},In.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ls(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=ln(e,t+s);break;case"takeRight":t=an(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,h=u.length,p=0,d=ln(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return ri(t,this.__actions__);var f=[];t:for(;l--&&p<d;){for(var m=-1,g=t[c+=e];++m<h;){var v=u[m],y=v.iteratee,b=v.type,_=y(g);if(2==b)g=_;else if(!_){if(1==b)continue t;break t}}f[p++]=g}return f},Pn.prototype.at=is,Pn.prototype.chain=function(){return ns(this)},Pn.prototype.commit=function(){return new On(this.value(),this.__chain__)},Pn.prototype.next=function(){void 0===this.__values__&&(this.__values__=na(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Pn.prototype.plant=function(t){for(var e,n=this;n instanceof Rn;){var r=Po(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Pn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof In){var e=t;return this.__actions__.length&&(e=new In(this)),(e=e.reverse()).__actions__.push({func:rs,args:[Vo],thisArg:void 0}),new On(e,this.__chain__)}return this.thru(Vo)},Pn.prototype.toJSON=Pn.prototype.valueOf=Pn.prototype.value=function(){return ri(this.__wrapped__,this.__actions__)},Pn.prototype.first=Pn.prototype.head,Zt&&(Pn.prototype[Zt]=function(){return this}),Pn}();qt._=Ke,void 0===(i=function(){return Ke}.call(e,n,e,r))||(r.exports=i)}).call(this)}).call(this,n("yLpj"),n("YuTi")(t))},MgzW:function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,l=s(t),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(l[u]=n[u]);if(r){a=r(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(l[a[h]]=n[a[h]])}}return l}},NlKh:function(t,e){},Ofh6:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'/*! locomotive-scroll v4.1.3 | MIT License | https://github.com/locomotivemtl/locomotive-scroll */\nhtml.has-scroll-smooth {\n  overflow: hidden; }\n\nhtml.has-scroll-dragging {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none; }\n\n.has-scroll-smooth body {\n  overflow: hidden; }\n\n.has-scroll-smooth [data-scroll-container] {\n  min-height: 100vh; }\n\n[data-scroll-direction="horizontal"] [data-scroll-container] {\n  height: 100vh;\n  display: inline-block;\n  white-space: nowrap; }\n\n[data-scroll-direction="horizontal"] [data-scroll-section] {\n  display: inline-block;\n  vertical-align: top;\n  white-space: nowrap;\n  height: 100%; }\n\n.c-scrollbar {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 11px;\n  height: 100%;\n  transform-origin: center right;\n  transition: transform 0.3s, opacity 0.3s;\n  opacity: 0; }\n  .c-scrollbar:hover {\n    transform: scaleX(1.45); }\n  .c-scrollbar:hover, .has-scroll-scrolling .c-scrollbar, .has-scroll-dragging .c-scrollbar {\n    opacity: 1; }\n  [data-scroll-direction="horizontal"] .c-scrollbar {\n    width: 100%;\n    height: 10px;\n    top: auto;\n    bottom: 0;\n    transform: scaleY(1); }\n    [data-scroll-direction="horizontal"] .c-scrollbar:hover {\n      transform: scaleY(1.3); }\n\n.c-scrollbar_thumb {\n  position: absolute;\n  top: 0;\n  right: 0;\n  background-color: black;\n  opacity: 0.5;\n  width: 7px;\n  border-radius: 10px;\n  margin: 2px;\n  cursor: grab; }\n  .has-scroll-dragging .c-scrollbar_thumb {\n    cursor: grabbing; }\n  [data-scroll-direction="horizontal"] .c-scrollbar_thumb {\n    right: auto;\n    bottom: 0; }\n',""])},PDX0:function(t,e){(function(e){t.exports=e}).call(this,{})},PMrG:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"/**\n * Swiper 9.4.1\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * https://swiperjs.com\n *\n * Copyright 2014-2023 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: June 13, 2023\n */\n\n/* FONT_START */\n@font-face {\n  font-family: 'swiper-icons';\n  src: url('data:application/font-woff;charset=utf-8;base64, d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA');\n  font-weight: 400;\n  font-style: normal;\n}\n/* FONT_END */\n:root {\n  --swiper-theme-color: #007aff;\n  /*\n  --swiper-preloader-color: var(--swiper-theme-color);\n  --swiper-wrapper-transition-timing-function: initial;\n  */\n}\n.swiper,\nswiper-container {\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n  overflow: hidden;\n  list-style: none;\n  padding: 0;\n  /* Fix of Webkit flickering */\n  z-index: 1;\n  display: block;\n}\n.swiper-vertical > .swiper-wrapper {\n  flex-direction: column;\n}\n.swiper-wrapper {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  display: flex;\n  transition-property: transform;\n  transition-timing-function: var(--swiper-wrapper-transition-timing-function, initial);\n  box-sizing: content-box;\n}\n.swiper-android .swiper-slide,\n.swiper-wrapper {\n  transform: translate3d(0px, 0, 0);\n}\n.swiper-horizontal {\n  touch-action: pan-y;\n}\n.swiper-vertical {\n  touch-action: pan-x;\n}\n.swiper-slide,\nswiper-slide {\n  flex-shrink: 0;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  transition-property: transform;\n  display: block;\n}\n.swiper-slide-invisible-blank {\n  visibility: hidden;\n}\n/* Auto Height */\n.swiper-autoheight,\n.swiper-autoheight .swiper-slide {\n  height: auto;\n}\n.swiper-autoheight .swiper-wrapper {\n  align-items: flex-start;\n  transition-property: transform, height;\n}\n.swiper-backface-hidden .swiper-slide {\n  transform: translateZ(0);\n  backface-visibility: hidden;\n}\n/* 3D Effects */\n.swiper-3d.swiper-css-mode .swiper-wrapper {\n  perspective: 1200px;\n}\n.swiper-3d .swiper-wrapper {\n  transform-style: preserve-3d;\n}\n.swiper-3d {\n  perspective: 1200px;\n}\n.swiper-3d .swiper-slide,\n.swiper-3d .swiper-slide-shadow,\n.swiper-3d .swiper-slide-shadow-left,\n.swiper-3d .swiper-slide-shadow-right,\n.swiper-3d .swiper-slide-shadow-top,\n.swiper-3d .swiper-slide-shadow-bottom,\n.swiper-3d .swiper-cube-shadow {\n  transform-style: preserve-3d;\n}\n.swiper-3d .swiper-slide-shadow,\n.swiper-3d .swiper-slide-shadow-left,\n.swiper-3d .swiper-slide-shadow-right,\n.swiper-3d .swiper-slide-shadow-top,\n.swiper-3d .swiper-slide-shadow-bottom {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  z-index: 10;\n}\n.swiper-3d .swiper-slide-shadow {\n  background: rgba(0, 0, 0, 0.15);\n}\n.swiper-3d .swiper-slide-shadow-left {\n  background-image: linear-gradient(to left, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0));\n}\n.swiper-3d .swiper-slide-shadow-right {\n  background-image: linear-gradient(to right, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0));\n}\n.swiper-3d .swiper-slide-shadow-top {\n  background-image: linear-gradient(to top, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0));\n}\n.swiper-3d .swiper-slide-shadow-bottom {\n  background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0));\n}\n/* CSS Mode */\n.swiper-css-mode > .swiper-wrapper {\n  overflow: auto;\n  scrollbar-width: none;\n  /* For Firefox */\n  -ms-overflow-style: none;\n  /* For Internet Explorer and Edge */\n}\n.swiper-css-mode > .swiper-wrapper::-webkit-scrollbar {\n  display: none;\n}\n.swiper-css-mode > .swiper-wrapper > .swiper-slide {\n  scroll-snap-align: start start;\n}\n.swiper-horizontal.swiper-css-mode > .swiper-wrapper {\n  scroll-snap-type: x mandatory;\n}\n.swiper-vertical.swiper-css-mode > .swiper-wrapper {\n  scroll-snap-type: y mandatory;\n}\n.swiper-css-mode.swiper-free-mode > .swiper-wrapper {\n  scroll-snap-type: none;\n}\n.swiper-css-mode.swiper-free-mode > .swiper-wrapper > .swiper-slide {\n  scroll-snap-align: none;\n}\n.swiper-centered > .swiper-wrapper::before {\n  content: '';\n  flex-shrink: 0;\n  order: 9999;\n}\n.swiper-centered > .swiper-wrapper > .swiper-slide {\n  scroll-snap-align: center center;\n  scroll-snap-stop: always;\n}\n.swiper-centered.swiper-horizontal > .swiper-wrapper > .swiper-slide:first-child {\n  margin-inline-start: var(--swiper-centered-offset-before);\n}\n.swiper-centered.swiper-horizontal > .swiper-wrapper::before {\n  height: 100%;\n  min-height: 1px;\n  width: var(--swiper-centered-offset-after);\n}\n.swiper-centered.swiper-vertical > .swiper-wrapper > .swiper-slide:first-child {\n  margin-block-start: var(--swiper-centered-offset-before);\n}\n.swiper-centered.swiper-vertical > .swiper-wrapper::before {\n  width: 100%;\n  min-width: 1px;\n  height: var(--swiper-centered-offset-after);\n}\n.swiper-lazy-preloader {\n  width: 42px;\n  height: 42px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -21px;\n  margin-top: -21px;\n  z-index: 10;\n  transform-origin: 50%;\n  box-sizing: border-box;\n  border: 4px solid var(--swiper-preloader-color, var(--swiper-theme-color));\n  border-radius: 50%;\n  border-top-color: transparent;\n}\n.swiper:not(.swiper-watch-progress) .swiper-lazy-preloader,\nswiper-container:not(.swiper-watch-progress) .swiper-lazy-preloader,\n.swiper-watch-progress .swiper-slide-visible .swiper-lazy-preloader {\n  animation: swiper-preloader-spin 1s infinite linear;\n}\n.swiper-lazy-preloader-white {\n  --swiper-preloader-color: #fff;\n}\n.swiper-lazy-preloader-black {\n  --swiper-preloader-color: #000;\n}\n@keyframes swiper-preloader-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.swiper-virtual .swiper-slide {\n  -webkit-backface-visibility: hidden;\n  transform: translateZ(0);\n}\n.swiper-virtual.swiper-css-mode .swiper-wrapper::after {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n}\n.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after {\n  height: 1px;\n  width: var(--swiper-virtual-size);\n}\n.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after {\n  width: 1px;\n  height: var(--swiper-virtual-size);\n}\n:root {\n  --swiper-navigation-size: 44px;\n  /*\n  --swiper-navigation-top-offset: 50%;\n  --swiper-navigation-sides-offset: 10px;\n  --swiper-navigation-color: var(--swiper-theme-color);\n  */\n}\n.swiper-button-prev,\n.swiper-button-next {\n  position: absolute;\n  top: var(--swiper-navigation-top-offset, 50%);\n  width: calc(var(--swiper-navigation-size) / 44 * 27);\n  height: var(--swiper-navigation-size);\n  margin-top: calc(0px - (var(--swiper-navigation-size) / 2));\n  z-index: 10;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--swiper-navigation-color, var(--swiper-theme-color));\n}\n.swiper-button-prev.swiper-button-disabled,\n.swiper-button-next.swiper-button-disabled {\n  opacity: 0.35;\n  cursor: auto;\n  pointer-events: none;\n}\n.swiper-button-prev.swiper-button-hidden,\n.swiper-button-next.swiper-button-hidden {\n  opacity: 0;\n  cursor: auto;\n  pointer-events: none;\n}\n.swiper-navigation-disabled .swiper-button-prev,\n.swiper-navigation-disabled .swiper-button-next {\n  display: none !important;\n}\n.swiper-button-prev:after,\n.swiper-button-next:after {\n  font-family: swiper-icons;\n  font-size: var(--swiper-navigation-size);\n  text-transform: none !important;\n  letter-spacing: 0;\n  font-variant: initial;\n  line-height: 1;\n}\n.swiper-button-prev,\n.swiper-rtl .swiper-button-next {\n  left: var(--swiper-navigation-sides-offset, 10px);\n  right: auto;\n}\n.swiper-button-prev:after,\n.swiper-rtl .swiper-button-next:after {\n  content: 'prev';\n}\n.swiper-button-next,\n.swiper-rtl .swiper-button-prev {\n  right: var(--swiper-navigation-sides-offset, 10px);\n  left: auto;\n}\n.swiper-button-next:after,\n.swiper-rtl .swiper-button-prev:after {\n  content: 'next';\n}\n.swiper-button-lock {\n  display: none;\n}\n:root {\n  /*\n  --swiper-pagination-color: var(--swiper-theme-color);\n  --swiper-pagination-left: auto;\n  --swiper-pagination-right: 8px;\n  --swiper-pagination-bottom: 8px;\n  --swiper-pagination-top: auto;\n  --swiper-pagination-fraction-color: inherit;\n  --swiper-pagination-progressbar-bg-color: rgba(0,0,0,0.25);\n  --swiper-pagination-progressbar-size: 4px;\n  --swiper-pagination-bullet-size: 8px;\n  --swiper-pagination-bullet-width: 8px;\n  --swiper-pagination-bullet-height: 8px;\n  --swiper-pagination-bullet-border-radius: 50%;\n  --swiper-pagination-bullet-inactive-color: #000;\n  --swiper-pagination-bullet-inactive-opacity: 0.2;\n  --swiper-pagination-bullet-opacity: 1;\n  --swiper-pagination-bullet-horizontal-gap: 4px;\n  --swiper-pagination-bullet-vertical-gap: 6px;\n  */\n}\n.swiper-pagination {\n  position: absolute;\n  text-align: center;\n  transition: 300ms opacity;\n  transform: translate3d(0, 0, 0);\n  z-index: 10;\n}\n.swiper-pagination.swiper-pagination-hidden {\n  opacity: 0;\n}\n.swiper-pagination-disabled > .swiper-pagination,\n.swiper-pagination.swiper-pagination-disabled {\n  display: none !important;\n}\n/* Common Styles */\n.swiper-pagination-fraction,\n.swiper-pagination-custom,\n.swiper-horizontal > .swiper-pagination-bullets,\n.swiper-pagination-bullets.swiper-pagination-horizontal {\n  bottom: var(--swiper-pagination-bottom, 8px);\n  top: var(--swiper-pagination-top, auto);\n  left: 0;\n  width: 100%;\n}\n/* Bullets */\n.swiper-pagination-bullets-dynamic {\n  overflow: hidden;\n  font-size: 0;\n}\n.swiper-pagination-bullets-dynamic .swiper-pagination-bullet {\n  transform: scale(0.33);\n  position: relative;\n}\n.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active {\n  transform: scale(1);\n}\n.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main {\n  transform: scale(1);\n}\n.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev {\n  transform: scale(0.66);\n}\n.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev {\n  transform: scale(0.33);\n}\n.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next {\n  transform: scale(0.66);\n}\n.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next {\n  transform: scale(0.33);\n}\n.swiper-pagination-bullet {\n  width: var(--swiper-pagination-bullet-width, var(--swiper-pagination-bullet-size, 8px));\n  height: var(--swiper-pagination-bullet-height, var(--swiper-pagination-bullet-size, 8px));\n  display: inline-block;\n  border-radius: var(--swiper-pagination-bullet-border-radius, 50%);\n  background: var(--swiper-pagination-bullet-inactive-color, #000);\n  opacity: var(--swiper-pagination-bullet-inactive-opacity, 0.2);\n}\nbutton.swiper-pagination-bullet {\n  border: none;\n  margin: 0;\n  padding: 0;\n  box-shadow: none;\n  -webkit-appearance: none;\n          -moz-appearance: none;\n       appearance: none;\n}\n.swiper-pagination-clickable .swiper-pagination-bullet {\n  cursor: pointer;\n}\n.swiper-pagination-bullet:only-child {\n  display: none !important;\n}\n.swiper-pagination-bullet-active {\n  opacity: var(--swiper-pagination-bullet-opacity, 1);\n  background: var(--swiper-pagination-color, var(--swiper-theme-color));\n}\n.swiper-vertical > .swiper-pagination-bullets,\n.swiper-pagination-vertical.swiper-pagination-bullets {\n  right: var(--swiper-pagination-right, 8px);\n  left: var(--swiper-pagination-left, auto);\n  top: 50%;\n  transform: translate3d(0px, -50%, 0);\n}\n.swiper-vertical > .swiper-pagination-bullets .swiper-pagination-bullet,\n.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet {\n  margin: var(--swiper-pagination-bullet-vertical-gap, 6px) 0;\n  display: block;\n}\n.swiper-vertical > .swiper-pagination-bullets.swiper-pagination-bullets-dynamic,\n.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic {\n  top: 50%;\n  transform: translateY(-50%);\n  width: 8px;\n}\n.swiper-vertical > .swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,\n.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet {\n  display: inline-block;\n  transition: 200ms transform, 200ms top;\n}\n.swiper-horizontal > .swiper-pagination-bullets .swiper-pagination-bullet,\n.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet {\n  margin: 0 var(--swiper-pagination-bullet-horizontal-gap, 4px);\n}\n.swiper-horizontal > .swiper-pagination-bullets.swiper-pagination-bullets-dynamic,\n.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic {\n  left: 50%;\n  transform: translateX(-50%);\n  white-space: nowrap;\n}\n.swiper-horizontal > .swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,\n.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet {\n  transition: 200ms transform, 200ms left;\n}\n.swiper-horizontal.swiper-rtl > .swiper-pagination-bullets-dynamic .swiper-pagination-bullet,\n:host(.swiper-horizontal.swiper-rtl) .swiper-pagination-bullets-dynamic .swiper-pagination-bullet {\n  transition: 200ms transform, 200ms right;\n}\n/* Fraction */\n.swiper-pagination-fraction {\n  color: var(--swiper-pagination-fraction-color, inherit);\n}\n/* Progress */\n.swiper-pagination-progressbar {\n  background: var(--swiper-pagination-progressbar-bg-color, rgba(0, 0, 0, 0.25));\n  position: absolute;\n  /*ADD_HOST*/\n}\n.swiper-pagination-progressbar .swiper-pagination-progressbar-fill {\n  background: var(--swiper-pagination-color, var(--swiper-theme-color));\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  transform: scale(0);\n  transform-origin: left top;\n}\n.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill {\n  transform-origin: right top;\n}\n.swiper-horizontal > .swiper-pagination-progressbar,\n.swiper-pagination-progressbar.swiper-pagination-horizontal,\n.swiper-vertical > .swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,\n.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite {\n  width: 100%;\n  height: var(--swiper-pagination-progressbar-size, 4px);\n  left: 0;\n  top: 0;\n}\n.swiper-vertical > .swiper-pagination-progressbar,\n.swiper-pagination-progressbar.swiper-pagination-vertical,\n.swiper-horizontal > .swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,\n.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite {\n  width: var(--swiper-pagination-progressbar-size, 4px);\n  height: 100%;\n  left: 0;\n  top: 0;\n}\n.swiper-pagination-lock {\n  display: none;\n}\n:root {\n  /*\n  --swiper-scrollbar-border-radius: 10px;\n  --swiper-scrollbar-top: auto;\n  --swiper-scrollbar-bottom: 4px;\n  --swiper-scrollbar-left: auto;\n  --swiper-scrollbar-right: 4px;\n  --swiper-scrollbar-sides-offset: 1%;\n  --swiper-scrollbar-bg-color: rgba(0, 0, 0, 0.1);\n  --swiper-scrollbar-drag-bg-color: rgba(0, 0, 0, 0.5);\n  --swiper-scrollbar-size: 4px;\n  */\n}\n.swiper-scrollbar {\n  border-radius: var(--swiper-scrollbar-border-radius, 10px);\n  position: relative;\n  -ms-touch-action: none;\n  background: var(--swiper-scrollbar-bg-color, rgba(0, 0, 0, 0.1));\n}\n.swiper-scrollbar-disabled > .swiper-scrollbar,\n.swiper-scrollbar.swiper-scrollbar-disabled {\n  display: none !important;\n}\n.swiper-horizontal > .swiper-scrollbar,\n.swiper-scrollbar.swiper-scrollbar-horizontal {\n  position: absolute;\n  left: var(--swiper-scrollbar-sides-offset, 1%);\n  bottom: var(--swiper-scrollbar-bottom, 4px);\n  top: var(--swiper-scrollbar-top, auto);\n  z-index: 50;\n  height: var(--swiper-scrollbar-size, 4px);\n  width: calc(100% - 2 * var(--swiper-scrollbar-sides-offset, 1%));\n}\n.swiper-vertical > .swiper-scrollbar,\n.swiper-scrollbar.swiper-scrollbar-vertical {\n  position: absolute;\n  left: var(--swiper-scrollbar-left, auto);\n  right: var(--swiper-scrollbar-right, 4px);\n  top: var(--swiper-scrollbar-sides-offset, 1%);\n  z-index: 50;\n  width: var(--swiper-scrollbar-size, 4px);\n  height: calc(100% - 2 * var(--swiper-scrollbar-sides-offset, 1%));\n}\n.swiper-scrollbar-drag {\n  height: 100%;\n  width: 100%;\n  position: relative;\n  background: var(--swiper-scrollbar-drag-bg-color, rgba(0, 0, 0, 0.5));\n  border-radius: var(--swiper-scrollbar-border-radius, 10px);\n  left: 0;\n  top: 0;\n}\n.swiper-scrollbar-cursor-drag {\n  cursor: move;\n}\n.swiper-scrollbar-lock {\n  display: none;\n}\n.swiper-zoom-container {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\n.swiper-zoom-container > img,\n.swiper-zoom-container > svg,\n.swiper-zoom-container > canvas {\n  max-width: 100%;\n  max-height: 100%;\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n.swiper-slide-zoomed {\n  cursor: move;\n  touch-action: none;\n}\n/* a11y */\n.swiper .swiper-notification,\nswiper-container .swiper-notification {\n  position: absolute;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  opacity: 0;\n  z-index: -1000;\n}\n.swiper-free-mode > .swiper-wrapper {\n  transition-timing-function: ease-out;\n  margin: 0 auto;\n}\n.swiper-grid > .swiper-wrapper {\n  flex-wrap: wrap;\n}\n.swiper-grid-column > .swiper-wrapper {\n  flex-wrap: wrap;\n  flex-direction: column;\n}\n.swiper-fade.swiper-free-mode .swiper-slide {\n  transition-timing-function: ease-out;\n}\n.swiper-fade .swiper-slide {\n  pointer-events: none;\n  transition-property: opacity;\n}\n.swiper-fade .swiper-slide .swiper-slide {\n  pointer-events: none;\n}\n.swiper-fade .swiper-slide-active,\n.swiper-fade .swiper-slide-active .swiper-slide-active {\n  pointer-events: auto;\n}\n.swiper-cube {\n  overflow: visible;\n}\n.swiper-cube .swiper-slide {\n  pointer-events: none;\n  backface-visibility: hidden;\n  z-index: 1;\n  visibility: hidden;\n  transform-origin: 0 0;\n  width: 100%;\n  height: 100%;\n}\n.swiper-cube .swiper-slide .swiper-slide {\n  pointer-events: none;\n}\n.swiper-cube.swiper-rtl .swiper-slide {\n  transform-origin: 100% 0;\n}\n.swiper-cube .swiper-slide-active,\n.swiper-cube .swiper-slide-active .swiper-slide-active {\n  pointer-events: auto;\n}\n.swiper-cube .swiper-slide-active,\n.swiper-cube .swiper-slide-next,\n.swiper-cube .swiper-slide-prev,\n.swiper-cube .swiper-slide-next + .swiper-slide {\n  pointer-events: auto;\n  visibility: visible;\n}\n.swiper-cube .swiper-slide-shadow-top,\n.swiper-cube .swiper-slide-shadow-bottom,\n.swiper-cube .swiper-slide-shadow-left,\n.swiper-cube .swiper-slide-shadow-right {\n  z-index: 0;\n  backface-visibility: hidden;\n}\n.swiper-cube .swiper-cube-shadow {\n  position: absolute;\n  left: 0;\n  bottom: 0px;\n  width: 100%;\n  height: 100%;\n  opacity: 0.6;\n  z-index: 0;\n}\n.swiper-cube .swiper-cube-shadow:before {\n  content: '';\n  background: #000;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  filter: blur(50px);\n}\n.swiper-flip {\n  overflow: visible;\n}\n.swiper-flip .swiper-slide {\n  pointer-events: none;\n  backface-visibility: hidden;\n  z-index: 1;\n}\n.swiper-flip .swiper-slide .swiper-slide {\n  pointer-events: none;\n}\n.swiper-flip .swiper-slide-active,\n.swiper-flip .swiper-slide-active .swiper-slide-active {\n  pointer-events: auto;\n}\n.swiper-flip .swiper-slide-shadow-top,\n.swiper-flip .swiper-slide-shadow-bottom,\n.swiper-flip .swiper-slide-shadow-left,\n.swiper-flip .swiper-slide-shadow-right {\n  z-index: 0;\n  backface-visibility: hidden;\n}\n.swiper-creative .swiper-slide {\n  backface-visibility: hidden;\n  overflow: hidden;\n  transition-property: transform, opacity, height;\n}\n.swiper-cards {\n  overflow: visible;\n}\n.swiper-cards .swiper-slide {\n  transform-origin: center bottom;\n  backface-visibility: hidden;\n  overflow: hidden;\n}\n",""])},PrET:function(t,e,n){"use strict";var r=n("D3zA"),i=n("AM7I"),o=n("0Ake"),s=i("%TypeError%"),a=i("%Function.prototype.apply%"),l=i("%Function.prototype.call%"),c=i("%Reflect.apply%",!0)||r.call(l,a),u=i("%Object.defineProperty%",!0),h=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(t){u=null}t.exports=function(t){if("function"!=typeof t)throw new s("a function is required");var e=c(r,l,arguments);return o(e,1+h(0,t.length-(arguments.length-1)),!0)};var p=function(){return c(r,a,arguments)};u?u(t.exports,"apply",{value:p}):t.exports.apply=p},QSc6:function(t,e,n){"use strict";var r=n("VAJa"),i=n("0jNN"),o=n("sxOR"),s=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},l=Array.isArray,c=Array.prototype.push,u=function(t,e){c.apply(t,l(e)?e:[e])},h=Date.prototype.toISOString,p=o.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:p,formatter:o.formatters[p],indices:!1,serializeDate:function(t){return h.call(t)},skipNulls:!1,strictNullHandling:!1},f={},m=function t(e,n,o,s,a,c,h,p,m,g,v,y,b,_,x,w){for(var E,S=e,T=w,A=0,M=!1;void 0!==(T=T.get(f))&&!M;){var C=T.get(e);if(A+=1,void 0!==C){if(C===A)throw new RangeError("Cyclic object value");M=!0}void 0===T.get(f)&&(A=0)}if("function"==typeof p?S=p(n,S):S instanceof Date?S=v(S):"comma"===o&&l(S)&&(S=i.maybeMap(S,(function(t){return t instanceof Date?v(t):t}))),null===S){if(a)return h&&!_?h(n,d.encoder,x,"key",y):n;S=""}if("string"==typeof(E=S)||"number"==typeof E||"boolean"==typeof E||"symbol"==typeof E||"bigint"==typeof E||i.isBuffer(S))return h?[b(_?n:h(n,d.encoder,x,"key",y))+"="+b(h(S,d.encoder,x,"value",y))]:[b(n)+"="+b(String(S))];var P,D=[];if(void 0===S)return D;if("comma"===o&&l(S))_&&h&&(S=i.maybeMap(S,h)),P=[{value:S.length>0?S.join(",")||null:void 0}];else if(l(p))P=p;else{var R=Object.keys(S);P=m?R.sort(m):R}for(var O=s&&l(S)&&1===S.length?n+"[]":n,I=0;I<P.length;++I){var L=P[I],k="object"==typeof L&&void 0!==L.value?L.value:S[L];if(!c||null!==k){var F=l(S)?"function"==typeof o?o(O,L):O:O+(g?"."+L:"["+L+"]");w.set(e,A);var N=r();N.set(f,w),u(D,t(k,F,o,s,a,c,"comma"===o&&_&&l(S)?null:h,p,m,g,v,y,b,_,x,N))}}return D};t.exports=function(t,e){var n,i=t,c=function(t){if(!t)return d;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||d.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==t.format){if(!s.call(o.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=o.formatters[n],i=d.filter;return("function"==typeof t.filter||l(t.filter))&&(i=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===t.allowDots?d.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:d.charsetSentinel,delimiter:void 0===t.delimiter?d.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:d.encode,encoder:"function"==typeof t.encoder?t.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:d.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:d.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:d.strictNullHandling}}(e);"function"==typeof c.filter?i=(0,c.filter)("",i):l(c.filter)&&(n=c.filter);var h,p=[];if("object"!=typeof i||null===i)return"";h=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var f=a[h];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var g="comma"===f&&e&&e.commaRoundTrip;n||(n=Object.keys(i)),c.sort&&n.sort(c.sort);for(var v=r(),y=0;y<n.length;++y){var b=n[y];c.skipNulls&&null===i[b]||u(p,m(i[b],b,f,g,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,v))}var _=p.join(c.delimiter),x=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),_.length>0?x+_:""}},Qyje:function(t,e,n){"use strict";var r=n("QSc6"),i=n("nmq7"),o=n("sxOR");t.exports={formats:o,parse:i,stringify:r}},Svdd:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"[data-simplebar] {\n  position: relative;\n  flex-direction: column;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-content: flex-start;\n  align-items: flex-start;\n}\n\n.simplebar-wrapper {\n  overflow: hidden;\n  width: inherit;\n  height: inherit;\n  max-width: inherit;\n  max-height: inherit;\n}\n\n.simplebar-mask {\n  direction: inherit;\n  position: absolute;\n  overflow: hidden;\n  padding: 0;\n  margin: 0;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: auto !important;\n  height: auto !important;\n  z-index: 0;\n}\n\n.simplebar-offset {\n  direction: inherit !important;\n  box-sizing: inherit !important;\n  resize: none !important;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  padding: 0;\n  margin: 0;\n  -webkit-overflow-scrolling: touch;\n}\n\n.simplebar-content-wrapper {\n  direction: inherit;\n  box-sizing: border-box !important;\n  position: relative;\n  display: block;\n  height: 100%; /* Required for horizontal native scrollbar to not appear if parent is taller than natural height */\n  width: auto;\n  max-width: 100%; /* Not required for horizontal scroll to trigger */\n  max-height: 100%; /* Needed for vertical scroll to trigger */\n  overflow: auto;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n}\n\n.simplebar-content-wrapper::-webkit-scrollbar,\n.simplebar-hide-scrollbar::-webkit-scrollbar {\n  display: none;\n  width: 0;\n  height: 0;\n}\n\n.simplebar-content:before,\n.simplebar-content:after {\n  content: ' ';\n  display: table;\n}\n\n.simplebar-placeholder {\n  max-height: 100%;\n  max-width: 100%;\n  width: 100%;\n  pointer-events: none;\n}\n\n.simplebar-height-auto-observer-wrapper {\n  box-sizing: inherit !important;\n  height: 100%;\n  width: 100%;\n  max-width: 1px;\n  position: relative;\n  float: left;\n  max-height: 1px;\n  overflow: hidden;\n  z-index: -1;\n  padding: 0;\n  margin: 0;\n  pointer-events: none;\n  flex-grow: inherit;\n  flex-shrink: 0;\n  flex-basis: 0;\n}\n\n.simplebar-height-auto-observer {\n  box-sizing: inherit;\n  display: block;\n  opacity: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 1000%;\n  width: 1000%;\n  min-height: 1px;\n  min-width: 1px;\n  overflow: hidden;\n  pointer-events: none;\n  z-index: -1;\n}\n\n.simplebar-track {\n  z-index: 1;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  overflow: hidden;\n}\n\n[data-simplebar].simplebar-dragging {\n  pointer-events: none;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n}\n\n[data-simplebar].simplebar-dragging .simplebar-content {\n  pointer-events: none;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n}\n\n[data-simplebar].simplebar-dragging .simplebar-track {\n  pointer-events: all;\n}\n\n.simplebar-scrollbar {\n  position: absolute;\n  left: 0;\n  right: 0;\n  min-height: 10px;\n}\n\n.simplebar-scrollbar:before {\n  position: absolute;\n  content: '';\n  background: black;\n  border-radius: 7px;\n  left: 2px;\n  right: 2px;\n  opacity: 0;\n  transition: opacity 0.2s 0.5s linear;\n}\n\n.simplebar-scrollbar.simplebar-visible:before {\n  opacity: 0.5;\n  transition-delay: 0s;\n  transition-duration: 0s;\n}\n\n.simplebar-track.simplebar-vertical {\n  top: 0;\n  width: 11px;\n}\n\n.simplebar-scrollbar:before {\n  top: 2px;\n  bottom: 2px;\n  left: 2px;\n  right: 2px;\n}\n\n.simplebar-track.simplebar-horizontal {\n  left: 0;\n  height: 11px;\n}\n\n.simplebar-track.simplebar-horizontal .simplebar-scrollbar {\n  right: auto;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  min-height: 0;\n  min-width: 10px;\n  width: auto;\n}\n\n/* Rtl support */\n[data-simplebar-direction='rtl'] .simplebar-track.simplebar-vertical {\n  right: auto;\n  left: 0;\n}\n\n.simplebar-dummy-scrollbar-size {\n  direction: rtl;\n  position: fixed;\n  opacity: 0;\n  visibility: hidden;\n  height: 500px;\n  width: 500px;\n  overflow-y: hidden;\n  overflow-x: scroll;\n  -ms-overflow-style: scrollbar !important;\n}\n\n.simplebar-dummy-scrollbar-size > div {\n  width: 200%;\n  height: 200%;\n  margin: 10px 0;\n}\n\n.simplebar-hide-scrollbar {\n  position: fixed;\n  left: 0;\n  visibility: hidden;\n  overflow-y: scroll;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n}\n",""])},TG6t:function(t,e){},TaHA:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t&&"constructor"in t&&t.constructor===Object}function i(t={},e={}){Object.keys(e).forEach(n=>{void 0===t[n]?t[n]=e[n]:r(e[n])&&r(t[n])&&Object.keys(e[n]).length>0&&i(t[n],e[n])})}n.d(e,"j",(function(){return K})),n.d(e,"e",(function(){return Z})),n.d(e,"f",(function(){return Q})),n.d(e,"g",(function(){return et})),n.d(e,"h",(function(){return nt})),n.d(e,"b",(function(){return rt})),n.d(e,"a",(function(){return it})),n.d(e,"i",(function(){return ot})),n.d(e,"c",(function(){return st})),n.d(e,"d",(function(){return at}));const o={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function s(){const t="undefined"!=typeof document?document:{};return i(t,o),t}const a={document:o,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:t=>"undefined"==typeof setTimeout?(t(),null):setTimeout(t,0),cancelAnimationFrame(t){"undefined"!=typeof setTimeout&&clearTimeout(t)}};function l(){const t="undefined"!=typeof window?window:{};return i(t,a),t}function c(t,e=0){return setTimeout(t,e)}function u(){return Date.now()}function h(t,e="x"){const n=l();let r,i,o;const s=function(t){const e=l();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}(t);return n.WebKitCSSMatrix?(i=s.transform||s.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(t=>t.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix("none"===i?"":i)):(o=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),"x"===e&&(i=n.WebKitCSSMatrix?o.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===e&&(i=n.WebKitCSSMatrix?o.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),i||0}function p(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function d(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let i=1;i<t.length;i+=1){const o=t[i];if(null!=o&&(r=o,!("undefined"!=typeof window&&void 0!==window.HTMLElement?r instanceof HTMLElement:r&&(1===r.nodeType||11===r.nodeType)))){const t=Object.keys(Object(o)).filter(t=>n.indexOf(t)<0);for(let n=0,r=t.length;n<r;n+=1){const r=t[n],i=Object.getOwnPropertyDescriptor(o,r);void 0!==i&&i.enumerable&&(p(e[r])&&p(o[r])?o[r].__swiper__?e[r]=o[r]:d(e[r],o[r]):!p(e[r])&&p(o[r])?(e[r]={},o[r].__swiper__?e[r]=o[r]:d(e[r],o[r])):e[r]=o[r])}}}var r;return e}function f(t,e,n){t.style.setProperty(e,n)}function m({swiper:t,targetPosition:e,side:n}){const r=l(),i=-t.translate;let o,s=null;const a=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=e>i?"next":"prev",u=(t,e)=>"next"===c&&t>=e||"prev"===c&&t<=e,h=()=>{o=(new Date).getTime(),null===s&&(s=o);const l=Math.max(Math.min((o-s)/a,1),0),c=.5-Math.cos(l*Math.PI)/2;let p=i+c*(e-i);if(u(p,e)&&(p=e),t.wrapperEl.scrollTo({[n]:p}),u(p,e))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:p})}),void r.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=r.requestAnimationFrame(h)};h()}function g(t,e=""){return[...t.children].filter(t=>t.matches(e))}function v(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:[e]),n}function y(t){const e=l(),n=s(),r=t.getBoundingClientRect(),i=n.body,o=t.clientTop||i.clientTop||0,a=t.clientLeft||i.clientLeft||0,c=t===e?e.scrollY:t.scrollTop,u=t===e?e.scrollX:t.scrollLeft;return{top:r.top+c-o,left:r.left+u-a}}function b(t,e){return l().getComputedStyle(t,null).getPropertyValue(e)}function _(t){let e,n=t;if(n){for(e=0;null!==(n=n.previousSibling);)1===n.nodeType&&(e+=1);return e}}function x(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function w(t,e){e&&t.addEventListener("transitionend",(function n(r){r.target===t&&(e.call(t,r),t.removeEventListener("transitionend",n))}))}function E(t,e,n){const r=l();return n?t["width"===e?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue("width"===e?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue("width"===e?"margin-left":"margin-bottom")):t.offsetWidth}let S,T,A;function M(){return S||(S=function(){const t=l(),e=s();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}()),S}function C(t={}){return T||(T=function({userAgent:t}={}){const e=M(),n=l(),r=n.navigator.platform,i=t||n.navigator.userAgent,o={ios:!1,android:!1},s=n.screen.width,a=n.screen.height,c=i.match(/(Android);?[\s\/]+([\d.]+)?/);let u=i.match(/(iPad).*OS\s([\d_]+)/);const h=i.match(/(iPod)(.*OS\s([\d_]+))?/),p=!u&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d="Win32"===r;let f="MacIntel"===r;return!u&&f&&e.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${s}x${a}`)>=0&&(u=i.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),f=!1),c&&!d&&(o.os="android",o.android=!0),(u||p||h)&&(o.os="ios",o.ios=!0),o}(t)),T}function P(){return A||(A=function(){const t=l();let e=!1;function n(){const e=t.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}if(n()){const n=String(t.navigator.userAgent);if(n.includes("Version/")){const[t,r]=n.split("Version/")[1].split(" ")[0].split(".").map(t=>Number(t));e=t<16||16===t&&r<2}}return{isSafari:e||n(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),A}const D=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=e.closest(t.isElement?"swiper-slide":"."+t.params.slideClass);if(n){const e=n.querySelector("."+t.params.lazyPreloaderClass);e&&e.remove()}},R=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},O=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r="auto"===t.params.slidesPerView?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const n=i,o=[n-e];return o.push(...Array.from({length:e}).map((t,e)=>n+r+e)),void t.slides.forEach((e,n)=>{o.includes(e.column)&&R(t,n)})}const o=i+r-1;if(t.params.rewind||t.params.loop)for(let r=i-e;r<=o+e;r+=1){const e=(r%n+n)%n;(e<i||e>o)&&R(t,e)}else for(let r=Math.max(i-e,0);r<=Math.min(o+e,n-1);r+=1)r!==i&&(r>o||r<i)&&R(t,r)};function I({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:i,previousIndex:o}=t;let s=n;if(s||(s=i>o?"next":i<o?"prev":"reset"),t.emit("transition"+r),e&&i!==o){if("reset"===s)return void t.emit("slideResetTransition"+r);t.emit("slideChangeTransition"+r),"next"===s?t.emit("slideNextTransition"+r):t.emit("slidePrevTransition"+r)}}function L(t){const e=this,n=s(),r=l(),i=e.touchEventsData;i.evCache.push(t);const{params:o,touches:a,enabled:c}=e;if(!c)return;if(!o.simulateTouch&&"mouse"===t.pointerType)return;if(e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let h=t;h.originalEvent&&(h=h.originalEvent);let p=h.target;if("wrapper"===o.touchEventsTarget&&!e.wrapperEl.contains(p))return;if("which"in h&&3===h.which)return;if("button"in h&&h.button>0)return;if(i.isTouched&&i.isMoved)return;const d=!!o.noSwipingClass&&""!==o.noSwipingClass,f=t.composedPath?t.composedPath():t.path;d&&h.target&&h.target.shadowRoot&&f&&(p=f[0]);const m=o.noSwipingSelector?o.noSwipingSelector:"."+o.noSwipingClass,g=!(!h.target||!h.target.shadowRoot);if(o.noSwiping&&(g?function(t,e=this){return function e(n){if(!n||n===s()||n===l())return null;n.assignedSlot&&(n=n.assignedSlot);const r=n.closest(t);return r||n.getRootNode?r||e(n.getRootNode().host):null}(e)}(m,p):p.closest(m)))return void(e.allowClick=!0);if(o.swipeHandler&&!p.closest(o.swipeHandler))return;a.currentX=h.pageX,a.currentY=h.pageY;const v=a.currentX,y=a.currentY,b=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,_=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(b&&(v<=_||v>=r.innerWidth-_)){if("prevent"!==b)return;t.preventDefault()}Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=v,a.startY=y,i.touchStartTime=u(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1);let x=!0;p.matches(i.focusableElements)&&(x=!1,"SELECT"===p.nodeName&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==p&&n.activeElement.blur();const w=x&&e.allowTouchMove&&o.touchStartPreventDefault;!o.touchStartForcePreventDefault&&!w||p.isContentEditable||h.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",h)}function k(t){const e=s(),n=this,r=n.touchEventsData,{params:i,touches:o,rtlTranslate:a,enabled:l}=n;if(!l)return;if(!i.simulateTouch&&"mouse"===t.pointerType)return;let c=t;if(c.originalEvent&&(c=c.originalEvent),!r.isTouched)return void(r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c));const h=r.evCache.findIndex(t=>t.pointerId===c.pointerId);h>=0&&(r.evCache[h]=c);const p=r.evCache.length>1?r.evCache[0]:c,d=p.pageX,f=p.pageY;if(c.preventedByNestedSwiper)return o.startX=d,void(o.startY=f);if(!n.allowTouchMove)return c.target.matches(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(o,{startX:d,startY:f,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:d,currentY:f}),r.touchStartTime=u()));if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(f<o.startY&&n.translate<=n.maxTranslate()||f>o.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(d<o.startX&&n.translate<=n.maxTranslate()||d>o.startX&&n.translate>=n.minTranslate())return;if(e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",c),c.targetTouches&&c.targetTouches.length>1)return;o.currentX=d,o.currentY=f;const m=o.currentX-o.startX,g=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(m**2+g**2)<n.params.threshold)return;if(void 0===r.isScrolling){let t;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:m*m+g*g>=25&&(t=180*Math.atan2(Math.abs(g),Math.abs(m))/Math.PI,r.isScrolling=n.isHorizontal()?t>i.touchAngle:90-t>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),void 0===r.startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(r.startMoving=!0)),r.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&r.evCache.length>1)return void(r.isTouched=!1);if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let v=n.isHorizontal()?m:g,y=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;i.oneWayMovement&&(v=Math.abs(v)*(a?1:-1),y=Math.abs(y)*(a?1:-1)),o.diff=v,v*=i.touchRatio,a&&(v=-v,y=-y);const b=n.touchesDirection;n.swipeDirection=v>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const _=n.params.loop&&!i.cssMode;if(!r.isMoved){if(_&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const t=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(t)}r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let x;r.isMoved&&b!==n.touchesDirection&&_&&Math.abs(v)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),x=!0),n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=v+r.startTranslate;let w=!0,E=i.resistanceRatio;if(i.touchReleaseOnEdges&&(E=0),v>0?(_&&!x&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(w=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+v)**E))):v<0&&(_&&!x&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-("auto"===i.slidesPerView?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(w=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-v)**E))),w&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(v)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,void(o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function F(t){const e=this,n=e.touchEventsData,r=n.evCache.findIndex(e=>e.pointerId===t.pointerId);if(r>=0&&n.evCache.splice(r,1),["pointercancel","pointerout","pointerleave"].includes(t.type)){if(!("pointercancel"===t.type&&(e.browser.isSafari||e.browser.isWebView)))return}const{params:i,touches:o,rtlTranslate:s,slidesGrid:a,enabled:l}=e;if(!l)return;if(!i.simulateTouch&&"mouse"===t.pointerType)return;let h=t;if(h.originalEvent&&(h=h.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",h),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&i.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);i.grabCursor&&n.isMoved&&n.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const p=u(),d=p-n.touchStartTime;if(e.allowClick){const t=h.path||h.composedPath&&h.composedPath();e.updateClickedSlide(t&&t[0]||h.target),e.emit("tap click",h),d<300&&p-n.lastClickTime<300&&e.emit("doubleTap doubleClick",h)}if(n.lastClickTime=u(),c(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||0===o.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let f;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,f=i.followFinger?s?e.translate:-e.translate:-n.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:f});let m=0,g=e.slidesSizesGrid[0];for(let t=0;t<a.length;t+=t<i.slidesPerGroupSkip?1:i.slidesPerGroup){const e=t<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;void 0!==a[t+e]?f>=a[t]&&f<a[t+e]&&(m=t,g=a[t+e]-a[t]):f>=a[t]&&(m=t,g=a[a.length-1]-a[a.length-2])}let v=null,y=null;i.rewind&&(e.isBeginning?y=i.virtual&&i.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(v=0));const b=(f-a[m])/g,_=m<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(d>i.longSwipesMs){if(!i.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&(b>=i.longSwipesRatio?e.slideTo(i.rewind&&e.isEnd?v:m+_):e.slideTo(m)),"prev"===e.swipeDirection&&(b>1-i.longSwipesRatio?e.slideTo(m+_):null!==y&&b<0&&Math.abs(b)>i.longSwipesRatio?e.slideTo(y):e.slideTo(m))}else{if(!i.shortSwipes)return void e.slideTo(e.activeIndex);e.navigation&&(h.target===e.navigation.nextEl||h.target===e.navigation.prevEl)?h.target===e.navigation.nextEl?e.slideTo(m+_):e.slideTo(m):("next"===e.swipeDirection&&e.slideTo(null!==v?v:m+_),"prev"===e.swipeDirection&&e.slideTo(null!==y?y:m))}}function N(){const t=this,{params:e,el:n}=t;if(n&&0===n.offsetWidth)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:o}=t,s=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=s&&e.loop;!("auto"===e.slidesPerView||e.slidesPerView>1)||!t.isEnd||t.isBeginning||t.params.centeredSlides||a?t.params.loop&&!s?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0):t.slideTo(t.slides.length-1,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function B(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function U(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;let i;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,0===t.translate&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();const o=t.maxTranslate()-t.minTranslate();i=0===o?0:(t.translate-t.minTranslate())/o,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function G(t){D(this,t.target),this.params.cssMode||"auto"!==this.params.slidesPerView&&!this.params.autoHeight||this.update()}let z=!1;function H(){}const j=(t,e)=>{const n=s(),{params:r,el:i,wrapperEl:o,device:a}=t,l=!!r.nested,c="on"===e?"addEventListener":"removeEventListener",u=e;i[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[c]("click",t.onClick,!0),r.cssMode&&o[c]("scroll",t.onScroll),r.updateOnWindowResize?t[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",N,!0):t[u]("observerUpdate",N,!0),i[c]("load",t.onLoad,{capture:!0})};const V=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;var X={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function W(t,e){return function(n={}){const r=Object.keys(n)[0],i=n[r];"object"==typeof i&&null!==i?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===t[r]&&(t[r]={auto:!0}),r in t&&"enabled"in i?(!0===t[r]&&(t[r]={enabled:!0}),"object"!=typeof t[r]||"enabled"in t[r]||(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),d(e,n)):d(e,n)):d(e,n)}}const q={eventsEmitter:{on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof e)return r;const i=n?"unshift":"push";return t.split(" ").forEach(t=>{r.eventsListeners[t]||(r.eventsListeners[t]=[]),r.eventsListeners[t][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof e)return r;function i(...n){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(r,n)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof t)return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(t.split(" ").forEach(t=>{void 0===e?n.eventsListeners[t]=[]:n.eventsListeners[t]&&n.eventsListeners[t].forEach((r,i)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[t].splice(i,1)})}),n):n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let n,r,i;"string"==typeof t[0]||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),i=e):(n=t[0].events,r=t[0].data,i=t[0].context||e),r.unshift(i);return(Array.isArray(n)?n:n.split(" ")).forEach(t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(e=>{e.apply(i,[t,...r])}),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach(t=>{t.apply(i,r)})}),e}},update:{updateSize:function(){const t=this;let e,n;const r=t.el;e=void 0!==t.params.width&&null!==t.params.width?t.params.width:r.clientWidth,n=void 0!==t.params.height&&null!==t.params.height?t.params.height:r.clientHeight,0===e&&t.isHorizontal()||0===n&&t.isVertical()||(e=e-parseInt(b(r,"padding-left")||0,10)-parseInt(b(r,"padding-right")||0,10),n=n-parseInt(b(r,"padding-top")||0,10)-parseInt(b(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))},updateSlides:function(){const t=this;function e(e){return t.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}function n(t,n){return parseFloat(t.getPropertyValue(e(n))||0)}const r=t.params,{wrapperEl:i,slidesEl:o,size:s,rtlTranslate:a,wrongRTL:l}=t,c=t.virtual&&r.virtual.enabled,u=c?t.virtual.slides.length:t.slides.length,h=g(o,`.${t.params.slideClass}, swiper-slide`),p=c?t.virtual.slides.length:h.length;let d=[];const m=[],v=[];let y=r.slidesOffsetBefore;"function"==typeof y&&(y=r.slidesOffsetBefore.call(t));let _=r.slidesOffsetAfter;"function"==typeof _&&(_=r.slidesOffsetAfter.call(t));const x=t.snapGrid.length,w=t.slidesGrid.length;let S=r.spaceBetween,T=-y,A=0,M=0;if(void 0===s)return;"string"==typeof S&&S.indexOf("%")>=0?S=parseFloat(S.replace("%",""))/100*s:"string"==typeof S&&(S=parseFloat(S)),t.virtualSize=-S,h.forEach(t=>{a?t.style.marginLeft="":t.style.marginRight="",t.style.marginBottom="",t.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(f(i,"--swiper-centered-offset-before",""),f(i,"--swiper-centered-offset-after",""));const C=r.grid&&r.grid.rows>1&&t.grid;let P;C&&t.grid.initSlides(p);const D="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter(t=>void 0!==r.breakpoints[t].slidesPerView).length>0;for(let i=0;i<p;i+=1){let o;if(P=0,h[i]&&(o=h[i]),C&&t.grid.updateSlide(i,o,p,e),!h[i]||"none"!==b(o,"display")){if("auto"===r.slidesPerView){D&&(h[i].style[e("width")]="");const s=getComputedStyle(o),a=o.style.transform,l=o.style.webkitTransform;if(a&&(o.style.transform="none"),l&&(o.style.webkitTransform="none"),r.roundLengths)P=t.isHorizontal()?E(o,"width",!0):E(o,"height",!0);else{const t=n(s,"width"),e=n(s,"padding-left"),r=n(s,"padding-right"),i=n(s,"margin-left"),a=n(s,"margin-right"),l=s.getPropertyValue("box-sizing");if(l&&"border-box"===l)P=t+i+a;else{const{clientWidth:n,offsetWidth:s}=o;P=t+e+r+i+a+(s-n)}}a&&(o.style.transform=a),l&&(o.style.webkitTransform=l),r.roundLengths&&(P=Math.floor(P))}else P=(s-(r.slidesPerView-1)*S)/r.slidesPerView,r.roundLengths&&(P=Math.floor(P)),h[i]&&(h[i].style[e("width")]=P+"px");h[i]&&(h[i].swiperSlideSize=P),v.push(P),r.centeredSlides?(T=T+P/2+A/2+S,0===A&&0!==i&&(T=T-s/2-S),0===i&&(T=T-s/2-S),Math.abs(T)<.001&&(T=0),r.roundLengths&&(T=Math.floor(T)),M%r.slidesPerGroup==0&&d.push(T),m.push(T)):(r.roundLengths&&(T=Math.floor(T)),(M-Math.min(t.params.slidesPerGroupSkip,M))%t.params.slidesPerGroup==0&&d.push(T),m.push(T),T=T+P+S),t.virtualSize+=P+S,A=P,M+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+_,a&&l&&("slide"===r.effect||"coverflow"===r.effect)&&(i.style.width=t.virtualSize+S+"px"),r.setWrapperSize&&(i.style[e("width")]=t.virtualSize+S+"px"),C&&t.grid.updateWrapperSize(P,d,e),!r.centeredSlides){const e=[];for(let n=0;n<d.length;n+=1){let i=d[n];r.roundLengths&&(i=Math.floor(i)),d[n]<=t.virtualSize-s&&e.push(i)}d=e,Math.floor(t.virtualSize-s)-Math.floor(d[d.length-1])>1&&d.push(t.virtualSize-s)}if(c&&r.loop){const e=v[0]+S;if(r.slidesPerGroup>1){const n=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/r.slidesPerGroup),i=e*r.slidesPerGroup;for(let t=0;t<n;t+=1)d.push(d[d.length-1]+i)}for(let n=0;n<t.virtual.slidesBefore+t.virtual.slidesAfter;n+=1)1===r.slidesPerGroup&&d.push(d[d.length-1]+e),m.push(m[m.length-1]+e),t.virtualSize+=e}if(0===d.length&&(d=[0]),0!==S){const n=t.isHorizontal()&&a?"marginLeft":e("marginRight");h.filter((t,e)=>!(r.cssMode&&!r.loop)||e!==h.length-1).forEach(t=>{t.style[n]=S+"px"})}if(r.centeredSlides&&r.centeredSlidesBounds){let t=0;v.forEach(e=>{t+=e+(S||0)}),t-=S;const e=t-s;d=d.map(t=>t<=0?-y:t>e?e+_:t)}if(r.centerInsufficientSlides){let t=0;if(v.forEach(e=>{t+=e+(S||0)}),t-=S,t<s){const e=(s-t)/2;d.forEach((t,n)=>{d[n]=t-e}),m.forEach((t,n)=>{m[n]=t+e})}}if(Object.assign(t,{slides:h,snapGrid:d,slidesGrid:m,slidesSizesGrid:v}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){f(i,"--swiper-centered-offset-before",-d[0]+"px"),f(i,"--swiper-centered-offset-after",t.size/2-v[v.length-1]/2+"px");const e=-t.snapGrid[0],n=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(t=>t+e),t.slidesGrid=t.slidesGrid.map(t=>t+n)}if(p!==u&&t.emit("slidesLengthChange"),d.length!==x&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==w&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!(c||r.cssMode||"slide"!==r.effect&&"fade"!==r.effect)){const e=r.containerModifierClass+"backface-hidden",n=t.el.classList.contains(e);p<=r.maxBackfaceHiddenSlides?n||t.el.classList.add(e):n&&t.el.classList.remove(e)}},updateAutoHeight:function(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i,o=0;"number"==typeof t?e.setTransition(t):!0===t&&e.setTransition(e.params.speed);const s=t=>r?e.slides[e.getSlideIndexByData(t)]:e.slides[t];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(t=>{n.push(t)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const t=e.activeIndex+i;if(t>e.slides.length&&!r)break;n.push(s(t))}else n.push(s(e.activeIndex));for(i=0;i<n.length;i+=1)if(void 0!==n[i]){const t=n[i].offsetHeight;o=t>o?t:o}(o||0===o)&&(e.wrapperEl.style.height=o+"px")},updateSlidesOffset:function(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()},updateSlidesProgress:function(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:o}=e;if(0===r.length)return;void 0===r[0].swiperSlideOffset&&e.updateSlidesOffset();let s=-t;i&&(s=t),r.forEach(t=>{t.classList.remove(n.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;"string"==typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:"string"==typeof a&&(a=parseFloat(a));for(let t=0;t<r.length;t+=1){const l=r[t];let c=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const u=(s+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+a),h=(s-o[0]+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+a),p=-(s-c),d=p+e.slidesSizesGrid[t];(p>=0&&p<e.size-1||d>1&&d<=e.size||p<=0&&d>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(t),r[t].classList.add(n.slideVisibleClass)),l.progress=i?-u:u,l.originalProgress=i?-h:h}},updateProgress:function(t){const e=this;if(void 0===t){const n=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*n||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:o,isEnd:s,progressLoop:a}=e;const l=o,c=s;if(0===r)i=0,o=!0,s=!0;else{i=(t-e.minTranslate())/r;const n=Math.abs(t-e.minTranslate())<1,a=Math.abs(t-e.maxTranslate())<1;o=n||i<=0,s=a||i>=1,n&&(i=0),a&&(i=1)}if(n.loop){const n=e.getSlideIndexByData(0),r=e.getSlideIndexByData(e.slides.length-1),i=e.slidesGrid[n],o=e.slidesGrid[r],s=e.slidesGrid[e.slidesGrid.length-1],l=Math.abs(t);a=l>=i?(l-i)/s:(l+s-o)/s,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:o,isEnd:s}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),o&&!l&&e.emit("reachBeginning toEdge"),s&&!c&&e.emit("reachEnd toEdge"),(l&&!o||c&&!s)&&e.emit("fromEdge"),e.emit("progress",i)},updateSlidesClasses:function(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,o=t.virtual&&n.virtual.enabled,s=t=>g(r,`.${n.slideClass}${t}, swiper-slide${t}`)[0];let a;if(e.forEach(t=>{t.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)}),o)if(n.loop){let e=i-t.virtual.slidesBefore;e<0&&(e=t.virtual.slides.length+e),e>=t.virtual.slides.length&&(e-=t.virtual.slides.length),a=s(`[data-swiper-slide-index="${e}"]`)}else a=s(`[data-swiper-slide-index="${i}"]`);else a=e[i];if(a){a.classList.add(n.slideActiveClass);let t=function(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}(a,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!t&&(t=e[0]),t&&t.classList.add(n.slideNextClass);let r=function(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}(a,`.${n.slideClass}, swiper-slide`)[0];n.loop&&0===!r&&(r=e[e.length-1]),r&&r.classList.add(n.slidePrevClass)}t.emitSlidesClasses()},updateActiveIndex:function(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:o,realIndex:s,snapIndex:a}=e;let l,c=t;const u=t=>{let n=t-e.virtual.slidesBefore;return n<0&&(n=e.virtual.slides.length+n),n>=e.virtual.slides.length&&(n-=e.virtual.slides.length),n};if(void 0===c&&(c=function(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let t=0;t<e.length;t+=1)void 0!==e[t+1]?r>=e[t]&&r<e[t+1]-(e[t+1]-e[t])/2?i=t:r>=e[t]&&r<e[t+1]&&(i=t+1):r>=e[t]&&(i=t);return n.normalizeSlideIndex&&(i<0||void 0===i)&&(i=0),i}(e)),r.indexOf(n)>=0)l=r.indexOf(n);else{const t=Math.min(i.slidesPerGroupSkip,c);l=t+Math.floor((c-t)/i.slidesPerGroup)}if(l>=r.length&&(l=r.length-1),c===o)return l!==a&&(e.snapIndex=l,e.emit("snapIndexChange")),void(e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=u(c)));let h;h=e.virtual&&i.virtual.enabled&&i.loop?u(c):e.slides[c]?parseInt(e.slides[c].getAttribute("data-swiper-slide-index")||c,10):c,Object.assign(e,{previousSnapIndex:a,snapIndex:l,previousRealIndex:s,realIndex:h,previousIndex:o,activeIndex:c}),e.initialized&&O(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),s!==h&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")},updateClickedSlide:function(t){const e=this,n=e.params,r=t.closest(`.${n.slideClass}, swiper-slide`);let i,o=!1;if(r)for(let t=0;t<e.slides.length;t+=1)if(e.slides[t]===r){o=!0,i=t;break}if(!r||!o)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):e.clickedIndex=i,n.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},translate:{getTranslate:function(t=(this.isHorizontal()?"x":"y")){const{params:e,rtlTranslate:n,translate:r,wrapperEl:i}=this;if(e.virtualTranslate)return n?-r:r;if(e.cssMode)return r;let o=h(i,t);return o+=this.cssOverflowAdjustment(),n&&(o=-o),o||0},setTranslate:function(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:o,progress:s}=n;let a,l=0,c=0;n.isHorizontal()?l=r?-t:t:c=t,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:i.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${l}px, ${c}px, 0px)`);const u=n.maxTranslate()-n.minTranslate();a=0===u?0:(t-n.minTranslate())/u,a!==s&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(t=0,e=this.params.speed,n=!0,r=!0,i){const o=this,{params:s,wrapperEl:a}=o;if(o.animating&&s.preventInteractionOnTransition)return!1;const l=o.minTranslate(),c=o.maxTranslate();let u;if(u=r&&t>l?l:r&&t<c?c:t,o.updateProgress(u),s.cssMode){const t=o.isHorizontal();if(0===e)a[t?"scrollLeft":"scrollTop"]=-u;else{if(!o.support.smoothScroll)return m({swiper:o,targetPosition:-u,side:t?"left":"top"}),!0;a.scrollTo({[t?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===e?(o.setTransition(0),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(t){o&&!o.destroyed&&t.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=t+"ms"),n.emit("setTransition",t,e)},transitionStart:function(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),I({swiper:n,runCallbacks:t,direction:e,step:"Start"}))},transitionEnd:function(t=!0,e){const{params:n}=this;this.animating=!1,n.cssMode||(this.setTransition(0),I({swiper:this,runCallbacks:t,direction:e,step:"End"}))}},slide:{slideTo:function(t=0,e=this.params.speed,n=!0,r,i){"string"==typeof t&&(t=parseInt(t,10));const o=this;let s=t;s<0&&(s=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:h,rtlTranslate:p,wrapperEl:d,enabled:f}=o;if(o.animating&&a.preventInteractionOnTransition||!f&&!r&&!i)return!1;const g=Math.min(o.params.slidesPerGroupSkip,s);let v=g+Math.floor((s-g)/o.params.slidesPerGroup);v>=l.length&&(v=l.length-1);const y=-l[v];if(a.normalizeSlideIndex)for(let t=0;t<c.length;t+=1){const e=-Math.floor(100*y),n=Math.floor(100*c[t]),r=Math.floor(100*c[t+1]);void 0!==c[t+1]?e>=n&&e<r-(r-n)/2?s=t:e>=n&&e<r&&(s=t+1):e>=n&&(s=t)}if(o.initialized&&s!==h){if(!o.allowSlideNext&&(p?y>o.translate&&y>o.minTranslate():y<o.translate&&y<o.minTranslate()))return!1;if(!o.allowSlidePrev&&y>o.translate&&y>o.maxTranslate()&&(h||0)!==s)return!1}let b;if(s!==(u||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(y),b=s>h?"next":s<h?"prev":"reset",p&&-y===o.translate||!p&&y===o.translate)return o.updateActiveIndex(s),a.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==a.effect&&o.setTranslate(y),"reset"!==b&&(o.transitionStart(n,b),o.transitionEnd(n,b)),!1;if(a.cssMode){const t=o.isHorizontal(),n=p?y:-y;if(0===e){const e=o.virtual&&o.params.virtual.enabled;e&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),e&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{d[t?"scrollLeft":"scrollTop"]=n})):d[t?"scrollLeft":"scrollTop"]=n,e&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1})}else{if(!o.support.smoothScroll)return m({swiper:o,targetPosition:n,side:t?"left":"top"}),!0;d.scrollTo({[t?"left":"top"]:n,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(y),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(n,b),0===e?o.transitionEnd(n,b):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(t){o&&!o.destroyed&&t.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,b))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(t=0,e=this.params.speed,n=!0,r){if("string"==typeof t){t=parseInt(t,10)}const i=this;let o=t;return i.params.loop&&(i.virtual&&i.params.virtual.enabled?o+=i.virtual.slidesBefore:o=i.getSlideIndexByData(o)),i.slideTo(o,e,n,r)},slideNext:function(t=this.params.speed,e=!0,n){const r=this,{enabled:i,params:o,animating:s}=r;if(!i)return r;let a=o.slidesPerGroup;"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<o.slidesPerGroupSkip?1:a,c=r.virtual&&o.virtual.enabled;if(o.loop){if(s&&!c&&o.loopPreventsSliding)return!1;r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)},slidePrev:function(t=this.params.speed,e=!0,n){const r=this,{params:i,snapGrid:o,slidesGrid:s,rtlTranslate:a,enabled:l,animating:c}=r;if(!l)return r;const u=r.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}function h(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}const p=h(a?r.translate:-r.translate),d=o.map(t=>h(t));let f=o[d.indexOf(p)-1];if(void 0===f&&i.cssMode){let t;o.forEach((e,n)=>{p>=e&&(t=n)}),void 0!==t&&(f=o[t>0?t-1:t])}let m=0;if(void 0!==f&&(m=s.indexOf(f),m<0&&(m=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(m=m-r.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),i.rewind&&r.isBeginning){const i=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(i,t,e,n)}return r.slideTo(m,t,e,n)},slideReset:function(t=this.params.speed,e=!0,n){return this.slideTo(this.activeIndex,t,e,n)},slideToClosest:function(t=this.params.speed,e=!0,n,r=.5){const i=this;let o=i.activeIndex;const s=Math.min(i.params.slidesPerGroupSkip,o),a=s+Math.floor((o-s)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const t=i.snapGrid[a];l-t>(i.snapGrid[a+1]-t)*r&&(o+=i.params.slidesPerGroup)}else{const t=i.snapGrid[a-1];l-t<=(i.snapGrid[a]-t)*r&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,t,e,n)},slideToClickedSlide:function(){const t=this,{params:e,slidesEl:n}=t,r="auto"===e.slidesPerView?t.slidesPerViewDynamic():e.slidesPerView;let i,o=t.clickedIndex;const s=t.isElement?"swiper-slide":"."+e.slideClass;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?o<t.loopedSlides-r/2||o>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),o=t.getSlideIndex(g(n,`${s}[data-swiper-slide-index="${i}"]`)[0]),c(()=>{t.slideTo(o)})):t.slideTo(o):o>t.slides.length-r?(t.loopFix(),o=t.getSlideIndex(g(n,`${s}[data-swiper-slide-index="${i}"]`)[0]),c(()=>{t.slideTo(o)})):t.slideTo(o)}else t.slideTo(o)}},loop:{loopCreate:function(t){const{params:e,slidesEl:n}=this;if(!e.loop||this.virtual&&this.params.virtual.enabled)return;g(n,`.${e.slideClass}, swiper-slide`).forEach((t,e)=>{t.setAttribute("data-swiper-slide-index",e)}),this.loopFix({slideRealIndex:t,direction:e.centeredSlides?void 0:"next"})},loopFix:function({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:i,byController:o,byMousewheel:s}={}){const a=this;if(!a.params.loop)return;a.emit("beforeLoopFix");const{slides:l,allowSlidePrev:c,allowSlideNext:u,slidesEl:h,params:p}=a;if(a.allowSlidePrev=!0,a.allowSlideNext=!0,a.virtual&&p.virtual.enabled)return e&&(p.centeredSlides||0!==a.snapIndex?p.centeredSlides&&a.snapIndex<p.slidesPerView?a.slideTo(a.virtual.slides.length+a.snapIndex,0,!1,!0):a.snapIndex===a.snapGrid.length-1&&a.slideTo(a.virtual.slidesBefore,0,!1,!0):a.slideTo(a.virtual.slides.length,0,!1,!0)),a.allowSlidePrev=c,a.allowSlideNext=u,void a.emit("loopFix");const d="auto"===p.slidesPerView?a.slidesPerViewDynamic():Math.ceil(parseFloat(p.slidesPerView,10));let f=p.loopedSlides||d;f%p.slidesPerGroup!=0&&(f+=p.slidesPerGroup-f%p.slidesPerGroup),a.loopedSlides=f;const m=[],g=[];let v=a.activeIndex;void 0===i?i=a.getSlideIndex(a.slides.filter(t=>t.classList.contains(p.slideActiveClass))[0]):v=i;const y="next"===n||!n,b="prev"===n||!n;let _=0,x=0;if(i<f){_=Math.max(f-i,p.slidesPerGroup);for(let t=0;t<f-i;t+=1){const e=t-Math.floor(t/l.length)*l.length;m.push(l.length-e-1)}}else if(i>a.slides.length-2*f){x=Math.max(i-(a.slides.length-2*f),p.slidesPerGroup);for(let t=0;t<x;t+=1){const e=t-Math.floor(t/l.length)*l.length;g.push(e)}}if(b&&m.forEach(t=>{a.slides[t].swiperLoopMoveDOM=!0,h.prepend(a.slides[t]),a.slides[t].swiperLoopMoveDOM=!1}),y&&g.forEach(t=>{a.slides[t].swiperLoopMoveDOM=!0,h.append(a.slides[t]),a.slides[t].swiperLoopMoveDOM=!1}),a.recalcSlides(),"auto"===p.slidesPerView&&a.updateSlides(),p.watchSlidesProgress&&a.updateSlidesOffset(),e)if(m.length>0&&b)if(void 0===t){const t=a.slidesGrid[v],e=a.slidesGrid[v+_]-t;s?a.setTranslate(a.translate-e):(a.slideTo(v+_,0,!1,!0),r&&(a.touches[a.isHorizontal()?"startX":"startY"]+=e))}else r&&a.slideToLoop(t,0,!1,!0);else if(g.length>0&&y)if(void 0===t){const t=a.slidesGrid[v],e=a.slidesGrid[v-x]-t;s?a.setTranslate(a.translate-e):(a.slideTo(v-x,0,!1,!0),r&&(a.touches[a.isHorizontal()?"startX":"startY"]+=e))}else a.slideToLoop(t,0,!1,!0);if(a.allowSlidePrev=c,a.allowSlideNext=u,a.controller&&a.controller.control&&!o){const e={slideRealIndex:t,slideTo:!1,direction:n,setTranslate:r,activeSlideIndex:i,byController:!0};Array.isArray(a.controller.control)?a.controller.control.forEach(t=>{!t.destroyed&&t.params.loop&&t.loopFix(e)}):a.controller.control instanceof a.constructor&&a.controller.control.params.loop&&a.controller.control.loopFix(e)}a.emit("loopFix")},loopDestroy:function(){const{params:t,slidesEl:e}=this;if(!t.loop||this.virtual&&this.params.virtual.enabled)return;this.recalcSlides();const n=[];this.slides.forEach(t=>{const e=void 0===t.swiperSlideIndex?1*t.getAttribute("data-swiper-slide-index"):t.swiperSlideIndex;n[e]=t}),this.slides.forEach(t=>{t.removeAttribute("data-swiper-slide-index")}),n.forEach(t=>{e.append(t)}),this.recalcSlides(),this.slideTo(this.realIndex,0)}},grabCursor:{setGrabCursor:function(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n="container"===e.params.touchEventsTarget?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})},unsetGrabCursor:function(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t["container"===t.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}},events:{attachEvents:function(){const t=this,e=s(),{params:n}=t;t.onTouchStart=L.bind(t),t.onTouchMove=k.bind(t),t.onTouchEnd=F.bind(t),n.cssMode&&(t.onScroll=U.bind(t)),t.onClick=B.bind(t),t.onLoad=G.bind(t),z||(e.addEventListener("touchstart",H),z=!0),j(t,"on")},detachEvents:function(){j(this,"off")}},breakpoints:{setBreakpoint:function(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,o=r.breakpoints;if(!o||o&&0===Object.keys(o).length)return;const s=t.getBreakpoint(o,t.params.breakpointsBase,t.el);if(!s||t.currentBreakpoint===s)return;const a=(s in o?o[s]:void 0)||t.originalParams,l=V(t,r),c=V(t,a),u=r.enabled;l&&!c?(i.classList.remove(r.containerModifierClass+"grid",r.containerModifierClass+"grid-column"),t.emitContainerClasses()):!l&&c&&(i.classList.add(r.containerModifierClass+"grid"),(a.grid.fill&&"column"===a.grid.fill||!a.grid.fill&&"column"===r.grid.fill)&&i.classList.add(r.containerModifierClass+"grid-column"),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(e=>{if(void 0===a[e])return;const n=r[e]&&r[e].enabled,i=a[e]&&a[e].enabled;n&&!i&&t[e].disable(),!n&&i&&t[e].enable()});const h=a.direction&&a.direction!==r.direction,p=r.loop&&(a.slidesPerView!==r.slidesPerView||h);h&&n&&t.changeDirection(),d(t.params,a);const f=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),u&&!f?t.disable():!u&&f&&t.enable(),t.currentBreakpoint=s,t.emit("_beforeBreakpoint",a),p&&n&&(t.loopDestroy(),t.loopCreate(e),t.updateSlides()),t.emit("breakpoint",a)},getBreakpoint:function(t,e="window",n){if(!t||"container"===e&&!n)return;let r=!1;const i=l(),o="window"===e?i.innerHeight:n.clientHeight,s=Object.keys(t).map(t=>{if("string"==typeof t&&0===t.indexOf("@")){const e=parseFloat(t.substr(1));return{value:o*e,point:t}}return{value:t,point:t}});s.sort((t,e)=>parseInt(t.value,10)-parseInt(e.value,10));for(let t=0;t<s.length;t+=1){const{point:o,value:a}=s[t];"window"===e?i.matchMedia(`(min-width: ${a}px)`).matches&&(r=o):a<=n.clientWidth&&(r=o)}return r||"max"}},checkOverflow:{checkOverflow:function(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const e=t.slides.length-1,n=t.slidesGrid[e]+t.slidesSizesGrid[e]+2*r;t.isLocked=t.size>n}else t.isLocked=1===t.snapGrid.length;!0===n.allowSlideNext&&(t.allowSlideNext=!t.isLocked),!0===n.allowSlidePrev&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const{classNames:t,params:e,rtl:n,el:r,device:i}=this,o=function(t,e){const n=[];return t.forEach(t=>{"object"==typeof t?Object.keys(t).forEach(r=>{t[r]&&n.push(e+r)}):"string"==typeof t&&n.push(e+t)}),n}(["initialized",e.direction,{"free-mode":this.params.freeMode&&e.freeMode.enabled},{autoheight:e.autoHeight},{rtl:n},{grid:e.grid&&e.grid.rows>1},{"grid-column":e.grid&&e.grid.rows>1&&"column"===e.grid.fill},{android:i.android},{ios:i.ios},{"css-mode":e.cssMode},{centered:e.cssMode&&e.centeredSlides},{"watch-progress":e.watchSlidesProgress}],e.containerModifierClass);t.push(...o),r.classList.add(...t),this.emitContainerClasses()},removeClasses:function(){const{el:t,classNames:e}=this;t.classList.remove(...e),this.emitContainerClasses()}}},Y={};class ${constructor(...t){let e,n;1===t.length&&t[0].constructor&&"Object"===Object.prototype.toString.call(t[0]).slice(8,-1)?n=t[0]:[e,n]=t,n||(n={}),n=d({},n),e&&!n.el&&(n.el=e);const r=s();if(n.el&&"string"==typeof n.el&&r.querySelectorAll(n.el).length>1){const t=[];return r.querySelectorAll(n.el).forEach(e=>{const r=d({},n,{el:e});t.push(new $(r))}),t}const i=this;i.__swiper__=!0,i.support=M(),i.device=C({userAgent:n.userAgent}),i.browser=P(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],n.modules&&Array.isArray(n.modules)&&i.modules.push(...n.modules);const o={};i.modules.forEach(t=>{t({params:n,swiper:i,extendParams:W(n,o),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const a=d({},X,o);return i.params=d({},a,Y,n),i.originalParams=d({},i.params),i.passedParams=d({},n),i.params&&i.params.on&&Object.keys(i.params.on).forEach(t=>{i.on(t,i.params.on[t])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),Object.assign(i,{enabled:i.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===i.params.direction,isVertical:()=>"vertical"===i.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}getSlideIndex(t){const{slidesEl:e,params:n}=this,r=_(g(e,`.${n.slideClass}, swiper-slide`)[0]);return _(t)-r}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(e=>1*e.getAttribute("data-swiper-slide-index")===t)[0])}recalcSlides(){const{slidesEl:t,params:e}=this;this.slides=g(t,`.${e.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,e){t=Math.min(Math.max(t,0),1);const n=this.minTranslate(),r=(this.maxTranslate()-n)*t+n;this.translateTo(r,void 0===e?0:e),this.updateActiveIndex(),this.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=t.el.className.split(" ").filter(e=>0===e.indexOf("swiper")||0===e.indexOf(t.params.containerModifierClass));t.emit("_containerClasses",e.join(" "))}getSlideClasses(t){const e=this;return e.destroyed?"":t.className.split(" ").filter(t=>0===t.indexOf("swiper-slide")||0===t.indexOf(e.params.slideClass)).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=[];t.slides.forEach(n=>{const r=t.getSlideClasses(n);e.push({slideEl:n,classNames:r}),t.emit("_slideClass",n,r)}),t.emit("_slideClasses",e)}slidesPerViewDynamic(t="current",e=!1){const{params:n,slides:r,slidesGrid:i,slidesSizesGrid:o,size:s,activeIndex:a}=this;let l=1;if(n.centeredSlides){let t,e=r[a]?r[a].swiperSlideSize:0;for(let n=a+1;n<r.length;n+=1)r[n]&&!t&&(e+=r[n].swiperSlideSize,l+=1,e>s&&(t=!0));for(let n=a-1;n>=0;n-=1)r[n]&&!t&&(e+=r[n].swiperSlideSize,l+=1,e>s&&(t=!0))}else if("current"===t)for(let t=a+1;t<r.length;t+=1){(e?i[t]+o[t]-i[a]<s:i[t]-i[a]<s)&&(l+=1)}else for(let t=a-1;t>=0;t-=1){i[a]-i[t]<s&&(l+=1)}return l}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:n}=t;function r(){const e=t.rtlTranslate?-1*t.translate:t.translate,n=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(n),t.updateActiveIndex(),t.updateSlidesClasses()}let i;if(n.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(e=>{e.complete&&D(t,e)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),n.freeMode&&n.freeMode.enabled&&!n.cssMode)r(),n.autoHeight&&t.updateAutoHeight();else{if(("auto"===n.slidesPerView||n.slidesPerView>1)&&t.isEnd&&!n.centeredSlides){const e=t.virtual&&n.virtual.enabled?t.virtual.slides:t.slides;i=t.slideTo(e.length-1,0,!1,!0)}else i=t.slideTo(t.activeIndex,0,!1,!0);i||r()}n.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e=!0){const n=this,r=n.params.direction;return t||(t="horizontal"===r?"vertical":"horizontal"),t===r||"horizontal"!==t&&"vertical"!==t||(n.el.classList.remove(`${n.params.containerModifierClass}${r}`),n.el.classList.add(`${n.params.containerModifierClass}${t}`),n.emitContainerClasses(),n.params.direction=t,n.slides.forEach(e=>{"vertical"===t?e.style.width="":e.style.height=""}),n.emit("changeDirection"),e&&n.update()),n}changeLanguageDirection(t){const e=this;e.rtl&&"rtl"===t||!e.rtl&&"ltr"===t||(e.rtl="rtl"===t,e.rtlTranslate="horizontal"===e.params.direction&&e.rtl,e.rtl?(e.el.classList.add(e.params.containerModifierClass+"rtl"),e.el.dir="rtl"):(e.el.classList.remove(e.params.containerModifierClass+"rtl"),e.el.dir="ltr"),e.update())}mount(t){const e=this;if(e.mounted)return!0;let n=t||e.params.el;if("string"==typeof n&&(n=document.querySelector(n)),!n)return!1;n.swiper=e,n.shadowEl&&(e.isElement=!0);const r=()=>"."+(e.params.wrapperClass||"").trim().split(" ").join(".");let i=(()=>{if(n&&n.shadowRoot&&n.shadowRoot.querySelector){return n.shadowRoot.querySelector(r())}return g(n,r())[0]})();return!i&&e.params.createElements&&(i=v("div",e.params.wrapperClass),n.append(i),g(n,"."+e.params.slideClass).forEach(t=>{i.append(t)})),Object.assign(e,{el:n,wrapperEl:i,slidesEl:e.isElement?n:i,mounted:!0,rtl:"rtl"===n.dir.toLowerCase()||"rtl"===b(n,"direction"),rtlTranslate:"horizontal"===e.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===b(n,"direction")),wrongRTL:"-webkit-box"===b(i,"display")}),!0}init(t){const e=this;if(e.initialized)return e;return!1===e.mount(t)||(e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.loop&&e.virtual&&e.params.virtual.enabled?e.slideTo(e.params.initialSlide+e.virtual.slidesBefore,0,e.params.runCallbacksOnInit,!1,!0):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.params.loop&&e.loopCreate(),e.attachEvents(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(t=>{t.complete?D(e,t):t.addEventListener("load",t=>{D(e,t.target)})}),O(e),e.initialized=!0,O(e),e.emit("init"),e.emit("afterInit")),e}destroy(t=!0,e=!0){const n=this,{params:r,el:i,wrapperEl:o,slides:s}=n;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),e&&(n.removeClasses(),i.removeAttribute("style"),o.removeAttribute("style"),s&&s.length&&s.forEach(t=>{t.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),t.removeAttribute("style"),t.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(t=>{n.off(t)}),!1!==t&&(n.el.swiper=null,function(t){const e=t;Object.keys(e).forEach(t=>{try{e[t]=null}catch(t){}try{delete e[t]}catch(t){}})}(n)),n.destroyed=!0),null}static extendDefaults(t){d(Y,t)}static get extendedDefaults(){return Y}static get defaults(){return X}static installModule(t){$.prototype.__modules__||($.prototype.__modules__=[]);const e=$.prototype.__modules__;"function"==typeof t&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?(t.forEach(t=>$.installModule(t)),$):($.installModule(t),$)}}Object.keys(q).forEach(t=>{Object.keys(q[t]).forEach(e=>{$.prototype[e]=q[t][e]})}),$.use([function({swiper:t,on:e,emit:n}){const r=l();let i=null,o=null;const s=()=>{t&&!t.destroyed&&t.initialized&&(n("beforeResize"),n("resize"))},a=()=>{t&&!t.destroyed&&t.initialized&&n("orientationchange")};e("init",()=>{t.params.resizeObserver&&void 0!==r.ResizeObserver?t&&!t.destroyed&&t.initialized&&(i=new ResizeObserver(e=>{o=r.requestAnimationFrame(()=>{const{width:n,height:r}=t;let i=n,o=r;e.forEach(({contentBoxSize:e,contentRect:n,target:r})=>{r&&r!==t.el||(i=n?n.width:(e[0]||e).inlineSize,o=n?n.height:(e[0]||e).blockSize)}),i===n&&o===r||s()})}),i.observe(t.el)):(r.addEventListener("resize",s),r.addEventListener("orientationchange",a))}),e("destroy",()=>{o&&r.cancelAnimationFrame(o),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null),r.removeEventListener("resize",s),r.removeEventListener("orientationchange",a)})},function({swiper:t,extendParams:e,on:n,emit:r}){const i=[],o=l(),s=(e,n={})=>{const s=new(o.MutationObserver||o.WebkitMutationObserver)(e=>{if(t.__preventObserver__)return;if(1===e.length)return void r("observerUpdate",e[0]);const n=function(){r("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(n):o.setTimeout(n,0)});s.observe(e,{attributes:void 0===n.attributes||n.attributes,childList:void 0===n.childList||n.childList,characterData:void 0===n.characterData||n.characterData}),i.push(s)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",()=>{if(t.params.observer){if(t.params.observeParents){const e=x(t.el);for(let t=0;t<e.length;t+=1)s(e[t])}s(t.el,{childList:t.params.observeSlideChildren}),s(t.wrapperEl,{attributes:!1})}}),n("destroy",()=>{i.forEach(t=>{t.disconnect()}),i.splice(0,i.length)})}]);var K=$;function Z({swiper:t,extendParams:e,on:n,emit:r}){const i=l();let o;e({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),t.mousewheel={enabled:!1};let s,a=u();const h=[];function p(){t.enabled&&(t.mouseEntered=!0)}function d(){t.enabled&&(t.mouseEntered=!1)}function f(e){return!(t.params.mousewheel.thresholdDelta&&e.delta<t.params.mousewheel.thresholdDelta)&&(!(t.params.mousewheel.thresholdTime&&u()-a<t.params.mousewheel.thresholdTime)&&(e.delta>=6&&u()-a<60||(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),r("scroll",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),r("scroll",e.raw)),a=(new i.Date).getTime(),!1)))}function m(e){let n=e,i=!0;if(!t.enabled)return;if(e.target.closest("."+t.params.mousewheel.noMousewheelClass))return;const a=t.params.mousewheel;t.params.cssMode&&n.preventDefault();let l=t.el;"container"!==t.params.mousewheel.eventsTarget&&(l=document.querySelector(t.params.mousewheel.eventsTarget));const p=l&&l.contains(n.target);if(!t.mouseEntered&&!p&&!a.releaseOnEdges)return!0;n.originalEvent&&(n=n.originalEvent);let d=0;const m=t.rtlTranslate?-1:1,g=function(t){let e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=10*e,i=10*n,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),t.shiftKey&&!r&&(r=i,i=0),(r||i)&&t.deltaMode&&(1===t.deltaMode?(r*=40,i*=40):(r*=800,i*=800)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}(n);if(a.forceToAxis)if(t.isHorizontal()){if(!(Math.abs(g.pixelX)>Math.abs(g.pixelY)))return!0;d=-g.pixelX*m}else{if(!(Math.abs(g.pixelY)>Math.abs(g.pixelX)))return!0;d=-g.pixelY}else d=Math.abs(g.pixelX)>Math.abs(g.pixelY)?-g.pixelX*m:-g.pixelY;if(0===d)return!0;a.invert&&(d=-d);let v=t.getTranslate()+d*a.sensitivity;if(v>=t.minTranslate()&&(v=t.minTranslate()),v<=t.maxTranslate()&&(v=t.maxTranslate()),i=!!t.params.loop||!(v===t.minTranslate()||v===t.maxTranslate()),i&&t.params.nested&&n.stopPropagation(),t.params.freeMode&&t.params.freeMode.enabled){const e={time:u(),delta:Math.abs(d),direction:Math.sign(d)},i=s&&e.time<s.time+500&&e.delta<=s.delta&&e.direction===s.direction;if(!i){s=void 0;let l=t.getTranslate()+d*a.sensitivity;const u=t.isBeginning,p=t.isEnd;if(l>=t.minTranslate()&&(l=t.minTranslate()),l<=t.maxTranslate()&&(l=t.maxTranslate()),t.setTransition(0),t.setTranslate(l),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!u&&t.isBeginning||!p&&t.isEnd)&&t.updateSlidesClasses(),t.params.loop&&t.loopFix({direction:e.direction<0?"next":"prev",byMousewheel:!0}),t.params.freeMode.sticky){clearTimeout(o),o=void 0,h.length>=15&&h.shift();const n=h.length?h[h.length-1]:void 0,r=h[0];if(h.push(e),n&&(e.delta>n.delta||e.direction!==n.direction))h.splice(0);else if(h.length>=15&&e.time-r.time<500&&r.delta-e.delta>=1&&e.delta<=6){const n=d>0?.8:.2;s=e,h.splice(0),o=c(()=>{t.slideToClosest(t.params.speed,!0,void 0,n)},0)}o||(o=c(()=>{s=e,h.splice(0),t.slideToClosest(t.params.speed,!0,void 0,.5)},500))}if(i||r("scroll",n),t.params.autoplay&&t.params.autoplayDisableOnInteraction&&t.autoplay.stop(),l===t.minTranslate()||l===t.maxTranslate())return!0}}else{const n={time:u(),delta:Math.abs(d),direction:Math.sign(d),raw:e};h.length>=2&&h.shift();const r=h.length?h[h.length-1]:void 0;if(h.push(n),r?(n.direction!==r.direction||n.delta>r.delta||n.time>r.time+150)&&f(n):f(n),function(e){const n=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&n.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&n.releaseOnEdges)return!0;return!1}(n))return!0}return n.preventDefault?n.preventDefault():n.returnValue=!1,!1}function g(e){let n=t.el;"container"!==t.params.mousewheel.eventsTarget&&(n=document.querySelector(t.params.mousewheel.eventsTarget)),n[e]("mouseenter",p),n[e]("mouseleave",d),n[e]("wheel",m)}function v(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",m),!0):!t.mousewheel.enabled&&(g("addEventListener"),t.mousewheel.enabled=!0,!0)}function y(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,m),!0):!!t.mousewheel.enabled&&(g("removeEventListener"),t.mousewheel.enabled=!1,!0)}n("init",()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&y(),t.params.mousewheel.enabled&&v()}),n("destroy",()=>{t.params.cssMode&&v(),t.mousewheel.enabled&&y()}),Object.assign(t.mousewheel,{enable:v,disable:y})}function J(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&!0===n.auto){let o=g(t.el,"."+r[i])[0];o||(o=v("div",r[i]),o.className=r[i],t.el.append(o)),n[i]=o,e[i]=o}}),n}function Q({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};const i=t=>(Array.isArray(t)||(t=[t].filter(t=>!!t)),t);function o(e){let n;return e&&"string"==typeof e&&t.isElement&&(n=t.el.shadowRoot.querySelector(e),n)?n:(e&&("string"==typeof e&&(n=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"==typeof e&&n.length>1&&1===t.el.querySelectorAll(e).length&&(n=t.el.querySelector(e))),e&&!n?e:n)}function s(e,n){const r=t.params.navigation;(e=i(e)).forEach(e=>{e&&(e.classList[n?"add":"remove"](...r.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=n),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](r.lockClass))})}function a(){const{nextEl:e,prevEl:n}=t.navigation;if(t.params.loop)return s(n,!1),void s(e,!1);s(n,t.isBeginning&&!t.params.rewind),s(e,t.isEnd&&!t.params.rewind)}function l(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function c(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function u(){const e=t.params.navigation;if(t.params.navigation=J(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let n=o(e.nextEl),r=o(e.prevEl);Object.assign(t.navigation,{nextEl:n,prevEl:r}),n=i(n),r=i(r);const s=(n,r)=>{n&&n.addEventListener("click","next"===r?c:l),!t.enabled&&n&&n.classList.add(...e.lockClass.split(" "))};n.forEach(t=>s(t,"next")),r.forEach(t=>s(t,"prev"))}function h(){let{nextEl:e,prevEl:n}=t.navigation;e=i(e),n=i(n);const r=(e,n)=>{e.removeEventListener("click","next"===n?c:l),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach(t=>r(t,"next")),n.forEach(t=>r(t,"prev"))}n("init",()=>{!1===t.params.navigation.enabled?p():(u(),a())}),n("toEdge fromEdge lock unlock",()=>{a()}),n("destroy",()=>{h()}),n("enable disable",()=>{let{nextEl:e,prevEl:n}=t.navigation;e=i(e),n=i(n),[...e,...n].filter(t=>!!t).forEach(e=>e.classList[t.enabled?"remove":"add"](t.params.navigation.lockClass))}),n("click",(e,n)=>{let{nextEl:o,prevEl:s}=t.navigation;o=i(o),s=i(s);const a=n.target;if(t.params.navigation.hideOnClick&&!s.includes(a)&&!o.includes(a)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===a||t.pagination.el.contains(a)))return;let e;o.length?e=o[0].classList.contains(t.params.navigation.hiddenClass):s.length&&(e=s[0].classList.contains(t.params.navigation.hiddenClass)),r(!0===e?"navigationShow":"navigationHide"),[...o,...s].filter(t=>!!t).forEach(e=>e.classList.toggle(t.params.navigation.hiddenClass))}});const p=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),u(),a()},disable:p,update:a,init:u,destroy:h})}function tt(t=""){return"."+t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}function et({swiper:t,extendParams:e,on:n,emit:r}){const i="swiper-pagination";let o;e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:i+"-bullet",bulletActiveClass:i+"-bullet-active",modifierClass:i+"-",currentClass:i+"-current",totalClass:i+"-total",hiddenClass:i+"-hidden",progressbarFillClass:i+"-progressbar-fill",progressbarOppositeClass:i+"-progressbar-opposite",clickableClass:i+"-clickable",lockClass:i+"-lock",horizontalClass:i+"-horizontal",verticalClass:i+"-vertical",paginationDisabledClass:i+"-disabled"}}),t.pagination={el:null,bullets:[]};let s=0;const a=t=>(Array.isArray(t)||(t=[t].filter(t=>!!t)),t);function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function c(e,n){const{bulletActiveClass:r}=t.params.pagination;e&&(e=e[("prev"===n?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${r}-${n}`),(e=e[("prev"===n?"previous":"next")+"ElementSibling"])&&e.classList.add(`${r}-${n}-${n}`))}function u(e){const n=e.target.closest(tt(t.params.pagination.bulletClass));if(!n)return;e.preventDefault();const r=_(n)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===r)return;const e=t.getSlideIndexByData(r),n=t.getSlideIndexByData(t.realIndex);e>t.slides.length-t.loopedSlides&&t.loopFix({direction:e>n?"next":"prev",activeSlideIndex:e,slideTo:!1}),t.slideToLoop(r)}else t.slideTo(r)}function h(){const e=t.rtl,n=t.params.pagination;if(l())return;let i,u,h=t.pagination.el;h=a(h);const p=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,d=t.params.loop?Math.ceil(p/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(u=t.previousRealIndex||0,i=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(i=t.snapIndex,u=t.previousSnapIndex):(u=t.previousIndex||0,i=t.activeIndex||0),"bullets"===n.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const r=t.pagination.bullets;let a,l,p;if(n.dynamicBullets&&(o=E(r[0],t.isHorizontal()?"width":"height",!0),h.forEach(e=>{e.style[t.isHorizontal()?"width":"height"]=o*(n.dynamicMainBullets+4)+"px"}),n.dynamicMainBullets>1&&void 0!==u&&(s+=i-(u||0),s>n.dynamicMainBullets-1?s=n.dynamicMainBullets-1:s<0&&(s=0)),a=Math.max(i-s,0),l=a+(Math.min(r.length,n.dynamicMainBullets)-1),p=(l+a)/2),r.forEach(t=>{const e=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(t=>`${n.bulletActiveClass}${t}`)].map(t=>"string"==typeof t&&t.includes(" ")?t.split(" "):t).flat();t.classList.remove(...e)}),h.length>1)r.forEach(e=>{const r=_(e);r===i?e.classList.add(...n.bulletActiveClass.split(" ")):t.isElement&&e.setAttribute("part","bullet"),n.dynamicBullets&&(r>=a&&r<=l&&e.classList.add(...(n.bulletActiveClass+"-main").split(" ")),r===a&&c(e,"prev"),r===l&&c(e,"next"))});else{const e=r[i];if(e&&e.classList.add(...n.bulletActiveClass.split(" ")),t.isElement&&r.forEach((t,e)=>{t.setAttribute("part",e===i?"bullet-active":"bullet")}),n.dynamicBullets){const t=r[a],e=r[l];for(let t=a;t<=l;t+=1)r[t]&&r[t].classList.add(...(n.bulletActiveClass+"-main").split(" "));c(t,"prev"),c(e,"next")}}if(n.dynamicBullets){const i=Math.min(r.length,n.dynamicMainBullets+4),s=(o*i-o)/2-p*o,a=e?"right":"left";r.forEach(e=>{e.style[t.isHorizontal()?a:"top"]=s+"px"})}}h.forEach((e,o)=>{if("fraction"===n.type&&(e.querySelectorAll(tt(n.currentClass)).forEach(t=>{t.textContent=n.formatFractionCurrent(i+1)}),e.querySelectorAll(tt(n.totalClass)).forEach(t=>{t.textContent=n.formatFractionTotal(d)})),"progressbar"===n.type){let r;r=n.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const o=(i+1)/d;let s=1,a=1;"horizontal"===r?s=o:a=o,e.querySelectorAll(tt(n.progressbarFillClass)).forEach(e=>{e.style.transform=`translate3d(0,0,0) scaleX(${s}) scaleY(${a})`,e.style.transitionDuration=t.params.speed+"ms"})}"custom"===n.type&&n.renderCustom?(e.innerHTML=n.renderCustom(t,i+1,d),0===o&&r("paginationRender",e)):(0===o&&r("paginationRender",e),r("paginationUpdate",e)),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](n.lockClass)})}function p(){const e=t.params.pagination;if(l())return;const n=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length;let i=t.pagination.el;i=a(i);let o="";if("bullets"===e.type){let r=t.params.loop?Math.ceil(n/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&r>n&&(r=n);for(let n=0;n<r;n+=1)e.renderBullet?o+=e.renderBullet.call(t,n,e.bulletClass):o+=`<${e.bulletElement} ${t.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}"fraction"===e.type&&(o=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),"progressbar"===e.type&&(o=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`),t.pagination.bullets=[],i.forEach(n=>{"custom"!==e.type&&(n.innerHTML=o||""),"bullets"===e.type&&t.pagination.bullets.push(...n.querySelectorAll(tt(e.bulletClass)))}),"custom"!==e.type&&r("paginationRender",i[0])}function d(){t.params.pagination=J(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let n;"string"==typeof e.el&&t.isElement&&(n=t.el.shadowRoot.querySelector(e.el)),n||"string"!=typeof e.el||(n=[...document.querySelectorAll(e.el)]),n||(n=e.el),n&&0!==n.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(n)&&n.length>1&&(n=[...t.el.querySelectorAll(e.el)],n.length>1&&(n=n.filter(e=>x(e,".swiper")[0]===t.el)[0])),Array.isArray(n)&&1===n.length&&(n=n[0]),Object.assign(t.pagination,{el:n}),n=a(n),n.forEach(n=>{"bullets"===e.type&&e.clickable&&n.classList.add(e.clickableClass),n.classList.add(e.modifierClass+e.type),n.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(n.classList.add(`${e.modifierClass}${e.type}-dynamic`),s=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&n.classList.add(e.progressbarOppositeClass),e.clickable&&n.addEventListener("click",u),t.enabled||n.classList.add(e.lockClass)}))}function f(){const e=t.params.pagination;if(l())return;let n=t.pagination.el;n&&(n=a(n),n.forEach(n=>{n.classList.remove(e.hiddenClass),n.classList.remove(e.modifierClass+e.type),n.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&n.removeEventListener("click",u)})),t.pagination.bullets&&t.pagination.bullets.forEach(t=>t.classList.remove(...e.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const e=t.params.pagination;let{el:n}=t.pagination;n=a(n),n.forEach(n=>{n.classList.remove(e.horizontalClass,e.verticalClass),n.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)})}),n("init",()=>{!1===t.params.pagination.enabled?m():(d(),p(),h())}),n("activeIndexChange",()=>{void 0===t.snapIndex&&h()}),n("snapIndexChange",()=>{h()}),n("snapGridLengthChange",()=>{p(),h()}),n("destroy",()=>{f()}),n("enable disable",()=>{let{el:e}=t.pagination;e&&(e=a(e),e.forEach(e=>e.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),n("lock unlock",()=>{h()}),n("click",(e,n)=>{const i=n.target;let{el:o}=t.pagination;if(Array.isArray(o)||(o=[o].filter(t=>!!t)),t.params.pagination.el&&t.params.pagination.hideOnClick&&o&&o.length>0&&!i.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&i===t.navigation.nextEl||t.navigation.prevEl&&i===t.navigation.prevEl))return;const e=o[0].classList.contains(t.params.pagination.hiddenClass);r(!0===e?"paginationShow":"paginationHide"),o.forEach(e=>e.classList.toggle(t.params.pagination.hiddenClass))}});const m=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=a(e),e.forEach(e=>e.classList.add(t.params.pagination.paginationDisabledClass))),f()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=a(e),e.forEach(e=>e.classList.remove(t.params.pagination.paginationDisabledClass))),d(),p(),h()},disable:m,render:p,update:h,init:d,destroy:f})}function nt({swiper:t,extendParams:e,on:n,emit:r}){const i=s();let o,a,l,u,h=!1,p=null,d=null;function f(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e,rtlTranslate:n}=t,{dragEl:r,el:i}=e,o=t.params.scrollbar,s=t.params.loop?t.progressLoop:t.progress;let c=a,u=(l-a)*s;n?(u=-u,u>0?(c=a-u,u=0):-u+a>l&&(c=l+u)):u<0?(c=a+u,u=0):u+a>l&&(c=l-u),t.isHorizontal()?(r.style.transform=`translate3d(${u}px, 0, 0)`,r.style.width=c+"px"):(r.style.transform=`translate3d(0px, ${u}px, 0)`,r.style.height=c+"px"),o.hide&&(clearTimeout(p),i.style.opacity=1,p=setTimeout(()=>{i.style.opacity=0,i.style.transitionDuration="400ms"},1e3))}function m(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e}=t,{dragEl:n,el:r}=e;n.style.width="",n.style.height="",l=t.isHorizontal()?r.offsetWidth:r.offsetHeight,u=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),a="auto"===t.params.scrollbar.dragSize?l*u:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?n.style.width=a+"px":n.style.height=a+"px",r.style.display=u>=1?"none":"",t.params.scrollbar.hide&&(r.style.opacity=0),t.params.watchOverflow&&t.enabled&&e.el.classList[t.isLocked?"add":"remove"](t.params.scrollbar.lockClass)}function g(e){return t.isHorizontal()?e.clientX:e.clientY}function b(e){const{scrollbar:n,rtlTranslate:r}=t,{el:i}=n;let s;s=(g(e)-y(i)[t.isHorizontal()?"left":"top"]-(null!==o?o:a/2))/(l-a),s=Math.max(Math.min(s,1),0),r&&(s=1-s);const c=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*s;t.updateProgress(c),t.setTranslate(c),t.updateActiveIndex(),t.updateSlidesClasses()}function _(e){const n=t.params.scrollbar,{scrollbar:i,wrapperEl:s}=t,{el:a,dragEl:l}=i;h=!0,o=e.target===l?g(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),s.style.transitionDuration="100ms",l.style.transitionDuration="100ms",b(e),clearTimeout(d),a.style.transitionDuration="0ms",n.hide&&(a.style.opacity=1),t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",e)}function x(e){const{scrollbar:n,wrapperEl:i}=t,{el:o,dragEl:s}=n;h&&(e.preventDefault?e.preventDefault():e.returnValue=!1,b(e),i.style.transitionDuration="0ms",o.style.transitionDuration="0ms",s.style.transitionDuration="0ms",r("scrollbarDragMove",e))}function w(e){const n=t.params.scrollbar,{scrollbar:i,wrapperEl:o}=t,{el:s}=i;h&&(h=!1,t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="",o.style.transitionDuration=""),n.hide&&(clearTimeout(d),d=c(()=>{s.style.opacity=0,s.style.transitionDuration="400ms"},1e3)),r("scrollbarDragEnd",e),n.snapOnRelease&&t.slideToClosest())}function E(e){const{scrollbar:n,params:r}=t,o=n.el;if(!o)return;const s=o,a=!!r.passiveListeners&&{passive:!1,capture:!1},l=!!r.passiveListeners&&{passive:!0,capture:!1};if(!s)return;const c="on"===e?"addEventListener":"removeEventListener";s[c]("pointerdown",_,a),i[c]("pointermove",x,a),i[c]("pointerup",w,l)}function S(){const{scrollbar:e,el:n}=t;t.params.scrollbar=J(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const r=t.params.scrollbar;if(!r.el)return;let o,s;"string"==typeof r.el&&t.isElement&&(o=t.el.shadowRoot.querySelector(r.el)),o||"string"!=typeof r.el?o||(o=r.el):o=i.querySelectorAll(r.el),t.params.uniqueNavElements&&"string"==typeof r.el&&o.length>1&&1===n.querySelectorAll(r.el).length&&(o=n.querySelector(r.el)),o.length>0&&(o=o[0]),o.classList.add(t.isHorizontal()?r.horizontalClass:r.verticalClass),o&&(s=o.querySelector("."+t.params.scrollbar.dragClass),s||(s=v("div",t.params.scrollbar.dragClass),o.append(s))),Object.assign(e,{el:o,dragEl:s}),r.draggable&&t.params.scrollbar.el&&t.scrollbar.el&&E("on"),o&&o.classList[t.enabled?"remove":"add"](t.params.scrollbar.lockClass)}function T(){const e=t.params.scrollbar,n=t.scrollbar.el;n&&n.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),t.params.scrollbar.el&&t.scrollbar.el&&E("off")}e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null},n("init",()=>{!1===t.params.scrollbar.enabled?A():(S(),m(),f())}),n("update resize observerUpdate lock unlock",()=>{m()}),n("setTranslate",()=>{f()}),n("setTransition",(e,n)=>{!function(e){t.params.scrollbar.el&&t.scrollbar.el&&(t.scrollbar.dragEl.style.transitionDuration=e+"ms")}(n)}),n("enable disable",()=>{const{el:e}=t.scrollbar;e&&e.classList[t.enabled?"remove":"add"](t.params.scrollbar.lockClass)}),n("destroy",()=>{T()});const A=()=>{t.el.classList.add(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.el&&t.scrollbar.el.classList.add(t.params.scrollbar.scrollbarDisabledClass),T()};Object.assign(t.scrollbar,{enable:()=>{t.el.classList.remove(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.el&&t.scrollbar.el.classList.remove(t.params.scrollbar.scrollbarDisabledClass),S(),m(),f()},disable:A,updateSize:m,setTranslate:f,init:S,destroy:T})}function rt({swiper:t,extendParams:e,on:n}){function r(t,e){const n=function(){let t,e,n;return(r,i)=>{for(e=-1,t=r.length;t-e>1;)n=t+e>>1,r[n]<=i?e=n:t=n;return t}}();let r,i;return this.x=t,this.y=e,this.lastIndex=t.length-1,this.interpolate=function(t){return t?(i=n(this.x,t),r=i-1,(t-this.x[r])*(this.y[i]-this.y[r])/(this.x[i]-this.x[r])+this.y[r]):0},this}function i(){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}e({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0},n("beforeInit",()=>{if("undefined"!=typeof window&&("string"==typeof t.params.controller.control||t.params.controller.control instanceof HTMLElement)){const e=document.querySelector(t.params.controller.control);if(e&&e.swiper)t.controller.control=e.swiper;else if(e){const n=r=>{t.controller.control=r.detail[0],t.update(),e.removeEventListener("init",n)};e.addEventListener("init",n)}}else t.controller.control=t.params.controller.control}),n("update",()=>{i()}),n("resize",()=>{i()}),n("observerUpdate",()=>{i()}),n("setTranslate",(e,n,r)=>{t.controller.control&&!t.controller.control.destroyed&&t.controller.setTranslate(n,r)}),n("setTransition",(e,n,r)=>{t.controller.control&&!t.controller.control.destroyed&&t.controller.setTransition(n,r)}),Object.assign(t.controller,{setTranslate:function(e,n){const i=t.controller.control;let o,s;const a=t.constructor;function l(e){if(e.destroyed)return;const n=t.rtlTranslate?-t.translate:t.translate;"slide"===t.params.controller.by&&(!function(e){t.controller.spline=t.params.loop?new r(t.slidesGrid,e.slidesGrid):new r(t.snapGrid,e.snapGrid)}(e),s=-t.controller.spline.interpolate(-n)),s&&"container"!==t.params.controller.by||(o=(e.maxTranslate()-e.minTranslate())/(t.maxTranslate()-t.minTranslate()),!Number.isNaN(o)&&Number.isFinite(o)||(o=1),s=(n-t.minTranslate())*o+e.minTranslate()),t.params.controller.inverse&&(s=e.maxTranslate()-s),e.updateProgress(s),e.setTranslate(s,t),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(i))for(let t=0;t<i.length;t+=1)i[t]!==n&&i[t]instanceof a&&l(i[t]);else i instanceof a&&n!==i&&l(i)},setTransition:function(e,n){const r=t.constructor,i=t.controller.control;let o;function s(n){n.destroyed||(n.setTransition(e,t),0!==e&&(n.transitionStart(),n.params.autoHeight&&c(()=>{n.updateAutoHeight()}),w(n.wrapperEl,()=>{i&&n.transitionEnd()})))}if(Array.isArray(i))for(o=0;o<i.length;o+=1)i[o]!==n&&i[o]instanceof r&&s(i[o]);else i instanceof r&&n!==i&&s(i)}})}function it({swiper:t,extendParams:e,on:n,emit:r,params:i}){let o,a;t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,c,u,h,p,d,f,m=i&&i.autoplay?i.autoplay.delay:3e3,g=i&&i.autoplay?i.autoplay.delay:3e3,v=(new Date).getTime;function y(e){t&&!t.destroyed&&t.wrapperEl&&e.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",y),S())}const b=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?c=!0:c&&(g=l,c=!1);const e=t.autoplay.paused?l:v+g-(new Date).getTime();t.autoplay.timeLeft=e,r("autoplayTimeLeft",e,e/m),a=requestAnimationFrame(()=>{b()})},_=e=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(a),b();let n=void 0===e?t.params.autoplay.delay:e;m=t.params.autoplay.delay,g=t.params.autoplay.delay;const i=(()=>{let e;if(e=t.virtual&&t.params.virtual.enabled?t.slides.filter(t=>t.classList.contains("swiper-slide-active"))[0]:t.slides[t.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(i)&&i>0&&void 0===e&&(n=i,m=i,g=i),l=n;const s=t.params.speed,c=()=>{t&&!t.destroyed&&(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(s,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,s,!0,!0),r("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(s,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,s,!0,!0),r("autoplay")),t.params.cssMode&&(v=(new Date).getTime(),requestAnimationFrame(()=>{_()})))};return n>0?(clearTimeout(o),o=setTimeout(()=>{c()},n)):requestAnimationFrame(()=>{c()}),n},x=()=>{t.autoplay.running=!0,_(),r("autoplayStart")},w=()=>{t.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),r("autoplayStop")},E=(e,n)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(o),e||(f=!0);const i=()=>{r("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",y):S()};if(t.autoplay.paused=!0,n)return d&&(l=t.params.autoplay.delay),d=!1,void i();const s=l||t.params.autoplay.delay;l=s-((new Date).getTime()-v),t.isEnd&&l<0&&!t.params.loop||(l<0&&(l=0),i())},S=()=>{t.isEnd&&l<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(v=(new Date).getTime(),f?(f=!1,_(l)):_(),t.autoplay.paused=!1,r("autoplayResume"))},T=()=>{if(t.destroyed||!t.autoplay.running)return;const e=s();"hidden"===e.visibilityState&&(f=!0,E(!0)),"visible"===e.visibilityState&&S()},A=t=>{"mouse"===t.pointerType&&(f=!0,E(!0))},M=e=>{"mouse"===e.pointerType&&t.autoplay.paused&&S()};n("init",()=>{t.params.autoplay.enabled&&(t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",A),t.el.addEventListener("pointerleave",M)),s().addEventListener("visibilitychange",T),v=(new Date).getTime(),x())}),n("destroy",()=>{t.el.removeEventListener("pointerenter",A),t.el.removeEventListener("pointerleave",M),s().removeEventListener("visibilitychange",T),t.autoplay.running&&w()}),n("beforeTransitionStart",(e,n,r)=>{!t.destroyed&&t.autoplay.running&&(r||!t.params.autoplay.disableOnInteraction?E(!0,!0):w())}),n("sliderFirstMove",()=>{!t.destroyed&&t.autoplay.running&&(t.params.autoplay.disableOnInteraction?w():(u=!0,h=!1,f=!1,p=setTimeout(()=>{f=!0,h=!0,E(!0)},200)))}),n("touchEnd",()=>{if(!t.destroyed&&t.autoplay.running&&u){if(clearTimeout(p),clearTimeout(o),t.params.autoplay.disableOnInteraction)return h=!1,void(u=!1);h&&t.params.cssMode&&S(),h=!1,u=!1}}),n("slideChange",()=>{!t.destroyed&&t.autoplay.running&&(d=!0)}),Object.assign(t.autoplay,{start:x,stop:w,pause:E,resume:S})}function ot({swiper:t,extendParams:e,on:n}){e({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,i=!1;function o(){const e=t.thumbs.swiper;if(!e||e.destroyed)return;const n=e.clickedIndex,r=e.clickedSlide;if(r&&r.classList.contains(t.params.thumbs.slideThumbActiveClass))return;if(null==n)return;let i;i=e.params.loop?parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10):n,t.params.loop?t.slideToLoop(i):t.slideTo(i)}function a(){const{thumbs:e}=t.params;if(r)return!1;r=!0;const n=t.constructor;if(e.swiper instanceof n)t.thumbs.swiper=e.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update();else if(p(e.swiper)){const r=Object.assign({},e.swiper);Object.assign(r,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new n(r),i=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",o),!0}function l(e){const n=t.thumbs.swiper;if(!n||n.destroyed)return;const r="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():n.params.slidesPerView;let i=1;const o=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(i=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(i=1),i=Math.floor(i),n.slides.forEach(t=>t.classList.remove(o)),n.params.loop||n.params.virtual&&n.params.virtual.enabled)for(let e=0;e<i;e+=1)g(n.slidesEl,`[data-swiper-slide-index="${t.realIndex+e}"]`).forEach(t=>{t.classList.add(o)});else for(let e=0;e<i;e+=1)n.slides[t.realIndex+e]&&n.slides[t.realIndex+e].classList.add(o);const s=t.params.thumbs.autoScrollOffset,a=s&&!n.params.loop;if(t.realIndex!==n.realIndex||a){const i=n.activeIndex;let o,l;if(n.params.loop){const e=n.slides.filter(e=>e.getAttribute("data-swiper-slide-index")===""+t.realIndex)[0];o=n.slides.indexOf(e),l=t.activeIndex>t.previousIndex?"next":"prev"}else o=t.realIndex,l=o>t.previousIndex?"next":"prev";a&&(o+="next"===l?s:-1*s),n.visibleSlidesIndexes&&n.visibleSlidesIndexes.indexOf(o)<0&&(n.params.centeredSlides?o=o>i?o-Math.floor(r/2)+1:o+Math.floor(r/2)-1:o>i&&n.params.slidesPerGroup,n.slideTo(o,e?0:void 0))}}t.thumbs={swiper:null},n("beforeInit",()=>{const{thumbs:e}=t.params;if(e&&e.swiper)if("string"==typeof e.swiper||e.swiper instanceof HTMLElement){const n=s(),r=()=>{const r="string"==typeof e.swiper?n.querySelector(e.swiper):e.swiper;if(r&&r.swiper)e.swiper=r.swiper,a(),l(!0);else if(r){const n=i=>{e.swiper=i.detail[0],r.removeEventListener("init",n),a(),l(!0),e.swiper.update(),t.update()};r.addEventListener("init",n)}return r},i=()=>{if(t.destroyed)return;r()||requestAnimationFrame(i)};requestAnimationFrame(i)}else a(),l(!0)}),n("slideChange update resize observerUpdate",()=>{l()}),n("setTransition",(e,n)=>{const r=t.thumbs.swiper;r&&!r.destroyed&&r.setTransition(n)}),n("beforeDestroy",()=>{const e=t.thumbs.swiper;e&&!e.destroyed&&i&&e.destroy()}),Object.assign(t.thumbs,{init:a,update:l})}function st({swiper:t,extendParams:e,emit:n,once:r}){e({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(t,{freeMode:{onTouchStart:function(){if(t.params.cssMode)return;const e=t.getTranslate();t.setTranslate(e),t.setTransition(0),t.touchEventsData.velocities.length=0,t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})},onTouchMove:function(){if(t.params.cssMode)return;const{touchEventsData:e,touches:n}=t;0===e.velocities.length&&e.velocities.push({position:n[t.isHorizontal()?"startX":"startY"],time:e.touchStartTime}),e.velocities.push({position:n[t.isHorizontal()?"currentX":"currentY"],time:u()})},onTouchEnd:function({currentPos:e}){if(t.params.cssMode)return;const{params:i,wrapperEl:o,rtlTranslate:s,snapGrid:a,touchEventsData:l}=t,c=u()-l.touchStartTime;if(e<-t.minTranslate())t.slideTo(t.activeIndex);else if(e>-t.maxTranslate())t.slides.length<a.length?t.slideTo(a.length-1):t.slideTo(t.slides.length-1);else{if(i.freeMode.momentum){if(l.velocities.length>1){const e=l.velocities.pop(),n=l.velocities.pop(),r=e.position-n.position,o=e.time-n.time;t.velocity=r/o,t.velocity/=2,Math.abs(t.velocity)<i.freeMode.minimumVelocity&&(t.velocity=0),(o>150||u()-e.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=i.freeMode.momentumVelocityRatio,l.velocities.length=0;let e=1e3*i.freeMode.momentumRatio;const c=t.velocity*e;let h=t.translate+c;s&&(h=-h);let p,d=!1;const f=20*Math.abs(t.velocity)*i.freeMode.momentumBounceRatio;let m;if(h<t.maxTranslate())i.freeMode.momentumBounce?(h+t.maxTranslate()<-f&&(h=t.maxTranslate()-f),p=t.maxTranslate(),d=!0,l.allowMomentumBounce=!0):h=t.maxTranslate(),i.loop&&i.centeredSlides&&(m=!0);else if(h>t.minTranslate())i.freeMode.momentumBounce?(h-t.minTranslate()>f&&(h=t.minTranslate()+f),p=t.minTranslate(),d=!0,l.allowMomentumBounce=!0):h=t.minTranslate(),i.loop&&i.centeredSlides&&(m=!0);else if(i.freeMode.sticky){let e;for(let t=0;t<a.length;t+=1)if(a[t]>-h){e=t;break}h=Math.abs(a[e]-h)<Math.abs(a[e-1]-h)||"next"===t.swipeDirection?a[e]:a[e-1],h=-h}if(m&&r("transitionEnd",()=>{t.loopFix()}),0!==t.velocity){if(e=s?Math.abs((-h-t.translate)/t.velocity):Math.abs((h-t.translate)/t.velocity),i.freeMode.sticky){const n=Math.abs((s?-h:h)-t.translate),r=t.slidesSizesGrid[t.activeIndex];e=n<r?i.speed:n<2*r?1.5*i.speed:2.5*i.speed}}else if(i.freeMode.sticky)return void t.slideToClosest();i.freeMode.momentumBounce&&d?(t.updateProgress(p),t.setTransition(e),t.setTranslate(h),t.transitionStart(!0,t.swipeDirection),t.animating=!0,w(o,()=>{t&&!t.destroyed&&l.allowMomentumBounce&&(n("momentumBounce"),t.setTransition(i.speed),setTimeout(()=>{t.setTranslate(p),w(o,()=>{t&&!t.destroyed&&t.transitionEnd()})},0))})):t.velocity?(n("_freeModeNoMomentumRelease"),t.updateProgress(h),t.setTransition(e),t.setTranslate(h),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,w(o,()=>{t&&!t.destroyed&&t.transitionEnd()}))):t.updateProgress(h),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(i.freeMode.sticky)return void t.slideToClosest();i.freeMode&&n("_freeModeNoMomentumRelease")}(!i.freeMode.momentum||c>=i.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}}}})}function at({swiper:t,extendParams:e}){let n,r,i;e({grid:{rows:1,fill:"column"}});const o=()=>{let e=t.params.spaceBetween;return"string"==typeof e&&e.indexOf("%")>=0?e=parseFloat(e.replace("%",""))/100*t.size:"string"==typeof e&&(e=parseFloat(e)),e};t.grid={initSlides:e=>{const{slidesPerView:o}=t.params,{rows:s,fill:a}=t.params.grid;i=Math.floor(e/s),n=Math.floor(e/s)===e/s?e:Math.ceil(e/s)*s,"auto"!==o&&"row"===a&&(n=Math.max(n,o*s)),r=n/s},updateSlide:(e,s,a,l)=>{const{slidesPerGroup:c}=t.params,u=o(),{rows:h,fill:p}=t.params.grid;let d,f,m;if("row"===p&&c>1){const t=Math.floor(e/(c*h)),r=e-h*c*t,i=0===t?c:Math.min(Math.ceil((a-t*h*c)/h),c);m=Math.floor(r/i),f=r-m*i+t*c,d=f+m*n/h,s.style.order=d}else"column"===p?(f=Math.floor(e/h),m=e-f*h,(f>i||f===i&&m===h-1)&&(m+=1,m>=h&&(m=0,f+=1))):(m=Math.floor(e/r),f=e-m*r);s.row=m,s.column=f,s.style[l("margin-top")]=0!==m?u&&u+"px":""},updateWrapperSize:(e,r,i)=>{const{centeredSlides:s,roundLengths:a}=t.params,l=o(),{rows:c}=t.params.grid;if(t.virtualSize=(e+l)*n,t.virtualSize=Math.ceil(t.virtualSize/c)-l,t.wrapperEl.style[i("width")]=t.virtualSize+l+"px",s){const e=[];for(let n=0;n<r.length;n+=1){let i=r[n];a&&(i=Math.floor(i)),r[n]<t.virtualSize+r[0]&&e.push(i)}r.splice(0,r.length),r.push(...e)}}}}},URgk:function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n("YBdB"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n("yLpj"))},UVaH:function(t,e,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n("FpZJ");t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},VAJa:function(t,e,n){"use strict";var r=n("AM7I"),i=n("VF6F"),o=n("JxQ3"),s=r("%TypeError%"),a=r("%WeakMap%",!0),l=r("%Map%",!0),c=i("WeakMap.prototype.get",!0),u=i("WeakMap.prototype.set",!0),h=i("WeakMap.prototype.has",!0),p=i("Map.prototype.get",!0),d=i("Map.prototype.set",!0),f=i("Map.prototype.has",!0),m=function(t,e){for(var n,r=t;null!==(n=r.next);r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n};t.exports=function(){var t,e,n,r={assert:function(t){if(!r.has(t))throw new s("Side channel does not contain "+o(t))},get:function(r){if(a&&r&&("object"==typeof r||"function"==typeof r)){if(t)return c(t,r)}else if(l){if(e)return p(e,r)}else if(n)return function(t,e){var n=m(t,e);return n&&n.value}(n,r)},has:function(r){if(a&&r&&("object"==typeof r||"function"==typeof r)){if(t)return h(t,r)}else if(l){if(e)return f(e,r)}else if(n)return function(t,e){return!!m(t,e)}(n,r);return!1},set:function(r,i){a&&r&&("object"==typeof r||"function"==typeof r)?(t||(t=new a),u(t,r,i)):l?(e||(e=new l),d(e,r,i)):(n||(n={key:{},next:null}),function(t,e,n){var r=m(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}}(n,r,i))}};return r}},VF6F:function(t,e,n){"use strict";var r=n("AM7I"),i=n("PrET"),o=i(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&o(t,".prototype.")>-1?i(n):n}},VmRL:function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r,o,a,l,c,u,d,f=e&&e.length,g=f?e[0]*n:t.length,v=i(t,0,g,n,!0),y=[];if(!v||v.next===v.prev)return y;if(f&&(v=function(t,e,n,r){var o,s,a,l,c,u=[];for(o=0,s=e.length;o<s;o++)a=e[o]*r,l=o<s-1?e[o+1]*r:t.length,(c=i(t,a,l,r,!1))===c.next&&(c.steiner=!0),u.push(m(c));for(u.sort(h),o=0;o<u.length;o++)n=p(u[o],n);return n}(t,e,v,n)),t.length>80*n){r=a=t[0],o=l=t[1];for(var b=n;b<g;b+=n)(c=t[b])<r&&(r=c),(u=t[b+1])<o&&(o=u),c>a&&(a=c),u>l&&(l=u);d=0!==(d=Math.max(a-r,l-o))?32767/d:0}return s(v,y,n,r,o,d,0),y}function i(t,e,n,r,i){var o,s;if(i===C(t,e,n,r)>0)for(o=e;o<n;o+=r)s=T(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=T(o,t[o],t[o+1],s);return s&&b(s,s.next)&&(A(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!b(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(A(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function s(t,e,n,r,i,h,p){if(t){!p&&h&&function(t,e,n,r){var i=t;do{0===i.z&&(i.z=f(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,s,a,l,c=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ);e++);for(l=c;a>0||l>0&&r;)0!==a&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(s>1)}(i)}(t,r,i,h);for(var d,m,g=t;t.prev!==t.next;)if(d=t.prev,m=t.next,h?l(t,r,i,h):a(t))e.push(d.i/n|0),e.push(t.i/n|0),e.push(m.i/n|0),A(t),t=m.next,g=m.next;else if((t=m)===g){p?1===p?s(t=c(o(t),e,n),e,n,r,i,h,2):2===p&&u(t,e,n,r,i,h):s(o(t),e,n,r,i,h,1);break}}}function a(t){var e=t.prev,n=t,r=t.next;if(y(e,n,r)>=0)return!1;for(var i=e.x,o=n.x,s=r.x,a=e.y,l=n.y,c=r.y,u=i<o?i<s?i:s:o<s?o:s,h=a<l?a<c?a:c:l<c?l:c,p=i>o?i>s?i:s:o>s?o:s,d=a>l?a>c?a:c:l>c?l:c,f=r.next;f!==e;){if(f.x>=u&&f.x<=p&&f.y>=h&&f.y<=d&&g(i,a,o,l,s,c,f.x,f.y)&&y(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function l(t,e,n,r){var i=t.prev,o=t,s=t.next;if(y(i,o,s)>=0)return!1;for(var a=i.x,l=o.x,c=s.x,u=i.y,h=o.y,p=s.y,d=a<l?a<c?a:c:l<c?l:c,m=u<h?u<p?u:p:h<p?h:p,v=a>l?a>c?a:c:l>c?l:c,b=u>h?u>p?u:p:h>p?h:p,_=f(d,m,e,n,r),x=f(v,b,e,n,r),w=t.prevZ,E=t.nextZ;w&&w.z>=_&&E&&E.z<=x;){if(w.x>=d&&w.x<=v&&w.y>=m&&w.y<=b&&w!==i&&w!==s&&g(a,u,l,h,c,p,w.x,w.y)&&y(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,E.x>=d&&E.x<=v&&E.y>=m&&E.y<=b&&E!==i&&E!==s&&g(a,u,l,h,c,p,E.x,E.y)&&y(E.prev,E,E.next)>=0)return!1;E=E.nextZ}for(;w&&w.z>=_;){if(w.x>=d&&w.x<=v&&w.y>=m&&w.y<=b&&w!==i&&w!==s&&g(a,u,l,h,c,p,w.x,w.y)&&y(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;E&&E.z<=x;){if(E.x>=d&&E.x<=v&&E.y>=m&&E.y<=b&&E!==i&&E!==s&&g(a,u,l,h,c,p,E.x,E.y)&&y(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function c(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!b(i,s)&&_(i,r,r.next,s)&&E(i,s)&&E(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),A(r),A(r.next),r=t=s),r=r.next}while(r!==t);return o(r)}function u(t,e,n,r,i,a){var l=t;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&v(l,c)){var u=S(l,c);return l=o(l,l.next),u=o(u,u.next),s(l,e,n,r,i,a,0),void s(u,e,n,r,i,a,0)}c=c.next}l=l.next}while(l!==t)}function h(t,e){return t.x-e.x}function p(t,e){var n=function(t,e){var n,r=e,i=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s&&(s=a,n=r.x<r.next.x?r:r.next,a===i))return n}r=r.next}while(r!==e);if(!n)return null;var l,c=n,u=n.x,h=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=u&&i!==r.x&&g(o<h?i:s,o,u,h,o<h?s:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),E(r,t)&&(l<p||l===p&&(r.x>n.x||r.x===n.x&&d(n,r)))&&(n=r,p=l)),r=r.next}while(r!==c);return n}(t,e);if(!n)return e;var r=S(n,t);return o(r,r.next),o(n,n.next)}function d(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function f(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function m(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function g(t,e,n,r,i,o,s,a){return(i-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(r-a)>=(n-s)*(e-a)&&(n-s)*(o-a)>=(i-s)*(r-a)}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&_(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(E(t,e)&&E(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||b(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function _(t,e,n,r){var i=w(y(t,e,n)),o=w(y(t,e,r)),s=w(y(n,r,t)),a=w(y(n,r,e));return i!==o&&s!==a||(!(0!==i||!x(t,n,e))||(!(0!==o||!x(t,r,e))||(!(0!==s||!x(n,t,r))||!(0!==a||!x(n,e,r)))))}function x(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function w(t){return t>0?1:t<0?-1:0}function E(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function S(t,e){var n=new M(t.i,t.x,t.y),r=new M(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function T(t,e,n,r){var i=new M(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function A(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function M(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(t,e,n,r){for(var i=0,o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}t.exports=r,t.exports.default=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,s=Math.abs(C(t,0,o,n));if(i)for(var a=0,l=e.length;a<l;a++){var c=e[a]*n,u=a<l-1?e[a+1]*n:t.length;s-=Math.abs(C(t,c,u,n))}var h=0;for(a=0;a<r.length;a+=3){var p=r[a]*n,d=r[a+1]*n,f=r[a+2]*n;h+=Math.abs((t[p]-t[f])*(t[d+1]-t[p+1])-(t[p]-t[d])*(t[f+1]-t[p+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},Womt:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return ga})),n.d(e,"e",(function(){return us})),n.d(e,"f",(function(){return Gt})),n.d(e,"g",(function(){return dn})),n.d(e,"h",(function(){return Sn})),n.d(e,"i",(function(){return Vn})),n.d(e,"j",(function(){return $s})),n.d(e,"k",(function(){return u})),n.d(e,"l",(function(){return m})),n.d(e,"m",(function(){return ja})),n.d(e,"n",(function(){return sn})),n.d(e,"o",(function(){return wt})),n.d(e,"p",(function(){return qs})),n.d(e,"q",(function(){return Ys})),n.d(e,"r",(function(){return Ws})),n.d(e,"s",(function(){return kt})),n.d(e,"t",(function(){return hs})),n.d(e,"u",(function(){return Ga})),n.d(e,"v",(function(){return Y})),n.d(e,"w",(function(){return i})),n.d(e,"x",(function(){return Z})),n.d(e,"y",(function(){return Sa})),n.d(e,"z",(function(){return gn})),n.d(e,"A",(function(){return S})),n.d(e,"B",(function(){return r})),n.d(e,"C",(function(){return Go})),n.d(e,"D",(function(){return T})),n.d(e,"E",(function(){return Ha})),n.d(e,"F",(function(){return ms})),n.d(e,"G",(function(){return Es})),n.d(e,"H",(function(){return Zo})),n.d(e,"I",(function(){return Qo})),n.d(e,"J",(function(){return ia})),n.d(e,"K",(function(){return G})),n.d(e,"L",(function(){return z})),n.d(e,"M",(function(){return Os})),n.d(e,"N",(function(){return Ss})),n.d(e,"O",(function(){return Ns})),n.d(e,"P",(function(){return Fs})),n.d(e,"Q",(function(){return $})),n.d(e,"R",(function(){return _})),n.d(e,"S",(function(){return w})),n.d(e,"T",(function(){return x})),n.d(e,"U",(function(){return q})),n.d(e,"V",(function(){return l})),n.d(e,"W",(function(){return xa})),n.d(e,"X",(function(){return za})),n.d(e,"Y",(function(){return cn})),n.d(e,"Z",(function(){return ct})),n.d(e,"ab",(function(){return de})),n.d(e,"bb",(function(){return Fn})),n.d(e,"cb",(function(){return un})),n.d(e,"db",(function(){return Js})),n.d(e,"eb",(function(){return Zs})),n.d(e,"fb",(function(){return g})),n.d(e,"gb",(function(){return v})),n.d(e,"hb",(function(){return b})),n.d(e,"ib",(function(){return y})),n.d(e,"jb",(function(){return d})),n.d(e,"kb",(function(){return o})),n.d(e,"lb",(function(){return X})),n.d(e,"mb",(function(){return a})),n.d(e,"nb",(function(){return ha})),n.d(e,"ob",(function(){return Ge})),n.d(e,"pb",(function(){return _r})),n.d(e,"qb",(function(){return Yn})),n.d(e,"rb",(function(){return er})),n.d(e,"sb",(function(){return ar})),n.d(e,"tb",(function(){return Ba})),n.d(e,"ub",(function(){return js})),n.d(e,"vb",(function(){return Bs})),n.d(e,"wb",(function(){return $a})),n.d(e,"xb",(function(){return Ft})),n.d(e,"yb",(function(){return da})),n.d(e,"zb",(function(){return M})),n.d(e,"Ab",(function(){return N})),n.d(e,"Bb",(function(){return B})),n.d(e,"Cb",(function(){return U})),n.d(e,"Db",(function(){return F})),n.d(e,"Eb",(function(){return I})),n.d(e,"Fb",(function(){return D})),n.d(e,"Gb",(function(){return R})),n.d(e,"Hb",(function(){return A})),n.d(e,"Ib",(function(){return L})),n.d(e,"Jb",(function(){return k})),n.d(e,"Kb",(function(){return O})),n.d(e,"Lb",(function(){return P})),n.d(e,"Mb",(function(){return Ks})),n.d(e,"Nb",(function(){return Za})),n.d(e,"Ob",(function(){return C})),n.d(e,"Pb",(function(){return c})),n.d(e,"Qb",(function(){return f})),n.d(e,"Rb",(function(){return W})),n.d(e,"Sb",(function(){return K})),n.d(e,"Tb",(function(){return Ko})),n.d(e,"Ub",(function(){return jn})),n.d(e,"Vb",(function(){return fs})),n.d(e,"Wb",(function(){return cs})),n.d(e,"Xb",(function(){return ie})),n.d(e,"Yb",(function(){return Ia})),n.d(e,"Zb",(function(){return Dt})),n.d(e,"ac",(function(){return Aa})),n.d(e,"bc",(function(){return V})),n.d(e,"cc",(function(){return j})),n.d(e,"dc",(function(){return H})),n.d(e,"ec",(function(){return Hn})),n.d(e,"fc",(function(){return E})),n.d(e,"gc",(function(){return ut})),n.d(e,"hc",(function(){return Nt})),n.d(e,"ic",(function(){return Rt})),n.d(e,"jc",(function(){return ma})),n.d(e,"kc",(function(){return Xs})),n.d(e,"lc",(function(){return It})),n.d(e,"mc",(function(){return $o}));const r=0,i=2,o=0,s=2,a=0,l=1,c=2,u=3,h=4,p=6,d=7,f=1e3,m=1001,g=1002,v=1003,y=1004,b=1005,_=1006,x=1007,w=1008,E=1009,S=1015,T=1016,A=1022,M=1023,C=1028,P=1030,D=33777,R=33779,O=35840,I=35842,L=36196,k=37492,F=37496,N=37808,B=37812,U=36492,G=2300,z=2301,H=0,j=1,V=2,X="",W="srgb",q="srgb-linear",Y="display-p3",$="display-p3-linear",K="srgb",Z=35048;class J{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let e=0,r=n.length;e<r;e++)n[e].call(this,t);t.target=null}}}const Q=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let tt=1234567;const et=Math.PI/180,nt=180/Math.PI;function rt(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Q[255&t]+Q[t>>8&255]+Q[t>>16&255]+Q[t>>24&255]+"-"+Q[255&e]+Q[e>>8&255]+"-"+Q[e>>16&15|64]+Q[e>>24&255]+"-"+Q[63&n|128]+Q[n>>8&255]+"-"+Q[n>>16&255]+Q[n>>24&255]+Q[255&r]+Q[r>>8&255]+Q[r>>16&255]+Q[r>>24&255]).toLowerCase()}function it(t,e,n){return Math.max(e,Math.min(n,t))}function ot(t,e){return(t%e+e)%e}function st(t,e,n){return(1-n)*t+n*e}function at(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function lt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(4294967295*t);case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int32Array:return Math.round(2147483647*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}}const ct={DEG2RAD:et,RAD2DEG:nt,generateUUID:rt,clamp:it,euclideanModulo:ot,mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},inverseLerp:function(t,e,n){return t!==e?(n-t)/(e-t):0},lerp:st,damp:function(t,e,n,r){return st(t,e,1-Math.exp(-n*r))},pingpong:function(t,e=1){return e-Math.abs(ot(t,2*e)-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){void 0!==t&&(tt=t);let e=tt+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296},degToRad:function(t){return t*et},radToDeg:function(t){return t*nt},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,r,i){const o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),c=o((e+r)/2),u=s((e+r)/2),h=o((e-r)/2),p=s((e-r)/2),d=o((r-e)/2),f=s((r-e)/2);switch(i){case"XYX":t.set(a*u,l*h,l*p,a*c);break;case"YZY":t.set(l*p,a*u,l*h,a*c);break;case"ZXZ":t.set(l*h,l*p,a*u,a*c);break;case"XZX":t.set(a*u,l*f,l*d,a*c);break;case"YXY":t.set(l*d,a*u,l*f,a*c);break;case"ZYZ":t.set(l*f,l*d,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:lt,denormalize:at};class ut{constructor(t=0,e=0){ut.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(it(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ht{constructor(t,e,n,r,i,o,s,a,l){ht.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,n,r,i,o,s,a,l)}set(t,e,n,r,i,o,s,a,l){const c=this.elements;return c[0]=t,c[1]=r,c[2]=s,c[3]=e,c[4]=i,c[5]=a,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,i=this.elements,o=n[0],s=n[3],a=n[6],l=n[1],c=n[4],u=n[7],h=n[2],p=n[5],d=n[8],f=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],_=r[2],x=r[5],w=r[8];return i[0]=o*f+s*v+a*_,i[3]=o*m+s*y+a*x,i[6]=o*g+s*b+a*w,i[1]=l*f+c*v+u*_,i[4]=l*m+c*y+u*x,i[7]=l*g+c*b+u*w,i[2]=h*f+p*v+d*_,i[5]=h*m+p*y+d*x,i[8]=h*g+p*b+d*w,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],l=t[7],c=t[8];return e*o*c-e*s*l-n*i*c+n*s*a+r*i*l-r*o*a}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],u=c*o-s*l,h=s*a-c*i,p=l*i-o*a,d=e*u+n*h+r*p;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);const f=1/d;return t[0]=u*f,t[1]=(r*l-c*n)*f,t[2]=(s*n-r*o)*f,t[3]=h*f,t[4]=(c*e-r*a)*f,t[5]=(r*i-s*e)*f,t[6]=p*f,t[7]=(n*a-l*e)*f,t[8]=(o*e-n*i)*f,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,r,i,o,s){const a=Math.cos(i),l=Math.sin(i);return this.set(n*a,n*l,-n*(a*o+l*s)+o+t,-r*l,r*a,-r*(-l*o+a*s)+s+e,0,0,1),this}scale(t,e){return this.premultiply(pt.makeScale(t,e)),this}rotate(t){return this.premultiply(pt.makeRotation(-t)),this}translate(t,e){return this.premultiply(pt.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<9;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const pt=new ht;function dt(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function ft(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function mt(){const t=ft("canvas");return t.style.display="block",t}const gt={};function vt(t){t in gt||(gt[t]=!0,console.warn(t))}const yt=(new ht).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),bt=(new ht).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),_t={[q]:{transfer:"linear",primaries:"rec709",luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t,fromReference:t=>t},[W]:{transfer:K,primaries:"rec709",luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[$]:{transfer:"linear",primaries:"p3",luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.applyMatrix3(bt),fromReference:t=>t.applyMatrix3(yt)},[Y]:{transfer:K,primaries:"p3",luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.convertSRGBToLinear().applyMatrix3(bt),fromReference:t=>t.applyMatrix3(yt).convertLinearToSRGB()}},xt=new Set([q,$]),wt={enabled:!0,_workingColorSpace:q,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!xt.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(!1===this.enabled||e===n||!e||!n)return t;const r=_t[e].toReference;return(0,_t[n].fromReference)(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return _t[t].primaries},getTransfer:function(t){return t===X?"linear":_t[t].transfer},getLuminanceCoefficients:function(t,e=this._workingColorSpace){return t.fromArray(_t[e].luminanceCoefficients)}};function Et(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function St(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}let Tt;let At=0;class Mt{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:At++}),this.uuid=rt(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let t;if(Array.isArray(r)){t=[];for(let e=0,n=r.length;e<n;e++)r[e].isDataTexture?t.push(Ct(r[e].image)):t.push(Ct(r[e]))}else t=Ct(r);n.url=t}return e||(t.images[this.uuid]=n),n}}function Ct(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?class{static getDataURL(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===Tt&&(Tt=ft("canvas")),Tt.width=t.width,Tt.height=t.height;const n=Tt.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=Tt}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const e=ft("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const r=n.getImageData(0,0,t.width,t.height),i=r.data;for(let t=0;t<i.length;t++)i[t]=255*Et(i[t]/255);return n.putImageData(r,0,0),e}if(t.data){const e=t.data.slice(0);for(let t=0;t<e.length;t++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[t]=Math.floor(255*Et(e[t]/255)):e[t]=Et(e[t]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Pt=0;class Dt extends J{constructor(t=Dt.DEFAULT_IMAGE,e=Dt.DEFAULT_MAPPING,n=m,r=m,i=_,o=w,s=M,a=E,l=Dt.DEFAULT_ANISOTROPY,c=X){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Pt++}),this.uuid=rt(),this.name="",this.source=new Mt(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=o,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=a,this.offset=new ut(0,0),this.repeat=new ut(1,1),this.center=new ut(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ht,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),e||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case f:t.x=t.x-Math.floor(t.x);break;case m:t.x=t.x<0?0:1;break;case g:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case f:t.y=t.y-Math.floor(t.y);break;case m:t.y=t.y<0?0:1;break;case g:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}Dt.DEFAULT_IMAGE=null,Dt.DEFAULT_MAPPING=300,Dt.DEFAULT_ANISOTROPY=1;class Rt{constructor(t=0,e=0,n=0,r=1){Rt.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,r,i;const o=t.elements,s=o[0],a=o[4],l=o[8],c=o[1],u=o[5],h=o[9],p=o[2],d=o[6],f=o[10];if(Math.abs(a-c)<.01&&Math.abs(l-p)<.01&&Math.abs(h-d)<.01){if(Math.abs(a+c)<.1&&Math.abs(l+p)<.1&&Math.abs(h+d)<.1&&Math.abs(s+u+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const t=(s+1)/2,o=(u+1)/2,m=(f+1)/2,g=(a+c)/4,v=(l+p)/4,y=(h+d)/4;return t>o&&t>m?t<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(t),r=g/n,i=v/n):o>m?o<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(o),n=g/r,i=y/r):m<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(m),n=v/i,r=y/i),this.set(n,r,i,e),this}let m=Math.sqrt((d-h)*(d-h)+(l-p)*(l-p)+(c-a)*(c-a));return Math.abs(m)<.001&&(m=1),this.x=(d-h)/m,this.y=(l-p)/m,this.z=(c-a)/m,this.w=Math.acos((s+u+f-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ot extends J{constructor(t=1,e=1,n={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new Rt(0,0,t,e),this.scissorTest=!1,this.viewport=new Rt(0,0,t,e);const r={width:t,height:e,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:_,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const i=new Dt(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);i.flipY=!1,i.generateMipmaps=n.generateMipmaps,i.internalFormat=n.internalFormat,this.textures=[];const o=n.count;for(let t=0;t<o;t++)this.textures[t]=i.clone(),this.textures[t].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}setSize(t,e,n=1){if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(let r=0,i=this.textures.length;r<i;r++)this.textures[r].image.width=t,this.textures[r].image.height=e,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,n=t.textures.length;e<n;e++)this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new Mt(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class It extends Ot{constructor(t=1,e=1,n={}){super(t,e,n),this.isWebGLRenderTarget=!0}}class Lt extends Dt{constructor(t=null,e=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=v,this.minFilter=v,this.wrapR=m,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class kt extends Dt{constructor(t=null,e=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=v,this.minFilter=v,this.wrapR=m,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ft{constructor(t=0,e=0,n=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=r}static slerpFlat(t,e,n,r,i,o,s){let a=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const h=i[o+0],p=i[o+1],d=i[o+2],f=i[o+3];if(0===s)return t[e+0]=a,t[e+1]=l,t[e+2]=c,void(t[e+3]=u);if(1===s)return t[e+0]=h,t[e+1]=p,t[e+2]=d,void(t[e+3]=f);if(u!==f||a!==h||l!==p||c!==d){let t=1-s;const e=a*h+l*p+c*d+u*f,n=e>=0?1:-1,r=1-e*e;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,e*n);t=Math.sin(t*o)/i,s=Math.sin(s*o)/i}const i=s*n;if(a=a*t+h*i,l=l*t+p*i,c=c*t+d*i,u=u*t+f*i,t===1-s){const t=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=t,l*=t,c*=t,u*=t}}t[e]=a,t[e+1]=l,t[e+2]=c,t[e+3]=u}static multiplyQuaternionsFlat(t,e,n,r,i,o){const s=n[r],a=n[r+1],l=n[r+2],c=n[r+3],u=i[o],h=i[o+1],p=i[o+2],d=i[o+3];return t[e]=s*d+c*u+a*p-l*h,t[e+1]=a*d+c*h+l*u-s*p,t[e+2]=l*d+c*p+s*h-a*u,t[e+3]=c*d-s*u-a*h-l*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const n=t._x,r=t._y,i=t._z,o=t._order,s=Math.cos,a=Math.sin,l=s(n/2),c=s(r/2),u=s(i/2),h=a(n/2),p=a(r/2),d=a(i/2);switch(o){case"XYZ":this._x=h*c*u+l*p*d,this._y=l*p*u-h*c*d,this._z=l*c*d+h*p*u,this._w=l*c*u-h*p*d;break;case"YXZ":this._x=h*c*u+l*p*d,this._y=l*p*u-h*c*d,this._z=l*c*d-h*p*u,this._w=l*c*u+h*p*d;break;case"ZXY":this._x=h*c*u-l*p*d,this._y=l*p*u+h*c*d,this._z=l*c*d+h*p*u,this._w=l*c*u-h*p*d;break;case"ZYX":this._x=h*c*u-l*p*d,this._y=l*p*u+h*c*d,this._z=l*c*d-h*p*u,this._w=l*c*u+h*p*d;break;case"YZX":this._x=h*c*u+l*p*d,this._y=l*p*u+h*c*d,this._z=l*c*d-h*p*u,this._w=l*c*u-h*p*d;break;case"XZY":this._x=h*c*u-l*p*d,this._y=l*p*u-h*c*d,this._z=l*c*d+h*p*u,this._w=l*c*u+h*p*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!0===e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],r=e[4],i=e[8],o=e[1],s=e[5],a=e[9],l=e[2],c=e[6],u=e[10],h=n+s+u;if(h>0){const t=.5/Math.sqrt(h+1);this._w=.25/t,this._x=(c-a)*t,this._y=(i-l)*t,this._z=(o-r)*t}else if(n>s&&n>u){const t=2*Math.sqrt(1+n-s-u);this._w=(c-a)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(i+l)/t}else if(s>u){const t=2*Math.sqrt(1+s-n-u);this._w=(i-l)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(a+c)/t}else{const t=2*Math.sqrt(1+u-n-s);this._w=(o-r)/t,this._x=(i+l)/t,this._y=(a+c)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(it(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const r=Math.min(1,e/n);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,r=t._y,i=t._z,o=t._w,s=e._x,a=e._y,l=e._z,c=e._w;return this._x=n*c+o*s+r*l-i*a,this._y=r*c+o*a+i*s-n*l,this._z=i*c+o*l+n*a-r*s,this._w=o*c-n*s-r*a-i*l,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,r=this._y,i=this._z,o=this._w;let s=o*t._w+n*t._x+r*t._y+i*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const a=1-s*s;if(a<=Number.EPSILON){const t=1-e;return this._w=t*o+e*this._w,this._x=t*n+e*this._x,this._y=t*r+e*this._y,this._z=t*i+e*this._z,this.normalize(),this}const l=Math.sqrt(a),c=Math.atan2(l,s),u=Math.sin((1-e)*c)/l,h=Math.sin(e*c)/l;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=i*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(t),r*Math.cos(t),i*Math.sin(e),i*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Nt{constructor(t=0,e=0,n=0){Nt.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(Ut.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Ut.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,i=t.elements,o=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*o,this}applyQuaternion(t){const e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,s=t.z,a=t.w,l=2*(o*r-s*n),c=2*(s*e-i*r),u=2*(i*n-o*e);return this.x=e+a*l+o*u-s*c,this.y=n+a*c+s*l-i*u,this.z=r+a*u+i*c-o*l,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,r=t.y,i=t.z,o=e.x,s=e.y,a=e.z;return this.x=r*a-i*s,this.y=i*o-n*a,this.z=n*s-r*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return Bt.copy(this).projectOnVector(t),this.sub(Bt)}reflect(t){return this.sub(Bt.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(it(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=2*Math.random()-1,n=Math.sqrt(1-e*e);return this.x=n*Math.cos(t),this.y=e,this.z=n*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Bt=new Nt,Ut=new Ft;class Gt{constructor(t=new Nt(1/0,1/0,1/0),e=new Nt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e+=3)this.expandByPoint(Ht.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,n=t.count;e<n;e++)this.expandByPoint(Ht.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=Ht.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===e&&void 0!==r&&!0!==t.isInstancedMesh)for(let e=0,n=r.count;e<n;e++)!0===t.isMesh?t.getVertexPosition(e,Ht):Ht.fromBufferAttribute(r,e),Ht.applyMatrix4(t.matrixWorld),this.expandByPoint(Ht);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),jt.copy(t.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),jt.copy(n.boundingBox)),jt.applyMatrix4(t.matrixWorld),this.union(jt)}const r=t.children;for(let t=0,n=r.length;t<n;t++)this.expandByObject(r[t],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,Ht),Ht.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Kt),Zt.subVectors(this.max,Kt),Vt.subVectors(t.a,Kt),Xt.subVectors(t.b,Kt),Wt.subVectors(t.c,Kt),qt.subVectors(Xt,Vt),Yt.subVectors(Wt,Xt),$t.subVectors(Vt,Wt);let e=[0,-qt.z,qt.y,0,-Yt.z,Yt.y,0,-$t.z,$t.y,qt.z,0,-qt.x,Yt.z,0,-Yt.x,$t.z,0,-$t.x,-qt.y,qt.x,0,-Yt.y,Yt.x,0,-$t.y,$t.x,0];return!!te(e,Vt,Xt,Wt,Zt)&&(e=[1,0,0,0,1,0,0,0,1],!!te(e,Vt,Xt,Wt,Zt)&&(Jt.crossVectors(qt,Yt),e=[Jt.x,Jt.y,Jt.z],te(e,Vt,Xt,Wt,Zt)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Ht).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(Ht).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(zt[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),zt[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),zt[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),zt[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),zt[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),zt[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),zt[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),zt[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(zt)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const zt=[new Nt,new Nt,new Nt,new Nt,new Nt,new Nt,new Nt,new Nt],Ht=new Nt,jt=new Gt,Vt=new Nt,Xt=new Nt,Wt=new Nt,qt=new Nt,Yt=new Nt,$t=new Nt,Kt=new Nt,Zt=new Nt,Jt=new Nt,Qt=new Nt;function te(t,e,n,r,i){for(let o=0,s=t.length-3;o<=s;o+=3){Qt.fromArray(t,o);const s=i.x*Math.abs(Qt.x)+i.y*Math.abs(Qt.y)+i.z*Math.abs(Qt.z),a=e.dot(Qt),l=n.dot(Qt),c=r.dot(Qt);if(Math.max(-Math.max(a,l,c),Math.min(a,l,c))>s)return!1}return!0}const ee=new Gt,ne=new Nt,re=new Nt;class ie{constructor(t=new Nt,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):ee.setFromPoints(t).getCenter(n);let r=0;for(let e=0,i=t.length;e<i;e++)r=Math.max(r,n.distanceToSquared(t[e]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;ne.subVectors(t,this.center);const e=ne.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),n=.5*(t-this.radius);this.center.addScaledVector(ne,n/t),this.radius+=n}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(re.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(ne.copy(t.center).add(re)),this.expandByPoint(ne.copy(t.center).sub(re))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const oe=new Nt,se=new Nt,ae=new Nt,le=new Nt,ce=new Nt,ue=new Nt,he=new Nt;class pe{constructor(t=new Nt,e=new Nt(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,oe)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=oe.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(oe.copy(this.origin).addScaledVector(this.direction,e),oe.distanceToSquared(t))}distanceSqToSegment(t,e,n,r){se.copy(t).add(e).multiplyScalar(.5),ae.copy(e).sub(t).normalize(),le.copy(this.origin).sub(se);const i=.5*t.distanceTo(e),o=-this.direction.dot(ae),s=le.dot(this.direction),a=-le.dot(ae),l=le.lengthSq(),c=Math.abs(1-o*o);let u,h,p,d;if(c>0)if(u=o*a-s,h=o*s-a,d=i*c,u>=0)if(h>=-d)if(h<=d){const t=1/c;u*=t,h*=t,p=u*(u+o*h+2*s)+h*(o*u+h+2*a)+l}else h=i,u=Math.max(0,-(o*h+s)),p=-u*u+h*(h+2*a)+l;else h=-i,u=Math.max(0,-(o*h+s)),p=-u*u+h*(h+2*a)+l;else h<=-d?(u=Math.max(0,-(-o*i+s)),h=u>0?-i:Math.min(Math.max(-i,-a),i),p=-u*u+h*(h+2*a)+l):h<=d?(u=0,h=Math.min(Math.max(-i,-a),i),p=h*(h+2*a)+l):(u=Math.max(0,-(o*i+s)),h=u>0?i:Math.min(Math.max(-i,-a),i),p=-u*u+h*(h+2*a)+l);else h=o>0?-i:i,u=Math.max(0,-(o*h+s)),p=-u*u+h*(h+2*a)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(se).addScaledVector(ae,h),p}intersectSphere(t,e){oe.subVectors(t.center,this.origin);const n=oe.dot(this.direction),r=oe.dot(oe)-n*n,i=t.radius*t.radius;if(r>i)return null;const o=Math.sqrt(i-r),s=n-o,a=n+o;return a<0?null:s<0?this.at(a,e):this.at(s,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);if(0===e)return!0;return t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,r,i,o,s,a;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(t.min.x-h.x)*l,r=(t.max.x-h.x)*l):(n=(t.max.x-h.x)*l,r=(t.min.x-h.x)*l),c>=0?(i=(t.min.y-h.y)*c,o=(t.max.y-h.y)*c):(i=(t.max.y-h.y)*c,o=(t.min.y-h.y)*c),n>o||i>r?null:((i>n||isNaN(n))&&(n=i),(o<r||isNaN(r))&&(r=o),u>=0?(s=(t.min.z-h.z)*u,a=(t.max.z-h.z)*u):(s=(t.max.z-h.z)*u,a=(t.min.z-h.z)*u),n>a||s>r?null:((s>n||n!=n)&&(n=s),(a<r||r!=r)&&(r=a),r<0?null:this.at(n>=0?n:r,e)))}intersectsBox(t){return null!==this.intersectBox(t,oe)}intersectTriangle(t,e,n,r,i){ce.subVectors(e,t),ue.subVectors(n,t),he.crossVectors(ce,ue);let o,s=this.direction.dot(he);if(s>0){if(r)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}le.subVectors(this.origin,t);const a=o*this.direction.dot(ue.crossVectors(le,ue));if(a<0)return null;const l=o*this.direction.dot(ce.cross(le));if(l<0)return null;if(a+l>s)return null;const c=-o*le.dot(he);return c<0?null:this.at(c/s,i)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class de{constructor(t,e,n,r,i,o,s,a,l,c,u,h,p,d,f,m){de.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,n,r,i,o,s,a,l,c,u,h,p,d,f,m)}set(t,e,n,r,i,o,s,a,l,c,u,h,p,d,f,m){const g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=s,g[13]=a,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=p,g[7]=d,g[11]=f,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new de).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,r=1/fe.setFromMatrixColumn(t,0).length(),i=1/fe.setFromMatrixColumn(t,1).length(),o=1/fe.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===t.order){const t=o*c,n=o*u,r=s*c,i=s*u;e[0]=a*c,e[4]=-a*u,e[8]=l,e[1]=n+r*l,e[5]=t-i*l,e[9]=-s*a,e[2]=i-t*l,e[6]=r+n*l,e[10]=o*a}else if("YXZ"===t.order){const t=a*c,n=a*u,r=l*c,i=l*u;e[0]=t+i*s,e[4]=r*s-n,e[8]=o*l,e[1]=o*u,e[5]=o*c,e[9]=-s,e[2]=n*s-r,e[6]=i+t*s,e[10]=o*a}else if("ZXY"===t.order){const t=a*c,n=a*u,r=l*c,i=l*u;e[0]=t-i*s,e[4]=-o*u,e[8]=r+n*s,e[1]=n+r*s,e[5]=o*c,e[9]=i-t*s,e[2]=-o*l,e[6]=s,e[10]=o*a}else if("ZYX"===t.order){const t=o*c,n=o*u,r=s*c,i=s*u;e[0]=a*c,e[4]=r*l-n,e[8]=t*l+i,e[1]=a*u,e[5]=i*l+t,e[9]=n*l-r,e[2]=-l,e[6]=s*a,e[10]=o*a}else if("YZX"===t.order){const t=o*a,n=o*l,r=s*a,i=s*l;e[0]=a*c,e[4]=i-t*u,e[8]=r*u+n,e[1]=u,e[5]=o*c,e[9]=-s*c,e[2]=-l*c,e[6]=n*u+r,e[10]=t-i*u}else if("XZY"===t.order){const t=o*a,n=o*l,r=s*a,i=s*l;e[0]=a*c,e[4]=-u,e[8]=l*c,e[1]=t*u+i,e[5]=o*c,e[9]=n*u-r,e[2]=r*u-n,e[6]=s*c,e[10]=i*u+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(ge,t,ve)}lookAt(t,e,n){const r=this.elements;return _e.subVectors(t,e),0===_e.lengthSq()&&(_e.z=1),_e.normalize(),ye.crossVectors(n,_e),0===ye.lengthSq()&&(1===Math.abs(n.z)?_e.x+=1e-4:_e.z+=1e-4,_e.normalize(),ye.crossVectors(n,_e)),ye.normalize(),be.crossVectors(_e,ye),r[0]=ye.x,r[4]=be.x,r[8]=_e.x,r[1]=ye.y,r[5]=be.y,r[9]=_e.y,r[2]=ye.z,r[6]=be.z,r[10]=_e.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,i=this.elements,o=n[0],s=n[4],a=n[8],l=n[12],c=n[1],u=n[5],h=n[9],p=n[13],d=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],_=n[15],x=r[0],w=r[4],E=r[8],S=r[12],T=r[1],A=r[5],M=r[9],C=r[13],P=r[2],D=r[6],R=r[10],O=r[14],I=r[3],L=r[7],k=r[11],F=r[15];return i[0]=o*x+s*T+a*P+l*I,i[4]=o*w+s*A+a*D+l*L,i[8]=o*E+s*M+a*R+l*k,i[12]=o*S+s*C+a*O+l*F,i[1]=c*x+u*T+h*P+p*I,i[5]=c*w+u*A+h*D+p*L,i[9]=c*E+u*M+h*R+p*k,i[13]=c*S+u*C+h*O+p*F,i[2]=d*x+f*T+m*P+g*I,i[6]=d*w+f*A+m*D+g*L,i[10]=d*E+f*M+m*R+g*k,i[14]=d*S+f*C+m*O+g*F,i[3]=v*x+y*T+b*P+_*I,i[7]=v*w+y*A+b*D+_*L,i[11]=v*E+y*M+b*R+_*k,i[15]=v*S+y*C+b*O+_*F,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],s=t[5],a=t[9],l=t[13],c=t[2],u=t[6],h=t[10],p=t[14];return t[3]*(+i*a*u-r*l*u-i*s*h+n*l*h+r*s*p-n*a*p)+t[7]*(+e*a*p-e*l*h+i*o*h-r*o*p+r*l*c-i*a*c)+t[11]*(+e*l*u-e*s*p-i*o*u+n*o*p+i*s*c-n*l*c)+t[15]*(-r*s*c-e*a*u+e*s*h+r*o*u-n*o*h+n*a*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],u=t[9],h=t[10],p=t[11],d=t[12],f=t[13],m=t[14],g=t[15],v=u*m*l-f*h*l+f*a*p-s*m*p-u*a*g+s*h*g,y=d*h*l-c*m*l-d*a*p+o*m*p+c*a*g-o*h*g,b=c*f*l-d*u*l+d*s*p-o*f*p-c*s*g+o*u*g,_=d*u*a-c*f*a-d*s*h+o*f*h+c*s*m-o*u*m,x=e*v+n*y+r*b+i*_;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/x;return t[0]=v*w,t[1]=(f*h*i-u*m*i-f*r*p+n*m*p+u*r*g-n*h*g)*w,t[2]=(s*m*i-f*a*i+f*r*l-n*m*l-s*r*g+n*a*g)*w,t[3]=(u*a*i-s*h*i-u*r*l+n*h*l+s*r*p-n*a*p)*w,t[4]=y*w,t[5]=(c*m*i-d*h*i+d*r*p-e*m*p-c*r*g+e*h*g)*w,t[6]=(d*a*i-o*m*i-d*r*l+e*m*l+o*r*g-e*a*g)*w,t[7]=(o*h*i-c*a*i+c*r*l-e*h*l-o*r*p+e*a*p)*w,t[8]=b*w,t[9]=(d*u*i-c*f*i-d*n*p+e*f*p+c*n*g-e*u*g)*w,t[10]=(o*f*i-d*s*i+d*n*l-e*f*l-o*n*g+e*s*g)*w,t[11]=(c*s*i-o*u*i-c*n*l+e*u*l+o*n*p-e*s*p)*w,t[12]=_*w,t[13]=(c*f*r-d*u*r+d*n*h-e*f*h-c*n*m+e*u*m)*w,t[14]=(d*s*r-o*f*r-d*n*a+e*f*a+o*n*m-e*s*m)*w,t[15]=(o*u*r-c*s*r+c*n*a-e*u*a-o*n*h+e*s*h)*w,this}scale(t){const e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}makeTranslation(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,s=t.y,a=t.z,l=i*o,c=i*s;return this.set(l*o+n,l*s-r*a,l*a+r*s,0,l*s+r*a,c*s+n,c*a-r*o,0,l*a-r*s,c*a+r*o,i*a*a+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,r,i,o){return this.set(1,n,i,0,t,1,o,0,e,r,1,0,0,0,0,1),this}compose(t,e,n){const r=this.elements,i=e._x,o=e._y,s=e._z,a=e._w,l=i+i,c=o+o,u=s+s,h=i*l,p=i*c,d=i*u,f=o*c,m=o*u,g=s*u,v=a*l,y=a*c,b=a*u,_=n.x,x=n.y,w=n.z;return r[0]=(1-(f+g))*_,r[1]=(p+b)*_,r[2]=(d-y)*_,r[3]=0,r[4]=(p-b)*x,r[5]=(1-(h+g))*x,r[6]=(m+v)*x,r[7]=0,r[8]=(d+y)*w,r[9]=(m-v)*w,r[10]=(1-(h+f))*w,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,n){const r=this.elements;let i=fe.set(r[0],r[1],r[2]).length();const o=fe.set(r[4],r[5],r[6]).length(),s=fe.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),t.x=r[12],t.y=r[13],t.z=r[14],me.copy(this);const a=1/i,l=1/o,c=1/s;return me.elements[0]*=a,me.elements[1]*=a,me.elements[2]*=a,me.elements[4]*=l,me.elements[5]*=l,me.elements[6]*=l,me.elements[8]*=c,me.elements[9]*=c,me.elements[10]*=c,e.setFromRotationMatrix(me),n.x=i,n.y=o,n.z=s,this}makePerspective(t,e,n,r,i,o,s=2e3){const a=this.elements,l=2*i/(e-t),c=2*i/(n-r),u=(e+t)/(e-t),h=(n+r)/(n-r);let p,d;if(2e3===s)p=-(o+i)/(o-i),d=-2*o*i/(o-i);else{if(2001!==s)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);p=-o/(o-i),d=-o*i/(o-i)}return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,n,r,i,o,s=2e3){const a=this.elements,l=1/(e-t),c=1/(n-r),u=1/(o-i),h=(e+t)*l,p=(n+r)*c;let d,f;if(2e3===s)d=(o+i)*u,f=-2*u;else{if(2001!==s)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);d=i*u,f=-1*u}return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=f,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<16;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const fe=new Nt,me=new de,ge=new Nt(0,0,0),ve=new Nt(1,1,1),ye=new Nt,be=new Nt,_e=new Nt,xe=new de,we=new Ft;class Ee{constructor(t=0,e=0,n=0,r=Ee.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=n,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,r=this._order){return this._x=t,this._y=e,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const r=t.elements,i=r[0],o=r[4],s=r[8],a=r[1],l=r[5],c=r[9],u=r[2],h=r[6],p=r[10];switch(e){case"XYZ":this._y=Math.asin(it(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-it(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(a,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(it(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,p),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(a,i));break;case"ZYX":this._y=Math.asin(-it(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(a,i)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(it(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-it(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(s,i)):(this._x=Math.atan2(-c,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return xe.makeRotationFromQuaternion(t),this.setFromRotationMatrix(xe,e,n)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return we.setFromEuler(this),this.setFromQuaternion(we,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ee.DEFAULT_ORDER="XYZ";class Se{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}let Te=0;const Ae=new Nt,Me=new Ft,Ce=new de,Pe=new Nt,De=new Nt,Re=new Nt,Oe=new Ft,Ie=new Nt(1,0,0),Le=new Nt(0,1,0),ke=new Nt(0,0,1),Fe={type:"added"},Ne={type:"removed"},Be={type:"childadded",child:null},Ue={type:"childremoved",child:null};class Ge extends J{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Te++}),this.uuid=rt(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ge.DEFAULT_UP.clone();const t=new Nt,e=new Ee,n=new Ft,r=new Nt(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new de},normalMatrix:{value:new ht}}),this.matrix=new de,this.matrixWorld=new de,this.matrixAutoUpdate=Ge.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ge.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Se,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Me.setFromAxisAngle(t,e),this.quaternion.multiply(Me),this}rotateOnWorldAxis(t,e){return Me.setFromAxisAngle(t,e),this.quaternion.premultiply(Me),this}rotateX(t){return this.rotateOnAxis(Ie,t)}rotateY(t){return this.rotateOnAxis(Le,t)}rotateZ(t){return this.rotateOnAxis(ke,t)}translateOnAxis(t,e){return Ae.copy(t).applyQuaternion(this.quaternion),this.position.add(Ae.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Ie,t)}translateY(t){return this.translateOnAxis(Le,t)}translateZ(t){return this.translateOnAxis(ke,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Ce.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?Pe.copy(t):Pe.set(t,e,n);const r=this.parent;this.updateWorldMatrix(!0,!1),De.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ce.lookAt(De,Pe,this.up):Ce.lookAt(Pe,De,this.up),this.quaternion.setFromRotationMatrix(Ce),r&&(Ce.extractRotation(r.matrixWorld),Me.setFromRotationMatrix(Ce),this.quaternion.premultiply(Me.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(Fe),Be.child=t,this.dispatchEvent(Be),Be.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(Ne),Ue.child=t,this.dispatchEvent(Ue),Ue.child=null),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Ce.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Ce.multiply(t.parent.matrixWorld)),t.applyMatrix4(Ce),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(Fe),Be.child=t,this.dispatchEvent(Be),Be.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(t,e);if(void 0!==r)return r}}getObjectsByProperty(t,e,n=[]){this[t]===e&&n.push(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].getObjectsByProperty(t,e,n);return n}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(De,t,Re),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(De,Oe,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,r=e.length;n<r;n++){e[n].updateMatrixWorld(t)}}updateWorldMatrix(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++){t[e].updateWorldMatrix(!1,!0)}}}toJSON(t){const e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function i(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(t=>({boxInitialized:t.boxInitialized,boxMin:t.box.min.toArray(),boxMax:t.box.max.toArray(),sphereInitialized:t.sphereInitialized,sphereRadius:t.sphere.radius,sphereCenter:t.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(t),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(t)),null!==this.boundingSphere&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),null!==this.boundingBox&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,r=n.length;e<r;e++){const r=n[e];i(t.shapes,r)}else i(t.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,r=this.material.length;n<r;n++)e.push(i(t.materials,this.material[n]));r.material=e}else r.material=i(t.materials,this.material);if(this.children.length>0){r.children=[];for(let e=0;e<this.children.length;e++)r.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let e=0;e<this.animations.length;e++){const n=this.animations[e];r.animations.push(i(t.animations,n))}}if(e){const e=o(t.geometries),r=o(t.materials),i=o(t.textures),s=o(t.images),a=o(t.shapes),l=o(t.skeletons),c=o(t.animations),u=o(t.nodes);e.length>0&&(n.geometries=e),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),s.length>0&&(n.images=s),a.length>0&&(n.shapes=a),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function o(t){const e=[];for(const n in t){const r=t[n];delete r.metadata,e.push(r)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const n=t.children[e];this.add(n.clone())}return this}}Ge.DEFAULT_UP=new Nt(0,1,0),Ge.DEFAULT_MATRIX_AUTO_UPDATE=!0,Ge.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ze=new Nt,He=new Nt,je=new Nt,Ve=new Nt,Xe=new Nt,We=new Nt,qe=new Nt,Ye=new Nt,$e=new Nt,Ke=new Nt,Ze=new Rt,Je=new Rt,Qe=new Rt;class tn{constructor(t=new Nt,e=new Nt,n=new Nt){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,r){r.subVectors(n,e),ze.subVectors(t,e),r.cross(ze);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(t,e,n,r,i){ze.subVectors(r,e),He.subVectors(n,e),je.subVectors(t,e);const o=ze.dot(ze),s=ze.dot(He),a=ze.dot(je),l=He.dot(He),c=He.dot(je),u=o*l-s*s;if(0===u)return i.set(0,0,0),null;const h=1/u,p=(l*a-s*c)*h,d=(o*c-s*a)*h;return i.set(1-p-d,d,p)}static containsPoint(t,e,n,r){return null!==this.getBarycoord(t,e,n,r,Ve)&&(Ve.x>=0&&Ve.y>=0&&Ve.x+Ve.y<=1)}static getInterpolation(t,e,n,r,i,o,s,a){return null===this.getBarycoord(t,e,n,r,Ve)?(a.x=0,a.y=0,"z"in a&&(a.z=0),"w"in a&&(a.w=0),null):(a.setScalar(0),a.addScaledVector(i,Ve.x),a.addScaledVector(o,Ve.y),a.addScaledVector(s,Ve.z),a)}static getInterpolatedAttribute(t,e,n,r,i,o){return Ze.setScalar(0),Je.setScalar(0),Qe.setScalar(0),Ze.fromBufferAttribute(t,e),Je.fromBufferAttribute(t,n),Qe.fromBufferAttribute(t,r),o.setScalar(0),o.addScaledVector(Ze,i.x),o.addScaledVector(Je,i.y),o.addScaledVector(Qe,i.z),o}static isFrontFacing(t,e,n,r){return ze.subVectors(n,e),He.subVectors(t,e),ze.cross(He).dot(r)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,n,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,r),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return ze.subVectors(this.c,this.b),He.subVectors(this.a,this.b),.5*ze.cross(He).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return tn.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return tn.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,n,r,i){return tn.getInterpolation(t,this.a,this.b,this.c,e,n,r,i)}containsPoint(t){return tn.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return tn.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,r=this.b,i=this.c;let o,s;Xe.subVectors(r,n),We.subVectors(i,n),Ye.subVectors(t,n);const a=Xe.dot(Ye),l=We.dot(Ye);if(a<=0&&l<=0)return e.copy(n);$e.subVectors(t,r);const c=Xe.dot($e),u=We.dot($e);if(c>=0&&u<=c)return e.copy(r);const h=a*u-c*l;if(h<=0&&a>=0&&c<=0)return o=a/(a-c),e.copy(n).addScaledVector(Xe,o);Ke.subVectors(t,i);const p=Xe.dot(Ke),d=We.dot(Ke);if(d>=0&&p<=d)return e.copy(i);const f=p*l-a*d;if(f<=0&&l>=0&&d<=0)return s=l/(l-d),e.copy(n).addScaledVector(We,s);const m=c*d-p*u;if(m<=0&&u-c>=0&&p-d>=0)return qe.subVectors(i,r),s=(u-c)/(u-c+(p-d)),e.copy(r).addScaledVector(qe,s);const g=1/(m+f+h);return o=f*g,s=h*g,e.copy(n).addScaledVector(Xe,o).addScaledVector(We,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const en={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},nn={h:0,s:0,l:0},rn={h:0,s:0,l:0};function on(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}class sn{constructor(t,e,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,n)}set(t,e,n){if(void 0===e&&void 0===n){const e=t;e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e)}else this.setRGB(t,e,n);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=W){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,wt.toWorkingColorSpace(this,e),this}setRGB(t,e,n,r=wt.workingColorSpace){return this.r=t,this.g=e,this.b=n,wt.toWorkingColorSpace(this,r),this}setHSL(t,e,n,r=wt.workingColorSpace){if(t=ot(t,1),e=it(e,0,1),n=it(n,0,1),0===e)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+e):n+e-n*e,i=2*n-r;this.r=on(i,r,t+1/3),this.g=on(i,r,t),this.b=on(i,r,t-1/3)}return wt.toWorkingColorSpace(this,r),this}setStyle(t,e=W){function n(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let i;const o=r[1],s=r[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,e);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,e);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const n=r[1],i=n.length;if(3===i)return this.setRGB(parseInt(n.charAt(0),16)/15,parseInt(n.charAt(1),16)/15,parseInt(n.charAt(2),16)/15,e);if(6===i)return this.setHex(parseInt(n,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=W){const n=en[t.toLowerCase()];return void 0!==n?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Et(t.r),this.g=Et(t.g),this.b=Et(t.b),this}copyLinearToSRGB(t){return this.r=St(t.r),this.g=St(t.g),this.b=St(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=W){return wt.fromWorkingColorSpace(an.copy(this),t),65536*Math.round(it(255*an.r,0,255))+256*Math.round(it(255*an.g,0,255))+Math.round(it(255*an.b,0,255))}getHexString(t=W){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=wt.workingColorSpace){wt.fromWorkingColorSpace(an.copy(this),e);const n=an.r,r=an.g,i=an.b,o=Math.max(n,r,i),s=Math.min(n,r,i);let a,l;const c=(s+o)/2;if(s===o)a=0,l=0;else{const t=o-s;switch(l=c<=.5?t/(o+s):t/(2-o-s),o){case n:a=(r-i)/t+(r<i?6:0);break;case r:a=(i-n)/t+2;break;case i:a=(n-r)/t+4}a/=6}return t.h=a,t.s=l,t.l=c,t}getRGB(t,e=wt.workingColorSpace){return wt.fromWorkingColorSpace(an.copy(this),e),t.r=an.r,t.g=an.g,t.b=an.b,t}getStyle(t=W){wt.fromWorkingColorSpace(an.copy(this),t);const e=an.r,n=an.g,r=an.b;return t!==W?`color(${t} ${e.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(t,e,n){return this.getHSL(nn),this.setHSL(nn.h+t,nn.s+e,nn.l+n)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(nn),t.getHSL(rn);const n=st(nn.h,rn.h,e),r=st(nn.s,rn.s,e),i=st(nn.l,rn.l,e);return this.setHSL(n,r,i),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,n=this.g,r=this.b,i=t.elements;return this.r=i[0]*e+i[3]*n+i[6]*r,this.g=i[1]*e+i[4]*n+i[7]*r,this.b=i[2]*e+i[5]*n+i[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const an=new sn;sn.NAMES=en;let ln=0;class cn extends J{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:ln++}),this.uuid=rt(),this.name="",this.type="Material",this.blending=1,this.side=r,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new sn(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`)}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function i(t){const e=[];for(const n in t){const r=t[n];delete r.metadata,e.push(r)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),this.side!==r&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),100!==this.blendEquation&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),7680!==this.stencilFail&&(n.stencilFail=this.stencilFail),7680!==this.stencilZFail&&(n.stencilZFail=this.stencilZFail),7680!==this.stencilZPass&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),e){const e=i(t.textures),r=i(t.images);e.length>0&&(n.textures=e),r.length>0&&(n.images=r)}return n}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let r=0;r!==t;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class un extends cn{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new sn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ee,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const hn=new Nt,pn=new ut;class dn{constructor(t,e,n=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=n,this.usage=35044,this.updateRanges=[],this.gpuType=S,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)pn.fromBufferAttribute(this,e),pn.applyMatrix3(t),this.setXY(e,pn.x,pn.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)hn.fromBufferAttribute(this,e),hn.applyMatrix3(t),this.setXYZ(e,hn.x,hn.y,hn.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)hn.fromBufferAttribute(this,e),hn.applyMatrix4(t),this.setXYZ(e,hn.x,hn.y,hn.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)hn.fromBufferAttribute(this,e),hn.applyNormalMatrix(t),this.setXYZ(e,hn.x,hn.y,hn.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)hn.fromBufferAttribute(this,e),hn.transformDirection(t),this.setXYZ(e,hn.x,hn.y,hn.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let n=this.array[t*this.itemSize+e];return this.normalized&&(n=at(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=lt(n,this.array)),this.array[t*this.itemSize+e]=n,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=at(e,this.array)),e}setX(t,e){return this.normalized&&(e=lt(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=at(e,this.array)),e}setY(t,e){return this.normalized&&(e=lt(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=at(e,this.array)),e}setZ(t,e){return this.normalized&&(e=lt(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=at(e,this.array)),e}setW(t,e){return this.normalized&&(e=lt(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=lt(e,this.array),n=lt(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,r){return t*=this.itemSize,this.normalized&&(e=lt(e,this.array),n=lt(n,this.array),r=lt(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this}setXYZW(t,e,n,r,i){return t*=this.itemSize,this.normalized&&(e=lt(e,this.array),n=lt(n,this.array),r=lt(r,this.array),i=lt(i,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),35044!==this.usage&&(t.usage=this.usage),t}}class fn extends dn{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class mn extends dn{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class gn extends dn{constructor(t,e,n){super(new Float32Array(t),e,n)}}let vn=0;const yn=new de,bn=new Ge,_n=new Nt,xn=new Gt,wn=new Gt,En=new Nt;class Sn extends J{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:vn++}),this.uuid=rt(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(dt(t)?mn:fn)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new ht).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return yn.makeRotationFromQuaternion(t),this.applyMatrix4(yn),this}rotateX(t){return yn.makeRotationX(t),this.applyMatrix4(yn),this}rotateY(t){return yn.makeRotationY(t),this.applyMatrix4(yn),this}rotateZ(t){return yn.makeRotationZ(t),this.applyMatrix4(yn),this}translate(t,e,n){return yn.makeTranslation(t,e,n),this.applyMatrix4(yn),this}scale(t,e,n){return yn.makeScale(t,e,n),this.applyMatrix4(yn),this}lookAt(t){return bn.lookAt(t),bn.updateMatrix(),this.applyMatrix4(bn.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_n).negate(),this.translate(_n.x,_n.y,_n.z),this}setFromPoints(t){const e=[];for(let n=0,r=t.length;n<r;n++){const r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new gn(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Gt);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Nt(-1/0,-1/0,-1/0),new Nt(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];xn.setFromBufferAttribute(n),this.morphTargetsRelative?(En.addVectors(this.boundingBox.min,xn.min),this.boundingBox.expandByPoint(En),En.addVectors(this.boundingBox.max,xn.max),this.boundingBox.expandByPoint(En)):(this.boundingBox.expandByPoint(xn.min),this.boundingBox.expandByPoint(xn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new ie);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Nt,1/0);if(t){const n=this.boundingSphere.center;if(xn.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];wn.setFromBufferAttribute(n),this.morphTargetsRelative?(En.addVectors(xn.min,wn.min),xn.expandByPoint(En),En.addVectors(xn.max,wn.max),xn.expandByPoint(En)):(xn.expandByPoint(wn.min),xn.expandByPoint(wn.max))}xn.getCenter(n);let r=0;for(let e=0,i=t.count;e<i;e++)En.fromBufferAttribute(t,e),r=Math.max(r,n.distanceToSquared(En));if(e)for(let i=0,o=e.length;i<o;i++){const o=e[i],s=this.morphTargetsRelative;for(let e=0,i=o.count;e<i;e++)En.fromBufferAttribute(o,e),s&&(_n.fromBufferAttribute(t,e),En.add(_n)),r=Math.max(r,n.distanceToSquared(En))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.position,r=e.normal,i=e.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new dn(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),s=[],a=[];for(let t=0;t<n.count;t++)s[t]=new Nt,a[t]=new Nt;const l=new Nt,c=new Nt,u=new Nt,h=new ut,p=new ut,d=new ut,f=new Nt,m=new Nt;function g(t,e,r){l.fromBufferAttribute(n,t),c.fromBufferAttribute(n,e),u.fromBufferAttribute(n,r),h.fromBufferAttribute(i,t),p.fromBufferAttribute(i,e),d.fromBufferAttribute(i,r),c.sub(l),u.sub(l),p.sub(h),d.sub(h);const o=1/(p.x*d.y-d.x*p.y);isFinite(o)&&(f.copy(c).multiplyScalar(d.y).addScaledVector(u,-p.y).multiplyScalar(o),m.copy(u).multiplyScalar(p.x).addScaledVector(c,-d.x).multiplyScalar(o),s[t].add(f),s[e].add(f),s[r].add(f),a[t].add(m),a[e].add(m),a[r].add(m))}let v=this.groups;0===v.length&&(v=[{start:0,count:t.count}]);for(let e=0,n=v.length;e<n;++e){const n=v[e],r=n.start;for(let e=r,i=r+n.count;e<i;e+=3)g(t.getX(e+0),t.getX(e+1),t.getX(e+2))}const y=new Nt,b=new Nt,_=new Nt,x=new Nt;function w(t){_.fromBufferAttribute(r,t),x.copy(_);const e=s[t];y.copy(e),y.sub(_.multiplyScalar(_.dot(e))).normalize(),b.crossVectors(x,e);const n=b.dot(a[t])<0?-1:1;o.setXYZW(t,y.x,y.y,y.z,n)}for(let e=0,n=v.length;e<n;++e){const n=v[e],r=n.start;for(let e=r,i=r+n.count;e<i;e+=3)w(t.getX(e+0)),w(t.getX(e+1)),w(t.getX(e+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new dn(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const r=new Nt,i=new Nt,o=new Nt,s=new Nt,a=new Nt,l=new Nt,c=new Nt,u=new Nt;if(t)for(let h=0,p=t.count;h<p;h+=3){const p=t.getX(h+0),d=t.getX(h+1),f=t.getX(h+2);r.fromBufferAttribute(e,p),i.fromBufferAttribute(e,d),o.fromBufferAttribute(e,f),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),s.fromBufferAttribute(n,p),a.fromBufferAttribute(n,d),l.fromBufferAttribute(n,f),s.add(c),a.add(c),l.add(c),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(d,a.x,a.y,a.z),n.setXYZ(f,l.x,l.y,l.z)}else for(let t=0,s=e.count;t<s;t+=3)r.fromBufferAttribute(e,t+0),i.fromBufferAttribute(e,t+1),o.fromBufferAttribute(e,t+2),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),n.setXYZ(t+0,c.x,c.y,c.z),n.setXYZ(t+1,c.x,c.y,c.z),n.setXYZ(t+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)En.fromBufferAttribute(t,e),En.normalize(),t.setXYZ(e,En.x,En.y,En.z)}toNonIndexed(){function t(t,e){const n=t.array,r=t.itemSize,i=t.normalized,o=new n.constructor(e.length*r);let s=0,a=0;for(let i=0,l=e.length;i<l;i++){s=t.isInterleavedBufferAttribute?e[i]*t.data.stride+t.offset:e[i]*r;for(let t=0;t<r;t++)o[a++]=n[s++]}return new dn(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Sn,n=this.index.array,r=this.attributes;for(const i in r){const o=t(r[i],n);e.setAttribute(i,o)}const i=this.morphAttributes;for(const r in i){const o=[],s=i[r];for(let e=0,r=s.length;e<r;e++){const r=t(s[e],n);o.push(r)}e.morphAttributes[r]=o}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let t=0,n=o.length;t<n;t++){const n=o[t];e.addGroup(n.start,n.count,n.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const e in n){const r=n[e];t.data.attributes[e]=r.toJSON(t.data)}const r={};let i=!1;for(const e in this.morphAttributes){const n=this.morphAttributes[e],o=[];for(let e=0,r=n.length;e<r;e++){const r=n[e];o.push(r.toJSON(t.data))}o.length>0&&(r[e]=o,i=!0)}i&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return null!==s&&(t.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const r=t.attributes;for(const t in r){const n=r[t];this.setAttribute(t,n.clone(e))}const i=t.morphAttributes;for(const t in i){const n=[],r=i[t];for(let t=0,i=r.length;t<i;t++)n.push(r[t].clone(e));this.morphAttributes[t]=n}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let t=0,e=o.length;t<e;t++){const e=o[t];this.addGroup(e.start,e.count,e.materialIndex)}const s=t.boundingBox;null!==s&&(this.boundingBox=s.clone());const a=t.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Tn=new de,An=new pe,Mn=new ie,Cn=new Nt,Pn=new Nt,Dn=new Nt,Rn=new Nt,On=new Nt,In=new Nt,Ln=new Nt,kn=new Nt;class Fn extends Ge{constructor(t=new Sn,e=new un){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=n.length;t<e;t++){const e=n[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}getVertexPosition(t,e){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,o=n.morphTargetsRelative;e.fromBufferAttribute(r,t);const s=this.morphTargetInfluences;if(i&&s){In.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=s[n],a=i[n];0!==r&&(On.fromBufferAttribute(a,t),o?In.addScaledVector(On,r):In.addScaledVector(On.sub(e),r))}e.add(In)}return e}raycast(t,e){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),Mn.copy(n.boundingSphere),Mn.applyMatrix4(i),An.copy(t.ray).recast(t.near),!1===Mn.containsPoint(An.origin)){if(null===An.intersectSphere(Mn,Cn))return;if(An.origin.distanceToSquared(Cn)>(t.far-t.near)**2)return}Tn.copy(i).invert(),An.copy(t.ray).applyMatrix4(Tn),null!==n.boundingBox&&!1===An.intersectsBox(n.boundingBox)||this._computeIntersections(t,e,An)}}_computeIntersections(t,e,n){let r;const i=this.geometry,o=this.material,s=i.index,a=i.attributes.position,l=i.attributes.uv,c=i.attributes.uv1,u=i.attributes.normal,h=i.groups,p=i.drawRange;if(null!==s)if(Array.isArray(o))for(let i=0,a=h.length;i<a;i++){const a=h[i],d=o[a.materialIndex];for(let i=Math.max(a.start,p.start),o=Math.min(s.count,Math.min(a.start+a.count,p.start+p.count));i<o;i+=3){r=Nn(this,d,t,n,l,c,u,s.getX(i),s.getX(i+1),s.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),r.face.materialIndex=a.materialIndex,e.push(r))}}else{for(let i=Math.max(0,p.start),a=Math.min(s.count,p.start+p.count);i<a;i+=3){r=Nn(this,o,t,n,l,c,u,s.getX(i),s.getX(i+1),s.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),e.push(r))}}else if(void 0!==a)if(Array.isArray(o))for(let i=0,s=h.length;i<s;i++){const s=h[i],d=o[s.materialIndex];for(let i=Math.max(s.start,p.start),o=Math.min(a.count,Math.min(s.start+s.count,p.start+p.count));i<o;i+=3){r=Nn(this,d,t,n,l,c,u,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),r.face.materialIndex=s.materialIndex,e.push(r))}}else{for(let i=Math.max(0,p.start),s=Math.min(a.count,p.start+p.count);i<s;i+=3){r=Nn(this,o,t,n,l,c,u,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),e.push(r))}}}}function Nn(t,e,n,i,o,s,a,l,c,u){t.getVertexPosition(l,Pn),t.getVertexPosition(c,Dn),t.getVertexPosition(u,Rn);const h=function(t,e,n,i,o,s,a,l){let c;if(c=1===e.side?i.intersectTriangle(a,s,o,!0,l):i.intersectTriangle(o,s,a,e.side===r,l),null===c)return null;kn.copy(l),kn.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(kn);return u<n.near||u>n.far?null:{distance:u,point:kn.clone(),object:t}}(t,e,n,i,Pn,Dn,Rn,Ln);if(h){const t=new Nt;tn.getBarycoord(Ln,Pn,Dn,Rn,t),o&&(h.uv=tn.getInterpolatedAttribute(o,l,c,u,t,new ut)),s&&(h.uv1=tn.getInterpolatedAttribute(s,l,c,u,t,new ut)),a&&(h.normal=tn.getInterpolatedAttribute(a,l,c,u,t,new Nt),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));const e={a:l,b:c,c:u,normal:new Nt,materialIndex:0};tn.getNormal(Pn,Dn,Rn,e.normal),h.face=e,h.barycoord=t}return h}class Bn extends Sn{constructor(t=1,e=1,n=1,r=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const s=this;r=Math.floor(r),i=Math.floor(i),o=Math.floor(o);const a=[],l=[],c=[],u=[];let h=0,p=0;function d(t,e,n,r,i,o,d,f,m,g,v){const y=o/m,b=d/g,_=o/2,x=d/2,w=f/2,E=m+1,S=g+1;let T=0,A=0;const M=new Nt;for(let o=0;o<S;o++){const s=o*b-x;for(let a=0;a<E;a++){const h=a*y-_;M[t]=h*r,M[e]=s*i,M[n]=w,l.push(M.x,M.y,M.z),M[t]=0,M[e]=0,M[n]=f>0?1:-1,c.push(M.x,M.y,M.z),u.push(a/m),u.push(1-o/g),T+=1}}for(let t=0;t<g;t++)for(let e=0;e<m;e++){const n=h+e+E*t,r=h+e+E*(t+1),i=h+(e+1)+E*(t+1),o=h+(e+1)+E*t;a.push(n,r,o),a.push(r,i,o),A+=6}s.addGroup(p,A,v),p+=A,h+=T}d("z","y","x",-1,-1,n,e,t,o,i,0),d("z","y","x",1,-1,n,e,-t,o,i,1),d("x","z","y",1,1,t,n,e,r,o,2),d("x","z","y",1,-1,t,n,-e,r,o,3),d("x","y","z",1,-1,t,e,n,r,i,4),d("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(a),this.setAttribute("position",new gn(l,3)),this.setAttribute("normal",new gn(c,3)),this.setAttribute("uv",new gn(u,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Bn(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Un(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Gn(t){const e={};for(let n=0;n<t.length;n++){const r=Un(t[n]);for(const t in r)e[t]=r[t]}return e}function zn(t){const e=t.getRenderTarget();return null===e?t.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:wt.workingColorSpace}const Hn={clone:Un,merge:Gn};class jn extends cn{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Un(t.uniforms),this.uniformsGroups=function(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const r=this.uniforms[n].value;r&&r.isTexture?e.uniforms[n]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[n]={type:"m4",value:r.toArray()}:e.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const n={};for(const t in this.extensions)!0===this.extensions[t]&&(n[t]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}class Vn extends Ge{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new de,this.projectionMatrix=new de,this.projectionMatrixInverse=new de,this.coordinateSystem=2e3}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Xn=new Nt,Wn=new ut,qn=new ut;class Yn extends Vn{constructor(t=50,e=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*nt*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*et*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*nt*Math.atan(Math.tan(.5*et*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,n){Xn.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(Xn.x,Xn.y).multiplyScalar(-t/Xn.z),Xn.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Xn.x,Xn.y).multiplyScalar(-t/Xn.z)}getViewSize(t,e){return this.getViewBounds(t,Wn,qn),e.subVectors(qn,Wn)}setViewOffset(t,e,n,r,i,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*et*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const t=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/t,e-=o.offsetY*n/s,r*=o.width/t,n*=o.height/s}const s=this.filmOffset;0!==s&&(i+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}class $n extends Ge{constructor(t,e,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Yn(-90,1,t,e);r.layers=this.layers,this.add(r);const i=new Yn(-90,1,t,e);i.layers=this.layers,this.add(i);const o=new Yn(-90,1,t,e);o.layers=this.layers,this.add(o);const s=new Yn(-90,1,t,e);s.layers=this.layers,this.add(s);const a=new Yn(-90,1,t,e);a.layers=this.layers,this.add(a);const l=new Yn(-90,1,t,e);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[n,r,i,o,s,a]=e;for(const t of e)this.remove(t);if(2e3===t)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),a.up.set(0,1,0),a.lookAt(0,0,-1);else{if(2001!==t)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),a.up.set(0,-1,0),a.lookAt(0,0,-1)}for(const t of e)this.add(t),t.updateMatrixWorld()}update(t,e){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[i,o,s,a,l,c]=this.children,u=t.getRenderTarget(),h=t.getActiveCubeFace(),p=t.getActiveMipmapLevel(),d=t.xr.enabled;t.xr.enabled=!1;const f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0,r),t.render(e,i),t.setRenderTarget(n,1,r),t.render(e,o),t.setRenderTarget(n,2,r),t.render(e,s),t.setRenderTarget(n,3,r),t.render(e,a),t.setRenderTarget(n,4,r),t.render(e,l),n.texture.generateMipmaps=f,t.setRenderTarget(n,5,r),t.render(e,c),t.setRenderTarget(u,h,p),t.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}class Kn extends Dt{constructor(t,e,n,r,i,o,s,a,l,c){super(t=void 0!==t?t:[],e=void 0!==e?e:301,n,r,i,o,s,a,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class Zn extends It{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const n={width:t,height:t,depth:1},r=[n,n,n,n,n,n];this.texture=new Kn(r,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:_}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new Bn(5,5,5),i=new jn({name:"CubemapFromEquirect",uniforms:Un(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:o});i.uniforms.tEquirect.value=e;const s=new Fn(r,i),a=e.minFilter;e.minFilter===w&&(e.minFilter=_);return new $n(1,10,this).update(t,s),e.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(t,e,n,r){const i=t.getRenderTarget();for(let i=0;i<6;i++)t.setRenderTarget(this,i),t.clear(e,n,r);t.setRenderTarget(i)}}const Jn=new Nt,Qn=new Nt,tr=new ht;class er{constructor(t=new Nt(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const r=Jn.subVectors(n,e).cross(Qn.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const n=t.delta(Jn),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const i=-(t.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:e.copy(t.start).addScaledVector(n,i)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||tr.getNormalMatrix(t),r=this.coplanarPoint(Jn).applyMatrix4(t),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const nr=new ie,rr=new Nt;class ir{constructor(t=new er,e=new er,n=new er,r=new er,i=new er,o=new er){this.planes=[t,e,n,r,i,o]}set(t,e,n,r,i,o){const s=this.planes;return s[0].copy(t),s[1].copy(e),s[2].copy(n),s[3].copy(r),s[4].copy(i),s[5].copy(o),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t,e=2e3){const n=this.planes,r=t.elements,i=r[0],o=r[1],s=r[2],a=r[3],l=r[4],c=r[5],u=r[6],h=r[7],p=r[8],d=r[9],f=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15];if(n[0].setComponents(a-i,h-l,m-p,b-g).normalize(),n[1].setComponents(a+i,h+l,m+p,b+g).normalize(),n[2].setComponents(a+o,h+c,m+d,b+v).normalize(),n[3].setComponents(a-o,h-c,m-d,b-v).normalize(),n[4].setComponents(a-s,h-u,m-f,b-y).normalize(),2e3===e)n[5].setComponents(a+s,h+u,m+f,b+y).normalize();else{if(2001!==e)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);n[5].setComponents(s,u,f,y).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),nr.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),nr.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(nr)}intersectsSprite(t){return nr.center.set(0,0,0),nr.radius=.7071067811865476,nr.applyMatrix4(t.matrixWorld),this.intersectsSphere(nr)}intersectsSphere(t){const e=this.planes,n=t.center,r=-t.radius;for(let t=0;t<6;t++){if(e[t].distanceToPoint(n)<r)return!1}return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const r=e[n];if(rr.x=r.normal.x>0?t.max.x:t.min.x,rr.y=r.normal.y>0?t.max.y:t.min.y,rr.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(rr)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function or(){let t=null,e=!1,n=null,r=null;function i(e,o){n(e,o),r=t.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==n&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function sr(t){const e=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const r=e.get(n);r&&(t.deleteBuffer(r.buffer),e.delete(n))},update:function(n,r){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){const t=e.get(n);return void((!t||t.version<n.version)&&e.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}const i=e.get(n);if(void 0===i)e.set(n,function(e,n){const r=e.array,i=e.usage,o=r.byteLength,s=t.createBuffer();let a;if(t.bindBuffer(n,s),t.bufferData(n,r,i),e.onUploadCallback(),r instanceof Float32Array)a=t.FLOAT;else if(r instanceof Uint16Array)a=e.isFloat16BufferAttribute?t.HALF_FLOAT:t.UNSIGNED_SHORT;else if(r instanceof Int16Array)a=t.SHORT;else if(r instanceof Uint32Array)a=t.UNSIGNED_INT;else if(r instanceof Int32Array)a=t.INT;else if(r instanceof Int8Array)a=t.BYTE;else if(r instanceof Uint8Array)a=t.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);a=t.UNSIGNED_BYTE}return{buffer:s,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version,size:o}}(n,r));else if(i.version<n.version){if(i.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(e,n,r){const i=n.array,o=n.updateRanges;if(t.bindBuffer(r,e),0===o.length)t.bufferSubData(r,0,i);else{o.sort((t,e)=>t.start-e.start);let e=0;for(let t=1;t<o.length;t++){const n=o[e],r=o[t];r.start<=n.start+n.count+1?n.count=Math.max(n.count,r.start+r.count-n.start):(++e,o[e]=r)}o.length=e+1;for(let e=0,n=o.length;e<n;e++){const n=o[e];t.bufferSubData(r,n.start*i.BYTES_PER_ELEMENT,i,n.start,n.count)}n.clearUpdateRanges()}n.onUploadCallback()}(i.buffer,n,r),i.version=n.version}}}}class ar extends Sn{constructor(t=1,e=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};const i=t/2,o=e/2,s=Math.floor(n),a=Math.floor(r),l=s+1,c=a+1,u=t/s,h=e/a,p=[],d=[],f=[],m=[];for(let t=0;t<c;t++){const e=t*h-o;for(let n=0;n<l;n++){const r=n*u-i;d.push(r,-e,0),f.push(0,0,1),m.push(n/s),m.push(1-t/a)}}for(let t=0;t<a;t++)for(let e=0;e<s;e++){const n=e+l*t,r=e+l*(t+1),i=e+1+l*(t+1),o=e+1+l*t;p.push(n,r,o),p.push(r,i,o)}this.setIndex(p),this.setAttribute("position",new gn(d,3)),this.setAttribute("normal",new gn(f,3)),this.setAttribute("uv",new gn(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ar(t.width,t.height,t.widthSegments,t.heightSegments)}}const lr={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},cr={common:{diffuse:{value:new sn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ht},alphaMap:{value:null},alphaMapTransform:{value:new ht},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ht}},envmap:{envMap:{value:null},envMapRotation:{value:new ht},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ht}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ht}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ht},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ht},normalScale:{value:new ut(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ht},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ht}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ht}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ht}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new sn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new sn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ht},alphaTest:{value:0},uvTransform:{value:new ht}},sprite:{diffuse:{value:new sn(16777215)},opacity:{value:1},center:{value:new ut(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ht},alphaMap:{value:null},alphaMapTransform:{value:new ht},alphaTest:{value:0}}},ur={basic:{uniforms:Gn([cr.common,cr.specularmap,cr.envmap,cr.aomap,cr.lightmap,cr.fog]),vertexShader:lr.meshbasic_vert,fragmentShader:lr.meshbasic_frag},lambert:{uniforms:Gn([cr.common,cr.specularmap,cr.envmap,cr.aomap,cr.lightmap,cr.emissivemap,cr.bumpmap,cr.normalmap,cr.displacementmap,cr.fog,cr.lights,{emissive:{value:new sn(0)}}]),vertexShader:lr.meshlambert_vert,fragmentShader:lr.meshlambert_frag},phong:{uniforms:Gn([cr.common,cr.specularmap,cr.envmap,cr.aomap,cr.lightmap,cr.emissivemap,cr.bumpmap,cr.normalmap,cr.displacementmap,cr.fog,cr.lights,{emissive:{value:new sn(0)},specular:{value:new sn(1118481)},shininess:{value:30}}]),vertexShader:lr.meshphong_vert,fragmentShader:lr.meshphong_frag},standard:{uniforms:Gn([cr.common,cr.envmap,cr.aomap,cr.lightmap,cr.emissivemap,cr.bumpmap,cr.normalmap,cr.displacementmap,cr.roughnessmap,cr.metalnessmap,cr.fog,cr.lights,{emissive:{value:new sn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:lr.meshphysical_vert,fragmentShader:lr.meshphysical_frag},toon:{uniforms:Gn([cr.common,cr.aomap,cr.lightmap,cr.emissivemap,cr.bumpmap,cr.normalmap,cr.displacementmap,cr.gradientmap,cr.fog,cr.lights,{emissive:{value:new sn(0)}}]),vertexShader:lr.meshtoon_vert,fragmentShader:lr.meshtoon_frag},matcap:{uniforms:Gn([cr.common,cr.bumpmap,cr.normalmap,cr.displacementmap,cr.fog,{matcap:{value:null}}]),vertexShader:lr.meshmatcap_vert,fragmentShader:lr.meshmatcap_frag},points:{uniforms:Gn([cr.points,cr.fog]),vertexShader:lr.points_vert,fragmentShader:lr.points_frag},dashed:{uniforms:Gn([cr.common,cr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:lr.linedashed_vert,fragmentShader:lr.linedashed_frag},depth:{uniforms:Gn([cr.common,cr.displacementmap]),vertexShader:lr.depth_vert,fragmentShader:lr.depth_frag},normal:{uniforms:Gn([cr.common,cr.bumpmap,cr.normalmap,cr.displacementmap,{opacity:{value:1}}]),vertexShader:lr.meshnormal_vert,fragmentShader:lr.meshnormal_frag},sprite:{uniforms:Gn([cr.sprite,cr.fog]),vertexShader:lr.sprite_vert,fragmentShader:lr.sprite_frag},background:{uniforms:{uvTransform:{value:new ht},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:lr.background_vert,fragmentShader:lr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ht}},vertexShader:lr.backgroundCube_vert,fragmentShader:lr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:lr.cube_vert,fragmentShader:lr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:lr.equirect_vert,fragmentShader:lr.equirect_frag},distanceRGBA:{uniforms:Gn([cr.common,cr.displacementmap,{referencePosition:{value:new Nt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:lr.distanceRGBA_vert,fragmentShader:lr.distanceRGBA_frag},shadow:{uniforms:Gn([cr.lights,cr.fog,{color:{value:new sn(0)},opacity:{value:1}}]),vertexShader:lr.shadow_vert,fragmentShader:lr.shadow_frag}};ur.physical={uniforms:Gn([ur.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ht},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ht},clearcoatNormalScale:{value:new ut(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ht},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ht},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ht},sheen:{value:0},sheenColor:{value:new sn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ht},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ht},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ht},transmissionSamplerSize:{value:new ut},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ht},attenuationDistance:{value:0},attenuationColor:{value:new sn(0)},specularColor:{value:new sn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ht},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ht},anisotropyVector:{value:new ut},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ht}}]),vertexShader:lr.meshphysical_vert,fragmentShader:lr.meshphysical_frag};const hr={r:0,b:0,g:0},pr=new Ee,dr=new de;function fr(t,e,n,i,o,s,a){const l=new sn(0);let c,u,h=!0===s?0:1,p=null,d=0,f=null;function m(t){let r=!0===t.isScene?t.background:null;if(r&&r.isTexture){r=(t.backgroundBlurriness>0?n:e).get(r)}return r}function g(e,n){e.getRGB(hr,zn(t)),i.buffers.color.setClear(hr.r,hr.g,hr.b,n,a)}return{getClearColor:function(){return l},setClearColor:function(t,e=1){l.set(t),h=e,g(l,h)},getClearAlpha:function(){return h},setClearAlpha:function(t){h=t,g(l,h)},render:function(e){let n=!1;const r=m(e);null===r?g(l,h):r&&r.isColor&&(g(r,1),n=!0);const o=t.xr.getEnvironmentBlendMode();"additive"===o?i.buffers.color.setClear(0,0,0,1,a):"alpha-blend"===o&&i.buffers.color.setClear(0,0,0,0,a),(t.autoClear||n)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))},addToRenderList:function(e,n){const i=m(n);i&&(i.isCubeTexture||306===i.mapping)?(void 0===u&&(u=new Fn(new Bn(1,1,1),new jn({name:"BackgroundCubeMaterial",uniforms:Un(ur.backgroundCube.uniforms),vertexShader:ur.backgroundCube.vertexShader,fragmentShader:ur.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(u)),pr.copy(n.backgroundRotation),pr.x*=-1,pr.y*=-1,pr.z*=-1,i.isCubeTexture&&!1===i.isRenderTargetTexture&&(pr.y*=-1,pr.z*=-1),u.material.uniforms.envMap.value=i,u.material.uniforms.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(dr.makeRotationFromEuler(pr)),u.material.toneMapped=wt.getTransfer(i.colorSpace)!==K,p===i&&d===i.version&&f===t.toneMapping||(u.material.needsUpdate=!0,p=i,d=i.version,f=t.toneMapping),u.layers.enableAll(),e.unshift(u,u.geometry,u.material,0,0,null)):i&&i.isTexture&&(void 0===c&&(c=new Fn(new ar(2,2),new jn({name:"BackgroundMaterial",uniforms:Un(ur.background.uniforms),vertexShader:ur.background.vertexShader,fragmentShader:ur.background.fragmentShader,side:r,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(c)),c.material.uniforms.t2D.value=i,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.toneMapped=wt.getTransfer(i.colorSpace)!==K,!0===i.matrixAutoUpdate&&i.updateMatrix(),c.material.uniforms.uvTransform.value.copy(i.matrix),p===i&&d===i.version&&f===t.toneMapping||(c.material.needsUpdate=!0,p=i,d=i.version,f=t.toneMapping),c.layers.enableAll(),e.unshift(c,c.geometry,c.material,0,0,null))}}}function mr(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=c(null);let o=i,s=!1;function a(e){return t.bindVertexArray(e)}function l(e){return t.deleteVertexArray(e)}function c(t){const e=[],r=[],i=[];for(let t=0;t<n;t++)e[t]=0,r[t]=0,i[t]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:r,attributeDivisors:i,object:t,attributes:{},index:null}}function u(){const t=o.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function h(t){p(t,0)}function p(e,n){const r=o.newAttributes,i=o.enabledAttributes,s=o.attributeDivisors;r[e]=1,0===i[e]&&(t.enableVertexAttribArray(e),i[e]=1),s[e]!==n&&(t.vertexAttribDivisor(e,n),s[e]=n)}function d(){const e=o.newAttributes,n=o.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==e[r]&&(t.disableVertexAttribArray(r),n[r]=0)}function f(e,n,r,i,o,s,a){!0===a?t.vertexAttribIPointer(e,n,r,o,s):t.vertexAttribPointer(e,n,r,i,o,s)}function m(){g(),s=!0,o!==i&&(o=i,a(o.object))}function g(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,i,l,m,g){let v=!1;const y=function(e,n,i){const o=!0===i.wireframe;let s=r[e.id];void 0===s&&(s={},r[e.id]=s);let a=s[n.id];void 0===a&&(a={},s[n.id]=a);let l=a[o];void 0===l&&(l=c(t.createVertexArray()),a[o]=l);return l}(m,l,i);o!==y&&(o=y,a(o.object)),v=function(t,e,n,r){const i=o.attributes,s=e.attributes;let a=0;const l=n.getAttributes();for(const e in l){if(l[e].location>=0){const n=i[e];let r=s[e];if(void 0===r&&("instanceMatrix"===e&&t.instanceMatrix&&(r=t.instanceMatrix),"instanceColor"===e&&t.instanceColor&&(r=t.instanceColor)),void 0===n)return!0;if(n.attribute!==r)return!0;if(r&&n.data!==r.data)return!0;a++}}return o.attributesNum!==a||o.index!==r}(n,m,l,g),v&&function(t,e,n,r){const i={},s=e.attributes;let a=0;const l=n.getAttributes();for(const e in l){if(l[e].location>=0){let n=s[e];void 0===n&&("instanceMatrix"===e&&t.instanceMatrix&&(n=t.instanceMatrix),"instanceColor"===e&&t.instanceColor&&(n=t.instanceColor));const r={};r.attribute=n,n&&n.data&&(r.data=n.data),i[e]=r,a++}}o.attributes=i,o.attributesNum=a,o.index=r}(n,m,l,g),null!==g&&e.update(g,t.ELEMENT_ARRAY_BUFFER),(v||s)&&(s=!1,function(n,r,i,o){u();const s=o.attributes,a=i.getAttributes(),l=r.defaultAttributeValues;for(const r in a){const i=a[r];if(i.location>=0){let a=s[r];if(void 0===a&&("instanceMatrix"===r&&n.instanceMatrix&&(a=n.instanceMatrix),"instanceColor"===r&&n.instanceColor&&(a=n.instanceColor)),void 0!==a){const r=a.normalized,s=a.itemSize,l=e.get(a);if(void 0===l)continue;const c=l.buffer,u=l.type,d=l.bytesPerElement,m=u===t.INT||u===t.UNSIGNED_INT||1013===a.gpuType;if(a.isInterleavedBufferAttribute){const e=a.data,l=e.stride,g=a.offset;if(e.isInstancedInterleavedBuffer){for(let t=0;t<i.locationSize;t++)p(i.location+t,e.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=e.meshPerAttribute*e.count)}else for(let t=0;t<i.locationSize;t++)h(i.location+t);t.bindBuffer(t.ARRAY_BUFFER,c);for(let t=0;t<i.locationSize;t++)f(i.location+t,s/i.locationSize,u,r,l*d,(g+s/i.locationSize*t)*d,m)}else{if(a.isInstancedBufferAttribute){for(let t=0;t<i.locationSize;t++)p(i.location+t,a.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=a.meshPerAttribute*a.count)}else for(let t=0;t<i.locationSize;t++)h(i.location+t);t.bindBuffer(t.ARRAY_BUFFER,c);for(let t=0;t<i.locationSize;t++)f(i.location+t,s/i.locationSize,u,r,s*d,s/i.locationSize*t*d,m)}}else if(void 0!==l){const e=l[r];if(void 0!==e)switch(e.length){case 2:t.vertexAttrib2fv(i.location,e);break;case 3:t.vertexAttrib3fv(i.location,e);break;case 4:t.vertexAttrib4fv(i.location,e);break;default:t.vertexAttrib1fv(i.location,e)}}}}d()}(n,i,l,m),null!==g&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(g).buffer))},reset:m,resetDefaultState:g,dispose:function(){m();for(const t in r){const e=r[t];for(const t in e){const n=e[t];for(const t in n)l(n[t].object),delete n[t];delete e[t]}delete r[t]}},releaseStatesOfGeometry:function(t){if(void 0===r[t.id])return;const e=r[t.id];for(const t in e){const n=e[t];for(const t in n)l(n[t].object),delete n[t];delete e[t]}delete r[t.id]},releaseStatesOfProgram:function(t){for(const e in r){const n=r[e];if(void 0===n[t.id])continue;const i=n[t.id];for(const t in i)l(i[t].object),delete i[t];delete n[t.id]}},initAttributes:u,enableAttribute:h,disableUnusedAttributes:d}}function gr(t,e,n){let r;function i(e,i,o){0!==o&&(t.drawArraysInstanced(r,e,i,o),n.update(i,r,o))}this.setMode=function(t){r=t},this.render=function(e,i){t.drawArrays(r,e,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(t,i,o){if(0===o)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,t,0,i,0,o);let s=0;for(let t=0;t<o;t++)s+=i[t];n.update(s,r,1)},this.renderMultiDrawInstances=function(t,o,s,a){if(0===s)return;const l=e.get("WEBGL_multi_draw");if(null===l)for(let e=0;e<t.length;e++)i(t[e],o[e],a[e]);else{l.multiDrawArraysInstancedWEBGL(r,t,0,o,0,a,0,s);let e=0;for(let t=0;t<s;t++)e+=o[t];for(let t=0;t<a.length;t++)n.update(e,r,a[t])}}}function vr(t,e,n,r){let i;function o(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let s=void 0!==n.precision?n.precision:"highp";const a=o(s);a!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",a,"instead."),s=a);const l=!0===n.logarithmicDepthBuffer,c=!0===n.reverseDepthBuffer&&e.has("EXT_clip_control");if(!0===c){const t=e.get("EXT_clip_control");t.clipControlEXT(t.LOWER_LEFT_EXT,t.ZERO_TO_ONE_EXT)}const u=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const n=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:o,textureFormatReadable:function(e){return e===M||r.convert(e)===t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const i=n===T&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(n!==E&&r.convert(n)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==S&&!i)},precision:s,logarithmicDepthBuffer:l,reverseDepthBuffer:c,maxTextures:u,maxVertexTextures:h,maxTextureSize:t.getParameter(t.MAX_TEXTURE_SIZE),maxCubemapSize:t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:t.getParameter(t.MAX_VERTEX_ATTRIBS),maxVertexUniforms:t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:t.getParameter(t.MAX_VARYING_VECTORS),maxFragmentUniforms:t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:h>0,maxSamples:t.getParameter(t.MAX_SAMPLES)}}function yr(t){const e=this;let n=null,r=0,i=!1,o=!1;const s=new er,a=new ht,l={value:null,needsUpdate:!1};function c(t,n,r,i){const o=null!==t?t.length:0;let c=null;if(0!==o){if(c=l.value,!0!==i||null===c){const e=r+4*o,i=n.matrixWorldInverse;a.getNormalMatrix(i),(null===c||c.length<e)&&(c=new Float32Array(e));for(let e=0,n=r;e!==o;++e,n+=4)s.copy(t[e]).applyMatrix4(i,a),s.normal.toArray(c,n),c[n+3]=s.constant}l.value=c,l.needsUpdate=!0}return e.numPlanes=o,e.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e){const n=0!==t.length||e||0!==r||i;return i=e,r=t.length,n},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(t,e){n=c(t,e,0)},this.setState=function(s,a,u){const h=s.clippingPlanes,p=s.clipIntersection,d=s.clipShadows,f=t.get(s);if(!i||null===h||0===h.length||o&&!d)o?c(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);e.numPlanes=r,e.numIntersection=0}();else{const t=o?0:r,e=4*t;let i=f.clippingState||null;l.value=i,i=c(h,a,e,u);for(let t=0;t!==e;++t)i[t]=n[t];f.clippingState=i,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=t}}}function br(t){let e=new WeakMap;function n(t,e){return 303===e?t.mapping=301:304===e&&(t.mapping=302),t}function r(t){const n=t.target;n.removeEventListener("dispose",r);const i=e.get(n);void 0!==i&&(e.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping;if(303===o||304===o){if(e.has(i)){return n(e.get(i).texture,i.mapping)}{const o=i.image;if(o&&o.height>0){const s=new Zn(o.height);return s.fromEquirectangularTexture(t,i),e.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}}return i},dispose:function(){e=new WeakMap}}}class _r extends Vn{constructor(t=-1,e=1,n=1,r=-1,i=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-t,o=n+t,s=r+e,a=r-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=t*this.view.offsetX,o=i+t*this.view.width,s-=e*this.view.offsetY,a=s-e*this.view.height}this.projectionMatrix.makeOrthographic(i,o,s,a,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}const xr=[.125,.215,.35,.446,.526,.582],wr=new _r,Er=new sn;let Sr=null,Tr=0,Ar=0,Mr=!1;const Cr=(1+Math.sqrt(5))/2,Pr=1/Cr,Dr=[new Nt(-Cr,Pr,0),new Nt(Cr,Pr,0),new Nt(-Pr,0,Cr),new Nt(Pr,0,Cr),new Nt(0,Cr,-Pr),new Nt(0,Cr,Pr),new Nt(-1,1,-1),new Nt(1,1,-1),new Nt(-1,1,1),new Nt(1,1,1)];class Rr{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,r=100){Sr=this._renderer.getRenderTarget(),Tr=this._renderer.getActiveCubeFace(),Ar=this._renderer.getActiveMipmapLevel(),Mr=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(t,n,r,i),e>0&&this._blur(i,0,0,e),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=kr(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Lr(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(Sr,Tr,Ar),this._renderer.xr.enabled=Mr,t.scissorTest=!1,Ir(t,0,0,t.width,t.height)}_fromTexture(t,e){301===t.mapping||302===t.mapping?this._setSize(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),Sr=this._renderer.getRenderTarget(),Tr=this._renderer.getActiveCubeFace(),Ar=this._renderer.getActiveMipmapLevel(),Mr=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:_,minFilter:_,generateMipmaps:!1,type:T,format:M,colorSpace:q,depthBuffer:!1},r=Or(t,e,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Or(t,e,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(t){const e=[],n=[],r=[];let i=t;const o=t-4+1+xr.length;for(let s=0;s<o;s++){const o=Math.pow(2,i);n.push(o);let a=1/o;s>t-4?a=xr[s-t+4-1]:0===s&&(a=0),r.push(a);const l=1/(o-2),c=-l,u=1+l,h=[c,c,u,c,u,u,c,c,u,u,c,u],p=6,d=6,f=3,m=2,g=1,v=new Float32Array(f*d*p),y=new Float32Array(m*d*p),b=new Float32Array(g*d*p);for(let t=0;t<p;t++){const e=t%3*2/3-1,n=t>2?0:-1,r=[e,n,0,e+2/3,n,0,e+2/3,n+1,0,e,n,0,e+2/3,n+1,0,e,n+1,0];v.set(r,f*d*t),y.set(h,m*d*t);const i=[t,t,t,t,t,t];b.set(i,g*d*t)}const _=new Sn;_.setAttribute("position",new dn(v,f)),_.setAttribute("uv",new dn(y,m)),_.setAttribute("faceIndex",new dn(b,g)),e.push(_),i>4&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(t,e,n){const r=new Float32Array(20),i=new Nt(0,1,0);return new jn({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:t+".0"},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Fr(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:o,depthTest:!1,depthWrite:!1})}(r,t,e)}return r}_compileMaterial(t){const e=new Fn(this._lodPlanes[0],t);this._renderer.compile(e,wr)}_sceneToCubeUV(t,e,n,r){const i=new Yn(90,1,e,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,u=l.toneMapping;l.getClearColor(Er),l.toneMapping=a,l.autoClear=!1;const h=new un({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),p=new Fn(new Bn,h);let d=!1;const f=t.background;f?f.isColor&&(h.color.copy(f),t.background=null,d=!0):(h.color.copy(Er),d=!0);for(let e=0;e<6;e++){const n=e%3;0===n?(i.up.set(0,o[e],0),i.lookAt(s[e],0,0)):1===n?(i.up.set(0,0,o[e]),i.lookAt(0,s[e],0)):(i.up.set(0,o[e],0),i.lookAt(0,0,s[e]));const a=this._cubeSize;Ir(r,n*a,e>2?a:0,a,a),l.setRenderTarget(r),d&&l.render(p,i),l.render(t,i)}p.geometry.dispose(),p.material.dispose(),l.toneMapping=u,l.autoClear=c,t.background=f}_textureToCubeUV(t,e){const n=this._renderer,r=301===t.mapping||302===t.mapping;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=kr()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Lr());const i=r?this._cubemapMaterial:this._equirectMaterial,o=new Fn(this._lodPlanes[0],i);i.uniforms.envMap.value=t;const s=this._cubeSize;Ir(e,0,0,3*s,2*s),n.setRenderTarget(e),n.render(o,wr)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;const r=this._lodPlanes.length;for(let e=1;e<r;e++){const n=Math.sqrt(this._sigmas[e]*this._sigmas[e]-this._sigmas[e-1]*this._sigmas[e-1]),i=Dr[(r-e-1)%Dr.length];this._blur(t,e-1,e,n,i)}e.autoClear=n}_blur(t,e,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,n,r,"latitudinal",i),this._halfBlur(o,t,n,n,r,"longitudinal",i)}_halfBlur(t,e,n,r,i,o,s){const a=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new Fn(this._lodPlanes[r],l),u=l.uniforms,h=this._sizeLods[n]-1,p=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,d=i/p,f=isFinite(i)?1+Math.floor(3*d):20;f>20&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${f} samples when the maximum is set to 20`);const m=[];let g=0;for(let t=0;t<20;++t){const e=t/d,n=Math.exp(-e*e/2);m.push(n),0===t?g+=n:t<f&&(g+=2*n)}for(let t=0;t<m.length;t++)m[t]=m[t]/g;u.envMap.value=t.texture,u.samples.value=f,u.weights.value=m,u.latitudinal.value="latitudinal"===o,s&&(u.poleAxis.value=s);const{_lodMax:v}=this;u.dTheta.value=p,u.mipInt.value=v-n;const y=this._sizeLods[r];Ir(e,3*y*(r>v-4?r-v+4:0),4*(this._cubeSize-y),3*y,2*y),a.setRenderTarget(e),a.render(c,wr)}}function Or(t,e,n){const r=new It(t,e,n);return r.texture.mapping=306,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Ir(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Lr(){return new jn({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Fr(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:o,depthTest:!1,depthWrite:!1})}function kr(){return new jn({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Fr(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:o,depthTest:!1,depthWrite:!1})}function Fr(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function Nr(t){let e=new WeakMap,n=null;function r(t){const n=t.target;n.removeEventListener("dispose",r);const i=e.get(n);void 0!==i&&(e.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping,s=303===o||304===o,a=301===o||302===o;if(s||a){let o=e.get(i);const l=void 0!==o?o.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==l)return null===n&&(n=new Rr(t)),o=s?n.fromEquirectangular(i,o):n.fromCubemap(i,o),o.texture.pmremVersion=i.pmremVersion,e.set(i,o),o.texture;if(void 0!==o)return o.texture;{const l=i.image;return s&&l&&l.height>0||a&&l&&function(t){let e=0;for(let n=0;n<6;n++)void 0!==t[n]&&e++;return 6===e}(l)?(null===n&&(n=new Rr(t)),o=s?n.fromEquirectangular(i):n.fromCubemap(i),o.texture.pmremVersion=i.pmremVersion,e.set(i,o),i.addEventListener("dispose",r),o.texture):null}}}return i},dispose:function(){e=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Br(t){const e={};function n(n){if(void 0!==e[n])return e[n];let r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(n)}return e[n]=r,r}return{has:function(t){return null!==n(t)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(t){const e=n(t);return null===e&&vt("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function Ur(t,e,n,r){const i={},o=new WeakMap;function s(t){const a=t.target;null!==a.index&&e.remove(a.index);for(const t in a.attributes)e.remove(a.attributes[t]);for(const t in a.morphAttributes){const n=a.morphAttributes[t];for(let t=0,r=n.length;t<r;t++)e.remove(n[t])}a.removeEventListener("dispose",s),delete i[a.id];const l=o.get(a);l&&(e.remove(l),o.delete(a)),r.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,n.memory.geometries--}function a(t){const n=[],r=t.index,i=t.attributes.position;let s=0;if(null!==r){const t=r.array;s=r.version;for(let e=0,r=t.length;e<r;e+=3){const r=t[e+0],i=t[e+1],o=t[e+2];n.push(r,i,i,o,o,r)}}else{if(void 0===i)return;{const t=i.array;s=i.version;for(let e=0,r=t.length/3-1;e<r;e+=3){const t=e+0,r=e+1,i=e+2;n.push(t,r,r,i,i,t)}}}const a=new(dt(n)?mn:fn)(n,1);a.version=s;const l=o.get(t);l&&e.remove(l),o.set(t,a)}return{get:function(t,e){return!0===i[e.id]||(e.addEventListener("dispose",s),i[e.id]=!0,n.memory.geometries++),e},update:function(n){const r=n.attributes;for(const n in r)e.update(r[n],t.ARRAY_BUFFER);const i=n.morphAttributes;for(const n in i){const r=i[n];for(let n=0,i=r.length;n<i;n++)e.update(r[n],t.ARRAY_BUFFER)}},getWireframeAttribute:function(t){const e=o.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&a(t)}else a(t);return o.get(t)}}}function Gr(t,e,n){let r,i,o;function s(e,s,a){0!==a&&(t.drawElementsInstanced(r,s,i,e*o,a),n.update(s,r,a))}this.setMode=function(t){r=t},this.setIndex=function(t){i=t.type,o=t.bytesPerElement},this.render=function(e,s){t.drawElements(r,s,i,e*o),n.update(s,r,1)},this.renderInstances=s,this.renderMultiDraw=function(t,o,s){if(0===s)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,o,0,i,t,0,s);let a=0;for(let t=0;t<s;t++)a+=o[t];n.update(a,r,1)},this.renderMultiDrawInstances=function(t,a,l,c){if(0===l)return;const u=e.get("WEBGL_multi_draw");if(null===u)for(let e=0;e<t.length;e++)s(t[e]/o,a[e],c[e]);else{u.multiDrawElementsInstancedWEBGL(r,a,0,i,t,0,c,0,l);let e=0;for(let t=0;t<l;t++)e+=a[t];for(let t=0;t<c.length;t++)n.update(e,r,c[t])}}}function zr(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(n,r,i){switch(e.calls++,r){case t.TRIANGLES:e.triangles+=i*(n/3);break;case t.LINES:e.lines+=i*(n/2);break;case t.LINE_STRIP:e.lines+=i*(n-1);break;case t.LINE_LOOP:e.lines+=i*n;break;case t.POINTS:e.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function Hr(t,e,n){const r=new WeakMap,i=new Rt;return{update:function(o,s,a){const l=o.morphTargetInfluences,c=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,u=void 0!==c?c.length:0;let h=r.get(s);if(void 0===h||h.count!==u){void 0!==h&&h.texture.dispose();const t=void 0!==s.morphAttributes.position,n=void 0!==s.morphAttributes.normal,o=void 0!==s.morphAttributes.color,a=s.morphAttributes.position||[],l=s.morphAttributes.normal||[],c=s.morphAttributes.color||[];let p=0;!0===t&&(p=1),!0===n&&(p=2),!0===o&&(p=3);let d=s.attributes.position.count*p,f=1;d>e.maxTextureSize&&(f=Math.ceil(d/e.maxTextureSize),d=e.maxTextureSize);const m=new Float32Array(d*f*4*u),g=new Lt(m,d,f,u);g.type=S,g.needsUpdate=!0;const v=4*p;for(let e=0;e<u;e++){const r=a[e],s=l[e],u=c[e],h=d*f*4*e;for(let e=0;e<r.count;e++){const a=e*v;!0===t&&(i.fromBufferAttribute(r,e),m[h+a+0]=i.x,m[h+a+1]=i.y,m[h+a+2]=i.z,m[h+a+3]=0),!0===n&&(i.fromBufferAttribute(s,e),m[h+a+4]=i.x,m[h+a+5]=i.y,m[h+a+6]=i.z,m[h+a+7]=0),!0===o&&(i.fromBufferAttribute(u,e),m[h+a+8]=i.x,m[h+a+9]=i.y,m[h+a+10]=i.z,m[h+a+11]=4===u.itemSize?i.w:1)}}h={count:u,texture:g,size:new ut(d,f)},r.set(s,h),s.addEventListener("dispose",(function t(){g.dispose(),r.delete(s),s.removeEventListener("dispose",t)}))}if(!0===o.isInstancedMesh&&null!==o.morphTexture)a.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let e=0;for(let t=0;t<l.length;t++)e+=l[t];const n=s.morphTargetsRelative?1:1-e;a.getUniforms().setValue(t,"morphTargetBaseInfluence",n),a.getUniforms().setValue(t,"morphTargetInfluences",l)}a.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),a.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}}}function jr(t,e,n,r){let i=new WeakMap;function o(t){const e=t.target;e.removeEventListener("dispose",o),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(s){const a=r.render.frame,l=s.geometry,c=e.get(s,l);if(i.get(c)!==a&&(e.update(c),i.set(c,a)),s.isInstancedMesh&&(!1===s.hasEventListener("dispose",o)&&s.addEventListener("dispose",o),i.get(s)!==a&&(n.update(s.instanceMatrix,t.ARRAY_BUFFER),null!==s.instanceColor&&n.update(s.instanceColor,t.ARRAY_BUFFER),i.set(s,a))),s.isSkinnedMesh){const t=s.skeleton;i.get(t)!==a&&(t.update(),i.set(t,a))}return c},dispose:function(){i=new WeakMap}}}class Vr extends Dt{constructor(t,e,n,r,i,o,s,a,l,c=1026){if(1026!==c&&1027!==c)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===c&&(n=1014),void 0===n&&1027===c&&(n=1020),super(null,r,i,o,s,a,c,n,l),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=void 0!==s?s:v,this.minFilter=void 0!==a?a:v,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}const Xr=new Dt,Wr=new Vr(1,1),qr=new Lt,Yr=new kt,$r=new Kn,Kr=[],Zr=[],Jr=new Float32Array(16),Qr=new Float32Array(9),ti=new Float32Array(4);function ei(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=Kr[i];if(void 0===o&&(o=new Float32Array(i),Kr[i]=o),0!==e){r.toArray(o,0);for(let r=1,i=0;r!==e;++r)i+=n,t[r].toArray(o,i)}return o}function ni(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ri(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function ii(t,e){let n=Zr[e];void 0===n&&(n=new Int32Array(e),Zr[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function oi(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function si(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ni(n,e))return;t.uniform2fv(this.addr,e),ri(n,e)}}function ai(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ni(n,e))return;t.uniform3fv(this.addr,e),ri(n,e)}}function li(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ni(n,e))return;t.uniform4fv(this.addr,e),ri(n,e)}}function ci(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(ni(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ri(n,e)}else{if(ni(n,r))return;ti.set(r),t.uniformMatrix2fv(this.addr,!1,ti),ri(n,r)}}function ui(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(ni(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ri(n,e)}else{if(ni(n,r))return;Qr.set(r),t.uniformMatrix3fv(this.addr,!1,Qr),ri(n,r)}}function hi(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(ni(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ri(n,e)}else{if(ni(n,r))return;Jr.set(r),t.uniformMatrix4fv(this.addr,!1,Jr),ri(n,r)}}function pi(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function di(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ni(n,e))return;t.uniform2iv(this.addr,e),ri(n,e)}}function fi(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ni(n,e))return;t.uniform3iv(this.addr,e),ri(n,e)}}function mi(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ni(n,e))return;t.uniform4iv(this.addr,e),ri(n,e)}}function gi(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function vi(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ni(n,e))return;t.uniform2uiv(this.addr,e),ri(n,e)}}function yi(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ni(n,e))return;t.uniform3uiv(this.addr,e),ri(n,e)}}function bi(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ni(n,e))return;t.uniform4uiv(this.addr,e),ri(n,e)}}function _i(t,e,n){const r=this.cache,i=n.allocateTextureUnit();let o;r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),this.type===t.SAMPLER_2D_SHADOW?(Wr.compareFunction=515,o=Wr):o=Xr,n.setTexture2D(e||o,i)}function xi(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Yr,i)}function wi(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||$r,i)}function Ei(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||qr,i)}function Si(t,e){t.uniform1fv(this.addr,e)}function Ti(t,e){const n=ei(e,this.size,2);t.uniform2fv(this.addr,n)}function Ai(t,e){const n=ei(e,this.size,3);t.uniform3fv(this.addr,n)}function Mi(t,e){const n=ei(e,this.size,4);t.uniform4fv(this.addr,n)}function Ci(t,e){const n=ei(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Pi(t,e){const n=ei(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Di(t,e){const n=ei(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Ri(t,e){t.uniform1iv(this.addr,e)}function Oi(t,e){t.uniform2iv(this.addr,e)}function Ii(t,e){t.uniform3iv(this.addr,e)}function Li(t,e){t.uniform4iv(this.addr,e)}function ki(t,e){t.uniform1uiv(this.addr,e)}function Fi(t,e){t.uniform2uiv(this.addr,e)}function Ni(t,e){t.uniform3uiv(this.addr,e)}function Bi(t,e){t.uniform4uiv(this.addr,e)}function Ui(t,e,n){const r=this.cache,i=e.length,o=ii(n,i);ni(r,o)||(t.uniform1iv(this.addr,o),ri(r,o));for(let t=0;t!==i;++t)n.setTexture2D(e[t]||Xr,o[t])}function Gi(t,e,n){const r=this.cache,i=e.length,o=ii(n,i);ni(r,o)||(t.uniform1iv(this.addr,o),ri(r,o));for(let t=0;t!==i;++t)n.setTexture3D(e[t]||Yr,o[t])}function zi(t,e,n){const r=this.cache,i=e.length,o=ii(n,i);ni(r,o)||(t.uniform1iv(this.addr,o),ri(r,o));for(let t=0;t!==i;++t)n.setTextureCube(e[t]||$r,o[t])}function Hi(t,e,n){const r=this.cache,i=e.length,o=ii(n,i);ni(r,o)||(t.uniform1iv(this.addr,o),ri(r,o));for(let t=0;t!==i;++t)n.setTexture2DArray(e[t]||qr,o[t])}class ji{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.setValue=function(t){switch(t){case 5126:return oi;case 35664:return si;case 35665:return ai;case 35666:return li;case 35674:return ci;case 35675:return ui;case 35676:return hi;case 5124:case 35670:return pi;case 35667:case 35671:return di;case 35668:case 35672:return fi;case 35669:case 35673:return mi;case 5125:return gi;case 36294:return vi;case 36295:return yi;case 36296:return bi;case 35678:case 36198:case 36298:case 36306:case 35682:return _i;case 35679:case 36299:case 36307:return xi;case 35680:case 36300:case 36308:case 36293:return wi;case 36289:case 36303:case 36311:case 36292:return Ei}}(e.type)}}class Vi{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=function(t){switch(t){case 5126:return Si;case 35664:return Ti;case 35665:return Ai;case 35666:return Mi;case 35674:return Ci;case 35675:return Pi;case 35676:return Di;case 5124:case 35670:return Ri;case 35667:case 35671:return Oi;case 35668:case 35672:return Ii;case 35669:case 35673:return Li;case 5125:return ki;case 36294:return Fi;case 36295:return Ni;case 36296:return Bi;case 35678:case 36198:case 36298:case 36306:case 35682:return Ui;case 35679:case 36299:case 36307:return Gi;case 35680:case 36300:case 36308:case 36293:return zi;case 36289:case 36303:case 36311:case 36292:return Hi}}(e.type)}}class Xi{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(t,e[o.id],n)}}}const Wi=/(\w+)(\])?(\[|\.)?/g;function qi(t,e){t.seq.push(e),t.map[e.id]=e}function Yi(t,e,n){const r=t.name,i=r.length;for(Wi.lastIndex=0;;){const o=Wi.exec(r),s=Wi.lastIndex;let a=o[1];const l="]"===o[2],c=o[3];if(l&&(a|=0),void 0===c||"["===c&&s+2===i){qi(n,void 0===c?new ji(a,t,e):new Vi(a,t,e));break}{let t=n.map[a];void 0===t&&(t=new Xi(a),qi(n,t)),n=t}}}class $i{constructor(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=t.getActiveUniform(e,r);Yi(n,t.getUniformLocation(e,n.name),this)}}setValue(t,e,n,r){const i=this.map[e];void 0!==i&&i.setValue(t,n,r)}setOptional(t,e,n){const r=e[n];void 0!==r&&this.setValue(t,n,r)}static upload(t,e,n,r){for(let i=0,o=e.length;i!==o;++i){const o=e[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,r)}}static seqWithValue(t,e){const n=[];for(let r=0,i=t.length;r!==i;++r){const i=t[r];i.id in e&&n.push(i)}return n}}function Ki(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let Zi=0;function Ji(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&""===i)return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const r=parseInt(o[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(t,e){const n=t.split("\n"),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let t=i;t<o;t++){const i=t+1;r.push(`${i===e?">":" "} ${i}: ${n[t]}`)}return r.join("\n")}(t.getShaderSource(e),r)}return i}function Qi(t,e){const n=function(t){const e=wt.getPrimaries(wt.workingColorSpace),n=wt.getPrimaries(t);let r;switch(e===n?r="":"p3"===e&&"rec709"===n?r="LinearDisplayP3ToLinearSRGB":"rec709"===e&&"p3"===n&&(r="LinearSRGBToLinearDisplayP3"),t){case q:case $:return[r,"LinearTransferOETF"];case W:case Y:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function to(t,e){let n;switch(e){case l:n="Linear";break;case c:n="Reinhard";break;case u:n="Cineon";break;case h:n="ACESFilmic";break;case p:n="AgX";break;case d:n="Neutral";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const eo=new Nt;function no(){wt.getLuminanceCoefficients(eo);return["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${eo.x.toFixed(4)}, ${eo.y.toFixed(4)}, ${eo.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")}function ro(t){return""!==t}function io(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function oo(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const so=/^[ \t]*#include +<([\w\d./]+)>/gm;function ao(t){return t.replace(so,co)}const lo=new Map;function co(t,e){let n=lr[e];if(void 0===n){const t=lo.get(e);if(void 0===t)throw new Error("Can not resolve #include <"+e+">");n=lr[t],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,t)}return ao(n)}const uo=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ho(t){return t.replace(uo,po)}function po(t,e,n,r){let i="";for(let t=parseInt(e);t<parseInt(n);t++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return i}function fo(t){let e=`precision ${t.precision} float;\n\tprecision ${t.precision} int;\n\tprecision ${t.precision} sampler2D;\n\tprecision ${t.precision} samplerCube;\n\tprecision ${t.precision} sampler3D;\n\tprecision ${t.precision} sampler2DArray;\n\tprecision ${t.precision} sampler2DShadow;\n\tprecision ${t.precision} samplerCubeShadow;\n\tprecision ${t.precision} sampler2DArrayShadow;\n\tprecision ${t.precision} isampler2D;\n\tprecision ${t.precision} isampler3D;\n\tprecision ${t.precision} isamplerCube;\n\tprecision ${t.precision} isampler2DArray;\n\tprecision ${t.precision} usampler2D;\n\tprecision ${t.precision} usampler3D;\n\tprecision ${t.precision} usamplerCube;\n\tprecision ${t.precision} usampler2DArray;\n\t`;return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function mo(t,e,n,r){const i=t.getContext(),o=n.defines;let s=n.vertexShader,l=n.fragmentShader;const c=function(t){let e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(n),u=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),h=function(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case 302:e="ENVMAP_MODE_REFRACTION"}return e}(n),p=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),d=function(t){const e=t.envMapCubeUVHeight;if(null===e)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),f=function(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(ro).join("\n")}(n),m=function(t){const e=[];for(const n in t){const r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(o),g=i.createProgram();let v,y,b=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(ro).join("\n"),v.length>0&&(v+="\n"),y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(ro).join("\n"),y.length>0&&(y+="\n")):(v=[fo(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ro).join("\n"),y=[fo(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",n.envMap?"#define "+p:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==a?"#define TONE_MAPPING":"",n.toneMapping!==a?lr.tonemapping_pars_fragment:"",n.toneMapping!==a?to("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",lr.colorspace_pars_fragment,Qi("linearToOutputTexel",n.outputColorSpace),no(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ro).join("\n")),s=ao(s),s=io(s,n),s=oo(s,n),l=ao(l),l=io(l,n),l=oo(l,n),s=ho(s),l=ho(l),!0!==n.isRawShaderMaterial&&(b="#version 300 es\n",v=[f,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+v,y=["#define varying in","300 es"===n.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===n.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y);const _=b+v+s,x=b+y+l,w=Ki(i,i.VERTEX_SHADER,_),E=Ki(i,i.FRAGMENT_SHADER,x);function S(e){if(t.debug.checkShaderErrors){const n=i.getProgramInfoLog(g).trim(),r=i.getShaderInfoLog(w).trim(),o=i.getShaderInfoLog(E).trim();let s=!0,a=!0;if(!1===i.getProgramParameter(g,i.LINK_STATUS))if(s=!1,"function"==typeof t.debug.onShaderError)t.debug.onShaderError(i,g,w,E);else{const t=Ji(i,w,"vertex"),r=Ji(i,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+e.name+"\nMaterial Type: "+e.type+"\n\nProgram Info Log: "+n+"\n"+t+"\n"+r)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==r&&""!==o||(a=!1);a&&(e.diagnostics={runnable:s,programLog:n,vertexShader:{log:r,prefix:v},fragmentShader:{log:o,prefix:y}})}i.deleteShader(w),i.deleteShader(E),T=new $i(i,g),A=function(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=t.getActiveAttrib(e,i),o=r.name;let s=1;r.type===t.FLOAT_MAT2&&(s=2),r.type===t.FLOAT_MAT3&&(s=3),r.type===t.FLOAT_MAT4&&(s=4),n[o]={type:r.type,location:t.getAttribLocation(e,o),locationSize:s}}return n}(i,g)}let T,A;i.attachShader(g,w),i.attachShader(g,E),void 0!==n.index0AttributeName?i.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),this.getUniforms=function(){return void 0===T&&S(this),T},this.getAttributes=function(){return void 0===A&&S(this),A};let M=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===M&&(M=i.getProgramParameter(g,37297)),M},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Zi++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=w,this.fragmentShader=E,this}let go=0;class vo{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,n=t.fragmentShader,r=this._getShaderStage(e),i=this._getShaderStage(n),o=this._getShaderCacheForMaterial(t);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(i)&&(o.add(i),i.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const t of e)t.usedTimes--,0===t.usedTimes&&this.shaderCache.delete(t.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let n=e.get(t);return void 0===n&&(n=new Set,e.set(t,n)),n}_getShaderStage(t){const e=this.shaderCache;let n=e.get(t);return void 0===n&&(n=new yo(t),e.set(t,n)),n}}class yo{constructor(t){this.id=go++,this.code=t,this.usedTimes=0}}function bo(t,e,n,r,o,s,l){const c=new Se,u=new vo,h=new Set,p=[],d=o.logarithmicDepthBuffer,f=o.reverseDepthBuffer,m=o.vertexTextures;let g=o.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(t){return h.add(t),0===t?"uv":"uv"+t}return{getParameters:function(s,c,p,b,_){const x=b.fog,w=_.geometry,E=s.isMeshStandardMaterial?b.environment:null,S=(s.isMeshStandardMaterial?n:e).get(s.envMap||E),T=S&&306===S.mapping?S.image.height:null,A=v[s.type];null!==s.precision&&(g=o.getMaxPrecision(s.precision),g!==s.precision&&console.warn("THREE.WebGLProgram.getParameters:",s.precision,"not supported, using",g,"instead."));const M=w.morphAttributes.position||w.morphAttributes.normal||w.morphAttributes.color,C=void 0!==M?M.length:0;let P,D,R,O,I=0;if(void 0!==w.morphAttributes.position&&(I=1),void 0!==w.morphAttributes.normal&&(I=2),void 0!==w.morphAttributes.color&&(I=3),A){const t=ur[A];P=t.vertexShader,D=t.fragmentShader}else P=s.vertexShader,D=s.fragmentShader,u.update(s),R=u.getVertexShaderID(s),O=u.getFragmentShaderID(s);const L=t.getRenderTarget(),k=!0===_.isInstancedMesh,F=!0===_.isBatchedMesh,N=!!s.map,B=!!s.matcap,U=!!S,G=!!s.aoMap,z=!!s.lightMap,H=!!s.bumpMap,j=!!s.normalMap,V=!!s.displacementMap,X=!!s.emissiveMap,W=!!s.metalnessMap,Y=!!s.roughnessMap,$=s.anisotropy>0,Z=s.clearcoat>0,J=s.dispersion>0,Q=s.iridescence>0,tt=s.sheen>0,et=s.transmission>0,nt=$&&!!s.anisotropyMap,rt=Z&&!!s.clearcoatMap,it=Z&&!!s.clearcoatNormalMap,ot=Z&&!!s.clearcoatRoughnessMap,st=Q&&!!s.iridescenceMap,at=Q&&!!s.iridescenceThicknessMap,lt=tt&&!!s.sheenColorMap,ct=tt&&!!s.sheenRoughnessMap,ut=!!s.specularMap,ht=!!s.specularColorMap,pt=!!s.specularIntensityMap,dt=et&&!!s.transmissionMap,ft=et&&!!s.thicknessMap,mt=!!s.gradientMap,gt=!!s.alphaMap,vt=s.alphaTest>0,yt=!!s.alphaHash,bt=!!s.extensions;let _t=a;s.toneMapped&&(null!==L&&!0!==L.isXRRenderTarget||(_t=t.toneMapping));const xt={shaderID:A,shaderType:s.type,shaderName:s.name,vertexShader:P,fragmentShader:D,defines:s.defines,customVertexShaderID:R,customFragmentShaderID:O,isRawShaderMaterial:!0===s.isRawShaderMaterial,glslVersion:s.glslVersion,precision:g,batching:F,batchingColor:F&&null!==_._colorsTexture,instancing:k,instancingColor:k&&null!==_.instanceColor,instancingMorph:k&&null!==_.morphTexture,supportsVertexTextures:m,outputColorSpace:null===L?t.outputColorSpace:!0===L.isXRRenderTarget?L.texture.colorSpace:q,alphaToCoverage:!!s.alphaToCoverage,map:N,matcap:B,envMap:U,envMapMode:U&&S.mapping,envMapCubeUVHeight:T,aoMap:G,lightMap:z,bumpMap:H,normalMap:j,displacementMap:m&&V,emissiveMap:X,normalMapObjectSpace:j&&1===s.normalMapType,normalMapTangentSpace:j&&0===s.normalMapType,metalnessMap:W,roughnessMap:Y,anisotropy:$,anisotropyMap:nt,clearcoat:Z,clearcoatMap:rt,clearcoatNormalMap:it,clearcoatRoughnessMap:ot,dispersion:J,iridescence:Q,iridescenceMap:st,iridescenceThicknessMap:at,sheen:tt,sheenColorMap:lt,sheenRoughnessMap:ct,specularMap:ut,specularColorMap:ht,specularIntensityMap:pt,transmission:et,transmissionMap:dt,thicknessMap:ft,gradientMap:mt,opaque:!1===s.transparent&&1===s.blending&&!1===s.alphaToCoverage,alphaMap:gt,alphaTest:vt,alphaHash:yt,combine:s.combine,mapUv:N&&y(s.map.channel),aoMapUv:G&&y(s.aoMap.channel),lightMapUv:z&&y(s.lightMap.channel),bumpMapUv:H&&y(s.bumpMap.channel),normalMapUv:j&&y(s.normalMap.channel),displacementMapUv:V&&y(s.displacementMap.channel),emissiveMapUv:X&&y(s.emissiveMap.channel),metalnessMapUv:W&&y(s.metalnessMap.channel),roughnessMapUv:Y&&y(s.roughnessMap.channel),anisotropyMapUv:nt&&y(s.anisotropyMap.channel),clearcoatMapUv:rt&&y(s.clearcoatMap.channel),clearcoatNormalMapUv:it&&y(s.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ot&&y(s.clearcoatRoughnessMap.channel),iridescenceMapUv:st&&y(s.iridescenceMap.channel),iridescenceThicknessMapUv:at&&y(s.iridescenceThicknessMap.channel),sheenColorMapUv:lt&&y(s.sheenColorMap.channel),sheenRoughnessMapUv:ct&&y(s.sheenRoughnessMap.channel),specularMapUv:ut&&y(s.specularMap.channel),specularColorMapUv:ht&&y(s.specularColorMap.channel),specularIntensityMapUv:pt&&y(s.specularIntensityMap.channel),transmissionMapUv:dt&&y(s.transmissionMap.channel),thicknessMapUv:ft&&y(s.thicknessMap.channel),alphaMapUv:gt&&y(s.alphaMap.channel),vertexTangents:!!w.attributes.tangent&&(j||$),vertexColors:s.vertexColors,vertexAlphas:!0===s.vertexColors&&!!w.attributes.color&&4===w.attributes.color.itemSize,pointsUvs:!0===_.isPoints&&!!w.attributes.uv&&(N||gt),fog:!!x,useFog:!0===s.fog,fogExp2:!!x&&x.isFogExp2,flatShading:!0===s.flatShading,sizeAttenuation:!0===s.sizeAttenuation,logarithmicDepthBuffer:d,reverseDepthBuffer:f,skinning:!0===_.isSkinnedMesh,morphTargets:void 0!==w.morphAttributes.position,morphNormals:void 0!==w.morphAttributes.normal,morphColors:void 0!==w.morphAttributes.color,morphTargetsCount:C,morphTextureStride:I,numDirLights:c.directional.length,numPointLights:c.point.length,numSpotLights:c.spot.length,numSpotLightMaps:c.spotLightMap.length,numRectAreaLights:c.rectArea.length,numHemiLights:c.hemi.length,numDirLightShadows:c.directionalShadowMap.length,numPointLightShadows:c.pointShadowMap.length,numSpotLightShadows:c.spotShadowMap.length,numSpotLightShadowsWithMaps:c.numSpotLightShadowsWithMaps,numLightProbes:c.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:s.dithering,shadowMapEnabled:t.shadowMap.enabled&&p.length>0,shadowMapType:t.shadowMap.type,toneMapping:_t,decodeVideoTexture:N&&!0===s.map.isVideoTexture&&wt.getTransfer(s.map.colorSpace)===K,premultipliedAlpha:s.premultipliedAlpha,doubleSided:s.side===i,flipSided:1===s.side,useDepthPacking:s.depthPacking>=0,depthPacking:s.depthPacking||0,index0AttributeName:s.index0AttributeName,extensionClipCullDistance:bt&&!0===s.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(bt&&!0===s.extensions.multiDraw||F)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:s.customProgramCacheKey()};return xt.vertexUv1s=h.has(1),xt.vertexUv2s=h.has(2),xt.vertexUv3s=h.has(3),h.clear(),xt},getProgramCacheKey:function(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.customVertexShaderID),n.push(e.customFragmentShaderID)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);return!1===e.isRawShaderMaterial&&(!function(t,e){t.push(e.precision),t.push(e.outputColorSpace),t.push(e.envMapMode),t.push(e.envMapCubeUVHeight),t.push(e.mapUv),t.push(e.alphaMapUv),t.push(e.lightMapUv),t.push(e.aoMapUv),t.push(e.bumpMapUv),t.push(e.normalMapUv),t.push(e.displacementMapUv),t.push(e.emissiveMapUv),t.push(e.metalnessMapUv),t.push(e.roughnessMapUv),t.push(e.anisotropyMapUv),t.push(e.clearcoatMapUv),t.push(e.clearcoatNormalMapUv),t.push(e.clearcoatRoughnessMapUv),t.push(e.iridescenceMapUv),t.push(e.iridescenceThicknessMapUv),t.push(e.sheenColorMapUv),t.push(e.sheenRoughnessMapUv),t.push(e.specularMapUv),t.push(e.specularColorMapUv),t.push(e.specularIntensityMapUv),t.push(e.transmissionMapUv),t.push(e.thicknessMapUv),t.push(e.combine),t.push(e.fogExp2),t.push(e.sizeAttenuation),t.push(e.morphTargetsCount),t.push(e.morphAttributeCount),t.push(e.numDirLights),t.push(e.numPointLights),t.push(e.numSpotLights),t.push(e.numSpotLightMaps),t.push(e.numHemiLights),t.push(e.numRectAreaLights),t.push(e.numDirLightShadows),t.push(e.numPointLightShadows),t.push(e.numSpotLightShadows),t.push(e.numSpotLightShadowsWithMaps),t.push(e.numLightProbes),t.push(e.shadowMapType),t.push(e.toneMapping),t.push(e.numClippingPlanes),t.push(e.numClipIntersection),t.push(e.depthPacking)}(n,e),function(t,e){c.disableAll(),e.supportsVertexTextures&&c.enable(0);e.instancing&&c.enable(1);e.instancingColor&&c.enable(2);e.instancingMorph&&c.enable(3);e.matcap&&c.enable(4);e.envMap&&c.enable(5);e.normalMapObjectSpace&&c.enable(6);e.normalMapTangentSpace&&c.enable(7);e.clearcoat&&c.enable(8);e.iridescence&&c.enable(9);e.alphaTest&&c.enable(10);e.vertexColors&&c.enable(11);e.vertexAlphas&&c.enable(12);e.vertexUv1s&&c.enable(13);e.vertexUv2s&&c.enable(14);e.vertexUv3s&&c.enable(15);e.vertexTangents&&c.enable(16);e.anisotropy&&c.enable(17);e.alphaHash&&c.enable(18);e.batching&&c.enable(19);e.dispersion&&c.enable(20);e.batchingColor&&c.enable(21);t.push(c.mask),c.disableAll(),e.fog&&c.enable(0);e.useFog&&c.enable(1);e.flatShading&&c.enable(2);e.logarithmicDepthBuffer&&c.enable(3);e.reverseDepthBuffer&&c.enable(4);e.skinning&&c.enable(5);e.morphTargets&&c.enable(6);e.morphNormals&&c.enable(7);e.morphColors&&c.enable(8);e.premultipliedAlpha&&c.enable(9);e.shadowMapEnabled&&c.enable(10);e.doubleSided&&c.enable(11);e.flipSided&&c.enable(12);e.useDepthPacking&&c.enable(13);e.dithering&&c.enable(14);e.transmission&&c.enable(15);e.sheen&&c.enable(16);e.opaque&&c.enable(17);e.pointsUvs&&c.enable(18);e.decodeVideoTexture&&c.enable(19);e.alphaToCoverage&&c.enable(20);t.push(c.mask)}(n,e),n.push(t.outputColorSpace)),n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){const e=v[t.type];let n;if(e){const t=ur[e];n=Hn.clone(t.uniforms)}else n=t.uniforms;return n},acquireProgram:function(e,n){let r;for(let t=0,e=p.length;t<e;t++){const e=p[t];if(e.cacheKey===n){r=e,++r.usedTimes;break}}return void 0===r&&(r=new mo(t,n,e,s),p.push(r)),r},releaseProgram:function(t){if(0==--t.usedTimes){const e=p.indexOf(t);p[e]=p[p.length-1],p.pop(),t.destroy()}},releaseShaderCache:function(t){u.remove(t)},programs:p,dispose:function(){u.dispose()}}}function _o(){let t=new WeakMap;return{has:function(e){return t.has(e)},get:function(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,r){t.get(e)[n]=r},dispose:function(){t=new WeakMap}}}function xo(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function wo(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Eo(){const t=[];let e=0;const n=[],r=[],i=[];function o(n,r,i,o,s,a){let l=t[e];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:o,renderOrder:n.renderOrder,z:s,group:a},t[e]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=s,l.group=a),e++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){e=0,n.length=0,r.length=0,i.length=0},push:function(t,e,s,a,l,c){const u=o(t,e,s,a,l,c);s.transmission>0?r.push(u):!0===s.transparent?i.push(u):n.push(u)},unshift:function(t,e,s,a,l,c){const u=o(t,e,s,a,l,c);s.transmission>0?r.unshift(u):!0===s.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=e,r=t.length;n<r;n++){const e=t[n];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.group=null}},sort:function(t,e){n.length>1&&n.sort(t||xo),r.length>1&&r.sort(e||wo),i.length>1&&i.sort(e||wo)}}}function So(){let t=new WeakMap;return{get:function(e,n){const r=t.get(e);let i;return void 0===r?(i=new Eo,t.set(e,[i])):n>=r.length?(i=new Eo,r.push(i)):i=r[n],i},dispose:function(){t=new WeakMap}}}function To(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Nt,color:new sn};break;case"SpotLight":n={position:new Nt,direction:new Nt,color:new sn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Nt,color:new sn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Nt,skyColor:new sn,groundColor:new sn};break;case"RectAreaLight":n={color:new sn,position:new Nt,halfWidth:new Nt,halfHeight:new Nt}}return t[e.id]=n,n}}}let Ao=0;function Mo(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Co(t){const e=new To,n=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ut};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ut,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let t=0;t<9;t++)r.probe.push(new Nt);const i=new Nt,o=new de,s=new de;return{setup:function(i){let o=0,s=0,a=0;for(let t=0;t<9;t++)r.probe[t].set(0,0,0);let l=0,c=0,u=0,h=0,p=0,d=0,f=0,m=0,g=0,v=0,y=0;i.sort(Mo);for(let t=0,b=i.length;t<b;t++){const b=i[t],_=b.color,x=b.intensity,w=b.distance,E=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)o+=_.r*x,s+=_.g*x,a+=_.b*x;else if(b.isLightProbe){for(let t=0;t<9;t++)r.probe[t].addScaledVector(b.sh.coefficients[t],x);y++}else if(b.isDirectionalLight){const t=e.get(b);if(t.color.copy(b.color).multiplyScalar(b.intensity),b.castShadow){const t=b.shadow,e=n.get(b);e.shadowIntensity=t.intensity,e.shadowBias=t.bias,e.shadowNormalBias=t.normalBias,e.shadowRadius=t.radius,e.shadowMapSize=t.mapSize,r.directionalShadow[l]=e,r.directionalShadowMap[l]=E,r.directionalShadowMatrix[l]=b.shadow.matrix,d++}r.directional[l]=t,l++}else if(b.isSpotLight){const t=e.get(b);t.position.setFromMatrixPosition(b.matrixWorld),t.color.copy(_).multiplyScalar(x),t.distance=w,t.coneCos=Math.cos(b.angle),t.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),t.decay=b.decay,r.spot[u]=t;const i=b.shadow;if(b.map&&(r.spotLightMap[g]=b.map,g++,i.updateMatrices(b),b.castShadow&&v++),r.spotLightMatrix[u]=i.matrix,b.castShadow){const t=n.get(b);t.shadowIntensity=i.intensity,t.shadowBias=i.bias,t.shadowNormalBias=i.normalBias,t.shadowRadius=i.radius,t.shadowMapSize=i.mapSize,r.spotShadow[u]=t,r.spotShadowMap[u]=E,m++}u++}else if(b.isRectAreaLight){const t=e.get(b);t.color.copy(_).multiplyScalar(x),t.halfWidth.set(.5*b.width,0,0),t.halfHeight.set(0,.5*b.height,0),r.rectArea[h]=t,h++}else if(b.isPointLight){const t=e.get(b);if(t.color.copy(b.color).multiplyScalar(b.intensity),t.distance=b.distance,t.decay=b.decay,b.castShadow){const t=b.shadow,e=n.get(b);e.shadowIntensity=t.intensity,e.shadowBias=t.bias,e.shadowNormalBias=t.normalBias,e.shadowRadius=t.radius,e.shadowMapSize=t.mapSize,e.shadowCameraNear=t.camera.near,e.shadowCameraFar=t.camera.far,r.pointShadow[c]=e,r.pointShadowMap[c]=E,r.pointShadowMatrix[c]=b.shadow.matrix,f++}r.point[c]=t,c++}else if(b.isHemisphereLight){const t=e.get(b);t.skyColor.copy(b.color).multiplyScalar(x),t.groundColor.copy(b.groundColor).multiplyScalar(x),r.hemi[p]=t,p++}}h>0&&(!0===t.has("OES_texture_float_linear")?(r.rectAreaLTC1=cr.LTC_FLOAT_1,r.rectAreaLTC2=cr.LTC_FLOAT_2):(r.rectAreaLTC1=cr.LTC_HALF_1,r.rectAreaLTC2=cr.LTC_HALF_2)),r.ambient[0]=o,r.ambient[1]=s,r.ambient[2]=a;const b=r.hash;b.directionalLength===l&&b.pointLength===c&&b.spotLength===u&&b.rectAreaLength===h&&b.hemiLength===p&&b.numDirectionalShadows===d&&b.numPointShadows===f&&b.numSpotShadows===m&&b.numSpotMaps===g&&b.numLightProbes===y||(r.directional.length=l,r.spot.length=u,r.rectArea.length=h,r.point.length=c,r.hemi.length=p,r.directionalShadow.length=d,r.directionalShadowMap.length=d,r.pointShadow.length=f,r.pointShadowMap.length=f,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=d,r.pointShadowMatrix.length=f,r.spotLightMatrix.length=m+g-v,r.spotLightMap.length=g,r.numSpotLightShadowsWithMaps=v,r.numLightProbes=y,b.directionalLength=l,b.pointLength=c,b.spotLength=u,b.rectAreaLength=h,b.hemiLength=p,b.numDirectionalShadows=d,b.numPointShadows=f,b.numSpotShadows=m,b.numSpotMaps=g,b.numLightProbes=y,r.version=Ao++)},setupView:function(t,e){let n=0,a=0,l=0,c=0,u=0;const h=e.matrixWorldInverse;for(let e=0,p=t.length;e<p;e++){const p=t[e];if(p.isDirectionalLight){const t=r.directional[n];t.direction.setFromMatrixPosition(p.matrixWorld),i.setFromMatrixPosition(p.target.matrixWorld),t.direction.sub(i),t.direction.transformDirection(h),n++}else if(p.isSpotLight){const t=r.spot[l];t.position.setFromMatrixPosition(p.matrixWorld),t.position.applyMatrix4(h),t.direction.setFromMatrixPosition(p.matrixWorld),i.setFromMatrixPosition(p.target.matrixWorld),t.direction.sub(i),t.direction.transformDirection(h),l++}else if(p.isRectAreaLight){const t=r.rectArea[c];t.position.setFromMatrixPosition(p.matrixWorld),t.position.applyMatrix4(h),s.identity(),o.copy(p.matrixWorld),o.premultiply(h),s.extractRotation(o),t.halfWidth.set(.5*p.width,0,0),t.halfHeight.set(0,.5*p.height,0),t.halfWidth.applyMatrix4(s),t.halfHeight.applyMatrix4(s),c++}else if(p.isPointLight){const t=r.point[a];t.position.setFromMatrixPosition(p.matrixWorld),t.position.applyMatrix4(h),a++}else if(p.isHemisphereLight){const t=r.hemi[u];t.direction.setFromMatrixPosition(p.matrixWorld),t.direction.transformDirection(h),u++}}},state:r}}function Po(t){const e=new Co(t),n=[],r=[];const i={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:function(t){i.camera=t,n.length=0,r.length=0},state:i,setupLights:function(){e.setup(n)},setupLightsView:function(t){e.setupView(n,t)},pushLight:function(t){n.push(t)},pushShadow:function(t){r.push(t)}}}function Do(t){let e=new WeakMap;return{get:function(n,r=0){const i=e.get(n);let o;return void 0===i?(o=new Po(t),e.set(n,[o])):r>=i.length?(o=new Po(t),i.push(o)):o=i[r],o},dispose:function(){e=new WeakMap}}}class Ro extends cn{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class Oo extends cn{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function Io(t,e,n){let s=new ir;const a=new ut,l=new ut,c=new Rt,u=new Ro({depthPacking:3201}),h=new Oo,p={},d=n.maxTextureSize,f={[r]:1,1:r,[i]:i},m=new jn({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ut},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),g=m.clone();g.defines.HORIZONTAL_PASS=1;const y=new Sn;y.setAttribute("position",new dn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new Fn(y,m),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let x=this.type;function w(n,r){const i=e.update(b);m.defines.VSM_SAMPLES!==n.blurSamples&&(m.defines.VSM_SAMPLES=n.blurSamples,g.defines.VSM_SAMPLES=n.blurSamples,m.needsUpdate=!0,g.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new It(a.x,a.y)),m.uniforms.shadow_pass.value=n.map.texture,m.uniforms.resolution.value=n.mapSize,m.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(r,null,i,m,b,null),g.uniforms.shadow_pass.value=n.mapPass.texture,g.uniforms.resolution.value=n.mapSize,g.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(r,null,i,g,b,null)}function E(e,n,r,i){let o=null;const s=!0===r.isPointLight?e.customDistanceMaterial:e.customDepthMaterial;if(void 0!==s)o=s;else if(o=!0===r.isPointLight?h:u,t.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const t=o.uuid,e=n.uuid;let r=p[t];void 0===r&&(r={},p[t]=r);let i=r[e];void 0===i&&(i=o.clone(),r[e]=i,n.addEventListener("dispose",T)),o=i}if(o.visible=n.visible,o.wireframe=n.wireframe,o.side=3===i?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:f[n.side],o.alphaMap=n.alphaMap,o.alphaTest=n.alphaTest,o.map=n.map,o.clipShadows=n.clipShadows,o.clippingPlanes=n.clippingPlanes,o.clipIntersection=n.clipIntersection,o.displacementMap=n.displacementMap,o.displacementScale=n.displacementScale,o.displacementBias=n.displacementBias,o.wireframeLinewidth=n.wireframeLinewidth,o.linewidth=n.linewidth,!0===r.isPointLight&&!0===o.isMeshDistanceMaterial){t.properties.get(o).light=r}return o}function S(n,r,i,o,a){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===a)&&(!n.frustumCulled||s.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,n.matrixWorld);const s=e.update(n),l=n.material;if(Array.isArray(l)){const e=s.groups;for(let c=0,u=e.length;c<u;c++){const u=e[c],h=l[u.materialIndex];if(h&&h.visible){const e=E(n,h,o,a);n.onBeforeShadow(t,n,r,i,s,e,u),t.renderBufferDirect(i,null,s,e,n,u),n.onAfterShadow(t,n,r,i,s,e,u)}}}else if(l.visible){const e=E(n,l,o,a);n.onBeforeShadow(t,n,r,i,s,e,null),t.renderBufferDirect(i,null,s,e,n,null),n.onAfterShadow(t,n,r,i,s,e,null)}}const l=n.children;for(let t=0,e=l.length;t<e;t++)S(l[t],r,i,o,a)}function T(t){t.target.removeEventListener("dispose",T);for(const e in p){const n=p[e],r=t.target.uuid;if(r in n){n[r].dispose(),delete n[r]}}}this.render=function(e,n,r){if(!1===_.enabled)return;if(!1===_.autoUpdate&&!1===_.needsUpdate)return;if(0===e.length)return;const i=t.getRenderTarget(),u=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),p=t.state;p.setBlending(o),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);const f=3!==x&&3===this.type,m=3===x&&3!==this.type;for(let i=0,o=e.length;i<o;i++){const o=e[i],u=o.shadow;if(void 0===u){console.warn("THREE.WebGLShadowMap:",o,"has no shadow.");continue}if(!1===u.autoUpdate&&!1===u.needsUpdate)continue;a.copy(u.mapSize);const h=u.getFrameExtents();if(a.multiply(h),l.copy(u.mapSize),(a.x>d||a.y>d)&&(a.x>d&&(l.x=Math.floor(d/h.x),a.x=l.x*h.x,u.mapSize.x=l.x),a.y>d&&(l.y=Math.floor(d/h.y),a.y=l.y*h.y,u.mapSize.y=l.y)),null===u.map||!0===f||!0===m){const t=3!==this.type?{minFilter:v,magFilter:v}:{};null!==u.map&&u.map.dispose(),u.map=new It(a.x,a.y,t),u.map.texture.name=o.name+".shadowMap",u.camera.updateProjectionMatrix()}t.setRenderTarget(u.map),t.clear();const g=u.getViewportCount();for(let t=0;t<g;t++){const e=u.getViewport(t);c.set(l.x*e.x,l.y*e.y,l.x*e.z,l.y*e.w),p.viewport(c),u.updateMatrices(o,t),s=u.getFrustum(),S(n,r,u.camera,o,this.type)}!0!==u.isPointLightShadow&&3===this.type&&w(u,r),u.needsUpdate=!1}x=this.type,_.needsUpdate=!1,t.setRenderTarget(i,u,h)}}const Lo={0:1,2:6,4:7,3:5,1:0,6:2,7:4,5:3};function ko(t){const e=new function(){let e=!1;const n=new Rt;let r=null;const i=new Rt(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,o,s,a){!0===a&&(e*=s,r*=s,o*=s),n.set(e,r,o,s),!1===i.equals(n)&&(t.clearColor(e,r,o,s),i.copy(n))},reset:function(){e=!1,r=null,i.set(-1,0,0,0)}}},n=new function(){let e=!1,n=!1,r=null,i=null,o=null;return{setReversed:function(t){n=t},setTest:function(e){e?H(t.DEPTH_TEST):j(t.DEPTH_TEST)},setMask:function(n){r===n||e||(t.depthMask(n),r=n)},setFunc:function(e){if(n&&(e=Lo[e]),i!==e){switch(e){case 0:t.depthFunc(t.NEVER);break;case 1:t.depthFunc(t.ALWAYS);break;case 2:t.depthFunc(t.LESS);break;case 3:t.depthFunc(t.LEQUAL);break;case 4:t.depthFunc(t.EQUAL);break;case 5:t.depthFunc(t.GEQUAL);break;case 6:t.depthFunc(t.GREATER);break;case 7:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}i=e}},setLocked:function(t){e=t},setClear:function(e){o!==e&&(t.clearDepth(e),o=e)},reset:function(){e=!1,r=null,i=null,o=null}}},r=new function(){let e=!1,n=null,r=null,i=null,o=null,s=null,a=null,l=null,c=null;return{setTest:function(n){e||(n?H(t.STENCIL_TEST):j(t.STENCIL_TEST))},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,s){r===e&&i===n&&o===s||(t.stencilFunc(e,n,s),r=e,i=n,o=s)},setOp:function(e,n,r){s===e&&a===n&&l===r||(t.stencilOp(e,n,r),s=e,a=n,l=r)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,r=null,i=null,o=null,s=null,a=null,l=null,c=null}}},a=new WeakMap,l=new WeakMap;let c={},u={},h=new WeakMap,p=[],d=null,f=!1,m=null,g=null,v=null,y=null,b=null,_=null,x=null,w=new sn(0,0,0),E=0,S=!1,T=null,A=null,M=null,C=null,P=null;const D=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let R=!1,O=0;const I=t.getParameter(t.VERSION);-1!==I.indexOf("WebGL")?(O=parseFloat(/^WebGL (\d)/.exec(I)[1]),R=O>=1):-1!==I.indexOf("OpenGL ES")&&(O=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),R=O>=2);let L=null,k={};const F=t.getParameter(t.SCISSOR_BOX),N=t.getParameter(t.VIEWPORT),B=(new Rt).fromArray(F),U=(new Rt).fromArray(N);function G(e,n,r,i){const o=new Uint8Array(4),s=t.createTexture();t.bindTexture(e,s),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let s=0;s<r;s++)e===t.TEXTURE_3D||e===t.TEXTURE_2D_ARRAY?t.texImage3D(n,0,t.RGBA,1,1,i,0,t.RGBA,t.UNSIGNED_BYTE,o):t.texImage2D(n+s,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,o);return s}const z={};function H(e){!0!==c[e]&&(t.enable(e),c[e]=!0)}function j(e){!1!==c[e]&&(t.disable(e),c[e]=!1)}z[t.TEXTURE_2D]=G(t.TEXTURE_2D,t.TEXTURE_2D,1),z[t.TEXTURE_CUBE_MAP]=G(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),z[t.TEXTURE_2D_ARRAY]=G(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),z[t.TEXTURE_3D]=G(t.TEXTURE_3D,t.TEXTURE_3D,1,1),e.setClear(0,0,0,1),n.setClear(1),r.setClear(0),H(t.DEPTH_TEST),n.setFunc(3),q(!1),Y(1),H(t.CULL_FACE),W(o);const V={100:t.FUNC_ADD,101:t.FUNC_SUBTRACT,102:t.FUNC_REVERSE_SUBTRACT};V[103]=t.MIN,V[104]=t.MAX;const X={200:t.ZERO,201:t.ONE,202:t.SRC_COLOR,204:t.SRC_ALPHA,210:t.SRC_ALPHA_SATURATE,208:t.DST_COLOR,206:t.DST_ALPHA,203:t.ONE_MINUS_SRC_COLOR,205:t.ONE_MINUS_SRC_ALPHA,209:t.ONE_MINUS_DST_COLOR,207:t.ONE_MINUS_DST_ALPHA,211:t.CONSTANT_COLOR,212:t.ONE_MINUS_CONSTANT_COLOR,213:t.CONSTANT_ALPHA,214:t.ONE_MINUS_CONSTANT_ALPHA};function W(e,n,r,i,a,l,c,u,h,p){if(e!==o){if(!1===f&&(H(t.BLEND),f=!0),5===e)a=a||n,l=l||r,c=c||i,n===g&&a===b||(t.blendEquationSeparate(V[n],V[a]),g=n,b=a),r===v&&i===y&&l===_&&c===x||(t.blendFuncSeparate(X[r],X[i],X[l],X[c]),v=r,y=i,_=l,x=c),!1!==u.equals(w)&&h===E||(t.blendColor(u.r,u.g,u.b,h),w.copy(u),E=h),m=e,S=!1;else if(e!==m||p!==S){if(100===g&&100===b||(t.blendEquation(t.FUNC_ADD),g=100,b=100),p)switch(e){case 1:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case s:t.blendFunc(t.ONE,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case 4:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case s:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case 4:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}v=null,y=null,_=null,x=null,w.set(0,0,0),E=0,m=e,S=p}}else!0===f&&(j(t.BLEND),f=!1)}function q(e){T!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),T=e)}function Y(e){0!==e?(H(t.CULL_FACE),e!==A&&(1===e?t.cullFace(t.BACK):2===e?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):j(t.CULL_FACE),A=e}function $(e,n,r){e?(H(t.POLYGON_OFFSET_FILL),C===n&&P===r||(t.polygonOffset(n,r),C=n,P=r)):j(t.POLYGON_OFFSET_FILL)}return{buffers:{color:e,depth:n,stencil:r},enable:H,disable:j,bindFramebuffer:function(e,n){return u[e]!==n&&(t.bindFramebuffer(e,n),u[e]=n,e===t.DRAW_FRAMEBUFFER&&(u[t.FRAMEBUFFER]=n),e===t.FRAMEBUFFER&&(u[t.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(e,n){let r=p,i=!1;if(e){r=h.get(n),void 0===r&&(r=[],h.set(n,r));const o=e.textures;if(r.length!==o.length||r[0]!==t.COLOR_ATTACHMENT0){for(let e=0,n=o.length;e<n;e++)r[e]=t.COLOR_ATTACHMENT0+e;r.length=o.length,i=!0}}else r[0]!==t.BACK&&(r[0]=t.BACK,i=!0);i&&t.drawBuffers(r)},useProgram:function(e){return d!==e&&(t.useProgram(e),d=e,!0)},setBlending:W,setMaterial:function(s,a){s.side===i?j(t.CULL_FACE):H(t.CULL_FACE);let l=1===s.side;a&&(l=!l),q(l),1===s.blending&&!1===s.transparent?W(o):W(s.blending,s.blendEquation,s.blendSrc,s.blendDst,s.blendEquationAlpha,s.blendSrcAlpha,s.blendDstAlpha,s.blendColor,s.blendAlpha,s.premultipliedAlpha),n.setFunc(s.depthFunc),n.setTest(s.depthTest),n.setMask(s.depthWrite),e.setMask(s.colorWrite);const c=s.stencilWrite;r.setTest(c),c&&(r.setMask(s.stencilWriteMask),r.setFunc(s.stencilFunc,s.stencilRef,s.stencilFuncMask),r.setOp(s.stencilFail,s.stencilZFail,s.stencilZPass)),$(s.polygonOffset,s.polygonOffsetFactor,s.polygonOffsetUnits),!0===s.alphaToCoverage?H(t.SAMPLE_ALPHA_TO_COVERAGE):j(t.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:q,setCullFace:Y,setLineWidth:function(e){e!==M&&(R&&t.lineWidth(e),M=e)},setPolygonOffset:$,setScissorTest:function(e){e?H(t.SCISSOR_TEST):j(t.SCISSOR_TEST)},activeTexture:function(e){void 0===e&&(e=t.TEXTURE0+D-1),L!==e&&(t.activeTexture(e),L=e)},bindTexture:function(e,n,r){void 0===r&&(r=null===L?t.TEXTURE0+D-1:L);let i=k[r];void 0===i&&(i={type:void 0,texture:void 0},k[r]=i),i.type===e&&i.texture===n||(L!==r&&(t.activeTexture(r),L=r),t.bindTexture(e,n||z[e]),i.type=e,i.texture=n)},unbindTexture:function(){const e=k[L];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{t.compressedTexImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(e,n){let r=l.get(n);void 0===r&&(r=new WeakMap,l.set(n,r));let i=r.get(e);void 0===i&&(i=t.getUniformBlockIndex(n,e.name),r.set(e,i))},uniformBlockBinding:function(e,n){const r=l.get(n).get(e);a.get(n)!==r&&(t.uniformBlockBinding(n,r,e.__bindingPointIndex),a.set(n,r))},texStorage2D:function(){try{t.texStorage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{t.texStorage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{t.texSubImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{t.texSubImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===B.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),B.copy(e))},viewport:function(e){!1===U.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),U.copy(e))},reset:function(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},L=null,k={},u={},h=new WeakMap,p=[],d=null,f=!1,m=null,g=null,v=null,y=null,b=null,_=null,x=null,w=new sn(0,0,0),E=0,S=!1,T=null,A=null,M=null,C=null,P=null,B.set(0,0,t.canvas.width,t.canvas.height),U.set(0,0,t.canvas.width,t.canvas.height),e.reset(),n.reset(),r.reset()}}}function Fo(t,e,n,r){const i=function(t){switch(t){case E:case 1010:return{byteLength:1,components:1};case 1012:case 1011:case T:return{byteLength:2,components:1};case 1017:case 1018:return{byteLength:2,components:4};case 1014:case 1013:case S:return{byteLength:4,components:1};case 35902:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}(r);switch(n){case 1021:case 1024:return t*e;case 1025:return t*e*2;case C:case 1029:return t*e/i.components*i.byteLength;case P:case 1031:return t*e*2/i.components*i.byteLength;case A:return t*e*3/i.components*i.byteLength;case M:case 1033:return t*e*4/i.components*i.byteLength;case 33776:case D:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case 33778:case R:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case 35841:case 35843:return Math.max(t,16)*Math.max(e,8)/4;case O:case I:return Math.max(t,8)*Math.max(e,8)/2;case L:case k:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case F:case N:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case 37809:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case 37810:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case 37811:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case B:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case 37813:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case 37814:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case 37815:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case 37816:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case 37817:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case 37818:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case 37819:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case 37820:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case 37821:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case U:case 36494:case 36495:return Math.ceil(t/4)*Math.ceil(e/4)*16;case 36283:case 36284:return Math.ceil(t/4)*Math.ceil(e/4)*8;case 36285:case 36286:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function No(t,e,n,r,i,o,s){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new ut,u=new WeakMap;let h;const p=new WeakMap;let d=!1;try{d="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function T(t,e){return d?new OffscreenCanvas(t,e):ft("canvas")}function A(t,e,n){let r=1;const i=et(t);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof VideoFrame&&t instanceof VideoFrame){const n=Math.floor(r*i.width),o=Math.floor(r*i.height);void 0===h&&(h=T(n,o));const s=e?T(n,o):h;s.width=n,s.height=o;return s.getContext("2d").drawImage(t,0,0,n,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+i.width+"x"+i.height+") to ("+n+"x"+o+")."),s}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+i.width+"x"+i.height+")."),t}return t}function C(t){return t.generateMipmaps&&t.minFilter!==v&&t.minFilter!==_}function P(e){t.generateMipmap(e)}function D(n,r,i,o,s=!1){if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let a=r;if(r===t.RED&&(i===t.FLOAT&&(a=t.R32F),i===t.HALF_FLOAT&&(a=t.R16F),i===t.UNSIGNED_BYTE&&(a=t.R8)),r===t.RED_INTEGER&&(i===t.UNSIGNED_BYTE&&(a=t.R8UI),i===t.UNSIGNED_SHORT&&(a=t.R16UI),i===t.UNSIGNED_INT&&(a=t.R32UI),i===t.BYTE&&(a=t.R8I),i===t.SHORT&&(a=t.R16I),i===t.INT&&(a=t.R32I)),r===t.RG&&(i===t.FLOAT&&(a=t.RG32F),i===t.HALF_FLOAT&&(a=t.RG16F),i===t.UNSIGNED_BYTE&&(a=t.RG8)),r===t.RG_INTEGER&&(i===t.UNSIGNED_BYTE&&(a=t.RG8UI),i===t.UNSIGNED_SHORT&&(a=t.RG16UI),i===t.UNSIGNED_INT&&(a=t.RG32UI),i===t.BYTE&&(a=t.RG8I),i===t.SHORT&&(a=t.RG16I),i===t.INT&&(a=t.RG32I)),r===t.RGB_INTEGER&&(i===t.UNSIGNED_BYTE&&(a=t.RGB8UI),i===t.UNSIGNED_SHORT&&(a=t.RGB16UI),i===t.UNSIGNED_INT&&(a=t.RGB32UI),i===t.BYTE&&(a=t.RGB8I),i===t.SHORT&&(a=t.RGB16I),i===t.INT&&(a=t.RGB32I)),r===t.RGBA_INTEGER&&(i===t.UNSIGNED_BYTE&&(a=t.RGBA8UI),i===t.UNSIGNED_SHORT&&(a=t.RGBA16UI),i===t.UNSIGNED_INT&&(a=t.RGBA32UI),i===t.BYTE&&(a=t.RGBA8I),i===t.SHORT&&(a=t.RGBA16I),i===t.INT&&(a=t.RGBA32I)),r===t.RGB&&i===t.UNSIGNED_INT_5_9_9_9_REV&&(a=t.RGB9_E5),r===t.RGBA){const e=s?"linear":wt.getTransfer(o);i===t.FLOAT&&(a=t.RGBA32F),i===t.HALF_FLOAT&&(a=t.RGBA16F),i===t.UNSIGNED_BYTE&&(a=e===K?t.SRGB8_ALPHA8:t.RGBA8),i===t.UNSIGNED_SHORT_4_4_4_4&&(a=t.RGBA4),i===t.UNSIGNED_SHORT_5_5_5_1&&(a=t.RGB5_A1)}return a!==t.R16F&&a!==t.R32F&&a!==t.RG16F&&a!==t.RG32F&&a!==t.RGBA16F&&a!==t.RGBA32F||e.get("EXT_color_buffer_float"),a}function R(e,n){let r;return e?null===n||1014===n||1020===n?r=t.DEPTH24_STENCIL8:n===S?r=t.DEPTH32F_STENCIL8:1012===n&&(r=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||1014===n||1020===n?r=t.DEPTH_COMPONENT24:n===S?r=t.DEPTH_COMPONENT32F:1012===n&&(r=t.DEPTH_COMPONENT16),r}function O(t,e){return!0===C(t)||t.isFramebufferTexture&&t.minFilter!==v&&t.minFilter!==_?Math.log2(Math.max(e.width,e.height))+1:void 0!==t.mipmaps&&t.mipmaps.length>0?t.mipmaps.length:t.isCompressedTexture&&Array.isArray(t.image)?e.mipmaps.length:1}function I(t){const e=t.target;e.removeEventListener("dispose",I),function(t){const e=r.get(t);if(void 0===e.__webglInit)return;const n=t.source,i=p.get(n);if(i){const r=i[e.__cacheKey];r.usedTimes--,0===r.usedTimes&&k(t),0===Object.keys(i).length&&p.delete(n)}r.remove(t)}(e),e.isVideoTexture&&u.delete(e)}function L(e){const n=e.target;n.removeEventListener("dispose",L),function(e){const n=r.get(e);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLCubeRenderTarget)for(let e=0;e<6;e++){if(Array.isArray(n.__webglFramebuffer[e]))for(let r=0;r<n.__webglFramebuffer[e].length;r++)t.deleteFramebuffer(n.__webglFramebuffer[e][r]);else t.deleteFramebuffer(n.__webglFramebuffer[e]);n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[e])}else{if(Array.isArray(n.__webglFramebuffer))for(let e=0;e<n.__webglFramebuffer.length;e++)t.deleteFramebuffer(n.__webglFramebuffer[e]);else t.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let e=0;e<n.__webglColorRenderbuffer.length;e++)n.__webglColorRenderbuffer[e]&&t.deleteRenderbuffer(n.__webglColorRenderbuffer[e]);n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const i=e.textures;for(let e=0,n=i.length;e<n;e++){const n=r.get(i[e]);n.__webglTexture&&(t.deleteTexture(n.__webglTexture),s.memory.textures--),r.remove(i[e])}r.remove(e)}(n)}function k(e){const n=r.get(e);t.deleteTexture(n.__webglTexture);const i=e.source;delete p.get(i)[n.__cacheKey],s.memory.textures--}let F=0;function N(e,i){const o=r.get(e);if(e.isVideoTexture&&function(t){const e=s.render.frame;u.get(t)!==e&&(u.set(t,e),t.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&o.__version!==e.version){const t=e.image;if(null===t)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==t.complete)return void j(o,e,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(t.TEXTURE_2D,o.__webglTexture,t.TEXTURE0+i)}const B={[f]:t.REPEAT,[m]:t.CLAMP_TO_EDGE,[g]:t.MIRRORED_REPEAT},U={[v]:t.NEAREST,[y]:t.NEAREST_MIPMAP_NEAREST,[b]:t.NEAREST_MIPMAP_LINEAR,[_]:t.LINEAR,[x]:t.LINEAR_MIPMAP_NEAREST,[w]:t.LINEAR_MIPMAP_LINEAR},G={512:t.NEVER,519:t.ALWAYS,513:t.LESS,515:t.LEQUAL,514:t.EQUAL,518:t.GEQUAL,516:t.GREATER,517:t.NOTEQUAL};function z(n,o){if(o.type!==S||!1!==e.has("OES_texture_float_linear")||o.magFilter!==_&&o.magFilter!==x&&o.magFilter!==b&&o.magFilter!==w&&o.minFilter!==_&&o.minFilter!==x&&o.minFilter!==b&&o.minFilter!==w||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(n,t.TEXTURE_WRAP_S,B[o.wrapS]),t.texParameteri(n,t.TEXTURE_WRAP_T,B[o.wrapT]),n!==t.TEXTURE_3D&&n!==t.TEXTURE_2D_ARRAY||t.texParameteri(n,t.TEXTURE_WRAP_R,B[o.wrapR]),t.texParameteri(n,t.TEXTURE_MAG_FILTER,U[o.magFilter]),t.texParameteri(n,t.TEXTURE_MIN_FILTER,U[o.minFilter]),o.compareFunction&&(t.texParameteri(n,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(n,t.TEXTURE_COMPARE_FUNC,G[o.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){if(o.magFilter===v)return;if(o.minFilter!==b&&o.minFilter!==w)return;if(o.type===S&&!1===e.has("OES_texture_float_linear"))return;if(o.anisotropy>1||r.get(o).__currentAnisotropy){const s=e.get("EXT_texture_filter_anisotropic");t.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy}}}function H(e,n){let r=!1;void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",I));const i=n.source;let o=p.get(i);void 0===o&&(o={},p.set(i,o));const a=function(t){const e=[];return e.push(t.wrapS),e.push(t.wrapT),e.push(t.wrapR||0),e.push(t.magFilter),e.push(t.minFilter),e.push(t.anisotropy),e.push(t.internalFormat),e.push(t.format),e.push(t.type),e.push(t.generateMipmaps),e.push(t.premultiplyAlpha),e.push(t.flipY),e.push(t.unpackAlignment),e.push(t.colorSpace),e.join()}(n);if(a!==e.__cacheKey){void 0===o[a]&&(o[a]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,r=!0),o[a].usedTimes++;const i=o[e.__cacheKey];void 0!==i&&(o[e.__cacheKey].usedTimes--,0===i.usedTimes&&k(n)),e.__cacheKey=a,e.__webglTexture=o[a].texture}return r}function j(e,s,a){let l=t.TEXTURE_2D;(s.isDataArrayTexture||s.isCompressedArrayTexture)&&(l=t.TEXTURE_2D_ARRAY),s.isData3DTexture&&(l=t.TEXTURE_3D);const c=H(e,s),u=s.source;n.bindTexture(l,e.__webglTexture,t.TEXTURE0+a);const h=r.get(u);if(u.version!==h.__version||!0===c){n.activeTexture(t.TEXTURE0+a);const e=wt.getPrimaries(wt.workingColorSpace),r=s.colorSpace===X?null:wt.getPrimaries(s.colorSpace),p=s.colorSpace===X||e===r?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,s.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,s.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,p);let d=A(s.image,!1,i.maxTextureSize);d=tt(s,d);const f=o.convert(s.format,s.colorSpace),m=o.convert(s.type);let g,v=D(s.internalFormat,f,m,s.colorSpace,s.isVideoTexture);z(l,s);const y=s.mipmaps,b=!0!==s.isVideoTexture,_=void 0===h.__version||!0===c,x=u.dataReady,w=O(s,d);if(s.isDepthTexture)v=R(1027===s.format,s.type),_&&(b?n.texStorage2D(t.TEXTURE_2D,1,v,d.width,d.height):n.texImage2D(t.TEXTURE_2D,0,v,d.width,d.height,0,f,m,null));else if(s.isDataTexture)if(y.length>0){b&&_&&n.texStorage2D(t.TEXTURE_2D,w,v,y[0].width,y[0].height);for(let e=0,r=y.length;e<r;e++)g=y[e],b?x&&n.texSubImage2D(t.TEXTURE_2D,e,0,0,g.width,g.height,f,m,g.data):n.texImage2D(t.TEXTURE_2D,e,v,g.width,g.height,0,f,m,g.data);s.generateMipmaps=!1}else b?(_&&n.texStorage2D(t.TEXTURE_2D,w,v,d.width,d.height),x&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,d.width,d.height,f,m,d.data)):n.texImage2D(t.TEXTURE_2D,0,v,d.width,d.height,0,f,m,d.data);else if(s.isCompressedTexture)if(s.isCompressedArrayTexture){b&&_&&n.texStorage3D(t.TEXTURE_2D_ARRAY,w,v,y[0].width,y[0].height,d.depth);for(let e=0,r=y.length;e<r;e++)if(g=y[e],s.format!==M)if(null!==f)if(b){if(x)if(s.layerUpdates.size>0){const r=Fo(g.width,g.height,s.format,s.type);for(const i of s.layerUpdates){const o=g.data.subarray(i*r/g.data.BYTES_PER_ELEMENT,(i+1)*r/g.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,i,g.width,g.height,1,f,o,0,0)}s.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,0,g.width,g.height,d.depth,f,g.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,e,v,g.width,g.height,d.depth,0,g.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else b?x&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,0,g.width,g.height,d.depth,f,m,g.data):n.texImage3D(t.TEXTURE_2D_ARRAY,e,v,g.width,g.height,d.depth,0,f,m,g.data)}else{b&&_&&n.texStorage2D(t.TEXTURE_2D,w,v,y[0].width,y[0].height);for(let e=0,r=y.length;e<r;e++)g=y[e],s.format!==M?null!==f?b?x&&n.compressedTexSubImage2D(t.TEXTURE_2D,e,0,0,g.width,g.height,f,g.data):n.compressedTexImage2D(t.TEXTURE_2D,e,v,g.width,g.height,0,g.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):b?x&&n.texSubImage2D(t.TEXTURE_2D,e,0,0,g.width,g.height,f,m,g.data):n.texImage2D(t.TEXTURE_2D,e,v,g.width,g.height,0,f,m,g.data)}else if(s.isDataArrayTexture)if(b){if(_&&n.texStorage3D(t.TEXTURE_2D_ARRAY,w,v,d.width,d.height,d.depth),x)if(s.layerUpdates.size>0){const e=Fo(d.width,d.height,s.format,s.type);for(const r of s.layerUpdates){const i=d.data.subarray(r*e/d.data.BYTES_PER_ELEMENT,(r+1)*e/d.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,r,d.width,d.height,1,f,m,i)}s.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,d.width,d.height,d.depth,f,m,d.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,v,d.width,d.height,d.depth,0,f,m,d.data);else if(s.isData3DTexture)b?(_&&n.texStorage3D(t.TEXTURE_3D,w,v,d.width,d.height,d.depth),x&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,d.width,d.height,d.depth,f,m,d.data)):n.texImage3D(t.TEXTURE_3D,0,v,d.width,d.height,d.depth,0,f,m,d.data);else if(s.isFramebufferTexture){if(_)if(b)n.texStorage2D(t.TEXTURE_2D,w,v,d.width,d.height);else{let e=d.width,r=d.height;for(let i=0;i<w;i++)n.texImage2D(t.TEXTURE_2D,i,v,e,r,0,f,m,null),e>>=1,r>>=1}}else if(y.length>0){if(b&&_){const e=et(y[0]);n.texStorage2D(t.TEXTURE_2D,w,v,e.width,e.height)}for(let e=0,r=y.length;e<r;e++)g=y[e],b?x&&n.texSubImage2D(t.TEXTURE_2D,e,0,0,f,m,g):n.texImage2D(t.TEXTURE_2D,e,v,f,m,g);s.generateMipmaps=!1}else if(b){if(_){const e=et(d);n.texStorage2D(t.TEXTURE_2D,w,v,e.width,e.height)}x&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,f,m,d)}else n.texImage2D(t.TEXTURE_2D,0,v,f,m,d);C(s)&&P(l),h.__version=u.version,s.onUpdate&&s.onUpdate(s)}e.__version=s.version}function V(e,i,s,l,c,u){const h=o.convert(s.format,s.colorSpace),p=o.convert(s.type),d=D(s.internalFormat,h,p,s.colorSpace);if(!r.get(i).__hasExternalTextures){const e=Math.max(1,i.width>>u),r=Math.max(1,i.height>>u);c===t.TEXTURE_3D||c===t.TEXTURE_2D_ARRAY?n.texImage3D(c,u,d,e,r,i.depth,0,h,p,null):n.texImage2D(c,u,d,e,r,0,h,p,null)}n.bindFramebuffer(t.FRAMEBUFFER,e),Q(i)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,l,c,r.get(s).__webglTexture,0,J(i)):(c===t.TEXTURE_2D||c>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,l,c,r.get(s).__webglTexture,u),n.bindFramebuffer(t.FRAMEBUFFER,null)}function W(e,n,r){if(t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer){const i=n.depthTexture,o=i&&i.isDepthTexture?i.type:null,s=R(n.stencilBuffer,o),l=n.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,c=J(n);Q(n)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,c,s,n.width,n.height):r?t.renderbufferStorageMultisample(t.RENDERBUFFER,c,s,n.width,n.height):t.renderbufferStorage(t.RENDERBUFFER,s,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,l,t.RENDERBUFFER,e)}else{const e=n.textures;for(let i=0;i<e.length;i++){const s=e[i],l=o.convert(s.format,s.colorSpace),c=o.convert(s.type),u=D(s.internalFormat,l,c,s.colorSpace),h=J(n);r&&!1===Q(n)?t.renderbufferStorageMultisample(t.RENDERBUFFER,h,u,n.width,n.height):Q(n)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,h,u,n.width,n.height):t.renderbufferStorage(t.RENDERBUFFER,u,n.width,n.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Y(e){const i=r.get(e),o=!0===e.isWebGLCubeRenderTarget;if(i.__boundDepthTexture!==e.depthTexture){const t=e.depthTexture;if(i.__depthDisposeCallback&&i.__depthDisposeCallback(),t){const e=()=>{delete i.__boundDepthTexture,delete i.__depthDisposeCallback,t.removeEventListener("dispose",e)};t.addEventListener("dispose",e),i.__depthDisposeCallback=e}i.__boundDepthTexture=t}if(e.depthTexture&&!i.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),N(i.depthTexture,0);const o=r.get(i.depthTexture).__webglTexture,s=J(i);if(1026===i.depthTexture.format)Q(i)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,o,0,s):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,o,0);else{if(1027!==i.depthTexture.format)throw new Error("Unknown depthTexture format");Q(i)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,o,0,s):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,o,0)}}(i.__webglFramebuffer,e)}else if(o){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)if(n.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer[r]),void 0===i.__webglDepthbuffer[r])i.__webglDepthbuffer[r]=t.createRenderbuffer(),W(i.__webglDepthbuffer[r],e,!1);else{const n=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,o=i.__webglDepthbuffer[r];t.bindRenderbuffer(t.RENDERBUFFER,o),t.framebufferRenderbuffer(t.FRAMEBUFFER,n,t.RENDERBUFFER,o)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer),void 0===i.__webglDepthbuffer)i.__webglDepthbuffer=t.createRenderbuffer(),W(i.__webglDepthbuffer,e,!1);else{const n=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,r=i.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,r),t.framebufferRenderbuffer(t.FRAMEBUFFER,n,t.RENDERBUFFER,r)}n.bindFramebuffer(t.FRAMEBUFFER,null)}const $=[],Z=[];function J(t){return Math.min(i.maxSamples,t.samples)}function Q(t){const n=r.get(t);return t.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function tt(t,e){const n=t.colorSpace,r=t.format,i=t.type;return!0===t.isCompressedTexture||!0===t.isVideoTexture||n!==q&&n!==X&&(wt.getTransfer(n)===K?r===M&&i===E||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),e}function et(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement?(c.width=t.naturalWidth||t.width,c.height=t.naturalHeight||t.height):"undefined"!=typeof VideoFrame&&t instanceof VideoFrame?(c.width=t.displayWidth,c.height=t.displayHeight):(c.width=t.width,c.height=t.height),c}this.allocateTextureUnit=function(){const t=F;return t>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+i.maxTextures),F+=1,t},this.resetTextureUnits=function(){F=0},this.setTexture2D=N,this.setTexture2DArray=function(e,i){const o=r.get(e);e.version>0&&o.__version!==e.version?j(o,e,i):n.bindTexture(t.TEXTURE_2D_ARRAY,o.__webglTexture,t.TEXTURE0+i)},this.setTexture3D=function(e,i){const o=r.get(e);e.version>0&&o.__version!==e.version?j(o,e,i):n.bindTexture(t.TEXTURE_3D,o.__webglTexture,t.TEXTURE0+i)},this.setTextureCube=function(e,s){const a=r.get(e);e.version>0&&a.__version!==e.version?function(e,s,a){if(6!==s.image.length)return;const l=H(e,s),c=s.source;n.bindTexture(t.TEXTURE_CUBE_MAP,e.__webglTexture,t.TEXTURE0+a);const u=r.get(c);if(c.version!==u.__version||!0===l){n.activeTexture(t.TEXTURE0+a);const e=wt.getPrimaries(wt.workingColorSpace),r=s.colorSpace===X?null:wt.getPrimaries(s.colorSpace),h=s.colorSpace===X||e===r?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,s.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,s.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);const p=s.isCompressedTexture||s.image[0].isCompressedTexture,d=s.image[0]&&s.image[0].isDataTexture,f=[];for(let t=0;t<6;t++)f[t]=p||d?d?s.image[t].image:s.image[t]:A(s.image[t],!0,i.maxCubemapSize),f[t]=tt(s,f[t]);const m=f[0],g=o.convert(s.format,s.colorSpace),v=o.convert(s.type),y=D(s.internalFormat,g,v,s.colorSpace),b=!0!==s.isVideoTexture,_=void 0===u.__version||!0===l,x=c.dataReady;let w,E=O(s,m);if(z(t.TEXTURE_CUBE_MAP,s),p){b&&_&&n.texStorage2D(t.TEXTURE_CUBE_MAP,E,y,m.width,m.height);for(let e=0;e<6;e++){w=f[e].mipmaps;for(let r=0;r<w.length;r++){const i=w[r];s.format!==M?null!==g?b?x&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r,0,0,i.width,i.height,g,i.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r,y,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):b?x&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r,0,0,i.width,i.height,g,v,i.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r,y,i.width,i.height,0,g,v,i.data)}}}else{if(w=s.mipmaps,b&&_){w.length>0&&E++;const e=et(f[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,E,y,e.width,e.height)}for(let e=0;e<6;e++)if(d){b?x&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,0,0,f[e].width,f[e].height,g,v,f[e].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,y,f[e].width,f[e].height,0,g,v,f[e].data);for(let r=0;r<w.length;r++){const i=w[r].image[e].image;b?x&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r+1,0,0,i.width,i.height,g,v,i.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r+1,y,i.width,i.height,0,g,v,i.data)}}else{b?x&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,0,0,g,v,f[e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,y,g,v,f[e]);for(let r=0;r<w.length;r++){const i=w[r];b?x&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r+1,0,0,g,v,i.image[e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r+1,y,g,v,i.image[e])}}}C(s)&&P(t.TEXTURE_CUBE_MAP),u.__version=c.version,s.onUpdate&&s.onUpdate(s)}e.__version=s.version}(a,e,s):n.bindTexture(t.TEXTURE_CUBE_MAP,a.__webglTexture,t.TEXTURE0+s)},this.rebindTextures=function(e,n,i){const o=r.get(e);void 0!==n&&V(o.__webglFramebuffer,e,e.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),void 0!==i&&Y(e)},this.setupRenderTarget=function(e){const i=e.texture,a=r.get(e),l=r.get(i);e.addEventListener("dispose",L);const c=e.textures,u=!0===e.isWebGLCubeRenderTarget,h=c.length>1;if(h||(void 0===l.__webglTexture&&(l.__webglTexture=t.createTexture()),l.__version=i.version,s.memory.textures++),u){a.__webglFramebuffer=[];for(let e=0;e<6;e++)if(i.mipmaps&&i.mipmaps.length>0){a.__webglFramebuffer[e]=[];for(let n=0;n<i.mipmaps.length;n++)a.__webglFramebuffer[e][n]=t.createFramebuffer()}else a.__webglFramebuffer[e]=t.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){a.__webglFramebuffer=[];for(let e=0;e<i.mipmaps.length;e++)a.__webglFramebuffer[e]=t.createFramebuffer()}else a.__webglFramebuffer=t.createFramebuffer();if(h)for(let e=0,n=c.length;e<n;e++){const n=r.get(c[e]);void 0===n.__webglTexture&&(n.__webglTexture=t.createTexture(),s.memory.textures++)}if(e.samples>0&&!1===Q(e)){a.__webglMultisampledFramebuffer=t.createFramebuffer(),a.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,a.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const r=c[n];a.__webglColorRenderbuffer[n]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,a.__webglColorRenderbuffer[n]);const i=o.convert(r.format,r.colorSpace),s=o.convert(r.type),l=D(r.internalFormat,i,s,r.colorSpace,!0===e.isXRRenderTarget),u=J(e);t.renderbufferStorageMultisample(t.RENDERBUFFER,u,l,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+n,t.RENDERBUFFER,a.__webglColorRenderbuffer[n])}t.bindRenderbuffer(t.RENDERBUFFER,null),e.depthBuffer&&(a.__webglDepthRenderbuffer=t.createRenderbuffer(),W(a.__webglDepthRenderbuffer,e,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(u){n.bindTexture(t.TEXTURE_CUBE_MAP,l.__webglTexture),z(t.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)V(a.__webglFramebuffer[n][r],e,i,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else V(a.__webglFramebuffer[n],e,i,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);C(i)&&P(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(h){for(let i=0,o=c.length;i<o;i++){const o=c[i],s=r.get(o);n.bindTexture(t.TEXTURE_2D,s.__webglTexture),z(t.TEXTURE_2D,o),V(a.__webglFramebuffer,e,o,t.COLOR_ATTACHMENT0+i,t.TEXTURE_2D,0),C(o)&&P(t.TEXTURE_2D)}n.unbindTexture()}else{let r=t.TEXTURE_2D;if((e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)&&(r=e.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),z(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)V(a.__webglFramebuffer[n],e,i,t.COLOR_ATTACHMENT0,r,n);else V(a.__webglFramebuffer,e,i,t.COLOR_ATTACHMENT0,r,0);C(i)&&P(r),n.unbindTexture()}e.depthBuffer&&Y(e)},this.updateRenderTargetMipmap=function(e){const i=e.textures;for(let o=0,s=i.length;o<s;o++){const s=i[o];if(C(s)){const i=e.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,o=r.get(s).__webglTexture;n.bindTexture(i,o),P(i),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(e){if(e.samples>0)if(!1===Q(e)){const i=e.textures,o=e.width,s=e.height;let a=t.COLOR_BUFFER_BIT;const c=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,u=r.get(e),h=i.length>1;if(h)for(let e=0;e<i.length;e++)n.bindFramebuffer(t.FRAMEBUFFER,u.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,u.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){if(e.resolveDepthBuffer&&(e.depthBuffer&&(a|=t.DEPTH_BUFFER_BIT),e.stencilBuffer&&e.resolveStencilBuffer&&(a|=t.STENCIL_BUFFER_BIT)),h){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const e=r.get(i[n]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0)}t.blitFramebuffer(0,0,o,s,0,0,o,s,a,t.NEAREST),!0===l&&($.length=0,Z.length=0,$.push(t.COLOR_ATTACHMENT0+n),e.depthBuffer&&!1===e.resolveDepthBuffer&&($.push(c),Z.push(c),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Z)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,$))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),h)for(let e=0;e<i.length;e++){n.bindFramebuffer(t.FRAMEBUFFER,u.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.RENDERBUFFER,u.__webglColorRenderbuffer[e]);const o=r.get(i[e]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,u.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.TEXTURE_2D,o,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(e.depthBuffer&&!1===e.resolveDepthBuffer&&l){const n=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=Y,this.setupFrameBufferTexture=V,this.useMultisampledRTT=Q}function Bo(t,e){return{convert:function(n,r=X){let i;const o=wt.getTransfer(r);if(n===E)return t.UNSIGNED_BYTE;if(1017===n)return t.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return t.UNSIGNED_SHORT_5_5_5_1;if(35902===n)return t.UNSIGNED_INT_5_9_9_9_REV;if(1010===n)return t.BYTE;if(1011===n)return t.SHORT;if(1012===n)return t.UNSIGNED_SHORT;if(1013===n)return t.INT;if(1014===n)return t.UNSIGNED_INT;if(n===S)return t.FLOAT;if(n===T)return t.HALF_FLOAT;if(1021===n)return t.ALPHA;if(n===A)return t.RGB;if(n===M)return t.RGBA;if(1024===n)return t.LUMINANCE;if(1025===n)return t.LUMINANCE_ALPHA;if(1026===n)return t.DEPTH_COMPONENT;if(1027===n)return t.DEPTH_STENCIL;if(n===C)return t.RED;if(1029===n)return t.RED_INTEGER;if(n===P)return t.RG;if(1031===n)return t.RG_INTEGER;if(1033===n)return t.RGBA_INTEGER;if(33776===n||n===D||33778===n||n===R)if(o===K){if(i=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(33776===n)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===D)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===n)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===R)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=e.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(33776===n)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===D)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===n)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===R)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===O||35841===n||n===I||35843===n){if(i=e.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(n===O)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===I)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===L||n===k||n===F){if(i=e.get("WEBGL_compressed_texture_etc"),null===i)return null;if(n===L||n===k)return o===K?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===F)return o===K?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===N||37809===n||37810===n||37811===n||n===B||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n){if(i=e.get("WEBGL_compressed_texture_astc"),null===i)return null;if(n===N)return o===K?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===n)return o===K?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===n)return o===K?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===n)return o===K?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===B)return o===K?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===n)return o===K?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===n)return o===K?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===n)return o===K?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===n)return o===K?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===n)return o===K?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===n)return o===K?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===n)return o===K?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===n)return o===K?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===n)return o===K?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===U||36494===n||36495===n){if(i=e.get("EXT_texture_compression_bptc"),null===i)return null;if(n===U)return o===K?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===n)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===n)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===n||36284===n||36285===n||36286===n){if(i=e.get("EXT_texture_compression_rgtc"),null===i)return null;if(n===U)return i.COMPRESSED_RED_RGTC1_EXT;if(36284===n)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===n)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===n)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return 1020===n?t.UNSIGNED_INT_24_8:void 0!==t[n]?t[n]:null}}}class Uo extends Yn{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class Go extends Ge{constructor(){super(),this.isGroup=!0,this.type="Group"}}const zo={type:"move"};class Ho{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Go,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Go,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Nt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Nt),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Go,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Nt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Nt),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const n of t.hand.values())this._getHandJoint(e,n)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,n){let r=null,i=null,o=null;const s=this._targetRay,a=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(l&&t.hand){o=!0;for(const r of t.hand.values()){const t=e.getJointPose(r,n),i=this._getHandJoint(l,r);null!==t&&(i.matrix.fromArray(t.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.matrixWorldNeedsUpdate=!0,i.jointRadius=t.radius),i.visible=null!==t}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],s=r.position.distanceTo(i.position),a=.02,c=.005;l.inputState.pinching&&s>a+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&s<=a-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==a&&t.gripSpace&&(i=e.getPose(t.gripSpace,n),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1));null!==s&&(r=e.getPose(t.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(zo)))}return null!==s&&(s.visible=null!==r),null!==a&&(a.visible=null!==i),null!==l&&(l.visible=null!==o),this}_getHandJoint(t,e){if(void 0===t.joints[e.jointName]){const n=new Go;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)}return t.joints[e.jointName]}}class jo{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e,n){if(null===this.texture){const r=new Dt;t.properties.get(r).__webglTexture=e.texture,e.depthNear==n.depthNear&&e.depthFar==n.depthFar||(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(t){if(null!==this.texture&&null===this.mesh){const e=t.cameras[0].viewport,n=new jn({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new Fn(new ar(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Vo extends J{constructor(t,e){super();const n=this;let r=null,i=1,o=null,s="local-floor",a=1,l=null,c=null,u=null,h=null,p=null,d=null;const f=new jo,m=e.getContextAttributes();let g=null,v=null;const y=[],b=[],_=new ut;let x=null;const w=new Yn;w.layers.enable(1),w.viewport=new Rt;const S=new Yn;S.layers.enable(2),S.viewport=new Rt;const T=[w,S],A=new Uo;A.layers.enable(1),A.layers.enable(2);let C=null,P=null;function D(t){const e=b.indexOf(t.inputSource);if(-1===e)return;const n=y[e];void 0!==n&&(n.update(t.inputSource,t.frame,l||o),n.dispatchEvent({type:t.type,data:t.inputSource}))}function R(){r.removeEventListener("select",D),r.removeEventListener("selectstart",D),r.removeEventListener("selectend",D),r.removeEventListener("squeeze",D),r.removeEventListener("squeezestart",D),r.removeEventListener("squeezeend",D),r.removeEventListener("end",R),r.removeEventListener("inputsourceschange",O);for(let t=0;t<y.length;t++){const e=b[t];null!==e&&(b[t]=null,y[t].disconnect(e))}C=null,P=null,f.reset(),t.setRenderTarget(g),p=null,h=null,u=null,r=null,v=null,N.stop(),n.isPresenting=!1,t.setPixelRatio(x),t.setSize(_.width,_.height,!1),n.dispatchEvent({type:"sessionend"})}function O(t){for(let e=0;e<t.removed.length;e++){const n=t.removed[e],r=b.indexOf(n);r>=0&&(b[r]=null,y[r].disconnect(n))}for(let e=0;e<t.added.length;e++){const n=t.added[e];let r=b.indexOf(n);if(-1===r){for(let t=0;t<y.length;t++){if(t>=b.length){b.push(n),r=t;break}if(null===b[t]){b[t]=n,r=t;break}}if(-1===r)break}const i=y[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=y[t];return void 0===e&&(e=new Ho,y[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=y[t];return void 0===e&&(e=new Ho,y[t]=e),e.getGripSpace()},this.getHand=function(t){let e=y[t];return void 0===e&&(e=new Ho,y[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){i=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){s=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(t){l=t},this.getBaseLayer=function(){return null!==h?h:p},this.getBinding=function(){return u},this.getFrame=function(){return d},this.getSession=function(){return r},this.setSession=async function(c){if(r=c,null!==r){if(g=t.getRenderTarget(),r.addEventListener("select",D),r.addEventListener("selectstart",D),r.addEventListener("selectend",D),r.addEventListener("squeeze",D),r.addEventListener("squeezestart",D),r.addEventListener("squeezeend",D),r.addEventListener("end",R),r.addEventListener("inputsourceschange",O),!0!==m.xrCompatible&&await e.makeXRCompatible(),x=t.getPixelRatio(),t.getSize(_),void 0===r.renderState.layers){const n={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:i};p=new XRWebGLLayer(r,e,n),r.updateRenderState({baseLayer:p}),t.setPixelRatio(1),t.setSize(p.framebufferWidth,p.framebufferHeight,!1),v=new It(p.framebufferWidth,p.framebufferHeight,{format:M,type:E,colorSpace:t.outputColorSpace,stencilBuffer:m.stencil})}else{let n=null,o=null,s=null;m.depth&&(s=m.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,n=m.stencil?1027:1026,o=m.stencil?1020:1014);const a={colorFormat:e.RGBA8,depthFormat:s,scaleFactor:i};u=new XRWebGLBinding(r,e),h=u.createProjectionLayer(a),r.updateRenderState({layers:[h]}),t.setPixelRatio(1),t.setSize(h.textureWidth,h.textureHeight,!1),v=new It(h.textureWidth,h.textureHeight,{format:M,type:E,depthTexture:new Vr(h.textureWidth,h.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:m.stencil,colorSpace:t.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===h.ignoreDepthValues})}v.isXRRenderTarget=!0,this.setFoveation(a),l=null,o=await r.requestReferenceSpace(s),N.setContext(r),N.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return f.getDepthTexture()};const I=new Nt,L=new Nt;function k(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.updateCamera=function(t){if(null===r)return;let e=t.near,n=t.far;null!==f.texture&&(f.depthNear>0&&(e=f.depthNear),f.depthFar>0&&(n=f.depthFar)),A.near=S.near=w.near=e,A.far=S.far=w.far=n,C===A.near&&P===A.far||(r.updateRenderState({depthNear:A.near,depthFar:A.far}),C=A.near,P=A.far);const i=t.parent,o=A.cameras;k(A,i);for(let t=0;t<o.length;t++)k(o[t],i);2===o.length?function(t,e,n){I.setFromMatrixPosition(e.matrixWorld),L.setFromMatrixPosition(n.matrixWorld);const r=I.distanceTo(L),i=e.projectionMatrix.elements,o=n.projectionMatrix.elements,s=i[14]/(i[10]-1),a=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],h=(o[8]+1)/o[0],p=s*u,d=s*h,f=r/(-u+h),m=f*-u;if(e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert(),-1===i[10])t.projectionMatrix.copy(e.projectionMatrix),t.projectionMatrixInverse.copy(e.projectionMatrixInverse);else{const e=s+f,n=a+f,i=p-m,o=d+(r-m),u=l*a/n*e,h=c*a/n*e;t.projectionMatrix.makePerspective(i,o,u,h,e,n),t.projectionMatrixInverse.copy(t.projectionMatrix).invert()}}(A,w,S):A.projectionMatrix.copy(w.projectionMatrix),function(t,e,n){null===n?t.matrix.copy(e.matrixWorld):(t.matrix.copy(n.matrixWorld),t.matrix.invert(),t.matrix.multiply(e.matrixWorld));t.matrix.decompose(t.position,t.quaternion,t.scale),t.updateMatrixWorld(!0),t.projectionMatrix.copy(e.projectionMatrix),t.projectionMatrixInverse.copy(e.projectionMatrixInverse),t.isPerspectiveCamera&&(t.fov=2*nt*Math.atan(1/t.projectionMatrix.elements[5]),t.zoom=1)}(t,A,i)},this.getCamera=function(){return A},this.getFoveation=function(){if(null!==h||null!==p)return a},this.setFoveation=function(t){a=t,null!==h&&(h.fixedFoveation=t),null!==p&&void 0!==p.fixedFoveation&&(p.fixedFoveation=t)},this.hasDepthSensing=function(){return null!==f.texture},this.getDepthSensingMesh=function(){return f.getMesh(A)};let F=null;const N=new or;N.setAnimationLoop((function(e,i){if(c=i.getViewerPose(l||o),d=i,null!==c){const e=c.views;null!==p&&(t.setRenderTargetFramebuffer(v,p.framebuffer),t.setRenderTarget(v));let n=!1;e.length!==A.cameras.length&&(A.cameras.length=0,n=!0);for(let r=0;r<e.length;r++){const i=e[r];let o=null;if(null!==p)o=p.getViewport(i);else{const e=u.getViewSubImage(h,i);o=e.viewport,0===r&&(t.setRenderTargetTextures(v,e.colorTexture,h.ignoreDepthValues?void 0:e.depthStencilTexture),t.setRenderTarget(v))}let s=T[r];void 0===s&&(s=new Yn,s.layers.enable(r),s.viewport=new Rt,T[r]=s),s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.quaternion,s.scale),s.projectionMatrix.fromArray(i.projectionMatrix),s.projectionMatrixInverse.copy(s.projectionMatrix).invert(),s.viewport.set(o.x,o.y,o.width,o.height),0===r&&(A.matrix.copy(s.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),!0===n&&A.cameras.push(s)}const i=r.enabledFeatures;if(i&&i.includes("depth-sensing")){const n=u.getDepthInformation(e[0]);n&&n.isValid&&n.texture&&f.init(t,n,r.renderState)}}for(let t=0;t<y.length;t++){const e=b[t],n=y[t];null!==e&&void 0!==n&&n.update(e,i,l||o)}F&&F(e,i),i.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:i}),d=null})),this.setAnimationLoop=function(t){F=t},this.dispose=function(){}}}const Xo=new Ee,Wo=new de;function qo(t,e){function n(t,e){!0===t.matrixAutoUpdate&&t.updateMatrix(),e.value.copy(t.matrix)}function r(t,r){t.opacity.value=r.opacity,r.color&&t.diffuse.value.copy(r.color),r.emissive&&t.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(t.map.value=r.map,n(r.map,t.mapTransform)),r.alphaMap&&(t.alphaMap.value=r.alphaMap,n(r.alphaMap,t.alphaMapTransform)),r.bumpMap&&(t.bumpMap.value=r.bumpMap,n(r.bumpMap,t.bumpMapTransform),t.bumpScale.value=r.bumpScale,1===r.side&&(t.bumpScale.value*=-1)),r.normalMap&&(t.normalMap.value=r.normalMap,n(r.normalMap,t.normalMapTransform),t.normalScale.value.copy(r.normalScale),1===r.side&&t.normalScale.value.negate()),r.displacementMap&&(t.displacementMap.value=r.displacementMap,n(r.displacementMap,t.displacementMapTransform),t.displacementScale.value=r.displacementScale,t.displacementBias.value=r.displacementBias),r.emissiveMap&&(t.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,t.emissiveMapTransform)),r.specularMap&&(t.specularMap.value=r.specularMap,n(r.specularMap,t.specularMapTransform)),r.alphaTest>0&&(t.alphaTest.value=r.alphaTest);const i=e.get(r),o=i.envMap,s=i.envMapRotation;o&&(t.envMap.value=o,Xo.copy(s),Xo.x*=-1,Xo.y*=-1,Xo.z*=-1,o.isCubeTexture&&!1===o.isRenderTargetTexture&&(Xo.y*=-1,Xo.z*=-1),t.envMapRotation.value.setFromMatrix4(Wo.makeRotationFromEuler(Xo)),t.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,t.reflectivity.value=r.reflectivity,t.ior.value=r.ior,t.refractionRatio.value=r.refractionRatio),r.lightMap&&(t.lightMap.value=r.lightMap,t.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,t.lightMapTransform)),r.aoMap&&(t.aoMap.value=r.aoMap,t.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,t.aoMapTransform))}return{refreshFogUniforms:function(e,n){n.color.getRGB(e.fogColor.value,zn(t)),n.isFog?(e.fogNear.value=n.near,e.fogFar.value=n.far):n.isFogExp2&&(e.fogDensity.value=n.density)},refreshMaterialUniforms:function(t,i,o,s,a){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(t,i):i.isMeshToonMaterial?(r(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(t,i)):i.isMeshPhongMaterial?(r(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4)}(t,i)):i.isMeshStandardMaterial?(r(t,i),function(t,e){t.metalness.value=e.metalness,e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap,n(e.metalnessMap,t.metalnessMapTransform));t.roughness.value=e.roughness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap,n(e.roughnessMap,t.roughnessMapTransform));e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}(t,i),i.isMeshPhysicalMaterial&&function(t,e,r){t.ior.value=e.ior,e.sheen>0&&(t.sheenColor.value.copy(e.sheenColor).multiplyScalar(e.sheen),t.sheenRoughness.value=e.sheenRoughness,e.sheenColorMap&&(t.sheenColorMap.value=e.sheenColorMap,n(e.sheenColorMap,t.sheenColorMapTransform)),e.sheenRoughnessMap&&(t.sheenRoughnessMap.value=e.sheenRoughnessMap,n(e.sheenRoughnessMap,t.sheenRoughnessMapTransform)));e.clearcoat>0&&(t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap,n(e.clearcoatMap,t.clearcoatMapTransform)),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap,n(e.clearcoatRoughnessMap,t.clearcoatRoughnessMapTransform)),e.clearcoatNormalMap&&(t.clearcoatNormalMap.value=e.clearcoatNormalMap,n(e.clearcoatNormalMap,t.clearcoatNormalMapTransform),t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),1===e.side&&t.clearcoatNormalScale.value.negate()));e.dispersion>0&&(t.dispersion.value=e.dispersion);e.iridescence>0&&(t.iridescence.value=e.iridescence,t.iridescenceIOR.value=e.iridescenceIOR,t.iridescenceThicknessMinimum.value=e.iridescenceThicknessRange[0],t.iridescenceThicknessMaximum.value=e.iridescenceThicknessRange[1],e.iridescenceMap&&(t.iridescenceMap.value=e.iridescenceMap,n(e.iridescenceMap,t.iridescenceMapTransform)),e.iridescenceThicknessMap&&(t.iridescenceThicknessMap.value=e.iridescenceThicknessMap,n(e.iridescenceThicknessMap,t.iridescenceThicknessMapTransform)));e.transmission>0&&(t.transmission.value=e.transmission,t.transmissionSamplerMap.value=r.texture,t.transmissionSamplerSize.value.set(r.width,r.height),e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap,n(e.transmissionMap,t.transmissionMapTransform)),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap,n(e.thicknessMap,t.thicknessMapTransform)),t.attenuationDistance.value=e.attenuationDistance,t.attenuationColor.value.copy(e.attenuationColor));e.anisotropy>0&&(t.anisotropyVector.value.set(e.anisotropy*Math.cos(e.anisotropyRotation),e.anisotropy*Math.sin(e.anisotropyRotation)),e.anisotropyMap&&(t.anisotropyMap.value=e.anisotropyMap,n(e.anisotropyMap,t.anisotropyMapTransform)));t.specularIntensity.value=e.specularIntensity,t.specularColor.value.copy(e.specularColor),e.specularColorMap&&(t.specularColorMap.value=e.specularColorMap,n(e.specularColorMap,t.specularColorMapTransform));e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap,n(e.specularIntensityMap,t.specularIntensityMapTransform))}(t,i,a)):i.isMeshMatcapMaterial?(r(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap)}(t,i)):i.isMeshDepthMaterial?r(t,i):i.isMeshDistanceMaterial?(r(t,i),function(t,n){const r=e.get(n).light;t.referencePosition.value.setFromMatrixPosition(r.matrixWorld),t.nearDistance.value=r.shadow.camera.near,t.farDistance.value=r.shadow.camera.far}(t,i)):i.isMeshNormalMaterial?r(t,i):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,e.map&&(t.map.value=e.map,n(e.map,t.mapTransform))}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,r,i){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*r,t.scale.value=.5*i,e.map&&(t.map.value=e.map,n(e.map,t.uvTransform));e.alphaMap&&(t.alphaMap.value=e.alphaMap,n(e.alphaMap,t.alphaMapTransform));e.alphaTest>0&&(t.alphaTest.value=e.alphaTest)}(t,i,o,s):i.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map,n(e.map,t.mapTransform));e.alphaMap&&(t.alphaMap.value=e.alphaMap,n(e.alphaMap,t.alphaMapTransform));e.alphaTest>0&&(t.alphaTest.value=e.alphaTest)}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Yo(t,e,n,r){let i={},o={},s=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(t,e,n,r){const i=t.value,o=e+"_"+n;if(void 0===r[o])return r[o]="number"==typeof i||"boolean"==typeof i?i:i.clone(),!0;{const t=r[o];if("number"==typeof i||"boolean"==typeof i){if(t!==i)return r[o]=i,!0}else if(!1===t.equals(i))return t.copy(i),!0}return!1}function c(t){const e={boundary:0,storage:0};return"number"==typeof t||"boolean"==typeof t?(e.boundary=4,e.storage=4):t.isVector2?(e.boundary=8,e.storage=8):t.isVector3||t.isColor?(e.boundary=16,e.storage=12):t.isVector4?(e.boundary=16,e.storage=16):t.isMatrix3?(e.boundary=48,e.storage=48):t.isMatrix4?(e.boundary=64,e.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t),e}function u(e){const n=e.target;n.removeEventListener("dispose",u);const r=s.indexOf(n.__bindingPointIndex);s.splice(r,1),t.deleteBuffer(i[n.id]),delete i[n.id],delete o[n.id]}return{bind:function(t,e){const n=e.program;r.uniformBlockBinding(t,n)},update:function(n,h){let p=i[n.id];void 0===p&&(!function(t){const e=t.uniforms;let n=0;for(let t=0,r=e.length;t<r;t++){const r=Array.isArray(e[t])?e[t]:[e[t]];for(let t=0,e=r.length;t<e;t++){const e=r[t],i=Array.isArray(e.value)?e.value:[e.value];for(let t=0,r=i.length;t<r;t++){const r=c(i[t]),o=n%16,s=o%r.boundary,a=o+s;n+=s,0!==a&&16-a<r.storage&&(n+=16-a),e.__data=new Float32Array(r.storage/Float32Array.BYTES_PER_ELEMENT),e.__offset=n,n+=r.storage}}}const r=n%16;r>0&&(n+=16-r);t.__size=n,t.__cache={}}(n),p=function(e){const n=function(){for(let t=0;t<a;t++)if(-1===s.indexOf(t))return s.push(t),t;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();e.__bindingPointIndex=n;const r=t.createBuffer(),i=e.__size,o=e.usage;return t.bindBuffer(t.UNIFORM_BUFFER,r),t.bufferData(t.UNIFORM_BUFFER,i,o),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=p,n.addEventListener("dispose",u));const d=h.program;r.updateUBOMapping(n,d);const f=e.render.frame;o[n.id]!==f&&(!function(e){const n=i[e.id],r=e.uniforms,o=e.__cache;t.bindBuffer(t.UNIFORM_BUFFER,n);for(let e=0,n=r.length;e<n;e++){const n=Array.isArray(r[e])?r[e]:[r[e]];for(let r=0,i=n.length;r<i;r++){const i=n[r];if(!0===l(i,e,r,o)){const e=i.__offset,n=Array.isArray(i.value)?i.value:[i.value];let r=0;for(let o=0;o<n.length;o++){const s=n[o],a=c(s);"number"==typeof s||"boolean"==typeof s?(i.__data[0]=s,t.bufferSubData(t.UNIFORM_BUFFER,e+r,i.__data)):s.isMatrix3?(i.__data[0]=s.elements[0],i.__data[1]=s.elements[1],i.__data[2]=s.elements[2],i.__data[3]=0,i.__data[4]=s.elements[3],i.__data[5]=s.elements[4],i.__data[6]=s.elements[5],i.__data[7]=0,i.__data[8]=s.elements[6],i.__data[9]=s.elements[7],i.__data[10]=s.elements[8],i.__data[11]=0):(s.toArray(i.__data,r),r+=a.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,e,i.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}(n),o[n.id]=f)},dispose:function(){for(const e in i)t.deleteBuffer(i[e]);s=[],i={},o={}}}}class $o{constructor(t={}){const{canvas:e=mt(),context:n=null,depth:o=!0,stencil:s=!1,alpha:l=!1,antialias:c=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:h=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:d=!1}=t;let f;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!=typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=n.getContextAttributes().alpha}else f=l;const m=new Uint32Array(4),g=new Int32Array(4);let v=null,y=null;const b=[],_=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=W,this.toneMapping=a,this.toneMappingExposure=1;const x=this;let S=!1,A=0,M=0,C=null,P=-1,D=null;const R=new Rt,O=new Rt;let I=null;const L=new sn(0);let k=0,F=e.width,N=e.height,B=1,U=null,G=null;const z=new Rt(0,0,F,N),H=new Rt(0,0,F,N);let j=!1;const V=new ir;let X=!1,Y=!1;const $=new de,K=new de,Z=new Nt,J=new Rt,Q={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let tt=!1;function et(){return null===C?B:1}let nt,rt,it,ot,st,at,lt,ct,ut,ht,pt,dt,ft,gt,yt,bt,_t,xt,Et,St,Tt,At,Mt,Ct,Pt=n;function Dt(t,n){return e.getContext(t,n)}try{const t={alpha:!0,depth:o,stencil:s,antialias:c,premultipliedAlpha:u,preserveDrawingBuffer:h,powerPreference:p,failIfMajorPerformanceCaveat:d};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r169"),e.addEventListener("webglcontextlost",kt,!1),e.addEventListener("webglcontextrestored",Ft,!1),e.addEventListener("webglcontextcreationerror",Bt,!1),null===Pt){const e="webgl2";if(Pt=Dt(e,t),null===Pt)throw Dt(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function Ot(){nt=new Br(Pt),nt.init(),At=new Bo(Pt,nt),rt=new vr(Pt,nt,t,At),it=new ko(Pt),rt.reverseDepthBuffer&&it.buffers.depth.setReversed(!0),ot=new zr(Pt),st=new _o,at=new No(Pt,nt,it,st,rt,At,ot),lt=new br(x),ct=new Nr(x),ut=new sr(Pt),Mt=new mr(Pt,ut),ht=new Ur(Pt,ut,ot,Mt),pt=new jr(Pt,ht,ut,ot),Et=new Hr(Pt,rt,at),bt=new yr(st),dt=new bo(x,lt,ct,nt,rt,Mt,bt),ft=new qo(x,st),gt=new So,yt=new Do(nt),xt=new fr(x,lt,ct,it,pt,f,u),_t=new Io(x,pt,rt),Ct=new Yo(Pt,ot,rt,it),St=new gr(Pt,nt,ot),Tt=new Gr(Pt,nt,ot),ot.programs=dt.programs,x.capabilities=rt,x.extensions=nt,x.properties=st,x.renderLists=gt,x.shadowMap=_t,x.state=it,x.info=ot}Ot();const Lt=new Vo(x,Pt);function kt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function Ft(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const t=ot.autoReset,e=_t.enabled,n=_t.autoUpdate,r=_t.needsUpdate,i=_t.type;Ot(),ot.autoReset=t,_t.enabled=e,_t.autoUpdate=n,_t.needsUpdate=r,_t.type=i}function Bt(t){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",t.statusMessage)}function Ut(t){const e=t.target;e.removeEventListener("dispose",Ut),function(t){(function(t){const e=st.get(t).programs;void 0!==e&&(e.forEach((function(t){dt.releaseProgram(t)})),t.isShaderMaterial&&dt.releaseShaderCache(t))})(t),st.remove(t)}(e)}function Gt(t,e,n){!0===t.transparent&&t.side===i&&!1===t.forceSinglePass?(t.side=1,t.needsUpdate=!0,Kt(t,e,n),t.side=r,t.needsUpdate=!0,Kt(t,e,n),t.side=i):Kt(t,e,n)}this.xr=Lt,this.getContext=function(){return Pt},this.getContextAttributes=function(){return Pt.getContextAttributes()},this.forceContextLoss=function(){const t=nt.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=nt.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return B},this.setPixelRatio=function(t){void 0!==t&&(B=t,this.setSize(F,N,!1))},this.getSize=function(t){return t.set(F,N)},this.setSize=function(t,n,r=!0){Lt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(F=t,N=n,e.width=Math.floor(t*B),e.height=Math.floor(n*B),!0===r&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return t.set(F*B,N*B).floor()},this.setDrawingBufferSize=function(t,n,r){F=t,N=n,B=r,e.width=Math.floor(t*r),e.height=Math.floor(n*r),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return t.copy(R)},this.getViewport=function(t){return t.copy(z)},this.setViewport=function(t,e,n,r){t.isVector4?z.set(t.x,t.y,t.z,t.w):z.set(t,e,n,r),it.viewport(R.copy(z).multiplyScalar(B).round())},this.getScissor=function(t){return t.copy(H)},this.setScissor=function(t,e,n,r){t.isVector4?H.set(t.x,t.y,t.z,t.w):H.set(t,e,n,r),it.scissor(O.copy(H).multiplyScalar(B).round())},this.getScissorTest=function(){return j},this.setScissorTest=function(t){it.setScissorTest(j=t)},this.setOpaqueSort=function(t){U=t},this.setTransparentSort=function(t){G=t},this.getClearColor=function(t){return t.copy(xt.getClearColor())},this.setClearColor=function(){xt.setClearColor.apply(xt,arguments)},this.getClearAlpha=function(){return xt.getClearAlpha()},this.setClearAlpha=function(){xt.setClearAlpha.apply(xt,arguments)},this.clear=function(t=!0,e=!0,n=!0){let r=0;if(t){let t=!1;if(null!==C){const e=C.texture.format;t=1033===e||1031===e||1029===e}if(t){const t=C.texture.type,e=t===E||1014===t||1012===t||1020===t||1017===t||1018===t,n=xt.getClearColor(),r=xt.getClearAlpha(),i=n.r,o=n.g,s=n.b;e?(m[0]=i,m[1]=o,m[2]=s,m[3]=r,Pt.clearBufferuiv(Pt.COLOR,0,m)):(g[0]=i,g[1]=o,g[2]=s,g[3]=r,Pt.clearBufferiv(Pt.COLOR,0,g))}else r|=Pt.COLOR_BUFFER_BIT}e&&(r|=Pt.DEPTH_BUFFER_BIT,Pt.clearDepth(this.capabilities.reverseDepthBuffer?0:1)),n&&(r|=Pt.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Pt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",kt,!1),e.removeEventListener("webglcontextrestored",Ft,!1),e.removeEventListener("webglcontextcreationerror",Bt,!1),gt.dispose(),yt.dispose(),st.dispose(),lt.dispose(),ct.dispose(),pt.dispose(),Mt.dispose(),Ct.dispose(),dt.dispose(),Lt.dispose(),Lt.removeEventListener("sessionstart",Ht),Lt.removeEventListener("sessionend",jt),Vt.stop()},this.renderBufferDirect=function(t,e,n,r,i,o){null===e&&(e=Q);const s=i.isMesh&&i.matrixWorld.determinant()<0,l=function(t,e,n,r,i){!0!==e.isScene&&(e=Q);at.resetTextureUnits();const o=e.fog,s=r.isMeshStandardMaterial?e.environment:null,l=null===C?x.outputColorSpace:!0===C.isXRRenderTarget?C.texture.colorSpace:q,c=(r.isMeshStandardMaterial?ct:lt).get(r.envMap||s),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,h=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),p=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,f=!!n.morphAttributes.color;let m=a;r.toneMapped&&(null!==C&&!0!==C.isXRRenderTarget||(m=x.toneMapping));const g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,v=void 0!==g?g.length:0,b=st.get(r),_=y.state.lights;if(!0===X&&(!0===Y||t!==D)){const e=t===D&&r.id===P;bt.setState(r,t,e)}let w=!1;r.version===b.__version?b.needsLights&&b.lightsStateVersion!==_.state.version||b.outputColorSpace!==l||i.isBatchedMesh&&!1===b.batching?w=!0:i.isBatchedMesh||!0!==b.batching?i.isBatchedMesh&&!0===b.batchingColor&&null===i.colorTexture||i.isBatchedMesh&&!1===b.batchingColor&&null!==i.colorTexture||i.isInstancedMesh&&!1===b.instancing?w=!0:i.isInstancedMesh||!0!==b.instancing?i.isSkinnedMesh&&!1===b.skinning?w=!0:i.isSkinnedMesh||!0!==b.skinning?i.isInstancedMesh&&!0===b.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===b.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===b.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===b.instancingMorph&&null!==i.morphTexture||b.envMap!==c||!0===r.fog&&b.fog!==o?w=!0:void 0===b.numClippingPlanes||b.numClippingPlanes===bt.numPlanes&&b.numIntersection===bt.numIntersection?(b.vertexAlphas!==u||b.vertexTangents!==h||b.morphTargets!==p||b.morphNormals!==d||b.morphColors!==f||b.toneMapping!==m||b.morphTargetsCount!==v)&&(w=!0):w=!0:w=!0:w=!0:w=!0:(w=!0,b.__version=r.version);let E=b.currentProgram;!0===w&&(E=Kt(r,e,i));let S=!1,T=!1,A=!1;const M=E.getUniforms(),R=b.uniforms;it.useProgram(E.program)&&(S=!0,T=!0,A=!0);r.id!==P&&(P=r.id,T=!0);if(S||D!==t){rt.reverseDepthBuffer?($.copy(t.projectionMatrix),function(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}($),function(t){const e=t.elements;-1===e[11]?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=1-e[14])}($),M.setValue(Pt,"projectionMatrix",$)):M.setValue(Pt,"projectionMatrix",t.projectionMatrix),M.setValue(Pt,"viewMatrix",t.matrixWorldInverse);const e=M.map.cameraPosition;void 0!==e&&e.setValue(Pt,Z.setFromMatrixPosition(t.matrixWorld)),rt.logarithmicDepthBuffer&&M.setValue(Pt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&M.setValue(Pt,"isOrthographic",!0===t.isOrthographicCamera),D!==t&&(D=t,T=!0,A=!0)}if(i.isSkinnedMesh){M.setOptional(Pt,i,"bindMatrix"),M.setOptional(Pt,i,"bindMatrixInverse");const t=i.skeleton;t&&(null===t.boneTexture&&t.computeBoneTexture(),M.setValue(Pt,"boneTexture",t.boneTexture,at))}i.isBatchedMesh&&(M.setOptional(Pt,i,"batchingTexture"),M.setValue(Pt,"batchingTexture",i._matricesTexture,at),M.setOptional(Pt,i,"batchingIdTexture"),M.setValue(Pt,"batchingIdTexture",i._indirectTexture,at),M.setOptional(Pt,i,"batchingColorTexture"),null!==i._colorsTexture&&M.setValue(Pt,"batchingColorTexture",i._colorsTexture,at));const O=n.morphAttributes;void 0===O.position&&void 0===O.normal&&void 0===O.color||Et.update(i,n,E);(T||b.receiveShadow!==i.receiveShadow)&&(b.receiveShadow=i.receiveShadow,M.setValue(Pt,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(R.envMap.value=c,R.flipEnvMap.value=c.isCubeTexture&&!1===c.isRenderTargetTexture?-1:1);r.isMeshStandardMaterial&&null===r.envMap&&null!==e.environment&&(R.envMapIntensity.value=e.environmentIntensity);T&&(M.setValue(Pt,"toneMappingExposure",x.toneMappingExposure),b.needsLights&&(L=A,(I=R).ambientLightColor.needsUpdate=L,I.lightProbe.needsUpdate=L,I.directionalLights.needsUpdate=L,I.directionalLightShadows.needsUpdate=L,I.pointLights.needsUpdate=L,I.pointLightShadows.needsUpdate=L,I.spotLights.needsUpdate=L,I.spotLightShadows.needsUpdate=L,I.rectAreaLights.needsUpdate=L,I.hemisphereLights.needsUpdate=L),o&&!0===r.fog&&ft.refreshFogUniforms(R,o),ft.refreshMaterialUniforms(R,r,B,N,y.state.transmissionRenderTarget[t.id]),$i.upload(Pt,Zt(b),R,at));var I,L;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&($i.upload(Pt,Zt(b),R,at),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&M.setValue(Pt,"center",i.center);if(M.setValue(Pt,"modelViewMatrix",i.modelViewMatrix),M.setValue(Pt,"normalMatrix",i.normalMatrix),M.setValue(Pt,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const t=r.uniformsGroups;for(let e=0,n=t.length;e<n;e++){const n=t[e];Ct.update(n,E),Ct.bind(n,E)}}return E}(t,e,n,r,i);it.setMaterial(r,s);let c=n.index,u=1;if(!0===r.wireframe){if(c=ht.getWireframeAttribute(n),void 0===c)return;u=2}const h=n.drawRange,p=n.attributes.position;let d=h.start*u,f=(h.start+h.count)*u;null!==o&&(d=Math.max(d,o.start*u),f=Math.min(f,(o.start+o.count)*u)),null!==c?(d=Math.max(d,0),f=Math.min(f,c.count)):null!=p&&(d=Math.max(d,0),f=Math.min(f,p.count));const m=f-d;if(m<0||m===1/0)return;let g;Mt.setup(i,r,l,n,c);let v=St;if(null!==c&&(g=ut.get(c),v=Tt,v.setIndex(g)),i.isMesh)!0===r.wireframe?(it.setLineWidth(r.wireframeLinewidth*et()),v.setMode(Pt.LINES)):v.setMode(Pt.TRIANGLES);else if(i.isLine){let t=r.linewidth;void 0===t&&(t=1),it.setLineWidth(t*et()),i.isLineSegments?v.setMode(Pt.LINES):i.isLineLoop?v.setMode(Pt.LINE_LOOP):v.setMode(Pt.LINE_STRIP)}else i.isPoints?v.setMode(Pt.POINTS):i.isSprite&&v.setMode(Pt.TRIANGLES);if(i.isBatchedMesh)if(null!==i._multiDrawInstances)v.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances);else if(nt.get("WEBGL_multi_draw"))v.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else{const t=i._multiDrawStarts,e=i._multiDrawCounts,n=i._multiDrawCount,o=c?ut.get(c).bytesPerElement:1,s=st.get(r).currentProgram.getUniforms();for(let r=0;r<n;r++)s.setValue(Pt,"_gl_DrawID",r),v.render(t[r]/o,e[r])}else if(i.isInstancedMesh)v.renderInstances(d,m,i.count);else if(n.isInstancedBufferGeometry){const t=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,e=Math.min(n.instanceCount,t);v.renderInstances(d,m,e)}else v.render(d,m)},this.compile=function(t,e,n=null){null===n&&(n=t),y=yt.get(n),y.init(e),_.push(y),n.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(y.pushLight(t),t.castShadow&&y.pushShadow(t))})),t!==n&&t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(y.pushLight(t),t.castShadow&&y.pushShadow(t))})),y.setupLights();const r=new Set;return t.traverse((function(t){if(!(t.isMesh||t.isPoints||t.isLine||t.isSprite))return;const e=t.material;if(e)if(Array.isArray(e))for(let i=0;i<e.length;i++){const o=e[i];Gt(o,n,t),r.add(o)}else Gt(e,n,t),r.add(e)})),_.pop(),y=null,r},this.compileAsync=function(t,e,n=null){const r=this.compile(t,e,n);return new Promise(e=>{function n(){r.forEach((function(t){st.get(t).currentProgram.isReady()&&r.delete(t)})),0!==r.size?setTimeout(n,10):e(t)}null!==nt.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)})};let zt=null;function Ht(){Vt.stop()}function jt(){Vt.start()}const Vt=new or;function Xt(t,e,n,r){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)y.pushLight(t),t.castShadow&&y.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||V.intersectsSprite(t)){r&&J.setFromMatrixPosition(t.matrixWorld).applyMatrix4(K);const e=pt.update(t),i=t.material;i.visible&&v.push(t,e,i,n,J.z,null)}}else if((t.isMesh||t.isLine||t.isPoints)&&(!t.frustumCulled||V.intersectsObject(t))){const e=pt.update(t),i=t.material;if(r&&(void 0!==t.boundingSphere?(null===t.boundingSphere&&t.computeBoundingSphere(),J.copy(t.boundingSphere.center)):(null===e.boundingSphere&&e.computeBoundingSphere(),J.copy(e.boundingSphere.center)),J.applyMatrix4(t.matrixWorld).applyMatrix4(K)),Array.isArray(i)){const r=e.groups;for(let o=0,s=r.length;o<s;o++){const s=r[o],a=i[s.materialIndex];a&&a.visible&&v.push(t,e,a,n,J.z,s)}}else i.visible&&v.push(t,e,i,n,J.z,null)}const i=t.children;for(let t=0,o=i.length;t<o;t++)Xt(i[t],e,n,r)}function Wt(t,e,n,r){const i=t.opaque,o=t.transmissive,s=t.transparent;y.setupLightsView(n),!0===X&&bt.setGlobalState(x.clippingPlanes,n),r&&it.viewport(R.copy(r)),i.length>0&&Yt(i,e,n),o.length>0&&Yt(o,e,n),s.length>0&&Yt(s,e,n),it.buffers.depth.setTest(!0),it.buffers.depth.setMask(!0),it.buffers.color.setMask(!0),it.setPolygonOffset(!1)}function qt(t,e,n,r){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===y.state.transmissionRenderTarget[r.id]&&(y.state.transmissionRenderTarget[r.id]=new It(1,1,{generateMipmaps:!0,type:nt.has("EXT_color_buffer_half_float")||nt.has("EXT_color_buffer_float")?T:E,minFilter:w,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:wt.workingColorSpace}));const o=y.state.transmissionRenderTarget[r.id],l=r.viewport||R;o.setSize(l.z,l.w);const c=x.getRenderTarget();x.setRenderTarget(o),x.getClearColor(L),k=x.getClearAlpha(),k<1&&x.setClearColor(16777215,.5),x.clear(),tt&&xt.render(n);const u=x.toneMapping;x.toneMapping=a;const h=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),y.setupLightsView(r),!0===X&&bt.setGlobalState(x.clippingPlanes,r),Yt(t,n,r),at.updateMultisampleRenderTarget(o),at.updateRenderTargetMipmap(o),!1===nt.has("WEBGL_multisampled_render_to_texture")){let t=!1;for(let o=0,s=e.length;o<s;o++){const s=e[o],a=s.object,l=s.geometry,c=s.material,u=s.group;if(c.side===i&&a.layers.test(r.layers)){const e=c.side;c.side=1,c.needsUpdate=!0,$t(a,n,r,l,c,u),c.side=e,c.needsUpdate=!0,t=!0}}!0===t&&(at.updateMultisampleRenderTarget(o),at.updateRenderTargetMipmap(o))}x.setRenderTarget(c),x.setClearColor(L,k),void 0!==h&&(r.viewport=h),x.toneMapping=u}function Yt(t,e,n){const r=!0===e.isScene?e.overrideMaterial:null;for(let i=0,o=t.length;i<o;i++){const o=t[i],s=o.object,a=o.geometry,l=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&$t(s,e,n,a,l,c)}}function $t(t,e,n,o,s,a){t.onBeforeRender(x,e,n,o,s,a),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),s.onBeforeRender(x,e,n,o,t,a),!0===s.transparent&&s.side===i&&!1===s.forceSinglePass?(s.side=1,s.needsUpdate=!0,x.renderBufferDirect(n,e,o,s,t,a),s.side=r,s.needsUpdate=!0,x.renderBufferDirect(n,e,o,s,t,a),s.side=i):x.renderBufferDirect(n,e,o,s,t,a),t.onAfterRender(x,e,n,o,s,a)}function Kt(t,e,n){!0!==e.isScene&&(e=Q);const r=st.get(t),i=y.state.lights,o=y.state.shadowsArray,s=i.state.version,a=dt.getParameters(t,i.state,o,e,n),l=dt.getProgramCacheKey(a);let c=r.programs;r.environment=t.isMeshStandardMaterial?e.environment:null,r.fog=e.fog,r.envMap=(t.isMeshStandardMaterial?ct:lt).get(t.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===t.envMap?e.environmentRotation:t.envMapRotation,void 0===c&&(t.addEventListener("dispose",Ut),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===s)return Jt(t,a),u}else a.uniforms=dt.getUniforms(t),t.onBeforeCompile(a,x),u=dt.acquireProgram(a,l),c.set(l,u),r.uniforms=a.uniforms;const h=r.uniforms;return(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(h.clippingPlanes=bt.uniform),Jt(t,a),r.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),r.lightsStateVersion=s,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=u,r.uniformsList=null,u}function Zt(t){if(null===t.uniformsList){const e=t.currentProgram.getUniforms();t.uniformsList=$i.seqWithValue(e.seq,t.uniforms)}return t.uniformsList}function Jt(t,e){const n=st.get(t);n.outputColorSpace=e.outputColorSpace,n.batching=e.batching,n.batchingColor=e.batchingColor,n.instancing=e.instancing,n.instancingColor=e.instancingColor,n.instancingMorph=e.instancingMorph,n.skinning=e.skinning,n.morphTargets=e.morphTargets,n.morphNormals=e.morphNormals,n.morphColors=e.morphColors,n.morphTargetsCount=e.morphTargetsCount,n.numClippingPlanes=e.numClippingPlanes,n.numIntersection=e.numClipIntersection,n.vertexAlphas=e.vertexAlphas,n.vertexTangents=e.vertexTangents,n.toneMapping=e.toneMapping}Vt.setAnimationLoop((function(t){zt&&zt(t)})),"undefined"!=typeof self&&Vt.setContext(self),this.setAnimationLoop=function(t){zt=t,Lt.setAnimationLoop(t),null===t?Vt.stop():Vt.start()},Lt.addEventListener("sessionstart",Ht),Lt.addEventListener("sessionend",jt),this.render=function(t,e){if(void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===S)return;if(!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),null===e.parent&&!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),!0===Lt.enabled&&!0===Lt.isPresenting&&(!0===Lt.cameraAutoUpdate&&Lt.updateCamera(e),e=Lt.getCamera()),!0===t.isScene&&t.onBeforeRender(x,t,e,C),y=yt.get(t,_.length),y.init(e),_.push(y),K.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),V.setFromProjectionMatrix(K),Y=this.localClippingEnabled,X=bt.init(this.clippingPlanes,Y),v=gt.get(t,b.length),v.init(),b.push(v),!0===Lt.enabled&&!0===Lt.isPresenting){const t=x.xr.getDepthSensingMesh();null!==t&&Xt(t,e,-1/0,x.sortObjects)}Xt(t,e,0,x.sortObjects),v.finish(),!0===x.sortObjects&&v.sort(U,G),tt=!1===Lt.enabled||!1===Lt.isPresenting||!1===Lt.hasDepthSensing(),tt&&xt.addToRenderList(v,t),this.info.render.frame++,!0===X&&bt.beginShadows();const n=y.state.shadowsArray;_t.render(n,t,e),!0===X&&bt.endShadows(),!0===this.info.autoReset&&this.info.reset();const r=v.opaque,i=v.transmissive;if(y.setupLights(),e.isArrayCamera){const n=e.cameras;if(i.length>0)for(let e=0,o=n.length;e<o;e++){qt(r,i,t,n[e])}tt&&xt.render(t);for(let e=0,r=n.length;e<r;e++){const r=n[e];Wt(v,t,r,r.viewport)}}else i.length>0&&qt(r,i,t,e),tt&&xt.render(t),Wt(v,t,e);null!==C&&(at.updateMultisampleRenderTarget(C),at.updateRenderTargetMipmap(C)),!0===t.isScene&&t.onAfterRender(x,t,e),Mt.resetDefaultState(),P=-1,D=null,_.pop(),_.length>0?(y=_[_.length-1],!0===X&&bt.setGlobalState(x.clippingPlanes,y.state.camera)):y=null,b.pop(),v=b.length>0?b[b.length-1]:null},this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(t,e,n){st.get(t.texture).__webglTexture=e,st.get(t.depthTexture).__webglTexture=n;const r=st.get(t);r.__hasExternalTextures=!0,r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===nt.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(t,e){const n=st.get(t);n.__webglFramebuffer=e,n.__useDefaultFramebuffer=void 0===e},this.setRenderTarget=function(t,e=0,n=0){C=t,A=e,M=n;let r=!0,i=null,o=!1,s=!1;if(t){const a=st.get(t);if(void 0!==a.__useDefaultFramebuffer)it.bindFramebuffer(Pt.FRAMEBUFFER,null),r=!1;else if(void 0===a.__webglFramebuffer)at.setupRenderTarget(t);else if(a.__hasExternalTextures)at.rebindTextures(t,st.get(t.texture).__webglTexture,st.get(t.depthTexture).__webglTexture);else if(t.depthBuffer){const e=t.depthTexture;if(a.__boundDepthTexture!==e){if(null!==e&&st.has(e)&&(t.width!==e.image.width||t.height!==e.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");at.setupDepthRenderbuffer(t)}}const l=t.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(s=!0);const c=st.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=Array.isArray(c[e])?c[e][n]:c[e],o=!0):i=t.samples>0&&!1===at.useMultisampledRTT(t)?st.get(t).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,R.copy(t.viewport),O.copy(t.scissor),I=t.scissorTest}else R.copy(z).multiplyScalar(B).floor(),O.copy(H).multiplyScalar(B).floor(),I=j;if(it.bindFramebuffer(Pt.FRAMEBUFFER,i)&&r&&it.drawBuffers(t,i),it.viewport(R),it.scissor(O),it.setScissorTest(I),o){const r=st.get(t.texture);Pt.framebufferTexture2D(Pt.FRAMEBUFFER,Pt.COLOR_ATTACHMENT0,Pt.TEXTURE_CUBE_MAP_POSITIVE_X+e,r.__webglTexture,n)}else if(s){const r=st.get(t.texture),i=e||0;Pt.framebufferTextureLayer(Pt.FRAMEBUFFER,Pt.COLOR_ATTACHMENT0,r.__webglTexture,n||0,i)}P=-1},this.readRenderTargetPixels=function(t,e,n,r,i,o,s){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=st.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){it.bindFramebuffer(Pt.FRAMEBUFFER,a);try{const s=t.texture,a=s.format,l=s.type;if(!rt.textureFormatReadable(a))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!rt.textureTypeReadable(l))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&Pt.readPixels(e,n,r,i,At.convert(a),At.convert(l),o)}finally{const t=null!==C?st.get(C).__webglFramebuffer:null;it.bindFramebuffer(Pt.FRAMEBUFFER,t)}}},this.readRenderTargetPixelsAsync=async function(t,e,n,r,i,o,s){if(!t||!t.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=st.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){const s=t.texture,l=s.format,c=s.type;if(!rt.textureFormatReadable(l))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!rt.textureTypeReadable(c))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i){it.bindFramebuffer(Pt.FRAMEBUFFER,a);const t=Pt.createBuffer();Pt.bindBuffer(Pt.PIXEL_PACK_BUFFER,t),Pt.bufferData(Pt.PIXEL_PACK_BUFFER,o.byteLength,Pt.STREAM_READ),Pt.readPixels(e,n,r,i,At.convert(l),At.convert(c),0);const s=null!==C?st.get(C).__webglFramebuffer:null;it.bindFramebuffer(Pt.FRAMEBUFFER,s);const u=Pt.fenceSync(Pt.SYNC_GPU_COMMANDS_COMPLETE,0);return Pt.flush(),await function(t,e,n){return new Promise((function(r,i){setTimeout((function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}),n)}))}(Pt,u,4),Pt.bindBuffer(Pt.PIXEL_PACK_BUFFER,t),Pt.getBufferSubData(Pt.PIXEL_PACK_BUFFER,0,o),Pt.deleteBuffer(t),Pt.deleteSync(u),o}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(t,e=null,n=0){!0!==t.isTexture&&(vt("WebGLRenderer: copyFramebufferToTexture function signature has changed."),e=arguments[0]||null,t=arguments[1]);const r=Math.pow(2,-n),i=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r),s=null!==e?e.x:0,a=null!==e?e.y:0;at.setTexture2D(t,0),Pt.copyTexSubImage2D(Pt.TEXTURE_2D,n,0,0,s,a,i,o),it.unbindTexture()},this.copyTextureToTexture=function(t,e,n=null,r=null,i=0){let o,s,a,l,c,u;!0!==t.isTexture&&(vt("WebGLRenderer: copyTextureToTexture function signature has changed."),r=arguments[0]||null,t=arguments[1],e=arguments[2],i=arguments[3]||0,n=null),null!==n?(o=n.max.x-n.min.x,s=n.max.y-n.min.y,a=n.min.x,l=n.min.y):(o=t.image.width,s=t.image.height,a=0,l=0),null!==r?(c=r.x,u=r.y):(c=0,u=0);const h=At.convert(e.format),p=At.convert(e.type);at.setTexture2D(e,0),Pt.pixelStorei(Pt.UNPACK_FLIP_Y_WEBGL,e.flipY),Pt.pixelStorei(Pt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),Pt.pixelStorei(Pt.UNPACK_ALIGNMENT,e.unpackAlignment);const d=Pt.getParameter(Pt.UNPACK_ROW_LENGTH),f=Pt.getParameter(Pt.UNPACK_IMAGE_HEIGHT),m=Pt.getParameter(Pt.UNPACK_SKIP_PIXELS),g=Pt.getParameter(Pt.UNPACK_SKIP_ROWS),v=Pt.getParameter(Pt.UNPACK_SKIP_IMAGES),y=t.isCompressedTexture?t.mipmaps[i]:t.image;Pt.pixelStorei(Pt.UNPACK_ROW_LENGTH,y.width),Pt.pixelStorei(Pt.UNPACK_IMAGE_HEIGHT,y.height),Pt.pixelStorei(Pt.UNPACK_SKIP_PIXELS,a),Pt.pixelStorei(Pt.UNPACK_SKIP_ROWS,l),t.isDataTexture?Pt.texSubImage2D(Pt.TEXTURE_2D,i,c,u,o,s,h,p,y.data):t.isCompressedTexture?Pt.compressedTexSubImage2D(Pt.TEXTURE_2D,i,c,u,y.width,y.height,h,y.data):Pt.texSubImage2D(Pt.TEXTURE_2D,i,c,u,o,s,h,p,y),Pt.pixelStorei(Pt.UNPACK_ROW_LENGTH,d),Pt.pixelStorei(Pt.UNPACK_IMAGE_HEIGHT,f),Pt.pixelStorei(Pt.UNPACK_SKIP_PIXELS,m),Pt.pixelStorei(Pt.UNPACK_SKIP_ROWS,g),Pt.pixelStorei(Pt.UNPACK_SKIP_IMAGES,v),0===i&&e.generateMipmaps&&Pt.generateMipmap(Pt.TEXTURE_2D),it.unbindTexture()},this.copyTextureToTexture3D=function(t,e,n=null,r=null,i=0){let o,s,a,l,c,u,h,p,d;!0!==t.isTexture&&(vt("WebGLRenderer: copyTextureToTexture3D function signature has changed."),n=arguments[0]||null,r=arguments[1]||null,t=arguments[2],e=arguments[3],i=arguments[4]||0);const f=t.isCompressedTexture?t.mipmaps[i]:t.image;null!==n?(o=n.max.x-n.min.x,s=n.max.y-n.min.y,a=n.max.z-n.min.z,l=n.min.x,c=n.min.y,u=n.min.z):(o=f.width,s=f.height,a=f.depth,l=0,c=0,u=0),null!==r?(h=r.x,p=r.y,d=r.z):(h=0,p=0,d=0);const m=At.convert(e.format),g=At.convert(e.type);let v;if(e.isData3DTexture)at.setTexture3D(e,0),v=Pt.TEXTURE_3D;else{if(!e.isDataArrayTexture&&!e.isCompressedArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");at.setTexture2DArray(e,0),v=Pt.TEXTURE_2D_ARRAY}Pt.pixelStorei(Pt.UNPACK_FLIP_Y_WEBGL,e.flipY),Pt.pixelStorei(Pt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),Pt.pixelStorei(Pt.UNPACK_ALIGNMENT,e.unpackAlignment);const y=Pt.getParameter(Pt.UNPACK_ROW_LENGTH),b=Pt.getParameter(Pt.UNPACK_IMAGE_HEIGHT),_=Pt.getParameter(Pt.UNPACK_SKIP_PIXELS),x=Pt.getParameter(Pt.UNPACK_SKIP_ROWS),w=Pt.getParameter(Pt.UNPACK_SKIP_IMAGES);Pt.pixelStorei(Pt.UNPACK_ROW_LENGTH,f.width),Pt.pixelStorei(Pt.UNPACK_IMAGE_HEIGHT,f.height),Pt.pixelStorei(Pt.UNPACK_SKIP_PIXELS,l),Pt.pixelStorei(Pt.UNPACK_SKIP_ROWS,c),Pt.pixelStorei(Pt.UNPACK_SKIP_IMAGES,u),t.isDataTexture||t.isData3DTexture?Pt.texSubImage3D(v,i,h,p,d,o,s,a,m,g,f.data):e.isCompressedArrayTexture?Pt.compressedTexSubImage3D(v,i,h,p,d,o,s,a,m,f.data):Pt.texSubImage3D(v,i,h,p,d,o,s,a,m,g,f),Pt.pixelStorei(Pt.UNPACK_ROW_LENGTH,y),Pt.pixelStorei(Pt.UNPACK_IMAGE_HEIGHT,b),Pt.pixelStorei(Pt.UNPACK_SKIP_PIXELS,_),Pt.pixelStorei(Pt.UNPACK_SKIP_ROWS,x),Pt.pixelStorei(Pt.UNPACK_SKIP_IMAGES,w),0===i&&e.generateMipmaps&&Pt.generateMipmap(v),it.unbindTexture()},this.initRenderTarget=function(t){void 0===st.get(t).__webglFramebuffer&&at.setupRenderTarget(t)},this.initTexture=function(t){t.isCubeTexture?at.setTextureCube(t,0):t.isData3DTexture?at.setTexture3D(t,0):t.isDataArrayTexture||t.isCompressedArrayTexture?at.setTexture2DArray(t,0):at.setTexture2D(t,0),it.unbindTexture()},this.resetState=function(){A=0,M=0,C=null,it.reset(),Mt.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return 2e3}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=t===Y?"display-p3":"srgb",e.unpackColorSpace=wt.workingColorSpace===$?"display-p3":"srgb"}}class Ko extends Ge{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ee,this.environmentIntensity=1,this.environmentRotation=new Ee,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class Zo{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=35044,this.updateRanges=[],this.version=0,this.uuid=rt()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=rt()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=rt()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Jo=new Nt;class Qo{constructor(t,e,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)Jo.fromBufferAttribute(this,e),Jo.applyMatrix4(t),this.setXYZ(e,Jo.x,Jo.y,Jo.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)Jo.fromBufferAttribute(this,e),Jo.applyNormalMatrix(t),this.setXYZ(e,Jo.x,Jo.y,Jo.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)Jo.fromBufferAttribute(this,e),Jo.transformDirection(t),this.setXYZ(e,Jo.x,Jo.y,Jo.z);return this}getComponent(t,e){let n=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(n=at(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=lt(n,this.array)),this.data.array[t*this.data.stride+this.offset+e]=n,this}setX(t,e){return this.normalized&&(e=lt(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=lt(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=lt(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=lt(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=at(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=at(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=at(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=at(e,this.array)),e}setXY(t,e,n){return t=t*this.data.stride+this.offset,this.normalized&&(e=lt(e,this.array),n=lt(n,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=lt(e,this.array),n=lt(n,this.array),r=lt(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this}setXYZW(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=lt(e,this.array),n=lt(n,this.array),r=lt(r,this.array),i=lt(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new dn(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Qo(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const ts=new Nt,es=new Rt,ns=new Rt,rs=new Nt,is=new de,os=new Nt,ss=new ie,as=new de,ls=new pe;class cs extends Fn{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new de,this.bindMatrixInverse=new de,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;null===this.boundingBox&&(this.boundingBox=new Gt),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let t=0;t<e.count;t++)this.getVertexPosition(t,os),this.boundingBox.expandByPoint(os)}computeBoundingSphere(){const t=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new ie),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let t=0;t<e.count;t++)this.getVertexPosition(t,os),this.boundingSphere.expandByPoint(os)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),ss.copy(this.boundingSphere),ss.applyMatrix4(r),!1!==t.ray.intersectsSphere(ss)&&(as.copy(r).invert(),ls.copy(t.ray).applyMatrix4(as),null!==this.boundingBox&&!1===ls.intersectsBox(this.boundingBox)||this._computeIntersections(t,e,ls)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new Rt,e=this.geometry.attributes.skinWeight;for(let n=0,r=e.count;n<r;n++){t.fromBufferAttribute(e,n);const r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const n=this.skeleton,r=this.geometry;es.fromBufferAttribute(r.attributes.skinIndex,t),ns.fromBufferAttribute(r.attributes.skinWeight,t),ts.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let t=0;t<4;t++){const r=ns.getComponent(t);if(0!==r){const i=es.getComponent(t);is.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),e.addScaledVector(rs.copy(ts).applyMatrix4(is),r)}}return e.applyMatrix4(this.bindMatrixInverse)}}class us extends Ge{constructor(){super(),this.isBone=!0,this.type="Bone"}}class hs extends Dt{constructor(t=null,e=1,n=1,r,i,o,s,a,l=v,c=v,u,h){super(null,o,s,a,l,c,r,i,u,h),this.isDataTexture=!0,this.image={data:t,width:e,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ps=new de,ds=new de;class fs{constructor(t=[],e=[]){this.uuid=rt(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new de)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new de;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}}update(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let r=0,i=t.length;r<i;r++){const i=t[r]?t[r].matrixWorld:ds;ps.multiplyMatrices(i,e[r]),ps.toArray(n,16*r)}null!==r&&(r.needsUpdate=!0)}clone(){return new fs(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=4*Math.ceil(t/4),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const n=new hs(e,t,t,M,S);return n.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=n,this}getBoneByName(t){for(let e=0,n=this.bones.length;e<n;e++){const n=this.bones[e];if(n.name===t)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let n=0,r=t.bones.length;n<r;n++){const r=t.bones[n];let i=e[r];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),i=new us),this.bones.push(i),this.boneInverses.push((new de).fromArray(t.boneInverses[n]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let r=0,i=e.length;r<i;r++){const i=e[r];t.bones.push(i.uuid);const o=n[r];t.boneInverses.push(o.toArray())}return t}}class ms extends dn{constructor(t,e,n,r=1){super(t,e,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const gs=new de,vs=new de,ys=[],bs=new Gt,_s=new de,xs=new Fn,ws=new ie;class Es extends Fn{constructor(t,e,n){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new ms(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let t=0;t<n;t++)this.setMatrixAt(t,_s)}computeBoundingBox(){const t=this.geometry,e=this.count;null===this.boundingBox&&(this.boundingBox=new Gt),null===t.boundingBox&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<e;n++)this.getMatrixAt(n,gs),bs.copy(t.boundingBox).applyMatrix4(gs),this.boundingBox.union(bs)}computeBoundingSphere(){const t=this.geometry,e=this.count;null===this.boundingSphere&&(this.boundingSphere=new ie),null===t.boundingSphere&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<e;n++)this.getMatrixAt(n,gs),ws.copy(t.boundingSphere).applyMatrix4(gs),this.boundingSphere.union(ws)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),null!==t.morphTexture&&(this.morphTexture=t.morphTexture.clone()),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}getMorphAt(t,e){const n=e.morphTargetInfluences,r=this.morphTexture.source.data.data,i=t*(n.length+1)+1;for(let t=0;t<n.length;t++)n[t]=r[i+t]}raycast(t,e){const n=this.matrixWorld,r=this.count;if(xs.geometry=this.geometry,xs.material=this.material,void 0!==xs.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),ws.copy(this.boundingSphere),ws.applyMatrix4(n),!1!==t.ray.intersectsSphere(ws)))for(let i=0;i<r;i++){this.getMatrixAt(i,gs),vs.multiplyMatrices(n,gs),xs.matrixWorld=vs,xs.raycast(t,ys);for(let t=0,n=ys.length;t<n;t++){const n=ys[t];n.instanceId=i,n.object=this,e.push(n)}ys.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new ms(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}setMorphAt(t,e){const n=e.morphTargetInfluences,r=n.length+1;null===this.morphTexture&&(this.morphTexture=new hs(new Float32Array(r*this.count),r,this.count,C,S));const i=this.morphTexture.source.data.data;let o=0;for(let t=0;t<n.length;t++)o+=n[t];const s=this.geometry.morphTargetsRelative?1:1-o,a=r*t;i[a]=s,i.set(n,a+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}class Ss extends cn{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new sn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const Ts=new Nt,As=new Nt,Ms=new de,Cs=new pe,Ps=new ie,Ds=new Nt,Rs=new Nt;class Os extends Ge{constructor(t=new Sn,e=new Ss){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,n=[0];for(let t=1,r=e.count;t<r;t++)Ts.fromBufferAttribute(e,t-1),As.fromBufferAttribute(e,t),n[t]=n[t-1],n[t]+=Ts.distanceTo(As);t.setAttribute("lineDistance",new gn(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const n=this.geometry,r=this.matrixWorld,i=t.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ps.copy(n.boundingSphere),Ps.applyMatrix4(r),Ps.radius+=i,!1===t.ray.intersectsSphere(Ps))return;Ms.copy(r).invert(),Cs.copy(t.ray).applyMatrix4(Ms);const s=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=this.isLineSegments?2:1,c=n.index,u=n.attributes.position;if(null!==c){const n=Math.max(0,o.start),r=Math.min(c.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=l){const n=c.getX(i),r=c.getX(i+1),o=Is(this,t,Cs,a,n,r);o&&e.push(o)}if(this.isLineLoop){const i=c.getX(r-1),o=c.getX(n),s=Is(this,t,Cs,a,i,o);s&&e.push(s)}}else{const n=Math.max(0,o.start),r=Math.min(u.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=l){const n=Is(this,t,Cs,a,i,i+1);n&&e.push(n)}if(this.isLineLoop){const i=Is(this,t,Cs,a,r-1,n);i&&e.push(i)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=n.length;t<e;t++){const e=n[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}function Is(t,e,n,r,i,o){const s=t.geometry.attributes.position;Ts.fromBufferAttribute(s,i),As.fromBufferAttribute(s,o);if(n.distanceSqToSegment(Ts,As,Ds,Rs)>r)return;Ds.applyMatrix4(t.matrixWorld);const a=e.ray.origin.distanceTo(Ds);return a<e.near||a>e.far?void 0:{distance:a,point:Rs.clone().applyMatrix4(t.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:t}}const Ls=new Nt,ks=new Nt;class Fs extends Os{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,n=[];for(let t=0,r=e.count;t<r;t+=2)Ls.fromBufferAttribute(e,t),ks.fromBufferAttribute(e,t+1),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+Ls.distanceTo(ks);t.setAttribute("lineDistance",new gn(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Ns extends Os{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class Bs extends cn{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new sn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const Us=new de,Gs=new pe,zs=new ie,Hs=new Nt;class js extends Ge{constructor(t=new Sn,e=new Bs){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const n=this.geometry,r=this.matrixWorld,i=t.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),zs.copy(n.boundingSphere),zs.applyMatrix4(r),zs.radius+=i,!1===t.ray.intersectsSphere(zs))return;Us.copy(r).invert(),Gs.copy(t.ray).applyMatrix4(Us);const s=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=n.index,c=n.attributes.position;if(null!==l){for(let n=Math.max(0,o.start),i=Math.min(l.count,o.start+o.count);n<i;n++){const i=l.getX(n);Hs.fromBufferAttribute(c,i),Vs(Hs,i,a,r,t,e,this)}}else{for(let n=Math.max(0,o.start),i=Math.min(c.count,o.start+o.count);n<i;n++)Hs.fromBufferAttribute(c,n),Vs(Hs,n,a,r,t,e,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=n.length;t<e;t++){const e=n[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}function Vs(t,e,n,r,i,o,s){const a=Gs.distanceSqToPoint(t);if(a<n){const n=new Nt;Gs.closestPointToPoint(t,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;o.push({distance:l,distanceToRay:Math.sqrt(a),point:n,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class Xs extends Dt{constructor(t,e,n,r,i,o,s,a,l){super(t,e,n,r,i,o,s,a,l),this.isVideoTexture=!0,this.minFilter=void 0!==o?o:_,this.magFilter=void 0!==i?i:_,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback((function e(){c.needsUpdate=!0,t.requestVideoFrameCallback(e)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;!1==="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Ws extends Dt{constructor(t,e,n,r,i,o,s,a,l,c,u,h){super(null,o,s,a,l,c,r,i,u,h),this.isCompressedTexture=!0,this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class qs extends Ws{constructor(t,e,n,r,i,o){super(t,e,n,i,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=m,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class Ys extends Ws{constructor(t,e,n){super(void 0,t[0].width,t[0].height,e,n,301),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class $s extends Dt{constructor(t,e,n,r,i,o,s,a,l){super(t,e,n,r,i,o,s,a,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ks extends jn{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Zs extends cn{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new sn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new sn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ee,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Js extends Zs{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ut(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return it(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new sn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new sn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new sn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}function Qs(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)}function ta(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ea(t){const e=t.length,n=new Array(e);for(let t=0;t!==e;++t)n[t]=t;return n.sort((function(e,n){return t[e]-t[n]})),n}function na(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,s=0;s!==r;++o){const r=n[o]*e;for(let n=0;n!==e;++n)i[s++]=t[r+n]}return i}function ra(t,e,n,r){let i=1,o=t[0];for(;void 0!==o&&void 0===o[r];)o=t[i++];if(void 0===o)return;let s=o[r];if(void 0!==s)if(Array.isArray(s))do{s=o[r],void 0!==s&&(e.push(o.time),n.push.apply(n,s)),o=t[i++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[r],void 0!==s&&(e.push(o.time),s.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{s=o[r],void 0!==s&&(e.push(o.time),n.push(s)),o=t[i++]}while(void 0!==o)}class ia{constructor(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{let o;n:{r:if(!(t<r)){for(let o=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,r=e[++n],t<r)break e}o=e.length;break n}if(t>=i)break t;{const s=e[1];t<s&&(n=2,i=s);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===o)break;if(r=i,i=e[--n-1],t>=i)break e}o=n,n=0}}for(;n<o;){const r=n+o>>>1;t<e[r]?o=r:n=r+1}if(r=e[n],i=e[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r;for(let t=0;t!==r;++t)e[t]=n[i+t];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class oa extends ia{constructor(t,e,n,r){super(t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(t,e,n){const r=this.parameterPositions;let i=t-2,o=t+1,s=r[i],a=r[o];if(void 0===s)switch(this.getSettings_().endingStart){case 2401:i=t,s=2*e-n;break;case 2402:i=r.length-2,s=e+r[i]-r[i+1];break;default:i=t,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case 2401:o=t,a=2*n-e;break;case 2402:o=1,a=n+r[1]-r[0];break;default:o=t-1,a=e}const l=.5*(n-e),c=this.valueSize;this._weightPrev=l/(e-s),this._weightNext=l/(a-n),this._offsetPrev=i*c,this._offsetNext=o*c}interpolate_(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,l=a-s,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,p=this._weightNext,d=(n-e)/(r-e),f=d*d,m=f*d,g=-h*m+2*h*f-h*d,v=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,b=p*m-p*f;for(let t=0;t!==s;++t)i[t]=g*o[c+t]+v*o[l+t]+y*o[a+t]+b*o[u+t];return i}}class sa extends ia{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,l=a-s,c=(n-e)/(r-e),u=1-c;for(let t=0;t!==s;++t)i[t]=o[l+t]*u+o[a+t]*c;return i}}class aa extends ia{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class la{constructor(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Qs(e,this.TimeBufferType),this.values=Qs(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:Qs(t.times,Array),values:Qs(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new aa(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new sa(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new oa(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case G:e=this.InterpolantFactoryMethodDiscrete;break;case z:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return G;case this.InterpolantFactoryMethodLinear:return z;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]*=t}return this}trim(t,e){const n=this.times,r=n.length;let i=0,o=r-1;for(;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const t=this.getValueSize();this.times=n.slice(i,o),this.values=this.values.slice(i*t,o*t)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let e=0;e!==i;e++){const r=n[e];if("number"==typeof r&&isNaN(r)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,e,r),t=!1;break}if(null!==o&&o>r){console.error("THREE.KeyframeTrack: Out of order keys.",this,e,r,o),t=!1;break}o=r}if(void 0!==r&&ta(r))for(let e=0,n=r.length;e!==n;++e){const n=r[e];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,e,n),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),n=this.getValueSize(),r=2302===this.getInterpolation(),i=t.length-1;let o=1;for(let s=1;s<i;++s){let i=!1;const a=t[s];if(a!==t[s+1]&&(1!==s||a!==t[0]))if(r)i=!0;else{const t=s*n,r=t-n,o=t+n;for(let s=0;s!==n;++s){const n=e[t+s];if(n!==e[r+s]||n!==e[o+s]){i=!0;break}}}if(i){if(s!==o){t[o]=t[s];const r=s*n,i=o*n;for(let t=0;t!==n;++t)e[i+t]=e[r+t]}++o}}if(i>0){t[o]=t[i];for(let t=i*n,r=o*n,s=0;s!==n;++s)e[r+s]=e[t+s];++o}return o!==t.length?(this.times=t.slice(0,o),this.values=e.slice(0,o*n)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}la.prototype.TimeBufferType=Float32Array,la.prototype.ValueBufferType=Float32Array,la.prototype.DefaultInterpolation=z;class ca extends la{constructor(t,e,n){super(t,e,n)}}ca.prototype.ValueTypeName="bool",ca.prototype.ValueBufferType=Array,ca.prototype.DefaultInterpolation=G,ca.prototype.InterpolantFactoryMethodLinear=void 0,ca.prototype.InterpolantFactoryMethodSmooth=void 0;class ua extends la{}ua.prototype.ValueTypeName="color";class ha extends la{}ha.prototype.ValueTypeName="number";class pa extends ia{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-e)/(r-e);let l=t*s;for(let t=l+s;l!==t;l+=4)Ft.slerpFlat(i,0,o,l-s,o,l,a);return i}}class da extends la{InterpolantFactoryMethodLinear(t){return new pa(this.times,this.values,this.getValueSize(),t)}}da.prototype.ValueTypeName="quaternion",da.prototype.InterpolantFactoryMethodSmooth=void 0;class fa extends la{constructor(t,e,n){super(t,e,n)}}fa.prototype.ValueTypeName="string",fa.prototype.ValueBufferType=Array,fa.prototype.DefaultInterpolation=G,fa.prototype.InterpolantFactoryMethodLinear=void 0,fa.prototype.InterpolantFactoryMethodSmooth=void 0;class ma extends la{}ma.prototype.ValueTypeName="vector";class ga{constructor(t="",e=-1,n=[],r=2500){this.name=t,this.tracks=n,this.duration=e,this.blendMode=r,this.uuid=rt(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],n=t.tracks,r=1/(t.fps||1);for(let t=0,i=n.length;t!==i;++t)e.push(va(n[t]).scale(r));const i=new this(t.name,t.duration,e,t.blendMode);return i.uuid=t.uuid,i}static toJSON(t){const e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let t=0,r=n.length;t!==r;++t)e.push(la.toJSON(n[t]));return r}static CreateFromMorphTargetSequence(t,e,n,r){const i=e.length,o=[];for(let t=0;t<i;t++){let s=[],a=[];s.push((t+i-1)%i,t,(t+1)%i),a.push(0,1,0);const l=ea(s);s=na(s,1,l),a=na(a,1,l),r||0!==s[0]||(s.push(i),a.push(a[0])),o.push(new ha(".morphTargetInfluences["+e[t].name+"]",s,a).scale(1/n))}return new this(t,-1,o)}static findByName(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let t=0;t<n.length;t++)if(n[t].name===e)return n[t];return null}static CreateClipsFromMorphTargetSequences(t,e,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let e=0,n=t.length;e<n;e++){const n=t[e],o=n.name.match(i);if(o&&o.length>1){const t=o[1];let e=r[t];e||(r[t]=e=[]),e.push(n)}}const o=[];for(const t in r)o.push(this.CreateFromMorphTargetSequence(t,r[t],e,n));return o}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(t,e,n,r,i){if(0!==n.length){const o=[],s=[];ra(n,o,s,r),0!==o.length&&i.push(new t(e,o,s))}},r=[],i=t.name||"default",o=t.fps||30,s=t.blendMode;let a=t.length||-1;const l=t.hierarchy||[];for(let t=0;t<l.length;t++){const i=l[t].keys;if(i&&0!==i.length)if(i[0].morphTargets){const t={};let e;for(e=0;e<i.length;e++)if(i[e].morphTargets)for(let n=0;n<i[e].morphTargets.length;n++)t[i[e].morphTargets[n]]=-1;for(const n in t){const t=[],o=[];for(let r=0;r!==i[e].morphTargets.length;++r){const r=i[e];t.push(r.time),o.push(r.morphTarget===n?1:0)}r.push(new ha(".morphTargetInfluence["+n+"]",t,o))}a=t.length*o}else{const o=".bones["+e[t].name+"]";n(ma,o+".position",i,"pos",r),n(da,o+".quaternion",i,"rot",r),n(ma,o+".scale",i,"scl",r)}}if(0===r.length)return null;return new this(i,a,r,s)}resetDuration(){let t=0;for(let e=0,n=this.tracks.length;e!==n;++e){const n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function va(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ha;case"vector":case"vector2":case"vector3":case"vector4":return ma;case"color":return ua;case"quaternion":return da;case"bool":case"boolean":return ca;case"string":return fa}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],n=[];ra(t.keys,e,n,"value"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const ya={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class ba{constructor(t,e,n){const r=this;let i=!1,o=0,s=0,a=void 0;const l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){s++,!1===i&&void 0!==r.onStart&&r.onStart(t,o,s),i=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,s),o===s&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return a?a(t):t},this.setURLModifier=function(t){return a=t,this},this.addHandler=function(t,e){return l.push(t,e),this},this.removeHandler=function(t){const e=l.indexOf(t);return-1!==e&&l.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=l.length;e<n;e+=2){const n=l[e],r=l[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return r}return null}}}const _a=new ba;class xa{constructor(t){this.manager=void 0!==t?t:_a,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise((function(r,i){n.load(t,r,e,i)}))}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}xa.DEFAULT_MATERIAL_NAME="__DEFAULT";const wa={};class Ea extends Error{constructor(t,e){super(t),this.response=e}}class Sa extends xa{constructor(t){super(t)}load(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=ya.get(t);if(void 0!==i)return this.manager.itemStart(t),setTimeout(()=>{e&&e(i),this.manager.itemEnd(t)},0),i;if(void 0!==wa[t])return void wa[t].push({onLoad:e,onProgress:n,onError:r});wa[t]=[],wa[t].push({onLoad:e,onProgress:n,onError:r});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,a=this.responseType;fetch(o).then(e=>{if(200===e.status||0===e.status){if(0===e.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===e.body||void 0===e.body.getReader)return e;const n=wa[t],r=e.body.getReader(),i=e.headers.get("X-File-Size")||e.headers.get("Content-Length"),o=i?parseInt(i):0,s=0!==o;let a=0;const l=new ReadableStream({start(t){!function e(){r.read().then(({done:r,value:i})=>{if(r)t.close();else{a+=i.byteLength;const r=new ProgressEvent("progress",{lengthComputable:s,loaded:a,total:o});for(let t=0,e=n.length;t<e;t++){const e=n[t];e.onProgress&&e.onProgress(r)}t.enqueue(i),e()}},e=>{t.error(e)})}()}});return new Response(l)}throw new Ea(`fetch for "${e.url}" responded with ${e.status}: ${e.statusText}`,e)}).then(t=>{switch(a){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"document":return t.text().then(t=>(new DOMParser).parseFromString(t,s));case"json":return t.json();default:if(void 0===s)return t.text();{const e=/charset="?([^;"\s]*)"?/i.exec(s),n=e&&e[1]?e[1].toLowerCase():void 0,r=new TextDecoder(n);return t.arrayBuffer().then(t=>r.decode(t))}}}).then(e=>{ya.add(t,e);const n=wa[t];delete wa[t];for(let t=0,r=n.length;t<r;t++){const r=n[t];r.onLoad&&r.onLoad(e)}}).catch(e=>{const n=wa[t];if(void 0===n)throw this.manager.itemError(t),e;delete wa[t];for(let t=0,r=n.length;t<r;t++){const r=n[t];r.onError&&r.onError(e)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class Ta extends xa{constructor(t){super(t)}load(t,e,n,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=ya.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o;const s=ft("img");function a(){c(),ya.add(t,this),e&&e(this),i.manager.itemEnd(t)}function l(e){c(),r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)}function c(){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1)}return s.addEventListener("load",a,!1),s.addEventListener("error",l,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),i.manager.itemStart(t),s.src=t,s}}class Aa extends xa{constructor(t){super(t)}load(t,e,n,r){const i=new Dt,o=new Ta(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(t){i.image=t,i.needsUpdate=!0,void 0!==e&&e(i)}),n,r),i}}class Ma extends Ge{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new sn(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(e.object.target=this.target.uuid),e}}const Ca=new de,Pa=new Nt,Da=new Nt;class Ra{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ut(512,512),this.map=null,this.mapPass=null,this.matrix=new de,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ir,this._frameExtents=new ut(1,1),this._viewportCount=1,this._viewports=[new Rt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;Pa.setFromMatrixPosition(t.matrixWorld),e.position.copy(Pa),Da.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(Da),e.updateMatrixWorld(),Ca.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ca),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Ca)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 1!==this.intensity&&(t.intensity=this.intensity),0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class Oa extends Ra{constructor(){super(new Yn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,n=2*nt*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;n===e.fov&&r===e.aspect&&i===e.far||(e.fov=n,e.aspect=r,e.far=i,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class Ia extends Ma{constructor(t,e,n=0,r=Math.PI/3,i=0,o=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ge.DEFAULT_UP),this.updateMatrix(),this.target=new Ge,this.distance=n,this.angle=r,this.penumbra=i,this.decay=o,this.map=null,this.shadow=new Oa}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const La=new de,ka=new Nt,Fa=new Nt;class Na extends Ra{constructor(){super(new Yn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ut(4,2),this._viewportCount=6,this._viewports=[new Rt(2,1,1,1),new Rt(0,1,1,1),new Rt(3,1,1,1),new Rt(1,1,1,1),new Rt(3,0,1,1),new Rt(1,0,1,1)],this._cubeDirections=[new Nt(1,0,0),new Nt(-1,0,0),new Nt(0,0,1),new Nt(0,0,-1),new Nt(0,1,0),new Nt(0,-1,0)],this._cubeUps=[new Nt(0,1,0),new Nt(0,1,0),new Nt(0,1,0),new Nt(0,1,0),new Nt(0,0,1),new Nt(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,r=this.matrix,i=t.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),ka.setFromMatrixPosition(t.matrixWorld),n.position.copy(ka),Fa.copy(n.position),Fa.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(Fa),n.updateMatrixWorld(),r.makeTranslation(-ka.x,-ka.y,-ka.z),La.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(La)}}class Ba extends Ma{constructor(t,e,n=0,r=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new Na}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class Ua extends Ra{constructor(){super(new _r(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Ga extends Ma{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ge.DEFAULT_UP),this.updateMatrix(),this.target=new Ge,this.shadow=new Ua}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class za{static decodeText(t){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),"undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(t){return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}static resolveURL(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class Ha extends xa{constructor(t){super(t),this.isImageBitmapLoader=!0,"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=ya.get(t);if(void 0!==o)return i.manager.itemStart(t),o.then?void o.then(n=>{e&&e(n),i.manager.itemEnd(t)}).catch(t=>{r&&r(t)}):(setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o);const s={};s.credentials="anonymous"===this.crossOrigin?"same-origin":"include",s.headers=this.requestHeader;const a=fetch(t,s).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){return ya.add(t,n),e&&e(n),i.manager.itemEnd(t),n})).catch((function(e){r&&r(e),ya.remove(t),i.manager.itemError(t),i.manager.itemEnd(t)}));ya.add(t,a),i.manager.itemStart(t)}}class ja{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Va(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=Va();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function Va(){return performance.now()}const Xa=new RegExp("[\\[\\]\\.:\\/]","g"),Wa="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",qa=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]")+/(WCOD+)?/.source.replace("WCOD",Wa)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]")+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]")+"$"),Ya=["material","materials","bones","map"];class $a{constructor(t,e,n){this.path=e,this.parsedPath=n||$a.parseTrackName(e),this.node=$a.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,n){return t&&t.isAnimationObjectGroup?new $a.Composite(t,e,n):new $a(t,e,n)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Xa,"")}static parseTrackName(t){const e=qa.exec(t);if(null===e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const t=n.nodeName.substring(r+1);-1!==Ya.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,e){if(void 0===e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let r=0;r<t.length;r++){const i=t[r];if(i.name===e||i.uuid===e)return i;const o=n(i.children);if(o)return o}return null},r=n(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)t[e++]=n[r]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,n=e.objectName,r=e.propertyName;let i=e.propertyIndex;if(t||(t=$a.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let r=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===r){r=e;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==r){if(void 0===t[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[r]}}const o=t[r];if(void 0===o){const n=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",t)}let s=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[i]&&(i=t.morphTargetDictionary[i])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}$a.Composite=class{constructor(t,e,n){const r=n||$a.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},$a.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},$a.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},$a.prototype.GetterByBindingType=[$a.prototype._getValue_direct,$a.prototype._getValue_array,$a.prototype._getValue_arrayElement,$a.prototype._getValue_toArray],$a.prototype.SetterByBindingTypeAndVersioning=[[$a.prototype._setValue_direct,$a.prototype._setValue_direct_setNeedsUpdate,$a.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[$a.prototype._setValue_array,$a.prototype._setValue_array_setNeedsUpdate,$a.prototype._setValue_array_setMatrixWorldNeedsUpdate],[$a.prototype._setValue_arrayElement,$a.prototype._setValue_arrayElement_setNeedsUpdate,$a.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[$a.prototype._setValue_fromArray,$a.prototype._setValue_fromArray_setNeedsUpdate,$a.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];new Float32Array(1);const Ka=new de;class Za{constructor(t,e,n=0,r=1/0){this.ray=new pe(t,e),this.near=n,this.far=r,this.camera=null,this.layers=new Se,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return Ka.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Ka),this}intersectObject(t,e=!0,n=[]){return Qa(t,this,n,e),n.sort(Ja),n}intersectObjects(t,e=!0,n=[]){for(let r=0,i=t.length;r<i;r++)Qa(t[r],this,n,e);return n.sort(Ja),n}}function Ja(t,e){return t.distance-e.distance}function Qa(t,e,n,r){let i=!0;if(t.layers.test(e.layers)){!1===t.raycast(e,n)&&(i=!1)}if(!0===i&&!0===r){const r=t.children;for(let t=0,i=r.length;t<i;t++)Qa(r[t],e,n,!0)}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"169"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="169")},YBdB:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,s,a,l=1,c={},u=!1,h=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){f(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){f(t.data)},r=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(t){var e=h.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(f,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&f(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(e){t.postMessage(s+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[l]=i,r(l),l++},p.clearImmediate=d}function d(t){delete c[t]}function f(t){if(u)setTimeout(f,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{d(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n("yLpj"),n("8oxB"))},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},ZLCw:function(t,e,n){"use strict";var r=n("AM7I")("%Object.defineProperty%",!0),i=function(){if(r)try{return r({},"a",{value:1}),!0}catch(t){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==r([],"length",{value:1}).length}catch(t){return!0}},t.exports=i},"aET+":function(t,e,n){var r,i,o={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),a=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=a.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),c=null,u=0,h=[],p=n("9tPo");function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](r.parts[s]);for(;s<r.parts.length;s++)i.parts.push(b(r.parts[s],e))}else{var a=[];for(s=0;s<r.parts.length;s++)a.push(b(r.parts[s],e));o[r.id]={id:r.id,refs:1,parts:a}}}}function f(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function m(t,e){var n=l(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=h[h.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),h.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=l(t.insertAt.before,n);n.insertBefore(e,i)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=h.indexOf(t);e>=0&&h.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return y(e,t.attrs),m(t,e),e}function y(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function b(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var s=u++;n=c||(c=v(e)),r=w.bind(null,n,s,!1),i=w.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),m(t,e),e}(e),r=S.bind(null,n,e),i=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),r=E.bind(null,n),i=function(){g(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return d(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var s=n[i];(a=o[s.id]).refs--,r.push(a)}t&&d(f(t,e),e);for(i=0;i<r.length;i++){var a;if(0===(a=r[i]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete o[a.id]}}}};var _,x=(_=[],function(t,e){return _[t]=e,_.filter(Boolean).join("\n")});function w(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function E(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function S(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=p(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}},aI7X:function(t,e,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Object.prototype.toString,o=Math.max,s=function(t,e){for(var n=[],r=0;r<t.length;r+=1)n[r]=t[r];for(var i=0;i<e.length;i+=1)n[i+t.length]=e[i];return n},a=function(t,e){for(var n=[],r=e||0,i=0;r<t.length;r+=1,i+=1)n[i]=t[r];return n},l=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n};t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==i.apply(e))throw new TypeError(r+e);for(var n,c=a(arguments,1),u=function(){if(this instanceof n){var r=e.apply(this,s(c,arguments));return Object(r)===r?r:this}return e.apply(t,s(c,arguments))},h=o(0,e.length-c.length),p=[],d=0;d<h;d++)p[d]="$"+d;if(n=Function("binder","return function ("+l(p,",")+"){ return binder.apply(this,arguments); }")(u),e.prototype){var f=function(){};f.prototype=e.prototype,n.prototype=new f,f.prototype=null}return n}},eZIG:function(t,e,n){"use strict";var r=n("ZLCw")(),i=n("AM7I"),o=r&&i("%Object.defineProperty%",!0);if(o)try{o({},"a",{value:1})}catch(t){o=!1}var s=i("%SyntaxError%"),a=i("%TypeError%"),l=n("Kqna");t.exports=function(t,e,n){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new a("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],h=!!l&&l(t,e);if(o)o(t,e,{configurable:null===c&&h?h.configurable:!c,enumerable:null===r&&h?h.enumerable:!r,value:n,writable:null===i&&h?h.writable:!i});else{if(!u&&(r||i||c))throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=n}}},gZXI:function(t,e,n){var r=n("Svdd");"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,i);r.locals&&(t.exports=r.locals)},"iEc/":function(t,e,n){t.exports=function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(e),i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o=null,s=null;function a(){if(null===o){if("undefined"==typeof document)return o=0;var t=document.body,e=document.createElement("div");e.classList.add("simplebar-hide-scrollbar"),t.appendChild(e);var n=e.getBoundingClientRect().right;t.removeChild(e),o=n}return o}function l(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window}function c(t){return t&&t.ownerDocument?t.ownerDocument:document}r.default&&window.addEventListener("resize",(function(){s!==window.devicePixelRatio&&(s=window.devicePixelRatio,o=null)}));var u=function(t){return Array.prototype.reduce.call(t,(function(t,e){var n=e.name.match(/data-simplebar-(.+)/);if(n){var r=n[1].replace(/\W+(.)/g,(function(t,e){return e.toUpperCase()}));switch(e.value){case"true":t[r]=!0;break;case"false":t[r]=!1;break;case void 0:t[r]=!0;break;default:t[r]=e.value}}return t}),{})};function h(t,e){var n;t&&(n=t.classList).add.apply(n,e.split(" "))}function p(t,e){t&&e.split(" ").forEach((function(e){t.classList.remove(e)}))}function d(t){return".".concat(t.split(" ").join("."))}var f=Object.freeze({__proto__:null,getElementWindow:l,getElementDocument:c,getOptions:u,addClasses:h,removeClasses:p,classNamesToQuery:d}),m=l,g=c,v=u,y=h,b=p,_=d;return function(){function e(n,r){void 0===r&&(r={});var o=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var t=m(o.el);o.scrollXTicking||(t.requestAnimationFrame(o.scrollX),o.scrollXTicking=!0),o.scrollYTicking||(t.requestAnimationFrame(o.scrollY),o.scrollYTicking=!0),o.isScrolling||(o.isScrolling=!0,y(o.el,o.classNames.scrolling)),o.showScrollbar("x"),o.showScrollbar("y"),o.onStopScrolling()},this.scrollX=function(){o.axis.x.isOverflowing&&o.positionScrollbar("x"),o.scrollXTicking=!1},this.scrollY=function(){o.axis.y.isOverflowing&&o.positionScrollbar("y"),o.scrollYTicking=!1},this._onStopScrolling=function(){b(o.el,o.classNames.scrolling),o.options.autoHide&&(o.hideScrollbar("x"),o.hideScrollbar("y")),o.isScrolling=!1},this.onMouseEnter=function(){o.isMouseEntering||(y(o.el,o.classNames.mouseEntered),o.showScrollbar("x"),o.showScrollbar("y"),o.isMouseEntering=!0),o.onMouseEntered()},this._onMouseEntered=function(){b(o.el,o.classNames.mouseEntered),o.options.autoHide&&(o.hideScrollbar("x"),o.hideScrollbar("y")),o.isMouseEntering=!1},this._onMouseMove=function(t){o.mouseX=t.clientX,o.mouseY=t.clientY,(o.axis.x.isOverflowing||o.axis.x.forceVisible)&&o.onMouseMoveForAxis("x"),(o.axis.y.isOverflowing||o.axis.y.forceVisible)&&o.onMouseMoveForAxis("y")},this.onMouseLeave=function(){o.onMouseMove.cancel(),(o.axis.x.isOverflowing||o.axis.x.forceVisible)&&o.onMouseLeaveForAxis("x"),(o.axis.y.isOverflowing||o.axis.y.forceVisible)&&o.onMouseLeaveForAxis("y"),o.mouseX=-1,o.mouseY=-1},this._onWindowResize=function(){o.scrollbarWidth=o.getScrollbarWidth(),o.hideNativeScrollbar()},this.onPointerEvent=function(t){var e,n;o.axis.x.track.el&&o.axis.y.track.el&&o.axis.x.scrollbar.el&&o.axis.y.scrollbar.el&&(o.axis.x.track.rect=o.axis.x.track.el.getBoundingClientRect(),o.axis.y.track.rect=o.axis.y.track.el.getBoundingClientRect(),(o.axis.x.isOverflowing||o.axis.x.forceVisible)&&(e=o.isWithinBounds(o.axis.x.track.rect)),(o.axis.y.isOverflowing||o.axis.y.forceVisible)&&(n=o.isWithinBounds(o.axis.y.track.rect)),(e||n)&&(t.stopPropagation(),"pointerdown"===t.type&&"touch"!==t.pointerType&&(e&&(o.axis.x.scrollbar.rect=o.axis.x.scrollbar.el.getBoundingClientRect(),o.isWithinBounds(o.axis.x.scrollbar.rect)?o.onDragStart(t,"x"):o.onTrackClick(t,"x")),n&&(o.axis.y.scrollbar.rect=o.axis.y.scrollbar.el.getBoundingClientRect(),o.isWithinBounds(o.axis.y.scrollbar.rect)?o.onDragStart(t,"y"):o.onTrackClick(t,"y")))))},this.drag=function(t){var n,r,i,s,a,l,c,u,h,p,d;if(o.draggedAxis&&o.contentWrapperEl){var f=o.axis[o.draggedAxis].track,m=null!==(r=null===(n=f.rect)||void 0===n?void 0:n[o.axis[o.draggedAxis].sizeAttr])&&void 0!==r?r:0,g=o.axis[o.draggedAxis].scrollbar,v=null!==(s=null===(i=o.contentWrapperEl)||void 0===i?void 0:i[o.axis[o.draggedAxis].scrollSizeAttr])&&void 0!==s?s:0,y=parseInt(null!==(l=null===(a=o.elStyles)||void 0===a?void 0:a[o.axis[o.draggedAxis].sizeAttr])&&void 0!==l?l:"0px",10);t.preventDefault(),t.stopPropagation();var b=("y"===o.draggedAxis?t.pageY:t.pageX)-(null!==(u=null===(c=f.rect)||void 0===c?void 0:c[o.axis[o.draggedAxis].offsetAttr])&&void 0!==u?u:0)-o.axis[o.draggedAxis].dragOffset,_=(b="x"===o.draggedAxis&&o.isRtl?(null!==(p=null===(h=f.rect)||void 0===h?void 0:h[o.axis[o.draggedAxis].sizeAttr])&&void 0!==p?p:0)-g.size-b:b)/(m-g.size)*(v-y);"x"===o.draggedAxis&&o.isRtl&&(_=(null===(d=e.getRtlHelpers())||void 0===d?void 0:d.isScrollingToNegative)?-_:_),o.contentWrapperEl[o.axis[o.draggedAxis].scrollOffsetAttr]=_}},this.onEndDrag=function(t){var e=g(o.el),n=m(o.el);t.preventDefault(),t.stopPropagation(),b(o.el,o.classNames.dragging),e.removeEventListener("mousemove",o.drag,!0),e.removeEventListener("mouseup",o.onEndDrag,!0),o.removePreventClickId=n.setTimeout((function(){e.removeEventListener("click",o.preventClick,!0),e.removeEventListener("dblclick",o.preventClick,!0),o.removePreventClickId=null}))},this.preventClick=function(t){t.preventDefault(),t.stopPropagation()},this.el=n,this.options=i(i({},e.defaultOptions),r),this.classNames=i(i({},e.defaultOptions.classNames),r.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},"object"!=typeof this.el||!this.el.nodeName)throw new Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=t.throttle(this._onMouseMove,64),this.onWindowResize=t.debounce(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=t.debounce(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=t.debounce(this._onMouseEntered,this.stopScrollDelay),this.init()}return e.getRtlHelpers=function(){if(e.rtlHelpers)return e.rtlHelpers;var t=document.createElement("div");t.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var n=t.firstElementChild,r=null==n?void 0:n.firstElementChild;if(!r)return null;document.body.appendChild(n),n.scrollLeft=0;var i=e.getOffset(n),o=e.getOffset(r);n.scrollLeft=-999;var s=e.getOffset(r);return document.body.removeChild(n),e.rtlHelpers={isScrollOriginAtZero:i.left!==o.left,isScrollingToNegative:o.left!==s.left},e.rtlHelpers},e.prototype.getScrollbarWidth=function(){try{return this.contentWrapperEl&&"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:a()}catch(t){return a()}},e.getOffset=function(t){var e=t.getBoundingClientRect(),n=g(t),r=m(t);return{top:e.top+(r.pageYOffset||n.documentElement.scrollTop),left:e.left+(r.pageXOffset||n.documentElement.scrollLeft)}},e.prototype.init=function(){r.default&&(this.initDOM(),this.rtlHelpers=e.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},e.prototype.initDOM=function(){var t,e;this.wrapperEl=this.el.querySelector(_(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(_(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(_(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(_(this.classNames.offset)),this.maskEl=this.el.querySelector(_(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,_(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(_(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(_(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(_(this.classNames.track)).concat(_(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(_(this.classNames.track)).concat(_(this.classNames.vertical))),this.axis.x.scrollbar.el=(null===(t=this.axis.x.track.el)||void 0===t?void 0:t.querySelector(_(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=(null===(e=this.axis.y.track.el)||void 0===e?void 0:e.querySelector(_(this.classNames.scrollbar)))||null,this.options.autoHide||(y(this.axis.x.scrollbar.el,this.classNames.visible),y(this.axis.y.scrollbar.el,this.classNames.visible))},e.prototype.initListeners=function(){var t,e=this,n=m(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),null===(t=this.contentWrapperEl)||void 0===t||t.addEventListener("scroll",this.onScroll),n.addEventListener("resize",this.onWindowResize),this.contentEl){if(window.ResizeObserver){var r=!1,i=n.ResizeObserver||ResizeObserver;this.resizeObserver=new i((function(){r&&n.requestAnimationFrame((function(){e.recalculate()}))})),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),n.requestAnimationFrame((function(){r=!0}))}this.mutationObserver=new n.MutationObserver((function(){n.requestAnimationFrame((function(){e.recalculate()}))})),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},e.prototype.recalculate=function(){if(this.heightAutoObserverEl&&this.contentEl&&this.contentWrapperEl&&this.wrapperEl&&this.placeholderEl){var t=m(this.el);this.elStyles=t.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var e=this.contentEl.offsetWidth,n=this.heightAutoObserverEl.offsetHeight<=1,r=this.heightAutoObserverEl.offsetWidth<=1||e>0,i=this.contentWrapperEl.offsetWidth,o=this.elStyles.overflowX,s=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var a=this.contentEl.scrollHeight,l=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=n?"auto":"100%",this.placeholderEl.style.width=r?"".concat(e||l,"px"):"auto",this.placeholderEl.style.height="".concat(a,"px");var c=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=0!==e&&l>e,this.axis.y.isOverflowing=a>c,this.axis.x.isOverflowing="hidden"!==o&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==s&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var u=this.axis.x.isOverflowing?this.scrollbarWidth:0,h=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&l>i-h,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&a>c-u,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},e.prototype.getScrollbarSize=function(t){var e,n;if(void 0===t&&(t="y"),!this.axis[t].isOverflowing||!this.contentEl)return 0;var r,i=this.contentEl[this.axis[t].scrollSizeAttr],o=null!==(n=null===(e=this.axis[t].track.el)||void 0===e?void 0:e[this.axis[t].offsetSizeAttr])&&void 0!==n?n:0,s=o/i;return r=Math.max(~~(s*o),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(r=Math.min(r,this.options.scrollbarMaxSize)),r},e.prototype.positionScrollbar=function(t){var n,r,i;void 0===t&&(t="y");var o=this.axis[t].scrollbar;if(this.axis[t].isOverflowing&&this.contentWrapperEl&&o.el&&this.elStyles){var s=this.contentWrapperEl[this.axis[t].scrollSizeAttr],a=(null===(n=this.axis[t].track.el)||void 0===n?void 0:n[this.axis[t].offsetSizeAttr])||0,l=parseInt(this.elStyles[this.axis[t].sizeAttr],10),c=this.contentWrapperEl[this.axis[t].scrollOffsetAttr];c="x"===t&&this.isRtl&&(null===(r=e.getRtlHelpers())||void 0===r?void 0:r.isScrollOriginAtZero)?-c:c,"x"===t&&this.isRtl&&(c=(null===(i=e.getRtlHelpers())||void 0===i?void 0:i.isScrollingToNegative)?c:-c);var u=c/(s-l),h=~~((a-o.size)*u);h="x"===t&&this.isRtl?-h+(a-o.size):h,o.el.style.transform="x"===t?"translate3d(".concat(h,"px, 0, 0)"):"translate3d(0, ".concat(h,"px, 0)")}},e.prototype.toggleTrackVisibility=function(t){void 0===t&&(t="y");var e=this.axis[t].track.el,n=this.axis[t].scrollbar.el;e&&n&&this.contentWrapperEl&&(this.axis[t].isOverflowing||this.axis[t].forceVisible?(e.style.visibility="visible",this.contentWrapperEl.style[this.axis[t].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(t))):(e.style.visibility="hidden",this.contentWrapperEl.style[this.axis[t].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(t))),this.axis[t].isOverflowing?n.style.display="block":n.style.display="none")},e.prototype.showScrollbar=function(t){void 0===t&&(t="y"),this.axis[t].isOverflowing&&!this.axis[t].scrollbar.isVisible&&(y(this.axis[t].scrollbar.el,this.classNames.visible),this.axis[t].scrollbar.isVisible=!0)},e.prototype.hideScrollbar=function(t){void 0===t&&(t="y"),this.axis[t].isOverflowing&&this.axis[t].scrollbar.isVisible&&(b(this.axis[t].scrollbar.el,this.classNames.visible),this.axis[t].scrollbar.isVisible=!1)},e.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},e.prototype.onMouseMoveForAxis=function(t){void 0===t&&(t="y");var e=this.axis[t];e.track.el&&e.scrollbar.el&&(e.track.rect=e.track.el.getBoundingClientRect(),e.scrollbar.rect=e.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(e.track.rect)?(this.showScrollbar(t),y(e.track.el,this.classNames.hover),this.isWithinBounds(e.scrollbar.rect)?y(e.scrollbar.el,this.classNames.hover):b(e.scrollbar.el,this.classNames.hover)):(b(e.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(t)))},e.prototype.onMouseLeaveForAxis=function(t){void 0===t&&(t="y"),b(this.axis[t].track.el,this.classNames.hover),b(this.axis[t].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(t)},e.prototype.onDragStart=function(t,e){var n;void 0===e&&(e="y");var r=g(this.el),i=m(this.el),o=this.axis[e].scrollbar,s="y"===e?t.pageY:t.pageX;this.axis[e].dragOffset=s-((null===(n=o.rect)||void 0===n?void 0:n[this.axis[e].offsetAttr])||0),this.draggedAxis=e,y(this.el,this.classNames.dragging),r.addEventListener("mousemove",this.drag,!0),r.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(r.addEventListener("click",this.preventClick,!0),r.addEventListener("dblclick",this.preventClick,!0)):(i.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.prototype.onTrackClick=function(t,e){var n,r,i,o,s=this;void 0===e&&(e="y");var a=this.axis[e];if(this.options.clickOnTrack&&a.scrollbar.el&&this.contentWrapperEl){t.preventDefault();var l=m(this.el);this.axis[e].scrollbar.rect=a.scrollbar.el.getBoundingClientRect();var c=null!==(r=null===(n=this.axis[e].scrollbar.rect)||void 0===n?void 0:n[this.axis[e].offsetAttr])&&void 0!==r?r:0,u=parseInt(null!==(o=null===(i=this.elStyles)||void 0===i?void 0:i[this.axis[e].sizeAttr])&&void 0!==o?o:"0px",10),h=this.contentWrapperEl[this.axis[e].scrollOffsetAttr],p=("y"===e?this.mouseY-c:this.mouseX-c)<0?-1:1,d=-1===p?h-u:h+u,f=function(){s.contentWrapperEl&&(-1===p?h>d&&(h-=40,s.contentWrapperEl[s.axis[e].scrollOffsetAttr]=h,l.requestAnimationFrame(f)):h<d&&(h+=40,s.contentWrapperEl[s.axis[e].scrollOffsetAttr]=h,l.requestAnimationFrame(f)))};f()}},e.prototype.getContentElement=function(){return this.contentEl},e.prototype.getScrollElement=function(){return this.contentWrapperEl},e.prototype.removeListeners=function(){var t=m(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},e.prototype.unMount=function(){this.removeListeners()},e.prototype.isWithinBounds=function(t){return this.mouseX>=t.left&&this.mouseX<=t.left+t.width&&this.mouseY>=t.top&&this.mouseY<=t.top+t.height},e.prototype.findChild=function(t,e){var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;return Array.prototype.filter.call(t.children,(function(t){return n.call(t,e)}))[0]},e.rtlHelpers=null,e.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},e.getOptions=v,e.helpers=f,e}()}(n("LvDl"),n("AxL3"))},lBRf:function(t,e,n){var r,i,o;!function(s){"use strict";i=[n("EVdn")],void 0===(o="function"==typeof(r=function(t){t.fn.marquee=function(e){return this.each((function(){var n,r,i,o,s,a=t.extend({},t.fn.marquee.defaults,e),l=t(this),c=3,u="animation-play-state",h=!1,p=function(t,e,n){for(var r=["webkit","moz","MS","o",""],i=0;i<r.length;i++)r[i]||(e=e.toLowerCase()),t.addEventListener(r[i]+e,n,!1)},d=function(){l.timer=setTimeout(P,a.delayBeforeStart)},f={pause:function(){h&&a.allowCss3Support?n.css(u,"paused"):t.fn.pause&&n.pause(),l.data("runningStatus","paused"),l.trigger("paused")},resume:function(){h&&a.allowCss3Support?n.css(u,"running"):t.fn.resume&&n.resume(),l.data("runningStatus","resumed"),l.trigger("resumed")},toggle:function(){f["resumed"===l.data("runningStatus")?"pause":"resume"]()},destroy:function(){clearTimeout(l.timer),l.find("*").addBack().off(),l.html(l.find(".js-marquee:first").html())}};if("string"!=typeof e){var m;t.each(a,(function(t){if(void 0!==(m=l.attr("data-"+t))){switch(m){case"true":m=!0;break;case"false":m=!1}a[t]=m}})),a.speed&&(a.duration=parseInt(l.width(),10)/a.speed*1e3),o="up"===a.direction||"down"===a.direction,a.gap=a.duplicated?parseInt(a.gap):0,l.wrapInner('<div class="js-marquee"></div>');var g=l.find(".js-marquee").css({"margin-right":a.gap,float:"left"});if(a.duplicated){a.duplicateCount<=0&&(a.duplicateCount=1);for(let t=0;t<a.duplicateCount;t++)g.clone(!0).appendTo(l)}if(l.wrapInner('<div style="width:100000px" class="js-marquee-wrapper"></div>'),n=l.find(".js-marquee-wrapper"),o){var v=l.height();n.removeAttr("style"),l.height(v),l.find(".js-marquee").css({float:"none","margin-bottom":a.gap,"margin-right":0}),a.duplicated&&l.find(".js-marquee:last").css({"margin-bottom":0});var y=l.find(".js-marquee:first").height()+a.gap;a.startVisible&&!a.duplicated?(a._completeDuration=(parseInt(y,10)+parseInt(v,10))/parseInt(v,10)*a.duration,a.duration=parseInt(y,10)/parseInt(v,10)*a.duration):a.duration=(parseInt(y,10)+parseInt(v,10))/parseInt(v,10)*a.duration}else s=l.find(".js-marquee:first").width()+a.gap,r=l.width(),a.startVisible&&!a.duplicated?(a._completeDuration=(parseInt(s,10)+parseInt(r,10))/parseInt(r,10)*a.duration,a.duration=parseInt(s,10)/parseInt(r,10)*a.duration):a.duration=(parseInt(s,10)+parseInt(r,10))/parseInt(r,10)*a.duration;if(a.duplicated&&(a.duration=a.duration/2),a.allowCss3Support){var b=document.body||document.createElement("div"),_="marqueeAnimation-"+Math.floor(1e7*Math.random()),x="Webkit Moz O ms Khtml".split(" "),w="animation",E="",S="";if(void 0!==b.style.animation&&(S="@keyframes "+_+" ",h=!0),!1===h)for(var T=0;T<x.length;T++)if(void 0!==b.style[x[T]+"AnimationName"]){var A="-"+x[T].toLowerCase()+"-";w=A+w,u=A+u,S="@"+A+"keyframes "+_+" ",h=!0;break}h&&(E=_+" "+a.duration/1e3+"s "+a.delayBeforeStart/1e3+"s infinite "+a.css3easing,l.data("css3AnimationIsSupported",!0))}var M=function(){n.css("transform","translateY("+("up"===a.direction?v+"px":"-"+y+"px")+")")},C=function(){n.css("transform","translateX("+("left"===a.direction?r+"px":"-"+s+"px")+")")};a.duplicated?(o?a.startVisible?n.css("transform","translateY(0)"):n.css("transform","translateY("+("up"===a.direction?v+"px":"-"+(2*y-a.gap)+"px")+")"):a.startVisible?n.css("transform","translateX(0)"):n.css("transform","translateX("+("left"===a.direction?r+"px":"-"+(2*s-a.gap)+"px")+")"),a.startVisible||(c=1)):a.startVisible?c=2:o?M():C();var P=function(){if(a.duplicated&&(1===c?(a._originalDuration=a.duration,a.duration=o?"up"===a.direction?a.duration+v/(y/a.duration):2*a.duration:"left"===a.direction?a.duration+r/(s/a.duration):2*a.duration,E&&(E=_+" "+a.duration/1e3+"s "+a.delayBeforeStart/1e3+"s "+a.css3easing),c++):2===c&&(a.duration=a._originalDuration,E&&(_+="0",S=t.trim(S)+"0 ",E=_+" "+a.duration/1e3+"s 0s infinite "+a.css3easing),c++)),o?a.duplicated?(c>2&&n.css("transform","translateY("+("up"===a.direction?0:"-"+y+"px")+")"),i={transform:"translateY("+("up"===a.direction?"-"+y+"px":0)+")"}):a.startVisible?2===c?(E&&(E=_+" "+a.duration/1e3+"s "+a.delayBeforeStart/1e3+"s "+a.css3easing),i={transform:"translateY("+("up"===a.direction?"-"+y+"px":v+"px")+")"},c++):3===c&&(a.duration=a._completeDuration,E&&(_+="0",S=t.trim(S)+"0 ",E=_+" "+a.duration/1e3+"s 0s infinite "+a.css3easing),M()):(M(),i={transform:"translateY("+("up"===a.direction?"-"+n.height()+"px":v+"px")+")"}):a.duplicated?(c>2&&n.css("transform","translateX("+("left"===a.direction?0:"-"+s+"px")+")"),i={transform:"translateX("+("left"===a.direction?"-"+s+"px":0)+")"}):a.startVisible?2===c?(E&&(E=_+" "+a.duration/1e3+"s "+a.delayBeforeStart/1e3+"s "+a.css3easing),i={transform:"translateX("+("left"===a.direction?"-"+s+"px":r+"px")+")"},c++):3===c&&(a.duration=a._completeDuration,E&&(_+="0",S=t.trim(S)+"0 ",E=_+" "+a.duration/1e3+"s 0s infinite "+a.css3easing),C()):(C(),i={transform:"translateX("+("left"===a.direction?"-"+s+"px":r+"px")+")"}),l.trigger("beforeStarting"),h){n.css(w,E);var e=S+" { 100%  "+function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+":"+t[n]);return e.push(),"{"+e.join(",")+"}"}(i)+"}",u=n.find("style");0!==u.length?u.filter(":last").html(e):t("head").append("<style>"+e+"</style>"),p(n[0],"AnimationIteration",(function(){l.trigger("finished")})),p(n[0],"AnimationEnd",(function(){P(),l.trigger("finished")}))}else n.animate(i,a.duration,a.easing,(function(){l.trigger("finished"),a.pauseOnCycle?d():P()}));l.data("runningStatus","resumed")};l.on("pause",f.pause),l.on("resume",f.resume),a.pauseOnHover&&(l.on("mouseenter",f.pause),l.on("mouseleave",f.resume)),h&&a.allowCss3Support?P():d()}else t.isFunction(f[e])&&(n||(n=l.find(".js-marquee-wrapper")),!0===l.data("css3AnimationIsSupported")&&(h=!0),f[e]())}))},t.fn.marquee.defaults={allowCss3Support:!0,css3easing:"linear",easing:"linear",delayBeforeStart:1e3,direction:"left",duplicated:!1,duplicateCount:1,duration:5e3,speed:0,gap:20,pauseOnCycle:!1,pauseOnHover:!1,startVisible:!1}})?r.apply(e,i):r)||(t.exports=o)}()},lCAa:function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return _}));var r,i,o,s,a,l,c,u,h=function(){return"undefined"!=typeof window},p=function(){return r||h()&&(r=window.gsap)&&r.registerPlugin&&r},d=function(t){return"string"==typeof t},f=function(t){return"function"==typeof t},m=function(t,e){var n="x"===e?"Width":"Height",r="scroll"+n,i="client"+n;return t===o||t===s||t===a?Math.max(s[r],a[r])-(o["inner"+n]||s[i]||a[i]):t[r]-t["offset"+n]},g=function(t,e){var n="scroll"+("x"===e?"Left":"Top");return t===o&&(null!=t.pageXOffset?n="page"+e.toUpperCase()+"Offset":t=null!=s[n]?s:a),function(){return t[n]}},v=function(t,e){if(!(t=l(t)[0])||!t.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var n=t.getBoundingClientRect(),r=!e||e===o||e===a,i=r?{top:s.clientTop-(o.pageYOffset||s.scrollTop||a.scrollTop||0),left:s.clientLeft-(o.pageXOffset||s.scrollLeft||a.scrollLeft||0)}:e.getBoundingClientRect(),c={x:n.left-i.left,y:n.top-i.top};return!r&&e&&(c.x+=g(e,"x")(),c.y+=g(e,"y")()),c},y=function(t,e,n,r,i){return isNaN(t)||"object"==typeof t?d(t)&&"="===t.charAt(1)?parseFloat(t.substr(2))*("-"===t.charAt(0)?-1:1)+r-i:"max"===t?m(e,n)-i:Math.min(m(e,n),v(t,e)[n]-i):parseFloat(t)-i},b=function(){r=p(),h()&&r&&"undefined"!=typeof document&&document.body&&(o=window,a=document.body,s=document.documentElement,l=r.utils.toArray,r.config({autoKillThreshold:7}),c=r.config(),i=1)},_={version:"3.12.3",name:"scrollTo",rawVars:1,register:function(t){r=t,b()},init:function(t,e,n,s,a){i||b();var l=r.getProperty(t,"scrollSnapType");this.isWin=t===o,this.target=t,this.tween=n,e=function(t,e,n,r){if(f(t)&&(t=t(e,n,r)),"object"!=typeof t)return d(t)&&"max"!==t&&"="!==t.charAt(1)?{x:t,y:t}:{y:t};if(t.nodeType)return{y:t,x:t};var i,o={};for(i in t)o[i]="onAutoKill"!==i&&f(t[i])?t[i](e,n,r):t[i];return o}(e,s,t,a),this.vars=e,this.autoKill=!!e.autoKill,this.getX=g(t,"x"),this.getY=g(t,"y"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),u||(u=r.core.globals().ScrollTrigger),"smooth"===r.getProperty(t,"scrollBehavior")&&r.set(t,{scrollBehavior:"auto"}),l&&"none"!==l&&(this.snap=1,this.snapInline=t.style.scrollSnapType,t.style.scrollSnapType="none"),null!=e.x?(this.add(this,"x",this.x,y(e.x,t,"x",this.x,e.offsetX||0),s,a),this._props.push("scrollTo_x")):this.skipX=1,null!=e.y?(this.add(this,"y",this.y,y(e.y,t,"y",this.y,e.offsetY||0),s,a),this._props.push("scrollTo_y")):this.skipY=1},render:function(t,e){for(var n,r,i,s,a,l=e._pt,h=e.target,p=e.tween,d=e.autoKill,f=e.xPrev,g=e.yPrev,v=e.isWin,y=e.snap,b=e.snapInline;l;)l.r(t,l.d),l=l._next;n=v||!e.skipX?e.getX():f,i=(r=v||!e.skipY?e.getY():g)-g,s=n-f,a=c.autoKillThreshold,e.x<0&&(e.x=0),e.y<0&&(e.y=0),d&&(!e.skipX&&(s>a||s<-a)&&n<m(h,"x")&&(e.skipX=1),!e.skipY&&(i>a||i<-a)&&r<m(h,"y")&&(e.skipY=1),e.skipX&&e.skipY&&(p.kill(),e.vars.onAutoKill&&e.vars.onAutoKill.apply(p,e.vars.onAutoKillParams||[]))),v?o.scrollTo(e.skipX?n:e.x,e.skipY?r:e.y):(e.skipY||(h.scrollTop=e.y),e.skipX||(h.scrollLeft=e.x)),!y||1!==t&&0!==t||(r=h.scrollTop,n=h.scrollLeft,b?h.style.scrollSnapType=b:h.style.removeProperty("scroll-snap-type"),h.scrollTop=r+1,h.scrollLeft=n+1,h.scrollTop=r,h.scrollLeft=n),e.xPrev=e.x,e.yPrev=e.y,u&&u.update()},kill:function(t){var e="scrollTo"===t;(e||"scrollTo_x"===t)&&(this.skipX=1),(e||"scrollTo_y"===t)&&(this.skipY=1)}};_.max=m,_.getOffset=v,_.buildGetter=g,p()&&r.registerPlugin(_)},lPHp:function(module,exports,__webpack_require__){"undefined"!=typeof navigator&&function(t,e){module.exports=e()}(0,(function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var n,r,i=t.length;for(n=0;n<i;n+=1)for(var o in r=t[n].prototype)Object.prototype.hasOwnProperty.call(r,o)&&(e.prototype[o]=r[o])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):window.Howl?new window.Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(t,e){var n,r=0,i=[];switch(t){case"int16":case"uint8c":n=1;break;default:n=1.1}for(r=0;r<e;r+=1)i.push(n);return i}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,n){return"float32"===e?new Float32Array(n):"int16"===e?new Int16Array(n):"uint8c"===e?new Uint8ClampedArray(n):t(e,n)}:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=e.length;for(t=0;t<n;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"===_typeof$6(t)&&t.length){var e,n=createSizedArray(t.length),r=t.length;for(e=0;e<r;e+=1)n[e]=Math.abs(t[e]);return n}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){_shouldRoundValues=!!t}function bmRnd(t){return _shouldRoundValues?Math.round(t):t}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,n,r){this.type=t,this.currentTime=e,this.totalTime=n,this.direction=r<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,n,r){this.type=t,this.currentLoop=n,this.totalLoops=e,this.direction=r<0?-1:1}function BMSegmentStartEvent(t,e,n){this.type=t,this.firstFrame=e,this.totalFrames=n}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(t,e,n){var r,i,o,s,a,l,c,u;switch(l=n*(1-e),c=n*(1-(a=6*t-(s=Math.floor(6*t)))*e),u=n*(1-(1-a)*e),s%6){case 0:r=n,i=u,o=l;break;case 1:r=c,i=n,o=l;break;case 2:r=l,i=n,o=u;break;case 3:r=l,i=c,o=n;break;case 4:r=u,i=l,o=n;break;case 5:r=n,i=l,o=c}return[r,i,o]}function RGBtoHSV(t,e,n){var r,i=Math.max(t,e,n),o=Math.min(t,e,n),s=i-o,a=0===i?0:s/i,l=i/255;switch(i){case o:r=0;break;case t:r=e-n+s*(e<n?6:0),r/=6*s;break;case e:r=n-t+2*s,r/=6*s;break;case n:r=t-e+4*s,r/=6*s}return[r,a,l]}function addSaturationToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[1]+=e,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[2]+=e,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[0]+=e/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var t,e,n=[];for(t=0;t<256;t+=1)e=t.toString(16),n[t]=1===e.length?"0"+e:e;return function(t,e,r){return t<0&&(t=0),e<0&&(e=0),r<0&&(r=0),"#"+n[t]+n[e]+n[r]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t},getIdPrefix=function(){return idPrefix$1};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var dataManager=function(){var t,e,n=1,r=[],i={onmessage:function(){},postMessage:function(e){t({data:e})}},o={postMessage:function(t){i.onmessage({data:t})}};function s(){e||((e=function(e){if(window.Worker&&window.Blob&&getWebWorker()){var n=new Blob(["var _workerSelf = self; self.onmessage = ",e.toString()],{type:"text/javascript"}),r=URL.createObjectURL(n);return new Worker(r)}return t=e,i}((function(t){if(o.dataManager||(o.dataManager=function(){function t(i,o){var s,a,l,c,u,p,d=i.length;for(a=0;a<d;a+=1)if("ks"in(s=i[a])&&!s.completed){if(s.completed=!0,s.hasMask){var f=s.masksProperties;for(c=f.length,l=0;l<c;l+=1)if(f[l].pt.k.i)r(f[l].pt.k);else for(p=f[l].pt.k.length,u=0;u<p;u+=1)f[l].pt.k[u].s&&r(f[l].pt.k[u].s[0]),f[l].pt.k[u].e&&r(f[l].pt.k[u].e[0])}0===s.ty?(s.layers=e(s.refId,o),t(s.layers,o)):4===s.ty?n(s.shapes):5===s.ty&&h(s)}}function e(t,e){var n=function(t,e){for(var n=0,r=e.length;n<r;){if(e[n].id===t)return e[n];n+=1}return null}(t,e);return n?n.layers.__used?JSON.parse(JSON.stringify(n.layers)):(n.layers.__used=!0,n.layers):null}function n(t){var e,i,o;for(e=t.length-1;e>=0;e-=1)if("sh"===t[e].ty)if(t[e].ks.k.i)r(t[e].ks.k);else for(o=t[e].ks.k.length,i=0;i<o;i+=1)t[e].ks.k[i].s&&r(t[e].ks.k[i].s[0]),t[e].ks.k[i].e&&r(t[e].ks.k[i].e[0]);else"gr"===t[e].ty&&n(t[e].it)}function r(t){var e,n=t.i.length;for(e=0;e<n;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function i(t,e){var n=e?e.split("."):[100,100,100];return t[0]>n[0]||!(n[0]>t[0])&&(t[1]>n[1]||!(n[1]>t[1])&&(t[2]>n[2]||!(n[2]>t[2])&&null))}var o,s=function(){var t=[4,4,14];function e(t){var e,n,r,i=t.length;for(e=0;e<i;e+=1)5===t[e].ty&&(n=t[e],r=void 0,r=n.t.d,n.t.d={k:[{s:r,t:0}]})}return function(n){if(i(t,n.v)&&(e(n.layers),n.assets)){var r,o=n.assets.length;for(r=0;r<o;r+=1)n.assets[r].layers&&e(n.assets[r].layers)}}}(),a=(o=[4,7,99],function(t){if(t.chars&&!i(o,t.v)){var e,r=t.chars.length;for(e=0;e<r;e+=1){var s=t.chars[e];s.data&&s.data.shapes&&(n(s.data.shapes),s.data.ip=0,s.data.op=99999,s.data.st=0,s.data.sr=1,s.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},t.chars[e].t||(s.data.shapes.push({ty:"no"}),s.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),l=function(){var t=[5,7,15];function e(t){var e,n,r,i=t.length;for(e=0;e<i;e+=1)5===t[e].ty&&(n=t[e],r=void 0,"number"==typeof(r=n.t.p).a&&(r.a={a:0,k:r.a}),"number"==typeof r.p&&(r.p={a:0,k:r.p}),"number"==typeof r.r&&(r.r={a:0,k:r.r}))}return function(n){if(i(t,n.v)&&(e(n.layers),n.assets)){var r,o=n.assets.length;for(r=0;r<o;r+=1)n.assets[r].layers&&e(n.assets[r].layers)}}}(),c=function(){var t=[4,1,9];function e(t){var n,r,i,o=t.length;for(n=0;n<o;n+=1)if("gr"===t[n].ty)e(t[n].it);else if("fl"===t[n].ty||"st"===t[n].ty)if(t[n].c.k&&t[n].c.k[0].i)for(i=t[n].c.k.length,r=0;r<i;r+=1)t[n].c.k[r].s&&(t[n].c.k[r].s[0]/=255,t[n].c.k[r].s[1]/=255,t[n].c.k[r].s[2]/=255,t[n].c.k[r].s[3]/=255),t[n].c.k[r].e&&(t[n].c.k[r].e[0]/=255,t[n].c.k[r].e[1]/=255,t[n].c.k[r].e[2]/=255,t[n].c.k[r].e[3]/=255);else t[n].c.k[0]/=255,t[n].c.k[1]/=255,t[n].c.k[2]/=255,t[n].c.k[3]/=255}function n(t){var n,r=t.length;for(n=0;n<r;n+=1)4===t[n].ty&&e(t[n].shapes)}return function(e){if(i(t,e.v)&&(n(e.layers),e.assets)){var r,o=e.assets.length;for(r=0;r<o;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}(),u=function(){var t=[4,4,18];function e(t){var n,r,i;for(n=t.length-1;n>=0;n-=1)if("sh"===t[n].ty)if(t[n].ks.k.i)t[n].ks.k.c=t[n].closed;else for(i=t[n].ks.k.length,r=0;r<i;r+=1)t[n].ks.k[r].s&&(t[n].ks.k[r].s[0].c=t[n].closed),t[n].ks.k[r].e&&(t[n].ks.k[r].e[0].c=t[n].closed);else"gr"===t[n].ty&&e(t[n].it)}function n(t){var n,r,i,o,s,a,l=t.length;for(r=0;r<l;r+=1){if((n=t[r]).hasMask){var c=n.masksProperties;for(o=c.length,i=0;i<o;i+=1)if(c[i].pt.k.i)c[i].pt.k.c=c[i].cl;else for(a=c[i].pt.k.length,s=0;s<a;s+=1)c[i].pt.k[s].s&&(c[i].pt.k[s].s[0].c=c[i].cl),c[i].pt.k[s].e&&(c[i].pt.k[s].e[0].c=c[i].cl)}4===n.ty&&e(n.shapes)}}return function(e){if(i(t,e.v)&&(n(e.layers),e.assets)){var r,o=e.assets.length;for(r=0;r<o;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}();function h(t){0===t.t.a.length&&t.t.p}var p={completeData:function(n){n.__complete||(c(n),s(n),a(n),l(n),u(n),t(n.layers,n.assets),function(n,r){if(n){var i=0,o=n.length;for(i=0;i<o;i+=1)1===n[i].t&&(n[i].data.layers=e(n[i].data.refId,r),t(n[i].data.layers,r))}}(n.chars,n.assets),n.__complete=!0)}};return p.checkColors=c,p.checkChars=a,p.checkPathProperties=l,p.checkShapes=u,p.completeLayers=t,p}()),o.assetLoader||(o.assetLoader=function(){function t(t){var e=t.getResponseHeader("content-type");return e&&"json"===t.responseType&&-1!==e.indexOf("json")||t.response&&"object"===_typeof$5(t.response)?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}return{load:function(e,n,r,i){var o,s=new XMLHttpRequest;try{s.responseType="json"}catch(t){}s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)o=t(s),r(o);else try{o=t(s),r(o)}catch(t){i&&i(t)}};try{s.open(["G","E","T"].join(""),e,!0)}catch(t){s.open(["G","E","T"].join(""),n+"/"+e,!0)}s.send()}}}()),"loadAnimation"===t.data.type)o.assetLoader.load(t.data.path,t.data.fullPath,(function(e){o.dataManager.completeData(e),o.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){o.postMessage({id:t.data.id,status:"error"})}));else if("complete"===t.data.type){var e=t.data.animation;o.dataManager.completeData(e),o.postMessage({id:t.data.id,payload:e,status:"success"})}else"loadData"===t.data.type&&o.assetLoader.load(t.data.path,t.data.fullPath,(function(e){o.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){o.postMessage({id:t.data.id,status:"error"})}))}))).onmessage=function(t){var e=t.data,n=e.id,i=r[n];r[n]=null,"success"===e.status?i.onComplete(e.payload):i.onError&&i.onError()})}function a(t,e){var i="processId_"+(n+=1);return r[i]={onComplete:t,onError:e},i}return{loadAnimation:function(t,n,r){s();var i=a(n,r);e.postMessage({type:"loadAnimation",path:t,fullPath:window.location.origin+window.location.pathname,id:i})},loadData:function(t,n,r){s();var i=a(n,r);e.postMessage({type:"loadData",path:t,fullPath:window.location.origin+window.location.pathname,id:i})},completeAnimation:function(t,n,r){s();var i=a(n,r);e.postMessage({type:"complete",animation:t,id:i})}}}(),ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(t,e,n){var r="";if(t.e)r=t.p;else if(e){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),r=e+i}else r=n,r+=t.u?t.u:"",r+=t.p;return r}function i(t){var e=0,n=setInterval(function(){(t.getBBox().width||e>500)&&(this._imageLoaded(),clearInterval(n)),e+=1}.bind(this),50)}function o(t){var e={assetData:t},n=r(t,this.assetsPath,this.path);return dataManager.loadData(n,function(t){e.img=t,this._footageLoaded()}.bind(this),function(){e.img={},this._footageLoaded()}.bind(this)),e}function s(){this._imageLoaded=e.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=i.bind(this),this.createFootageData=o.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return s.prototype={loadAssets:function(t,e){var n;this.imagesLoadedCb=e;var r=t.length;for(n=0;n<r;n+=1)t[n].layers||(t[n].t&&"seq"!==t[n].t?3===t[n].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[n]))):(this.totalImages+=1,this.images.push(this._createImageData(t[n]))))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(t){for(var e=0,n=this.images.length;e<n;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}return null},createImgData:function(e){var n=r(e,this.assetsPath,this.path),i=createTag("img");i.crossOrigin="anonymous",i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){o.img=t,this._imageLoaded()}.bind(this),!1),i.src=n;var o={img:i,assetData:e};return o},createImageData:function(e){var n=r(e,this.assetsPath,this.path),i=createNS("image");isSafari?this.testImageLoaded(i):i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){o.img=t,this._imageLoaded()}.bind(this),!1),i.setAttributeNS("http://www.w3.org/1999/xlink","href",n),this._elementHelper.append?this._elementHelper.append(i):this._elementHelper.appendChild(i);var o={img:i,assetData:e};return o},imageLoaded:e,footageLoaded:n,setCacheType:function(t,e){"svg"===t?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},s}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var n=this._cbs[t],r=0;r<n.length;r+=1)n[r](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var n=0,r=this._cbs[t].length;n<r;)this._cbs[t][n]===e&&(this._cbs[t].splice(n,1),n-=1,r-=1),n+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var markerParser=function(){function t(t){for(var e,n=t.split("\r\n"),r={},i=0,o=0;o<n.length;o+=1)2===(e=n[o].split(":")).length&&(r[e[0]]=e[1].trim(),i+=1);if(0===i)throw new Error;return r}return function(e){for(var n=[],r=0;r<e.length;r+=1){var i=e[r],o={time:i.tm,duration:i.dr};try{o.payload=JSON.parse(e[r].cm)}catch(n){try{o.payload=t(e[r].cm)}catch(t){o.payload={name:e[r].cm}}}n.push(o)}return n}}(),ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,n=this.compositions.length;e<n;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(t,e){renderers[t]=e};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var n=getRenderer(e);this.renderer=new n(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&"object"!==_typeof$4(e)&&(e=JSON.parse(e));var n={wrapper:t,animationData:e},r=t.attributes;n.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",n.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var i=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";"false"===i?n.loop=!1:"true"===i?n.loop=!0:""!==i&&(n.loop=parseInt(i,10));var o=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:!r.getNamedItem("bm-autoplay")||r.getNamedItem("bm-autoplay").value;n.autoplay="false"!==o,n.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"","false"===(r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"")&&(n.prerender=!1),n.path?this.setParams(n):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,n,r=this.animationData.layers,i=r.length,o=t.layers,s=o.length;for(n=0;n<s;n+=1)for(e=0;e<i;){if(r[e].id===o[n].id){r[e]=o[n];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(i=t.assets.length,e=0;e<i;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var n="number"==typeof t?t:void 0,r="number"==typeof e?e:void 0;this.renderer.updateContainerSize(n,r)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,n=0;n<this.markers.length;n+=1)if((e=this.markers[n]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,n){if(!n||this.name===n){var r=Number(t);if(isNaN(r)){var i=this.getMarkerData(t);i&&this.goToAndStop(i.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,n){if(!n||this.name===n){var r=Number(t);if(isNaN(r)){var i=this.getMarkerData(t);i&&(i.duration?this.playSegments([i.time,i.time+i.duration],!0):this.goToAndStop(i.time,!0))}else this.goToAndStop(r,e,n);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,n=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(n=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(n=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),n&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?n=t:this.currentRawFrame+this.firstFrame>e&&(n=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==n&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"===_typeof$4(t[0])){var n,r=t.length;for(n=0;n<r;n+=1)this.segments.push(t[n])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var n=t.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),e=this.assetsPath+n}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,n=this.assets.length;e<n;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,n){try{this.renderer.getElementByPath(t).updateDocumentData(e,n)}catch(t){}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],n=0,r=0,i=0,o=!0,s=!1;function a(t){for(var n=0,i=t.target;n<r;)e[n].animation===i&&(e.splice(n,1),n-=1,r-=1,i.isPaused||u()),n+=1}function l(t,n){if(!t)return null;for(var i=0;i<r;){if(e[i].elem===t&&null!==e[i].elem)return e[i].animation;i+=1}var o=new AnimationItem;return h(o,t),o.setData(t,n),o}function c(){i+=1,f()}function u(){i-=1}function h(t,n){t.addEventListener("destroy",a),t.addEventListener("_active",c),t.addEventListener("_idle",u),e.push({elem:n,animation:t}),r+=1}function p(t){var a,l=t-n;for(a=0;a<r;a+=1)e[a].animation.advanceTime(l);n=t,i&&!s?window.requestAnimationFrame(p):o=!0}function d(t){n=t,window.requestAnimationFrame(p)}function f(){!s&&i&&o&&(window.requestAnimationFrame(d),o=!1)}return t.registerAnimation=l,t.loadAnimation=function(t){var e=new AnimationItem;return h(e,null),e.setParams(t),e},t.setSpeed=function(t,n){var i;for(i=0;i<r;i+=1)e[i].animation.setSpeed(t,n)},t.setDirection=function(t,n){var i;for(i=0;i<r;i+=1)e[i].animation.setDirection(t,n)},t.play=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.play(t)},t.pause=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.pause(t)},t.stop=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.stop(t)},t.togglePause=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.togglePause(t)},t.searchAnimations=function(t,e,n){var r,i=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),o=i.length;for(r=0;r<o;r+=1)n&&i[r].setAttribute("data-bm-type",n),l(i[r],t);if(e&&0===o){n||(n="svg");var s=document.getElementsByTagName("body")[0];s.innerText="";var a=createTag("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",n),s.appendChild(a),l(a,t)}},t.resize=function(){var t;for(t=0;t<r;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,n,i){var o;for(o=0;o<r;o+=1)e[o].animation.goToAndStop(t,n,i)},t.destroy=function(t){var n;for(n=r-1;n>=0;n-=1)e[n].animation.destroy(t)},t.freeze=function(){s=!0},t.unfreeze=function(){s=!1,f()},t.setVolume=function(t,n){var i;for(i=0;i<r;i+=1)e[i].animation.setVolume(t,n)},t.mute=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.mute(t)},t.unmute=function(t){var n;for(n=0;n<r;n+=1)e[n].animation.unmute(t)},t.getRegisteredAnimations=function(){var t,n=e.length,r=[];for(t=0;t<n;t+=1)r.push(e[t].animation);return r},t}(),BezierFactory=function(){var t={getBezierEasing:function(t,n,r,i,o){var s=o||("bez_"+t+"_"+n+"_"+r+"_"+i).replace(/\./g,"p");if(e[s])return e[s];var a=new l([t,n,r,i]);return e[s]=a,a}},e={};var n="function"==typeof Float32Array;function r(t,e){return 1-3*e+3*t}function i(t,e){return 3*e-6*t}function o(t){return 3*t}function s(t,e,n){return((r(e,n)*t+i(e,n))*t+o(e))*t}function a(t,e,n){return 3*r(e,n)*t*t+2*i(e,n)*t+o(e)}function l(t){this._p=t,this._mSampleValues=n?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return l.prototype={get:function(t){var e=this._p[0],n=this._p[1],r=this._p[2],i=this._p[3];return this._precomputed||this._precompute(),e===n&&r===i?t:0===t?0:1===t?1:s(this._getTForX(t),n,i)},_precompute:function(){var t=this._p[0],e=this._p[1],n=this._p[2],r=this._p[3];this._precomputed=!0,t===e&&n===r||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],n=0;n<11;++n)this._mSampleValues[n]=s(.1*n,t,e)},_getTForX:function(t){for(var e=this._p[0],n=this._p[2],r=this._mSampleValues,i=0,o=1;10!==o&&r[o]<=t;++o)i+=.1;var l=i+.1*((t-r[--o])/(r[o+1]-r[o])),c=a(l,e,n);return c>=.001?function(t,e,n,r){for(var i=0;i<4;++i){var o=a(e,n,r);if(0===o)return e;e-=(s(e,n,r)-t)/o}return e}(t,l,e,n):0===c?l:function(t,e,n,r,i){var o,a,l=0;do{(o=s(a=e+(n-e)/2,r,i)-t)>0?n=a:e=a}while(Math.abs(o)>1e-7&&++l<10);return a}(t,i,i+.1,e,n)}},t}(),pooling={double:function(t){return t.concat(createSizedArray(t.length))}},poolFactory=function(t,e,n){var r=0,i=t,o=createSizedArray(i);return{newElement:function(){return r?o[r-=1]:e()},release:function(t){r===i&&(o=pooling.double(o),i*=2),n&&n(t),o[r]=t,r+=1}}},bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,n=t.lengths.length;for(e=0;e<n;e+=1)bezierLengthPool.release(t.lengths[e]);t.lengths.length=0}));function bezFunction(){var t=Math;function e(t,e,n,r,i,o){var s=t*r+e*i+n*o-i*r-o*t-n*e;return s>-.001&&s<.001}var n=function(t,e,n,r){var i,o,s,a,l,c,u=getDefaultCurveSegments(),h=0,p=[],d=[],f=bezierLengthPool.newElement();for(s=n.length,i=0;i<u;i+=1){for(l=i/(u-1),c=0,o=0;o<s;o+=1)a=bmPow(1-l,3)*t[o]+3*bmPow(1-l,2)*l*n[o]+3*(1-l)*bmPow(l,2)*r[o]+bmPow(l,3)*e[o],p[o]=a,null!==d[o]&&(c+=bmPow(p[o]-d[o],2)),d[o]=p[o];c&&(h+=c=bmSqrt(c)),f.percents[i]=l,f.lengths[i]=h}return f.addedLength=h,f};function r(t){this.segmentLength=0,this.points=new Array(t)}function i(t,e){this.partialLength=t,this.point=e}var o,s=(o={},function(t,n,s,a){var l=(t[0]+"_"+t[1]+"_"+n[0]+"_"+n[1]+"_"+s[0]+"_"+s[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!o[l]){var c,u,h,p,d,f,m,g=getDefaultCurveSegments(),v=0,y=null;2===t.length&&(t[0]!==n[0]||t[1]!==n[1])&&e(t[0],t[1],n[0],n[1],t[0]+s[0],t[1]+s[1])&&e(t[0],t[1],n[0],n[1],n[0]+a[0],n[1]+a[1])&&(g=2);var b=new r(g);for(h=s.length,c=0;c<g;c+=1){for(m=createSizedArray(h),d=c/(g-1),f=0,u=0;u<h;u+=1)p=bmPow(1-d,3)*t[u]+3*bmPow(1-d,2)*d*(t[u]+s[u])+3*(1-d)*bmPow(d,2)*(n[u]+a[u])+bmPow(d,3)*n[u],m[u]=p,null!==y&&(f+=bmPow(m[u]-y[u],2));v+=f=bmSqrt(f),b.points[c]=new i(f,m),y=m}b.segmentLength=v,o[l]=b}return o[l]});function a(t,e){var n=e.percents,r=e.lengths,i=n.length,o=bmFloor((i-1)*t),s=t*e.addedLength,a=0;if(o===i-1||0===o||s===r[o])return n[o];for(var l=r[o]>s?-1:1,c=!0;c;)if(r[o]<=s&&r[o+1]>s?(a=(s-r[o])/(r[o+1]-r[o]),c=!1):o+=l,o<0||o>=i-1){if(o===i-1)return n[o];c=!1}return n[o]+(n[o+1]-n[o])*a}var l=createTypedArray("float32",8);return{getSegmentsLength:function(t){var e,r=segmentsLengthPool.newElement(),i=t.c,o=t.v,s=t.o,a=t.i,l=t._length,c=r.lengths,u=0;for(e=0;e<l-1;e+=1)c[e]=n(o[e],o[e+1],s[e],a[e+1]),u+=c[e].addedLength;return i&&l&&(c[e]=n(o[e],o[0],s[e],a[0]),u+=c[e].addedLength),r.totalLength=u,r},getNewSegment:function(e,n,r,i,o,s,c){o<0?o=0:o>1&&(o=1);var u,h=a(o,c),p=a(s=s>1?1:s,c),d=e.length,f=1-h,m=1-p,g=f*f*f,v=h*f*f*3,y=h*h*f*3,b=h*h*h,_=f*f*m,x=h*f*m+f*h*m+f*f*p,w=h*h*m+f*h*p+h*f*p,E=h*h*p,S=f*m*m,T=h*m*m+f*p*m+f*m*p,A=h*p*m+f*p*p+h*m*p,M=h*p*p,C=m*m*m,P=p*m*m+m*p*m+m*m*p,D=p*p*m+m*p*p+p*m*p,R=p*p*p;for(u=0;u<d;u+=1)l[4*u]=t.round(1e3*(g*e[u]+v*r[u]+y*i[u]+b*n[u]))/1e3,l[4*u+1]=t.round(1e3*(_*e[u]+x*r[u]+w*i[u]+E*n[u]))/1e3,l[4*u+2]=t.round(1e3*(S*e[u]+T*r[u]+A*i[u]+M*n[u]))/1e3,l[4*u+3]=t.round(1e3*(C*e[u]+P*r[u]+D*i[u]+R*n[u]))/1e3;return l},getPointInSegment:function(e,n,r,i,o,s){var l=a(o,s),c=1-l;return[t.round(1e3*(c*c*c*e[0]+(l*c*c+c*l*c+c*c*l)*r[0]+(l*l*c+c*l*l+l*c*l)*i[0]+l*l*l*n[0]))/1e3,t.round(1e3*(c*c*c*e[1]+(l*c*c+c*l*c+c*c*l)*r[1]+(l*l*c+c*l*l+l*c*l)*i[1]+l*l*l*n[1]))/1e3]},buildBezierData:s,pointOnLine2D:e,pointOnLine3D:function(n,r,i,o,s,a,l,c,u){if(0===i&&0===a&&0===u)return e(n,r,o,s,l,c);var h,p=t.sqrt(t.pow(o-n,2)+t.pow(s-r,2)+t.pow(a-i,2)),d=t.sqrt(t.pow(l-n,2)+t.pow(c-r,2)+t.pow(u-i,2)),f=t.sqrt(t.pow(l-o,2)+t.pow(c-s,2)+t.pow(u-a,2));return(h=p>d?p>f?p-d-f:f-d-p:f>d?f-d-p:d-p-f)>-1e-4&&h<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var n,r=this.offsetTime;"multidimensional"===this.propType&&(n=createTypedArray("float32",this.pv.length));for(var i,o,s,a,l,c,u,h,p,d=e.lastIndex,f=d,m=this.keyframes.length-1,g=!0;g;){if(i=this.keyframes[f],o=this.keyframes[f+1],f===m-1&&t>=o.t-r){i.h&&(i=o),d=0;break}if(o.t-r>t){d=f;break}f<m-1?f+=1:(d=0,g=!1)}s=this.keyframesMetadata[f]||{};var v,y=o.t-r,b=i.t-r;if(i.to){s.bezierData||(s.bezierData=bez.buildBezierData(i.s,o.s||i.e,i.to,i.ti));var _=s.bezierData;if(t>=y||t<b){var x=t>=y?_.points.length-1:0;for(l=_.points[x].point.length,a=0;a<l;a+=1)n[a]=_.points[x].point[a]}else{s.__fnct?p=s.__fnct:(p=BezierFactory.getBezierEasing(i.o.x,i.o.y,i.i.x,i.i.y,i.n).get,s.__fnct=p),c=p((t-b)/(y-b));var w,E=_.segmentLength*c,S=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastAddedLength:0;for(h=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastPoint:0,g=!0,u=_.points.length;g;){if(S+=_.points[h].partialLength,0===E||0===c||h===_.points.length-1){for(l=_.points[h].point.length,a=0;a<l;a+=1)n[a]=_.points[h].point[a];break}if(E>=S&&E<S+_.points[h+1].partialLength){for(w=(E-S)/_.points[h+1].partialLength,l=_.points[h].point.length,a=0;a<l;a+=1)n[a]=_.points[h].point[a]+(_.points[h+1].point[a]-_.points[h].point[a])*w;break}h<u-1?h+=1:g=!1}e._lastPoint=h,e._lastAddedLength=S-_.points[h].partialLength,e._lastKeyframeIndex=f}}else{var T,A,M,C,P;if(m=i.s.length,v=o.s||i.e,this.sh&&1!==i.h)if(t>=y)n[0]=v[0],n[1]=v[1],n[2]=v[2];else if(t<=b)n[0]=i.s[0],n[1]=i.s[1],n[2]=i.s[2];else{quaternionToEuler(n,slerp(createQuaternion(i.s),createQuaternion(v),(t-b)/(y-b)))}else for(f=0;f<m;f+=1)1!==i.h&&(t>=y?c=1:t<b?c=0:(i.o.x.constructor===Array?(s.__fnct||(s.__fnct=[]),s.__fnct[f]?p=s.__fnct[f]:(T=void 0===i.o.x[f]?i.o.x[0]:i.o.x[f],A=void 0===i.o.y[f]?i.o.y[0]:i.o.y[f],M=void 0===i.i.x[f]?i.i.x[0]:i.i.x[f],C=void 0===i.i.y[f]?i.i.y[0]:i.i.y[f],p=BezierFactory.getBezierEasing(T,A,M,C).get,s.__fnct[f]=p)):s.__fnct?p=s.__fnct:(T=i.o.x,A=i.o.y,M=i.i.x,C=i.i.y,p=BezierFactory.getBezierEasing(T,A,M,C).get,i.keyframeMetadata=p),c=p((t-b)/(y-b)))),v=o.s||i.e,P=1===i.h?i.s[f]:i.s[f]+(v[f]-i.s[f])*c,"multidimensional"===this.propType?n[f]=P:n=P}return e.lastIndex=d,n}function slerp(t,e,n){var r,i,o,s,a,l=[],c=t[0],u=t[1],h=t[2],p=t[3],d=e[0],f=e[1],m=e[2],g=e[3];return(i=c*d+u*f+h*m+p*g)<0&&(i=-i,d=-d,f=-f,m=-m,g=-g),1-i>1e-6?(r=Math.acos(i),o=Math.sin(r),s=Math.sin((1-n)*r)/o,a=Math.sin(n*r)/o):(s=1-n,a=n),l[0]=s*c+a*d,l[1]=s*u+a*f,l[2]=s*h+a*m,l[3]=s*p+a*g,l}function quaternionToEuler(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=Math.atan2(2*r*o-2*n*i,1-2*r*r-2*i*i),a=Math.asin(2*n*r+2*i*o),l=Math.atan2(2*n*o-2*r*i,1-2*n*n-2*i*i);t[0]=s/degToRads,t[1]=a/degToRads,t[2]=l/degToRads}function createQuaternion(t){var e=t[0]*degToRads,n=t[1]*degToRads,r=t[2]*degToRads,i=Math.cos(e/2),o=Math.cos(n/2),s=Math.cos(r/2),a=Math.sin(e/2),l=Math.sin(n/2),c=Math.sin(r/2);return[a*l*s+i*o*c,a*o*s+i*l*c,i*l*s-a*o*c,i*o*s-a*l*c]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=n&&t>=n||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var r=this.interpolateValue(t,this._caching);this.pv=r}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if("unidimensional"===this.propType)e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var n=0,r=this.v.length;n<r;)e=t[n]*this.mult,mathAbs(this.v[n]-e)>1e-5&&(this.v[n]=e,this._mdf=!0),n+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t;this.lock=!0,this._mdf=this._isFirstFrame;var e=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)n=this.effectsSequence[t](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,n,r){this.propType="unidimensional",this.mult=n||1,this.data=e,this.v=n?e.k*n:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,n,r){var i;this.propType="multidimensional",this.mult=n||1,this.data=e,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var o=e.k.length;for(this.v=createTypedArray("float32",o),this.pv=createTypedArray("float32",o),this.vel=createTypedArray("float32",o),i=0;i<o;i+=1)this.v[i]=e.k[i]*this.mult,this.pv[i]=e.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,n,r){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=n||1,this.elem=t,this.container=r,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,n,r){var i;this.propType="multidimensional";var o,s,a,l,c=e.k.length;for(i=0;i<c-1;i+=1)e.k[i].to&&e.k[i].s&&e.k[i+1]&&e.k[i+1].s&&(o=e.k[i].s,s=e.k[i+1].s,a=e.k[i].to,l=e.k[i].ti,(2===o.length&&(o[0]!==s[0]||o[1]!==s[1])&&bez.pointOnLine2D(o[0],o[1],s[0],s[1],o[0]+a[0],o[1]+a[1])&&bez.pointOnLine2D(o[0],o[1],s[0],s[1],s[0]+l[0],s[1]+l[1])||3===o.length&&(o[0]!==s[0]||o[1]!==s[1]||o[2]!==s[2])&&bez.pointOnLine3D(o[0],o[1],o[2],s[0],s[1],s[2],o[0]+a[0],o[1]+a[1],o[2]+a[2])&&bez.pointOnLine3D(o[0],o[1],o[2],s[0],s[1],s[2],s[0]+l[0],s[1]+l[1],s[2]+l[2]))&&(e.k[i].to=null,e.k[i].ti=null),o[0]===s[0]&&o[1]===s[1]&&0===a[0]&&0===a[1]&&0===l[0]&&0===l[1]&&(2===o.length||o[2]===s[2]&&0===a[2]&&0===l[2])&&(e.k[i].to=null,e.k[i].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=n||1,this.elem=t,this.container=r,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var u=e.k[0].s.length;for(this.v=createTypedArray("float32",u),this.pv=createTypedArray("float32",u),i=0;i<u;i+=1)this.v[i]=initFrame,this.pv[i]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",u)},this.addEffect=addEffect}var PropertyFactory={getProp:function(t,e,n,r,i){var o;if(e.sid&&(e=t.globalData.slotManager.getProp(e)),e.k.length)if("number"==typeof e.k[0])o=new MultiDimensionalProperty(t,e,r,i);else switch(n){case 0:o=new KeyframedValueProperty(t,e,r,i);break;case 1:o=new KeyframedMultidimensionalProperty(t,e,r,i)}else o=new ValueProperty(t,e,r,i);return o.effectsSequence.length&&i.addDynamicProperty(o),o}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var n=0;n<e;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,n,r,i){var o;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":o=this.v;break;case"i":o=this.i;break;case"o":o=this.o;break;default:o=[]}(!o[r]||o[r]&&!i)&&(o[r]=pointPool.newElement()),o[r][0]=t,o[r][1]=e},ShapePath.prototype.setTripleAt=function(t,e,n,r,i,o,s,a){this.setXYAt(t,e,"v",s,a),this.setXYAt(n,r,"o",s,a),this.setXYAt(i,o,"i",s,a)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,n=this.o,r=this.i,i=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],r[0][0],r[0][1],n[0][0],n[0][1],0,!1),i=1);var o,s=this._length-1,a=this._length;for(o=i;o<a;o+=1)t.setTripleAt(e[s][0],e[s][1],r[s][0],r[s][1],n[s][0],n[s][1],o,!1),s-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(t){var e,n=t._length;for(e=0;e<n;e+=1)pointPool.release(t.v[e]),pointPool.release(t.i[e]),pointPool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1})),factory.clone=function(t){var e,n=factory.newElement(),r=void 0===t._length?t.v.length:t._length;for(n.setLength(r),n.c=t.c,e=0;e<r;e+=1)n.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return n},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(t){var e,n=t._length;for(e=0;e<n;e+=1)shapePool.release(t.shapes[e]);t._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=t,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){function t(t,e,n){var r,i,o,s,a,l,c,u,h,p=n.lastIndex,d=this.keyframes;if(t<d[0].t-this.offsetTime)r=d[0].s[0],o=!0,p=0;else if(t>=d[d.length-1].t-this.offsetTime)r=d[d.length-1].s?d[d.length-1].s[0]:d[d.length-2].e[0],o=!0;else{for(var f,m,g,v=p,y=d.length-1,b=!0;b&&(f=d[v],!((m=d[v+1]).t-this.offsetTime>t));)v<y-1?v+=1:b=!1;if(g=this.keyframesMetadata[v]||{},p=v,!(o=1===f.h)){if(t>=m.t-this.offsetTime)u=1;else if(t<f.t-this.offsetTime)u=0;else{var _;g.__fnct?_=g.__fnct:(_=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,g.__fnct=_),u=_((t-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}i=m.s?m.s[0]:f.e[0]}r=f.s[0]}for(l=e._length,c=r.i[0].length,n.lastIndex=p,s=0;s<l;s+=1)for(a=0;a<c;a+=1)h=o?r.i[s][a]:r.i[s][a]+(i.i[s][a]-r.i[s][a])*u,e.i[s][a]=h,h=o?r.o[s][a]:r.o[s][a]+(i.o[s][a]-r.o[s][a])*u,e.o[s][a]=h,h=o?r.v[s][a]:r.v[s][a]+(i.v[s][a]-r.v[s][a])*u,e.v[s][a]=h}function e(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,r=this._caching.lastFrame;return-999999!==r&&(r<e&&t<e||r>n&&t>n)||(this._caching.lastIndex=r<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function n(){this.paths=this.localShapeCollection}function r(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var n,r=t._length;for(n=0;n<r;n+=1)if(t.v[n][0]!==e.v[n][0]||t.v[n][1]!==e.v[n][1]||t.o[n][0]!==e.o[n][0]||t.o[n][1]!==e.o[n][1]||t.i[n][0]!==e.i[n][0]||t.i[n][1]!==e.i[n][1])return!1;return!0})(this.v,t)||(this.v=shapePool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t,e;this.lock=!0,this._mdf=!1,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var n=this.effectsSequence.length;for(e=0;e<n;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function o(t,e,r){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var i=3===r?e.pt.k:e.ks.k;this.v=shapePool.clone(i),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function s(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function a(t,r,i){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===i?r.pt.k:r.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var o=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,o),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=n,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[e.bind(this)]}o.prototype.interpolateShape=t,o.prototype.getValue=i,o.prototype.setVValue=r,o.prototype.addEffect=s,a.prototype.getValue=i,a.prototype.interpolateShape=t,a.prototype.setVValue=r,a.prototype.addEffect=s;var l=function(){var t=roundCorner;function e(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],n=this.p.v[1],r=this.s.v[0]/2,i=this.s.v[1]/2,o=3!==this.d,s=this.v;s.v[0][0]=e,s.v[0][1]=n-i,s.v[1][0]=o?e+r:e-r,s.v[1][1]=n,s.v[2][0]=e,s.v[2][1]=n+i,s.v[3][0]=o?e-r:e+r,s.v[3][1]=n,s.i[0][0]=o?e-r*t:e+r*t,s.i[0][1]=n-i,s.i[1][0]=o?e+r:e-r,s.i[1][1]=n-i*t,s.i[2][0]=o?e+r*t:e-r*t,s.i[2][1]=n+i,s.i[3][0]=o?e-r:e+r,s.i[3][1]=n+i*t,s.o[0][0]=o?e+r*t:e-r*t,s.o[0][1]=n-i,s.o[1][0]=o?e+r:e-r,s.o[1][1]=n+i*t,s.o[2][0]=o?e-r*t:e+r*t,s.o[2][1]=n+i,s.o[3][0]=o?e-r:e+r,s.o[3][1]=n-i*t}},extendPrototype([DynamicPropertyContainer],e),e}(),c=function(){function t(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,n,r,i=2*Math.floor(this.pt.v),o=2*Math.PI/i,s=!0,a=this.or.v,l=this.ir.v,c=this.os.v,u=this.is.v,h=2*Math.PI*a/(2*i),p=2*Math.PI*l/(2*i),d=-Math.PI/2;d+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<i;t+=1){n=s?c:u,r=s?h:p;var m=(e=s?a:l)*Math.cos(d),g=e*Math.sin(d),v=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),y=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-v*r*n*f,g-y*r*n*f,m+v*r*n*f,g+y*r*n*f,t,!0),s=!s,d+=o*f}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),n=2*Math.PI/e,r=this.or.v,i=this.os.v,o=2*Math.PI*r/(4*e),s=.5*-Math.PI,a=3===this.data.d?-1:1;for(s+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var l=r*Math.cos(s),c=r*Math.sin(s),u=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),h=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-u*o*i*a,c-h*o*i*a,l+u*o*i*a,c+h*o*i*a,t,!0),s+=n*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),u=function(){function t(t,e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],n=this.s.v[0]/2,r=this.s.v[1]/2,i=bmMin(n,r,this.r.v),o=i*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+n,e-r+i,t+n,e-r+i,t+n,e-r+o,0,!0),this.v.setTripleAt(t+n,e+r-i,t+n,e+r-o,t+n,e+r-i,1,!0),0!==i?(this.v.setTripleAt(t+n-i,e+r,t+n-i,e+r,t+n-o,e+r,2,!0),this.v.setTripleAt(t-n+i,e+r,t-n+o,e+r,t-n+i,e+r,3,!0),this.v.setTripleAt(t-n,e+r-i,t-n,e+r-i,t-n,e+r-o,4,!0),this.v.setTripleAt(t-n,e-r+i,t-n,e-r+o,t-n,e-r+i,5,!0),this.v.setTripleAt(t-n+i,e-r,t-n+i,e-r,t-n+o,e-r,6,!0),this.v.setTripleAt(t+n-i,e-r,t+n-o,e-r,t+n-i,e-r,7,!0)):(this.v.setTripleAt(t-n,e+r,t-n+o,e+r,t-n,e+r,2),this.v.setTripleAt(t-n,e-r,t-n,e-r+o,t-n,e-r,3))):(this.v.setTripleAt(t+n,e-r+i,t+n,e-r+o,t+n,e-r+i,0,!0),0!==i?(this.v.setTripleAt(t+n-i,e-r,t+n-i,e-r,t+n-o,e-r,1,!0),this.v.setTripleAt(t-n+i,e-r,t-n+o,e-r,t-n+i,e-r,2,!0),this.v.setTripleAt(t-n,e-r+i,t-n,e-r+i,t-n,e-r+o,3,!0),this.v.setTripleAt(t-n,e+r-i,t-n,e+r-o,t-n,e+r-i,4,!0),this.v.setTripleAt(t-n+i,e+r,t-n+i,e+r,t-n+o,e+r,5,!0),this.v.setTripleAt(t+n-i,e+r,t+n-o,e+r,t+n-i,e+r,6,!0),this.v.setTripleAt(t+n,e+r-i,t+n,e+r-i,t+n,e+r-o,7,!0)):(this.v.setTripleAt(t-n,e-r,t-n+o,e-r,t-n,e-r,1,!0),this.v.setTripleAt(t-n,e+r,t-n,e+r-o,t-n,e+r,2,!0),this.v.setTripleAt(t+n,e+r,t+n-o,e+r,t+n,e+r,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],t),t}();var h={getShapeProp:function(t,e,n){var r;return 3===n||4===n?r=(3===n?e.pt:e.ks).k.length?new a(t,e,n):new o(t,e,n):5===n?r=new u(t,e):6===n?r=new l(t,e):7===n&&(r=new c(t,e)),r.k&&t.addDynamicProperty(r),r},getConstructorFunction:function(){return o},getKeyframedConstructorFunction:function(){return a}};return h}(),Matrix=function(){var t=Math.cos,e=Math.sin,n=Math.tan,r=Math.round;function i(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function o(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1)}function s(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(1,0,0,0,0,r,-i,0,0,i,r,0,0,0,0,1)}function a(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(r,0,i,0,0,1,0,0,-i,0,r,0,0,0,0,1)}function l(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1)}function c(t,e){return this._t(1,e,t,1,0,0)}function u(t,e){return this.shear(n(t),n(e))}function h(r,i){var o=t(i),s=e(i);return this._t(o,s,0,0,-s,o,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(r),1,0,0,0,0,1,0,0,0,0,1)._t(o,-s,0,0,s,o,0,0,0,0,1,0,0,0,0,1)}function p(t,e,n){return n||0===n||(n=1),1===t&&1===e&&1===n?this:this._t(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1)}function d(t,e,n,r,i,o,s,a,l,c,u,h,p,d,f,m){return this.props[0]=t,this.props[1]=e,this.props[2]=n,this.props[3]=r,this.props[4]=i,this.props[5]=o,this.props[6]=s,this.props[7]=a,this.props[8]=l,this.props[9]=c,this.props[10]=u,this.props[11]=h,this.props[12]=p,this.props[13]=d,this.props[14]=f,this.props[15]=m,this}function f(t,e,n){return n=n||0,0!==t||0!==e||0!==n?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,n,1):this}function m(t,e,n,r,i,o,s,a,l,c,u,h,p,d,f,m){var g=this.props;if(1===t&&0===e&&0===n&&0===r&&0===i&&1===o&&0===s&&0===a&&0===l&&0===c&&1===u&&0===h)return g[12]=g[12]*t+g[15]*p,g[13]=g[13]*o+g[15]*d,g[14]=g[14]*u+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var v=g[0],y=g[1],b=g[2],_=g[3],x=g[4],w=g[5],E=g[6],S=g[7],T=g[8],A=g[9],M=g[10],C=g[11],P=g[12],D=g[13],R=g[14],O=g[15];return g[0]=v*t+y*i+b*l+_*p,g[1]=v*e+y*o+b*c+_*d,g[2]=v*n+y*s+b*u+_*f,g[3]=v*r+y*a+b*h+_*m,g[4]=x*t+w*i+E*l+S*p,g[5]=x*e+w*o+E*c+S*d,g[6]=x*n+w*s+E*u+S*f,g[7]=x*r+w*a+E*h+S*m,g[8]=T*t+A*i+M*l+C*p,g[9]=T*e+A*o+M*c+C*d,g[10]=T*n+A*s+M*u+C*f,g[11]=T*r+A*a+M*h+C*m,g[12]=P*t+D*i+R*l+O*p,g[13]=P*e+D*o+R*c+O*d,g[14]=P*n+D*s+R*u+O*f,g[15]=P*r+D*a+R*h+O*m,this._identityCalculated=!1,this}function g(t){var e=t.props;return this.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function v(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function y(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function b(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function _(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function x(t,e,n){return{x:t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]}}function w(t,e,n){return t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12]}function E(t,e,n){return t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13]}function S(t,e,n){return t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]}function T(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,n=-this.props[1]/t,r=-this.props[4]/t,i=this.props[0]/t,o=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,a=new Matrix;return a.props[0]=e,a.props[1]=n,a.props[4]=r,a.props[5]=i,a.props[12]=o,a.props[13]=s,a}function A(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function M(t){var e,n=t.length,r=[];for(e=0;e<n;e+=1)r[e]=A(t[e]);return r}function C(t,e,n){var r=createTypedArray("float32",6);if(this.isIdentity())r[0]=t[0],r[1]=t[1],r[2]=e[0],r[3]=e[1],r[4]=n[0],r[5]=n[1];else{var i=this.props[0],o=this.props[1],s=this.props[4],a=this.props[5],l=this.props[12],c=this.props[13];r[0]=t[0]*i+t[1]*s+l,r[1]=t[0]*o+t[1]*a+c,r[2]=e[0]*i+e[1]*s+l,r[3]=e[0]*o+e[1]*a+c,r[4]=n[0]*i+n[1]*s+l,r[5]=n[0]*o+n[1]*a+c}return r}function P(t,e,n){return this.isIdentity()?[t,e,n]:[t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]]}function D(t,e){if(this.isIdentity())return t+","+e;var n=this.props;return Math.round(100*(t*n[0]+e*n[4]+n[12]))/100+","+Math.round(100*(t*n[1]+e*n[5]+n[13]))/100}function R(){for(var t=0,e=this.props,n="matrix3d(";t<16;)n+=r(1e4*e[t])/1e4,n+=15===t?")":",",t+=1;return n}function O(t){return t<1e-6&&t>0||t>-1e-6&&t<0?r(1e4*t)/1e4:t}function I(){var t=this.props;return"matrix("+O(t[0])+","+O(t[1])+","+O(t[4])+","+O(t[5])+","+O(t[12])+","+O(t[13])+")"}return function(){this.reset=i,this.rotate=o,this.rotateX=s,this.rotateY=a,this.rotateZ=l,this.skew=u,this.skewFromAxis=h,this.shear=c,this.scale=p,this.setTransform=d,this.translate=f,this.transform=m,this.multiply=g,this.applyToPoint=x,this.applyToX=w,this.applyToY=E,this.applyToZ=S,this.applyToPointArray=P,this.applyToTriplePoints=C,this.applyToPointStringified=D,this.toCSS=R,this.to2dCSS=I,this.clone=b,this.cloneFromProps=_,this.equals=y,this.inversePoints=M,this.inversePoint=A,this.getInverseMatrix=T,this._t=this.transform,this.isIdentity=v,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(t){setLocationHref(t)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),n=0;n<e.length;n+=1){var r=e[n].split("=");if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"===_typeof$3(exports)&&void 0!==module||__webpack_require__("PDX0")||(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=function(){var t={},e={};return t.registerModifier=function(t,n){e[t]||(e[t]=n)},t.getModifier=function(t,n,r){return new e[t](n,r)},t}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,n,r,i){var o=[];e<=1?o.push({s:t,e:e}):t>=1?o.push({s:t-1,e:e-1}):(o.push({s:t,e:1}),o.push({s:0,e:e-1}));var s,a,l=[],c=o.length;for(s=0;s<c;s+=1){var u,h;if(!((a=o[s]).e*i<r||a.s*i>r+n))u=a.s*i<=r?0:(a.s*i-r)/n,h=a.e*i>=r+n?1:(a.e*i-r)/n,l.push([u,h])}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(t){var e,n=t.length;for(e=0;e<n;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,n,r,i;if(this._mdf||t){var o=this.o.v%360/360;if(o<0&&(o+=1),(e=this.s.v>1?1+o:this.s.v<0?0+o:this.s.v+o)>(n=this.e.v>1?1+o:this.e.v<0?0+o:this.e.v+o)){var s=e;e=n,n=s}e=1e-4*Math.round(1e4*e),n=1e-4*Math.round(1e4*n),this.sValue=e,this.eValue=n}else e=this.sValue,n=this.eValue;var a,l,c,u,h,p=this.shapes.length,d=0;if(n===e)for(i=0;i<p;i+=1)this.shapes[i].localShapeCollection.releaseShapes(),this.shapes[i].shape._mdf=!0,this.shapes[i].shape.paths=this.shapes[i].localShapeCollection,this._mdf&&(this.shapes[i].pathsData.length=0);else if(1===n&&0===e||0===n&&1===e){if(this._mdf)for(i=0;i<p;i+=1)this.shapes[i].pathsData.length=0,this.shapes[i].shape._mdf=!0}else{var f,m,g=[];for(i=0;i<p;i+=1)if((f=this.shapes[i]).shape._mdf||this._mdf||t||2===this.m){if(l=(r=f.shape.paths)._length,h=0,!f.shape._mdf&&f.pathsData.length)h=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),a=0;a<l;a+=1)u=bez.getSegmentsLength(r.shapes[a]),c.push(u),h+=u.totalLength;f.totalShapeLength=h,f.pathsData=c}d+=h,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var v,y=e,b=n,_=0;for(i=p-1;i>=0;i-=1)if((f=this.shapes[i]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&p>1?(v=this.calculateShapeEdges(e,n,f.totalShapeLength,_,d),_+=f.totalShapeLength):v=[[y,b]],l=v.length,a=0;a<l;a+=1){y=v[a][0],b=v[a][1],g.length=0,b<=1?g.push({s:f.totalShapeLength*y,e:f.totalShapeLength*b}):y>=1?g.push({s:f.totalShapeLength*(y-1),e:f.totalShapeLength*(b-1)}):(g.push({s:f.totalShapeLength*y,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(b-1)}));var x=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var w=x.pop();this.addPaths(x,m),x=this.addShapes(f,g[1],w)}else this.addPaths(x,m),x=this.addShapes(f,g[1]);this.addPaths(x,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)e.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,e,n,r,i,o,s){i.setXYAt(e[0],e[1],"o",o),i.setXYAt(n[0],n[1],"i",o+1),s&&i.setXYAt(t[0],t[1],"v",o),i.setXYAt(r[0],r[1],"v",o+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,n,r){e.setXYAt(t[1],t[5],"o",n),e.setXYAt(t[2],t[6],"i",n+1),r&&e.setXYAt(t[0],t[4],"v",n),e.setXYAt(t[3],t[7],"v",n+1)},TrimModifier.prototype.addShapes=function(t,e,n){var r,i,o,s,a,l,c,u,h=t.pathsData,p=t.shape.paths.shapes,d=t.shape.paths._length,f=0,m=[],g=!0;for(n?(a=n._length,u=n._length):(n=shapePool.newElement(),a=0,u=0),m.push(n),r=0;r<d;r+=1){for(l=h[r].lengths,n.c=p[r].c,o=p[r].c?l.length:l.length+1,i=1;i<o;i+=1)if(f+(s=l[i-1]).addedLength<e.s)f+=s.addedLength,n.c=!1;else{if(f>e.e){n.c=!1;break}e.s<=f&&e.e>=f+s.addedLength?(this.addSegment(p[r].v[i-1],p[r].o[i-1],p[r].i[i],p[r].v[i],n,a,g),g=!1):(c=bez.getNewSegment(p[r].v[i-1],p[r].v[i],p[r].o[i-1],p[r].i[i],(e.s-f)/s.addedLength,(e.e-f)/s.addedLength,l[i-1]),this.addSegmentFromArray(c,n,a,g),g=!1,n.c=!1),f+=s.addedLength,a+=1}if(p[r].c&&l.length){if(s=l[i-1],f<=e.e){var v=l[i-1].addedLength;e.s<=f&&e.e>=f+v?(this.addSegment(p[r].v[i-1],p[r].o[i-1],p[r].i[0],p[r].v[0],n,a,g),g=!1):(c=bez.getNewSegment(p[r].v[i-1],p[r].v[0],p[r].o[i-1],p[r].i[0],(e.s-f)/v,(e.e-f)/v,l[i-1]),this.addSegmentFromArray(c,n,a,g),g=!1,n.c=!1)}else n.c=!1;f+=s.addedLength,a+=1}if(n._length&&(n.setXYAt(n.v[u][0],n.v[u][1],"i",u),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),f>e.e)break;r<d-1&&(n=shapePool.newElement(),g=!0,m.push(n),a=0)}return m},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var n=e/100,r=[0,0],i=t._length,o=0;for(o=0;o<i;o+=1)r[0]+=t.v[o][0],r[1]+=t.v[o][1];r[0]/=i,r[1]/=i;var s,a,l,c,u,h,p=shapePool.newElement();for(p.c=t.c,o=0;o<i;o+=1)s=t.v[o][0]+(r[0]-t.v[o][0])*n,a=t.v[o][1]+(r[1]-t.v[o][1])*n,l=t.o[o][0]+(r[0]-t.o[o][0])*-n,c=t.o[o][1]+(r[1]-t.o[o][1])*-n,u=t.i[o][0]+(r[0]-t.i[o][0])*-n,h=t.i[o][1]+(r[1]-t.i[o][1])*-n,p.setTripleAt(s,a,l,c,u,h,o);return p},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,n,r,i,o,s,a=this.shapes.length,l=this.amount.v;if(0!==l)for(n=0;n<a;n+=1){if(s=(o=this.shapes[n]).localShapeCollection,o.shape._mdf||this._mdf||t)for(s.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,i=o.shape.paths._length,r=0;r<i;r+=1)s.addShape(this.processPath(e[r],l));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(t,e,n){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(n||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var r,i=e.or.k.length;for(r=0;r<i;r+=1)e.or.k[r].to=null,e.or.k[r].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){var n;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var r,i;if(n=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(r=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),i=this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(r=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),i=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/n,0)):(r=this.p.pv,i=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){r=[],i=[];var o=this.px,s=this.py;o._caching.lastFrame+o.offsetTime<=o.keyframes[0].t?(r[0]=o.getValueAtTime((o.keyframes[0].t+.01)/n,0),r[1]=s.getValueAtTime((s.keyframes[0].t+.01)/n,0),i[0]=o.getValueAtTime(o.keyframes[0].t/n,0),i[1]=s.getValueAtTime(s.keyframes[0].t/n,0)):o._caching.lastFrame+o.offsetTime>=o.keyframes[o.keyframes.length-1].t?(r[0]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/n,0),r[1]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/n,0),i[0]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/n,0),i[1]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/n,0)):(r=[o.pv,s.pv],i[0]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/n,o.offsetTime),i[1]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/n,s.offsetTime))}else r=i=t;this.v.rotate(-Math.atan2(r[1]-i[1],r[0]-i[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,n,r){return new e(t,n,r)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(t,e){return 1e5*Math.abs(t-e)<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,n){return t*(1-n)+e*n}function lerpPoint(t,e,n){return[lerp(t[0],e[0],n),lerp(t[1],e[1],n)]}function quadRoots(t,e,n){if(0===t)return[];var r=e*e-4*t*n;if(r<0)return[];var i=-e/(2*t);if(0===r)return[i];var o=Math.sqrt(r)/(2*t);return[i-o,i+o]}function polynomialCoefficients(t,e,n,r){return[3*e-t-3*n+r,3*t-6*e+3*n,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,n,r,i){i&&pointEqual(t,e)&&(e=lerpPoint(t,r,1/3)),i&&pointEqual(n,r)&&(n=lerpPoint(t,r,2/3));var o=polynomialCoefficients(t[0],e[0],n[0],r[0]),s=polynomialCoefficients(t[1],e[1],n[1],r[1]);this.a=[o[0],s[0]],this.b=[o[1],s[1]],this.c=[o[2],s[2]],this.d=[o[3],s[3]],this.points=[t,e,n,r]}function extrema(t,e){var n=t.points[0][e],r=t.points[t.points.length-1][e];if(n>r){var i=r;r=n,n=i}for(var o=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),s=0;s<o.length;s+=1)if(o[s]>0&&o[s]<1){var a=t.point(o[s])[e];a<n?n=a:a>r&&(r=a)}return{min:n,max:r}}function intersectData(t,e,n){var r=t.boundingBox();return{cx:r.cx,cy:r.cy,width:r.width,height:r.height,bez:t,t:(e+n)/2,t1:e,t2:n}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return 2*Math.abs(t.cx-e.cx)<t.width+e.width&&2*Math.abs(t.cy-e.cy)<t.height+e.height}function intersectsImpl(t,e,n,r,i,o){if(boxIntersect(t,e))if(n>=o||t.width<=r&&t.height<=r&&e.width<=r&&e.height<=r)i.push([t.t,e.t]);else{var s=splitData(t),a=splitData(e);intersectsImpl(s[0],a[0],n+1,r,i,o),intersectsImpl(s[0],a[1],n+1,r,i,o),intersectsImpl(s[1],a[0],n+1,r,i,o),intersectsImpl(s[1],a[1],n+1,r,i,o)}}function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,n,r){var i=[t[0],t[1],1],o=[e[0],e[1],1],s=[n[0],n[1],1],a=[r[0],r[1],1],l=crossProduct(crossProduct(i,o),crossProduct(s,a));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(t,e,n){return[t[0]+Math.cos(e)*n,t[1]-Math.sin(e)*n]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}function setPoint(t,e,n,r,i,o,s){var a=n-Math.PI/2,l=n+Math.PI/2,c=e[0]+Math.cos(n)*r*i,u=e[1]-Math.sin(n)*r*i;t.setTripleAt(c,u,c+Math.cos(a)*o,u-Math.sin(a)*o,c+Math.cos(l)*s,u-Math.sin(l)*s,t.length())}function getPerpendicularVector(t,e){var n=[e[0]-t[0],e[1]-t[1]],r=.5*-Math.PI;return[Math.cos(r)*n[0]-Math.sin(r)*n[1],Math.sin(r)*n[0]+Math.cos(r)*n[1]]}function getProjectingAngle(t,e){var n=0===e?t.length()-1:e-1,r=(e+1)%t.length(),i=getPerpendicularVector(t.v[n],t.v[r]);return Math.atan2(0,1)-Math.atan2(i[1],i[0])}function zigZagCorner(t,e,n,r,i,o,s){var a=getProjectingAngle(e,n),l=e.v[n%e._length],c=e.v[0===n?e._length-1:n-1],u=e.v[(n+1)%e._length],h=2===o?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,p=2===o?Math.sqrt(Math.pow(l[0]-u[0],2)+Math.pow(l[1]-u[1],2)):0;setPoint(t,e.v[n%e._length],a,s,r,p/(2*(i+1)),h/(2*(i+1)),o)}function zigZagSegment(t,e,n,r,i,o){for(var s=0;s<r;s+=1){var a=(s+1)/(r+1),l=2===i?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,c=e.normalAngle(a);setPoint(t,e.point(a),c,o,n,l/(2*(r+1)),l/(2*(r+1)),i),o=-o}return o}function linearOffset(t,e,n){var r=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,r,n),polarOffset(e,r,n)]}function offsetSegment(t,e){var n,r,i,o,s,a,l;n=(l=linearOffset(t.points[0],t.points[1],e))[0],r=l[1],i=(l=linearOffset(t.points[1],t.points[2],e))[0],o=l[1],s=(l=linearOffset(t.points[2],t.points[3],e))[0],a=l[1];var c=lineIntersection(n,r,i,o);null===c&&(c=r);var u=lineIntersection(s,a,i,o);return null===u&&(u=s),new PolynomialBezier(n,c,u,a)}function joinLines(t,e,n,r,i){var o=e.points[3],s=n.points[0];if(3===r)return o;if(pointEqual(o,s))return o;if(2===r){var a=-e.tangentAngle(1),l=-n.tangentAngle(0)+Math.PI,c=lineIntersection(o,polarOffset(o,a+Math.PI/2,100),s,polarOffset(s,a+Math.PI/2,100)),u=c?pointDistance(c,o):pointDistance(o,s)/2,h=polarOffset(o,a,2*u*roundCorner);return t.setXYAt(h[0],h[1],"o",t.length()-1),h=polarOffset(s,l,2*u*roundCorner),t.setTripleAt(s[0],s[1],s[0],s[1],h[0],h[1],t.length()),s}var p=lineIntersection(pointEqual(o,e.points[2])?e.points[0]:e.points[2],o,s,pointEqual(s,n.points[1])?n.points[3]:n.points[1]);return p&&pointDistance(p,o)<i?(t.setTripleAt(p[0],p[1],p[0],p[1],p[0],p[1],t.length()),p):o}function getIntersection(t,e){var n=t.intersections(e);return n.length&&floatEqual(n[0][0],1)&&n.shift(),n.length?n[0]:null}function pruneSegmentIntersection(t,e){var n=t.slice(),r=e.slice(),i=getIntersection(t[t.length-1],e[0]);return i&&(n[t.length-1]=t[t.length-1].split(i[0])[0],r[0]=e[0].split(i[1])[1]),t.length>1&&e.length>1&&(i=getIntersection(t[0],e[e.length-1]))?[[t[0].split(i[0])[0]],[e[e.length-1].split(i[1])[1]]]:[n,r]}function pruneIntersections(t){for(var e,n=1;n<t.length;n+=1)e=pruneSegmentIntersection(t[n-1],t[n]),t[n-1]=e[0],t[n]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var n,r,i,o,s=t.inflectionPoints();if(0===s.length)return[offsetSegment(t,e)];if(1===s.length||floatEqual(s[1],1))return n=(i=t.split(s[0]))[0],r=i[1],[offsetSegment(n,e),offsetSegment(r,e)];n=(i=t.split(s[0]))[0];var a=(s[1]-s[0])/(1-s[0]);return o=(i=i[1].split(a))[0],r=i[1],[offsetSegment(n,e),offsetSegment(o,e),offsetSegment(r,e)]}function OffsetPathModifier(){}function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],n="normal",r="normal",i=e.length,o=0;o<i;o+=1)switch(e[o].toLowerCase()){case"italic":r="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200"}return{style:r,weight:t.fWeight||n}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,n,r,i,o){var s=o?-1:1,a=r.s.v[0]+(1-r.s.v[0])*(1-i),l=r.s.v[1]+(1-r.s.v[1])*(1-i);t.translate(r.p.v[0]*s*i,r.p.v[1]*s*i,r.p.v[2]),e.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),e.rotate(-r.r.v*s*i),e.translate(r.a.v[0],r.a.v[1],r.a.v[2]),n.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),n.scale(o?1/a:a,o?1/l:l),n.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(t,e,n,r){for(this.elem=t,this.arr=e,this.pos=n,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[n]);n>0;)n-=1,this._elements.unshift(e[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)t[n]._render=e,"gr"===t[n].ty&&this.changeGroupRender(t[n].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,n,r,i,o,s=!1;if(this._mdf||t){var a,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),s=!0}for(o=0,r=0;r<=this._groups.length-1;r+=1){if(a=o<l,this._groups[r]._render=a,this.changeGroupRender(this._groups[r].it,a),!a){var u=this.elemsData[r].it,h=u[u.length-1];0!==h.transform.op.v?(h.transform.op._mdf=!0,h.transform.op.v=0):h.transform.op._mdf=!1}o+=1}this._currentCopies=l;var p=this.o.v,d=p%1,f=p>0?Math.floor(p):Math.ceil(p),m=this.pMatrix.props,g=this.rMatrix.props,v=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var y,b,_=0;if(p>0){for(;_<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),_+=1;d&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,d,!1),_+=d)}else if(p<0){for(;_>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),_-=1;d&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-d,!0),_-=d)}for(r=1===this.data.m?0:this._currentCopies-1,i=1===this.data.m?1:-1,o=this._currentCopies;o;){if(b=(n=(e=this.elemsData[r].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),0!==_){for((0!==r&&1===i||r!==this._currentCopies-1&&-1===i)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),y=0;y<b;y+=1)n[y]=this.matrix.props[y];this.matrix.reset()}else for(this.matrix.reset(),y=0;y<b;y+=1)n[y]=this.matrix.props[y];_+=1,o-=1,r+=i}}else for(o=this._currentCopies,r=0,i=1;o;)n=(e=this.elemsData[r].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,o-=1,r+=i;return s},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var n,r=shapePool.newElement();r.c=t.c;var i,o,s,a,l,c,u,h,p,d,f,m,g=t._length,v=0;for(n=0;n<g;n+=1)i=t.v[n],s=t.o[n],o=t.i[n],i[0]===s[0]&&i[1]===s[1]&&i[0]===o[0]&&i[1]===o[1]?0!==n&&n!==g-1||t.c?(a=0===n?t.v[g-1]:t.v[n-1],c=(l=Math.sqrt(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)))?Math.min(l/2,e)/l:0,u=f=i[0]+(a[0]-i[0])*c,h=m=i[1]-(i[1]-a[1])*c,p=u-(u-i[0])*roundCorner,d=h-(h-i[1])*roundCorner,r.setTripleAt(u,h,p,d,f,m,v),v+=1,a=n===g-1?t.v[0]:t.v[n+1],c=(l=Math.sqrt(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)))?Math.min(l/2,e)/l:0,u=p=i[0]+(a[0]-i[0])*c,h=d=i[1]+(a[1]-i[1])*c,f=u-(u-i[0])*roundCorner,m=h-(h-i[1])*roundCorner,r.setTripleAt(u,h,p,d,f,m,v),v+=1):(r.setTripleAt(i[0],i[1],s[0],s[1],o[0],o[1],v),v+=1):(r.setTripleAt(t.v[n][0],t.v[n][1],t.o[n][0],t.o[n][1],t.i[n][0],t.i[n][1],v),v+=1);return r},RoundCornersModifier.prototype.processShapes=function(t){var e,n,r,i,o,s,a=this.shapes.length,l=this.rd.v;if(0!==l)for(n=0;n<a;n+=1){if(s=(o=this.shapes[n]).localShapeCollection,o.shape._mdf||this._mdf||t)for(s.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,i=o.shape.paths._length,r=0;r<i;r+=1)s.addShape(this.processPath(e[r],l));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,n=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(n<0)return[];var r=Math.sqrt(n);return floatZero(r)?r>0&&r<1?[e]:[]:[e-r,e+r].filter((function(t){return t>0&&t<1}))},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),n=lerpPoint(this.points[1],this.points[2],t),r=lerpPoint(this.points[2],this.points[3],t),i=lerpPoint(e,n,t),o=lerpPoint(n,r,t),s=lerpPoint(i,o,t);return[new PolynomialBezier(this.points[0],e,i,s,!0),new PolynomialBezier(s,o,r,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}},PolynomialBezier.prototype.intersections=function(t,e,n){void 0===e&&(e=2),void 0===n&&(n=7);var r=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,r,n),r},PolynomialBezier.shapeSegment=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[n],t.v[n],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[n],t.i[n],t.o[e],t.v[e],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(t,e,n,r){var i=t._length,o=shapePool.newElement();if(o.c=t.c,t.c||(i-=1),0===i)return o;var s=-1,a=PolynomialBezier.shapeSegment(t,0);zigZagCorner(o,t,0,e,n,r,s);for(var l=0;l<i;l+=1)s=zigZagSegment(o,a,e,n,r,-s),a=l!==i-1||t.c?PolynomialBezier.shapeSegment(t,(l+1)%i):null,zigZagCorner(o,t,l+1,e,n,r,s);return o},ZigZagModifier.prototype.processShapes=function(t){var e,n,r,i,o,s,a=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),u=this.pointsType.v;if(0!==l)for(n=0;n<a;n+=1){if(s=(o=this.shapes[n]).localShapeCollection,o.shape._mdf||this._mdf||t)for(s.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,i=o.shape.paths._length,r=0;r<i;r+=1)s.addShape(this.processPath(e[r],l,c,u));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(t,e,n,r){var i=shapePool.newElement();i.c=t.c;var o,s,a,l=t.length();t.c||(l-=1);var c=[];for(o=0;o<l;o+=1)a=PolynomialBezier.shapeSegment(t,o),c.push(offsetSegmentSplit(a,e));if(!t.c)for(o=l-1;o>=0;o-=1)a=PolynomialBezier.shapeSegmentInverted(t,o),c.push(offsetSegmentSplit(a,e));c=pruneIntersections(c);var u=null,h=null;for(o=0;o<c.length;o+=1){var p=c[o];for(h&&(u=joinLines(i,h,p[0],n,r)),h=p[p.length-1],s=0;s<p.length;s+=1)a=p[s],u&&pointEqual(a.points[0],u)?i.setXYAt(a.points[1][0],a.points[1][1],"o",i.length()-1):i.setTripleAt(a.points[0][0],a.points[0][1],a.points[1][0],a.points[1][1],a.points[0][0],a.points[0][1],i.length()),i.setTripleAt(a.points[3][0],a.points[3][1],a.points[3][0],a.points[3][1],a.points[2][0],a.points[2][1],i.length()),u=a.points[3]}return c.length&&joinLines(i,h,c[0][0],n,r),i},OffsetPathModifier.prototype.processShapes=function(t){var e,n,r,i,o,s,a=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,u=this.lineJoin;if(0!==l)for(n=0;n<a;n+=1){if(s=(o=this.shapes[n]).localShapeCollection,o.shape._mdf||this._mdf||t)for(s.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,i=o.shape.paths._length,r=0;r<i;r+=1)s.addShape(this.processPath(e[r],l,u,c));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var t={w:0,size:0,shapes:[],data:{shapes:[]}},e=[];e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function r(t,e){var n=createTag("span");n.setAttribute("aria-hidden",!0),n.style.fontFamily=e;var r=createTag("span");r.innerText="giItT1WQy@!-/#",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.fontSize="300px",n.style.fontVariant="normal",n.style.fontStyle="normal",n.style.fontWeight="normal",n.style.letterSpacing="0",n.appendChild(r),document.body.appendChild(n);var i=r.offsetWidth;return r.style.fontFamily=function(t){var e,n=t.split(","),r=n.length,i=[];for(e=0;e<r;e+=1)"sans-serif"!==n[e]&&"monospace"!==n[e]&&i.push(n[e]);return i.join(",")}(t)+", "+e,{node:r,w:i,parent:n}}function i(t,e){var n,r=document.body&&e?"svg":"canvas",i=getFontProperties(t);if("svg"===r){var o=createNS("text");o.style.fontSize="100px",o.setAttribute("font-family",t.fFamily),o.setAttribute("font-style",i.style),o.setAttribute("font-weight",i.weight),o.textContent="1",t.fClass?(o.style.fontFamily="inherit",o.setAttribute("class",t.fClass)):o.style.fontFamily=t.fFamily,e.appendChild(o),n=o}else{var s=new OffscreenCanvas(500,500).getContext("2d");s.font=i.style+" "+i.weight+" 100px "+t.fFamily,n=s}return{measureText:function(t){return"svg"===r?(n.textContent=t,n.getComputedTextLength()):n.measureText(t).width}}}function o(t){var e=0,n=t.charCodeAt(0);if(n>=55296&&n<=56319){var r=t.charCodeAt(1);r>=56320&&r<=57343&&(e=1024*(n-55296)+r-56320+65536)}return e}function s(t){var e=o(t);return e>=127462&&e<=127487}var a=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return a.isModifier=function(t,e){var r=t.toString(16)+e.toString(16);return-1!==n.indexOf(r)},a.isZeroWidthJoiner=function(t){return 8205===t},a.isFlagEmoji=function(t){return s(t.substr(0,2))&&s(t.substr(2,2))},a.isRegionalCode=s,a.isCombinedCharacter=function(t){return-1!==e.indexOf(t)},a.isRegionalFlag=function(t,e){var n=o(t.substr(e,2));if(127988!==n)return!1;var r=0;for(e+=2;r<5;){if((n=o(t.substr(e,2)))<917601||n>917626)return!1;r+=1,e+=2}return 917631===o(t.substr(e,2))},a.isVariationSelector=function(t){return 65039===t},a.BLACK_FLAG_CODE_POINT=127988,a.prototype={addChars:function(t){if(t){var e;this.chars||(this.chars=[]);var n,r,i=t.length,o=this.chars.length;for(e=0;e<i;e+=1){for(n=0,r=!1;n<o;)this.chars[n].style===t[e].style&&this.chars[n].fFamily===t[e].fFamily&&this.chars[n].ch===t[e].ch&&(r=!0),n+=1;r||(this.chars.push(t[e]),o+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);if(!document.body)return this.isLoaded=!0,t.list.forEach((function(t){t.helper=i(t),t.cache={}})),void(this.fonts=t.list);var n,o=t.list,s=o.length,a=s;for(n=0;n<s;n+=1){var l,c,u=!0;if(o[n].loaded=!1,o[n].monoCase=r(o[n].fFamily,"monospace"),o[n].sansCase=r(o[n].fFamily,"sans-serif"),o[n].fPath){if("p"===o[n].fOrigin||3===o[n].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+o[n].fFamily+'"], style[f-origin="3"][f-family="'+o[n].fFamily+'"]')).length>0&&(u=!1),u){var h=createTag("style");h.setAttribute("f-forigin",o[n].fOrigin),h.setAttribute("f-origin",o[n].origin),h.setAttribute("f-family",o[n].fFamily),h.type="text/css",h.innerText="@font-face {font-family: "+o[n].fFamily+"; font-style: normal; src: url('"+o[n].fPath+"');}",e.appendChild(h)}}else if("g"===o[n].fOrigin||1===o[n].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c+=1)-1!==l[c].href.indexOf(o[n].fPath)&&(u=!1);if(u){var p=createTag("link");p.setAttribute("f-forigin",o[n].fOrigin),p.setAttribute("f-origin",o[n].origin),p.type="text/css",p.rel="stylesheet",p.href=o[n].fPath,document.body.appendChild(p)}}else if("t"===o[n].fOrigin||2===o[n].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c+=1)o[n].fPath===l[c].src&&(u=!1);if(u){var d=createTag("link");d.setAttribute("f-forigin",o[n].fOrigin),d.setAttribute("f-origin",o[n].origin),d.setAttribute("rel","stylesheet"),d.setAttribute("href",o[n].fPath),e.appendChild(d)}}}else o[n].loaded=!0,a-=1;o[n].helper=i(o[n],e),o[n].cache={},this.fonts.push(o[n])}0===a?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(e,n,r){for(var i=0,o=this.chars.length;i<o;){if(this.chars[i].ch===e&&this.chars[i].style===n&&this.chars[i].fFamily===r)return this.chars[i];i+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",e,n,r)),t},getFontByName:function(t){for(var e=0,n=this.fonts.length;e<n;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,n){var r=this.getFontByName(e),i=t;if(!r.cache[i]){var o=r.helper;if(" "===t){var s=o.measureText("|"+t+"|"),a=o.measureText("||");r.cache[i]=(s-a)/100}else r.cache[i]=o.measureText(t)/100}return r.cache[i]*n},checkLoadedFonts:function(){var t,e,n,r=this.fonts.length,i=r;for(t=0;t<r;t+=1)this.fonts[t].loaded?i-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(e=this.fonts[t].monoCase.node,n=this.fonts[t].monoCase.w,e.offsetWidth!==n?(i-=1,this.fonts[t].loaded=!0):(e=this.fonts[t].sansCase.node,n=this.fonts[t].sansCase.w,e.offsetWidth!==n&&(i-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==i&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},a}();function SlotManager(t){this.animationData=t}function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums;function SliderEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function AngleEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function ColorEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function PointEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function LayerIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function MaskIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function CheckboxEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var n,r=t.ef||[];this.effectElements=[];var i,o=r.length;for(n=0;n<o;n+=1)i=new GroupEffect(r[n],e),this.effectElements.push(i)}function GroupEffect(t,e){this.init(t,e)}function BaseElement(){}function FrameElement(){}function FootageElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,n)}function AudioElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,n),this._isPlaying=!1,this._canPlay=!1;var r=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(r),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){var n;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var r,i=this.data.ef.length,o=this.data.ef;for(n=0;n<i;n+=1){switch(r=null,o[n].ty){case 0:r=new SliderEffect(o[n],e,this);break;case 1:r=new AngleEffect(o[n],e,this);break;case 2:r=new ColorEffect(o[n],e,this);break;case 3:r=new PointEffect(o[n],e,this);break;case 4:case 7:r=new CheckboxEffect(o[n],e,this);break;case 10:r=new LayerIndexEffect(o[n],e,this);break;case 11:r=new MaskIndexEffect(o[n],e,this);break;case 5:r=new EffectsManager(o[n],e,this);break;default:r=new NoValueEffect(o[n],e,this)}r&&this.effectElements.push(r)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var e=t("layer"),n=t("effects"),r=t("shape"),i=t("text"),o=t("comp");this.layerInterface=e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var s=n.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(s),0===this.data.ty||this.data.xt?this.compInterface=o(this):4===this.data.ty?(this.layerInterface.shapeInterface=r(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=i(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,n){this.globalData=e,this.comp=n,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var n,r=this.dynamicProperties.length;for(n=0;n<r;n+=1)(e||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var n=this._volume*this._volumeMultiplier;this._previousVolume!==n&&(this._previousVolume=n,this.audio.volume(n))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(t){var e,n,r=this.layers.length;for(this.completeLayers=!0,e=r-1;e>=0;e-=1)this.elements[e]||(n=this.layers[e]).ip-n.st<=t-this.layers[e].st&&n.op-n.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var n,r=t.length,i=this.layers.length;for(e=0;e<r;e+=1)for(n=0;n<i;){if(this.layers[n].id===t[e].id){this.layers[n]=t[e];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,n){for(var r=this.elements,i=this.layers,o=0,s=i.length;o<s;)i[o].ind==e&&(r[o]&&!0!==r[o]?(n.push(r[o]),r[o].setAsParent(),void 0!==i[o].parent?this.buildElementParenting(t,i[o].parent,n):t.setHierarchy(n)):(this.buildItem(o),this.addPendingElement(t))),o+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length;for(e=0;e<n;e+=1)if(t[e].xt){var r=this.createComp(t[e]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},BaseRenderer.prototype.getElementById=function(t){var e,n=this.elements.length;for(e=0;e<n;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e,n=t.shift();if("number"==typeof n)e=this.elements[n];else{var r,i=this.elements.length;for(r=0;r<i;r+=1)if(this.elements[r].data.nm===n){e=this.elements[r];break}}return 0===t.length?e:e.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(t,e,n){this.data=t,this.element=e,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r,i,o=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";var a,l,c,u,h,p,d=this.masksProperties,f=0,m=[],g=createElementID(),v="clipPath",y="clip-path";for(r=0;r<s;r+=1)if(("a"!==d[r].mode&&"n"!==d[r].mode||d[r].inv||100!==d[r].o.k||d[r].o.x)&&(v="mask",y="mask"),"s"!==d[r].mode&&"i"!==d[r].mode||0!==f?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),i=createNS("path"),"n"===d[r].mode)this.viewData[r]={op:PropertyFactory.getProp(this.element,d[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,d[r],3),elem:i,lastPath:""},o.appendChild(i);else{var b;if(f+=1,i.setAttribute("fill","s"===d[r].mode?"#000000":"#ffffff"),i.setAttribute("clip-rule","nonzero"),0!==d[r].x.k?(v="mask",y="mask",p=PropertyFactory.getProp(this.element,d[r].x,0,null,this.element),b=createElementID(),(u=createNS("filter")).setAttribute("id",b),(h=createNS("feMorphology")).setAttribute("operator","erode"),h.setAttribute("in","SourceGraphic"),h.setAttribute("radius","0"),u.appendChild(h),o.appendChild(u),i.setAttribute("stroke","s"===d[r].mode?"#000000":"#ffffff")):(h=null,p=null),this.storedData[r]={elem:i,x:p,expan:h,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"===d[r].mode){l=m.length;var _=createNS("g");for(a=0;a<l;a+=1)_.appendChild(m[a]);var x=createNS("mask");x.setAttribute("mask-type","alpha"),x.setAttribute("id",g+"_"+f),x.appendChild(i),o.appendChild(x),_.setAttribute("mask","url("+getLocationHref()+"#"+g+"_"+f+")"),m.length=0,m.push(_)}else m.push(i);d[r].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[r]={elem:i,lastPath:"",op:PropertyFactory.getProp(this.element,d[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,d[r],3),invRect:c},this.viewData[r].prop.k||this.drawPath(d[r],this.viewData[r].prop.v,this.viewData[r])}for(this.maskElement=createNS(v),s=m.length,r=0;r<s;r+=1)this.maskElement.appendChild(m[r]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(y,"url("+getLocationHref()+"#"+g+")"),o.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,n=0,r=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<r;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),n=0;n<r;n+=1)e.multiply(this.hierarchy[n].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<e;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var n=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(n),t=1;t<e;t+=1){var r=this.localTransforms[t].matrix;n.multiply(r)}n.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var i=this.finalTransform.localOpacity;for(t=0;t<e;t+=1)i*=.01*this.localTransforms[t].opacity;this.finalTransform.localOpacity=i}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var e=0,n=t.length;for(e=0;e<n;e+=1)this.localTransforms.push(t[e])}}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var n,r=!0,i=this.comp;r;)i.finalTransform?(i.data.hasMask&&e.splice(0,0,i.finalTransform),i=i.comp):r=!1;var o,s=e.length;for(n=0;n<s;n+=1)o=e[n].mat.applyToPointArray(0,0,0),t=[t[0]-o[0],t[1]-o[1],0];return t},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,n=this.element.finalTransform.mat,r=this.masksProperties.length;for(e=0;e<r;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var i=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[e].filterId+")")),i.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,n){var r,i,o=" M"+e.v[0][0]+","+e.v[0][1];for(i=e._length,r=1;r<i;r+=1)o+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[r][0]+","+e.i[r][1]+" "+e.v[r][0]+","+e.v[r][1];if(e.c&&i>1&&(o+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),n.lastPath!==o){var s="";n.elem&&(e.c&&(s=t.inv?this.solidPath+o:o),n.elem.setAttribute("d",s)),n.lastPath=o}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={};return t.createFilter=function(t,e){var n=createNS("filter");n.setAttribute("id",t),!0!==e&&(n.setAttribute("filterUnits","objectBoundingBox"),n.setAttribute("x","0%"),n.setAttribute("y","0%"),n.setAttribute("width","100%"),n.setAttribute("height","100%"));return n},t.createAlphaToLuminanceFilter=function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t},t}(),featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,n,r="SourceGraphic",i=t.data.ef?t.data.ef.length:0,o=createElementID(),s=filtersFactory.createFilter(o,!0),a=0;for(this.filters=[],e=0;e<i;e+=1){n=null;var l=t.data.ef[e].ty;if(registeredEffects$1[l])n=new(0,registeredEffects$1[l].effect)(s,t.effectsManager.effectElements[e],t,idPrefix+a,r),r=idPrefix+a,registeredEffects$1[l].countsAsEffect&&(a+=1);n&&this.filters.push(n)}a&&(t.globalData.defs.appendChild(s),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+o+")")),this.filters.length&&t.addRenderableComponent(this)}function registerEffect$1(t,e,n){registeredEffects$1[t]={effect:e,countsAsEffect:n}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,n=this.filters.length,r=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&r.push(this.filters[e]);return r},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var e=createNS("g");e.setAttribute("id",this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var n=createNS("clipPath"),r=createNS("path");r.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var i=createElementID();if(n.setAttribute("id",i),n.appendChild(r),this.globalData.defs.appendChild(n),this.checkMasks()){var o=createNS("g");o.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")"),o.appendChild(this.layerElement),this.transformedElement=o,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var e,n,r,i,o=this.layerId+"_"+t;if(1===t||3===t){var s=createNS("mask");s.setAttribute("id",o),s.setAttribute("mask-type",3===t?"luminance":"alpha"),(r=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),s.appendChild(r),this.globalData.defs.appendChild(s),featureSupport.maskType||1!==t||(s.setAttribute("mask-type","luminance"),e=createElementID(),n=filtersFactory.createFilter(e),this.globalData.defs.appendChild(n),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(i=createNS("g")).appendChild(r),s.appendChild(i),i.setAttribute("filter","url("+getLocationHref()+"#"+e+")"))}else if(2===t){var a=createNS("mask");a.setAttribute("id",o),a.setAttribute("mask-type","alpha");var l=createNS("g");a.appendChild(l),e=createElementID(),n=filtersFactory.createFilter(e);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),n.appendChild(c);var u=createNS("feFuncA");u.setAttribute("type","table"),u.setAttribute("tableValues","1.0 0.0"),c.appendChild(u),this.globalData.defs.appendChild(n);var h=createNS("rect");h.setAttribute("width",this.comp.data.w),h.setAttribute("height",this.comp.data.h),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("fill","#ffffff"),h.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+e+")"),l.appendChild(h),(r=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(r),featureSupport.maskType||(a.setAttribute("mask-type","luminance"),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),i=createNS("g"),l.appendChild(h),i.appendChild(this.layerElement),l.appendChild(i)),this.globalData.defs.appendChild(a)}this.matteMasks[t]=o}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(t){var e,n=this.shapeModifiers.length;for(e=0;e<n;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},searchProcessedElement:function(t){for(var e=this.processedElements,n=0,r=e.length;n<r;){if(e[n].elem===t)return e[n].pos;n+=1}return 0},addProcessedElement:function(t,e){for(var n=this.processedElements,r=n.length;r;)if(n[r-=1].elem===t)return void(n[r].pos=e);n.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,n){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=n,this.lvl=e,this._isAnimated=!!n.k;for(var r=0,i=t.length;r<i;){if(t[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(t,e,n,r){var i;this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);var o,s=e.length||0;for(i=0;i<s;i+=1)o=PropertyFactory.getProp(t,e[i].v,0,0,this),this.k=o.k||this.k,this.dataProps[i]={n:e[i].n,p:o};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n}function SVGNoStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=n}function GradientProperty(t,e,n){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var r=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,n)}function SVGGradientStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,n),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,n){this.transform={mProps:t,op:e,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,n=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<n;e+=1)"o"!==this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(t,e){for(var n=0,r=this.o.length/2;n<r;){if(Math.abs(t[4*n]-t[4*e+2*n])>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,n,r,i=4*this.data.p;for(e=0;e<i;e+=1)n=e%4==0?100:255,r=Math.round(this.prop.v[e]*n),this.c[e]!==r&&(this.c[e]=r,this._cmdf=!t);if(this.o.length)for(i=this.prop.v.length,e=4*this.data.p;e<i;e+=1)n=e%2==0?100:1,r=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==r&&(this.o[e-4*this.data.p]=r,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,n){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,e),this.setGradientOpacity(e,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var n=createElementID(),r=createNS(1===e.t?"linearGradient":"radialGradient");r.setAttribute("id",n),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var i,o,s,a=[];for(s=4*e.g.p,o=0;o<s;o+=4)i=createNS("stop"),r.appendChild(i),a.push(i);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+n+")"),this.gf=r,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var n,r,i,o=createNS("mask"),s=createNS("path");o.appendChild(s);var a=createElementID(),l=createElementID();o.setAttribute("id",l);var c=createNS(1===t.t?"linearGradient":"radialGradient");c.setAttribute("id",a),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),i=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var u=this.stops;for(r=4*t.g.p;r<i;r+=2)(n=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(n),u.push(n);s.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+a+")"),"gs"===t.ty&&(s.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),1===t.lj&&s.setAttribute("stroke-miterlimit",t.ml)),this.of=c,this.ms=o,this.ost=u,this.maskId=l,e.msElem=s}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(t,e,n,r){if(0===e)return"";var i,o=t.o,s=t.i,a=t.v,l=" M"+r.applyToPointStringified(a[0][0],a[0][1]);for(i=1;i<e;i+=1)l+=" C"+r.applyToPointStringified(o[i-1][0],o[i-1][1])+" "+r.applyToPointStringified(s[i][0],s[i][1])+" "+r.applyToPointStringified(a[i][0],a[i][1]);return n&&e&&(l+=" C"+r.applyToPointStringified(o[i-1][0],o[i-1][1])+" "+r.applyToPointStringified(s[0][0],s[0][1])+" "+r.applyToPointStringified(a[0][0],a[0][1]),l+="z"),l},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function n(t,e,n){(n||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(n||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function r(){}function i(n,r,i){var o,s,a,l,c,u,h,p,d,f,m=r.styles.length,g=r.lvl;for(u=0;u<m;u+=1){if(l=r.sh._mdf||i,r.styles[u].lvl<g){for(p=e.reset(),d=g-r.styles[u].lvl,f=r.transformers.length-1;!l&&d>0;)l=r.transformers[f].mProps._mdf||l,d-=1,f-=1;if(l)for(d=g-r.styles[u].lvl,f=r.transformers.length-1;d>0;)p.multiply(r.transformers[f].mProps.v),d-=1,f-=1}else p=t;if(s=(h=r.sh.paths)._length,l){for(a="",o=0;o<s;o+=1)(c=h.shapes[o])&&c._length&&(a+=buildShapeString(c,c._length,c.c,p));r.caches[u]=a}else a=r.caches[u];r.styles[u].d+=!0===n.hd?"":a,r.styles[u]._mdf=l||r.styles[u]._mdf}}function o(t,e,n){var r=e.style;(e.c._mdf||n)&&r.pElem.setAttribute("fill","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n)&&r.pElem.setAttribute("fill-opacity",e.o.v)}function s(t,e,n){a(t,e,n),l(t,e,n)}function a(t,e,n){var r,i,o,s,a,l=e.gf,c=e.g._hasOpacity,u=e.s.v,h=e.e.v;if(e.o._mdf||n){var p="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(p,e.o.v)}if(e.s._mdf||n){var d=1===t.t?"x1":"cx",f="x1"===d?"y1":"cy";l.setAttribute(d,u[0]),l.setAttribute(f,u[1]),c&&!e.g._collapsable&&(e.of.setAttribute(d,u[0]),e.of.setAttribute(f,u[1]))}if(e.g._cmdf||n){r=e.cst;var m=e.g.c;for(o=r.length,i=0;i<o;i+=1)(s=r[i]).setAttribute("offset",m[4*i]+"%"),s.setAttribute("stop-color","rgb("+m[4*i+1]+","+m[4*i+2]+","+m[4*i+3]+")")}if(c&&(e.g._omdf||n)){var g=e.g.o;for(o=(r=e.g._collapsable?e.cst:e.ost).length,i=0;i<o;i+=1)s=r[i],e.g._collapsable||s.setAttribute("offset",g[2*i]+"%"),s.setAttribute("stop-opacity",g[2*i+1])}if(1===t.t)(e.e._mdf||n)&&(l.setAttribute("x2",h[0]),l.setAttribute("y2",h[1]),c&&!e.g._collapsable&&(e.of.setAttribute("x2",h[0]),e.of.setAttribute("y2",h[1])));else if((e.s._mdf||e.e._mdf||n)&&(a=Math.sqrt(Math.pow(u[0]-h[0],2)+Math.pow(u[1]-h[1],2)),l.setAttribute("r",a),c&&!e.g._collapsable&&e.of.setAttribute("r",a)),e.e._mdf||e.h._mdf||e.a._mdf||n){a||(a=Math.sqrt(Math.pow(u[0]-h[0],2)+Math.pow(u[1]-h[1],2)));var v=Math.atan2(h[1]-u[1],h[0]-u[0]),y=e.h.v;y>=1?y=.99:y<=-1&&(y=-.99);var b=a*y,_=Math.cos(v+e.a.v)*b+u[0],x=Math.sin(v+e.a.v)*b+u[1];l.setAttribute("fx",_),l.setAttribute("fy",x),c&&!e.g._collapsable&&(e.of.setAttribute("fx",_),e.of.setAttribute("fy",x))}}function l(t,e,n){var r=e.style,i=e.d;i&&(i._mdf||n)&&i.dashStr&&(r.pElem.setAttribute("stroke-dasharray",i.dashStr),r.pElem.setAttribute("stroke-dashoffset",i.dashoffset[0])),e.c&&(e.c._mdf||n)&&r.pElem.setAttribute("stroke","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n)&&r.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||n)&&(r.pElem.setAttribute("stroke-width",e.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty){case"fl":return o;case"gf":return a;case"gs":return s;case"st":return l;case"sh":case"el":case"rc":case"sr":return i;case"tr":return n;case"no":return r;default:return null}}}}();function SVGShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,n),this.prevViewData=[]}function LetterProps(t,e,n,r,i,o){this.o=t,this.sw=e,this.sc=n,this.fc=r,this.m=i,this.p=o,this._mdf={o:!0,sw:!!e,sc:!!n,fc:!!r,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,n,r,i=this.shapes.length,o=this.stylesList.length,s=[],a=!1;for(n=0;n<o;n+=1){for(r=this.stylesList[n],a=!1,s.length=0,t=0;t<i;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(r)&&(s.push(e),a=e._isAnimated||a);s.length>1&&a&&this.setShapesAsAnimated(s)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var n,r=new SVGStyleData(t,e),i=r.pElem;if("st"===t.ty)n=new SVGStrokeStyleData(this,t,r);else if("fl"===t.ty)n=new SVGFillStyleData(this,t,r);else if("gf"===t.ty||"gs"===t.ty){n=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,r),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),i.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))}else"no"===t.ty&&(n=new SVGNoStyleData(this,t,r));return"st"!==t.ty&&"gs"!==t.ty||(i.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),i.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),i.setAttribute("fill-opacity","0"),1===t.lj&&i.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&i.setAttribute("fill-rule","evenodd"),t.ln&&i.setAttribute("id",t.ln),t.cl&&i.setAttribute("class",t.cl),t.bm&&(i.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(r),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var n=TransformPropertyFactory.getTransformProperty(this,t,this),r=new SVGTransformData(n,n.o,e);return this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createShapeElement=function(t,e,n){var r=4;"rc"===t.ty?r=5:"el"===t.ty?r=6:"sr"===t.ty&&(r=7);var i=new SVGShapeData(e,n,ShapePropertyFactory.getShapeProp(this,t,r,this));return this.shapes.push(i),this.addShapeToModifiers(i),this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var n=0,r=this.animatedContents.length;n<r;){if(this.animatedContents[n].element===e)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,n=t.styles,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||n.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,n,r,i,o,s){var a,l,c,u,h,p,d=[].concat(o),f=t.length-1,m=[],g=[];for(a=f;a>=0;a-=1){if((p=this.searchProcessedElement(t[a]))?e[a]=n[p-1]:t[a]._render=s,"fl"===t[a].ty||"st"===t[a].ty||"gf"===t[a].ty||"gs"===t[a].ty||"no"===t[a].ty)p?e[a].style.closed=!1:e[a]=this.createStyleElement(t[a],i),t[a]._render&&e[a].style.pElem.parentNode!==r&&r.appendChild(e[a].style.pElem),m.push(e[a].style);else if("gr"===t[a].ty){if(p)for(c=e[a].it.length,l=0;l<c;l+=1)e[a].prevViewData[l]=e[a].it[l];else e[a]=this.createGroupElement(t[a]);this.searchShapes(t[a].it,e[a].it,e[a].prevViewData,e[a].gr,i+1,d,s),t[a]._render&&e[a].gr.parentNode!==r&&r.appendChild(e[a].gr)}else"tr"===t[a].ty?(p||(e[a]=this.createTransformElement(t[a],r)),u=e[a].transform,d.push(u)):"sh"===t[a].ty||"rc"===t[a].ty||"el"===t[a].ty||"sr"===t[a].ty?(p||(e[a]=this.createShapeElement(t[a],d,i)),this.setElementStyles(e[a])):"tm"===t[a].ty||"rd"===t[a].ty||"ms"===t[a].ty||"pb"===t[a].ty||"zz"===t[a].ty||"op"===t[a].ty?(p?(h=e[a]).closed=!1:((h=ShapeModifiers.getModifier(t[a].ty)).init(this,t[a]),e[a]=h,this.shapeModifiers.push(h)),g.push(h)):"rp"===t[a].ty&&(p?(h=e[a]).closed=!0:(h=ShapeModifiers.getModifier(t[a].ty),e[a]=h,h.init(this,t,a,e),this.shapeModifiers.push(h),s=!1),g.push(h));this.addProcessedElement(t[a],a+1)}for(f=m.length,a=0;a<f;a+=1)m[a].closed=!0;for(f=g.length,a=0;a<f;a+=1)g[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,n=this.animatedContents.length;for(t=0;t<n;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(t,e,n,r,i,o){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var s=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,s=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,s=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,s=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,s=!0),this.m!==i&&(this.m=i,this._mdf.m=!0,s=!0),!o.length||this.p[0]===o[0]&&this.p[1]===o[1]&&this.p[4]===o[4]&&this.p[5]===o[5]&&this.p[12]===o[12]&&this.p[13]===o[13]||(this.p=o,this._mdf.p=!0,s=!0),s},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,n=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var r;this.lock=!0,this._mdf=!1;var i=this.effectsSequence.length,o=t||this.data.d.k[this.keysIndex].s;for(r=0;r<i;r+=1)o=n!==this.keysIndex?this.effectsSequence[r](o,o.t):this.effectsSequence[r](this.currentData,o.t);e!==o&&this.setCurrentData(o),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,n=0,r=t.length;n<=r-1&&!(n===r-1||t[n+1].t>e);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,n,r=[],i=0,o=t.length,s=!1,a=!1,l="";i<o;)s=a,a=!1,e=t.charCodeAt(i),l=t.charAt(i),FontManager.isCombinedCharacter(e)?s=!0:e>=55296&&e<=56319?FontManager.isRegionalFlag(t,i)?l=t.substr(i,14):(n=t.charCodeAt(i+1))>=56320&&n<=57343&&(FontManager.isModifier(e,n)?(l=t.substr(i,2),s=!0):l=FontManager.isFlagEmoji(t.substr(i,4))?t.substr(i,4):t.substr(i,2)):e>56319?(n=t.charCodeAt(i+1),FontManager.isVariationSelector(e)&&(s=!0)):FontManager.isZeroWidthJoiner(e)&&(s=!0,a=!0),s?(r[r.length-1]+=l,s=!1):r.push(l),i+=l.length;return r},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,n,r,i,o,s,a,l=this.elem.globalData.fontManager,c=this.data,u=[],h=0,p=c.m.g,d=0,f=0,m=0,g=[],v=0,y=0,b=l.getFontByName(t.f),_=0,x=getFontProperties(b);t.fWeight=x.weight,t.fStyle=x.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),n=t.finalText.length,t.finalLineHeight=t.lh;var w,E=t.tr/1e3*t.finalSize;if(t.sz)for(var S,T,A=!0,M=t.sz[0],C=t.sz[1];A;){S=0,v=0,n=(T=this.buildFinalText(t.t)).length,E=t.tr/1e3*t.finalSize;var P=-1;for(e=0;e<n;e+=1)w=T[e].charCodeAt(0),r=!1," "===T[e]?P=e:13!==w&&3!==w||(v=0,r=!0,S+=t.finalLineHeight||1.2*t.finalSize),l.chars?(a=l.getCharData(T[e],b.fStyle,b.fFamily),_=r?0:a.w*t.finalSize/100):_=l.measureText(T[e],t.f,t.finalSize),v+_>M&&" "!==T[e]?(-1===P?n+=1:e=P,S+=t.finalLineHeight||1.2*t.finalSize,T.splice(e,P===e?1:0,"\r"),P=-1,v=0):(v+=_,v+=E);S+=b.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&C<S?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=T,n=t.finalText.length,A=!1)}v=-E,_=0;var D,R=0;for(e=0;e<n;e+=1)if(r=!1,13===(w=(D=t.finalText[e]).charCodeAt(0))||3===w?(R=0,g.push(v),y=v>y?v:y,v=-2*E,i="",r=!0,m+=1):i=D,l.chars?(a=l.getCharData(D,b.fStyle,l.getFontByName(t.f).fFamily),_=r?0:a.w*t.finalSize/100):_=l.measureText(i,t.f,t.finalSize)," "===D?R+=_+E:(v+=_+E+R,R=0),u.push({l:_,an:_,add:d,n:r,anIndexes:[],val:i,line:m,animatorJustifyOffset:0}),2==p){if(d+=_,""===i||" "===i||e===n-1){for(""!==i&&" "!==i||(d-=_);f<=e;)u[f].an=d,u[f].ind=h,u[f].extra=_,f+=1;h+=1,d=0}}else if(3==p){if(d+=_,""===i||e===n-1){for(""===i&&(d-=_);f<=e;)u[f].an=d,u[f].ind=h,u[f].extra=_,f+=1;d=0,h+=1}}else u[h].ind=h,u[h].extra=0,h+=1;if(t.l=u,y=v>y?v:y,g.push(v),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=y,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=g;var O,I,L,k,F=c.a;s=F.length;var N=[];for(o=0;o<s;o+=1){for((O=F[o]).a.sc&&(t.strokeColorAnim=!0),O.a.sw&&(t.strokeWidthAnim=!0),(O.a.fc||O.a.fh||O.a.fs||O.a.fb)&&(t.fillColorAnim=!0),k=0,L=O.s.b,e=0;e<n;e+=1)(I=u[e]).anIndexes[o]=k,(1==L&&""!==I.val||2==L&&""!==I.val&&" "!==I.val||3==L&&(I.n||" "==I.val||e==n-1)||4==L&&(I.n||e==n-1))&&(1===O.s.rn&&N.push(k),k+=1);c.a[o].s.totalChars=k;var B,U=-1;if(1===O.s.rn)for(e=0;e<n;e+=1)U!=(I=u[e]).anIndexes[o]&&(U=I.anIndexes[o],B=N.splice(Math.floor(Math.random()*N.length),1)[0]),I.anIndexes[o]=B}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=b.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var n=this.copyData({},this.data.d.k[e].s);n=this.copyData(n,t),this.data.d.k[e].s=n,this.recalculate(e),this.setCurrentData(n),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,n=Math.floor;function r(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(t,e.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return r.prototype={getMult:function(r){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var i=0,o=0,s=1,a=1;this.ne.v>0?i=this.ne.v/100:o=-this.ne.v/100,this.xe.v>0?s=1-this.xe.v/100:a=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(i,o,s,a).get,c=0,u=this.finalS,h=this.finalE,p=this.data.sh;if(2===p)c=l(c=h===u?r>=h?1:0:t(0,e(.5/(h-u)+(r-u)/(h-u),1)));else if(3===p)c=l(c=h===u?r>=h?0:1:1-t(0,e(.5/(h-u)+(r-u)/(h-u),1)));else if(4===p)h===u?c=0:(c=t(0,e(.5/(h-u)+(r-u)/(h-u),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===p){if(h===u)c=0;else{var d=h-u,f=-d/2+(r=e(t(0,r+.5-u),h-u)),m=d/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===p?(h===u?c=0:(r=e(t(0,r+.5-u),h-u),c=(1+Math.cos(Math.PI+2*Math.PI*r/(h-u)))/2),c=l(c)):(r>=n(u)&&(c=t(0,e(r-u<0?e(h,1)-(u-r):h-r,1))),c=l(c));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var v=.5-.5*g;c<v?c=0:(c=(c-v)/g)>1&&(c=1)}return c*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,n=this.o.v/e,r=this.s.v/e+n,i=this.e.v/e+n;if(r>i){var o=r;r=i,i=o}this.finalS=r,this.finalE=i}},extendPrototype([DynamicPropertyContainer],r),{getTextSelectorProp:function(t,e,n){return new r(t,e,n)}}}();function TextAnimatorDataProperty(t,e,n){var r={propType:!1},i=PropertyFactory.getProp,o=e.a;this.a={r:o.r?i(t,o.r,0,degToRads,n):r,rx:o.rx?i(t,o.rx,0,degToRads,n):r,ry:o.ry?i(t,o.ry,0,degToRads,n):r,sk:o.sk?i(t,o.sk,0,degToRads,n):r,sa:o.sa?i(t,o.sa,0,degToRads,n):r,s:o.s?i(t,o.s,1,.01,n):r,a:o.a?i(t,o.a,1,0,n):r,o:o.o?i(t,o.o,0,.01,n):r,p:o.p?i(t,o.p,1,0,n):r,sw:o.sw?i(t,o.sw,0,0,n):r,sc:o.sc?i(t,o.sc,1,0,n):r,fc:o.fc?i(t,o.fc,1,0,n):r,fh:o.fh?i(t,o.fh,0,0,n):r,fs:o.fs?i(t,o.fs,0,.01,n):r,fb:o.fb?i(t,o.fb,0,.01,n):r,t:o.t?i(t,o.t,0,0,n):r},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,n),this.s.t=e.s.t}function TextAnimatorProperty(t,e,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,n=this._textData.a.length,r=PropertyFactory.getProp;for(t=0;t<n;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:r(this._elem,this._textData.p.a,0,0,this),f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:r(this._elem,this._textData.p.r,0,0,this),p:r(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,r,i,o,s,a,l,c,u,h,p,d,f,m,g,v,y,b,_,x=this._moreOptions.alignment.v,w=this._animatorsData,E=this._textData,S=this.mHelper,T=this._renderType,A=this.renderedLetters.length,M=t.l;if(this._hasMaskedPath){if(_=this._pathData.m,!this._pathData.n||this._pathData._mdf){var C,P=_.v;for(this._pathData.r.v&&(P=P.reverse()),s={tLength:0,segments:[]},o=P._length-1,v=0,i=0;i<o;i+=1)C=bez.buildBezierData(P.v[i],P.v[i+1],[P.o[i][0]-P.v[i][0],P.o[i][1]-P.v[i][1]],[P.i[i+1][0]-P.v[i+1][0],P.i[i+1][1]-P.v[i+1][1]]),s.tLength+=C.segmentLength,s.segments.push(C),v+=C.segmentLength;i=o,_.v.c&&(C=bez.buildBezierData(P.v[i],P.v[0],[P.o[i][0]-P.v[i][0],P.o[i][1]-P.v[i][1]],[P.i[0][0]-P.v[0][0],P.i[0][1]-P.v[0][1]]),s.tLength+=C.segmentLength,s.segments.push(C),v+=C.segmentLength),this._pathData.pi=s}if(s=this._pathData.pi,a=this._pathData.f.v,p=0,h=1,c=0,u=!0,m=s.segments,a<0&&_.v.c)for(s.tLength<Math.abs(a)&&(a=-Math.abs(a)%s.tLength),h=(f=m[p=m.length-1].points).length-1;a<0;)a+=f[h].partialLength,(h-=1)<0&&(h=(f=m[p-=1].points).length-1);d=(f=m[p].points)[h-1],g=(l=f[h]).partialLength}o=M.length,n=0,r=0;var D,R,O,I,L,k=1.2*t.finalSize*.714,F=!0;O=w.length;var N,B,U,G,z,H,j,V,X,W,q,Y,$=-1,K=a,Z=p,J=h,Q=-1,tt="",et=this.defaultPropsArray;if(2===t.j||1===t.j){var nt=0,rt=0,it=2===t.j?-.5:-1,ot=0,st=!0;for(i=0;i<o;i+=1)if(M[i].n){for(nt&&(nt+=rt);ot<i;)M[ot].animatorJustifyOffset=nt,ot+=1;nt=0,st=!0}else{for(R=0;R<O;R+=1)(D=w[R].a).t.propType&&(st&&2===t.j&&(rt+=D.t.v*it),(L=w[R].s.getMult(M[i].anIndexes[R],E.a[R].s.totalChars)).length?nt+=D.t.v*L[0]*it:nt+=D.t.v*L*it);st=!1}for(nt&&(nt+=rt);ot<i;)M[ot].animatorJustifyOffset=nt,ot+=1}for(i=0;i<o;i+=1){if(S.reset(),G=1,M[i].n)n=0,r+=t.yOffset,r+=F?1:0,a=K,F=!1,this._hasMaskedPath&&(h=J,d=(f=m[p=Z].points)[h-1],g=(l=f[h]).partialLength,c=0),tt="",q="",X="",Y="",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==M[i].line){switch(t.j){case 1:a+=v-t.lineWidths[M[i].line];break;case 2:a+=(v-t.lineWidths[M[i].line])/2}Q=M[i].line}$!==M[i].ind&&(M[$]&&(a+=M[$].extra),a+=M[i].an/2,$=M[i].ind),a+=x[0]*M[i].an*.005;var at=0;for(R=0;R<O;R+=1)(D=w[R].a).p.propType&&((L=w[R].s.getMult(M[i].anIndexes[R],E.a[R].s.totalChars)).length?at+=D.p.v[0]*L[0]:at+=D.p.v[0]*L),D.a.propType&&((L=w[R].s.getMult(M[i].anIndexes[R],E.a[R].s.totalChars)).length?at+=D.a.v[0]*L[0]:at+=D.a.v[0]*L);for(u=!0,this._pathData.a.v&&(a=.5*M[0].an+(v-this._pathData.f.v-.5*M[0].an-.5*M[M.length-1].an)*$/(o-1),a+=this._pathData.f.v);u;)c+g>=a+at||!f?(y=(a+at-c)/l.partialLength,B=d.point[0]+(l.point[0]-d.point[0])*y,U=d.point[1]+(l.point[1]-d.point[1])*y,S.translate(-x[0]*M[i].an*.005,-x[1]*k*.01),u=!1):f&&(c+=l.partialLength,(h+=1)>=f.length&&(h=0,m[p+=1]?f=m[p].points:_.v.c?(h=0,f=m[p=0].points):(c-=l.partialLength,f=null)),f&&(d=l,g=(l=f[h]).partialLength));N=M[i].an/2-M[i].add,S.translate(-N,0,0)}else N=M[i].an/2-M[i].add,S.translate(-N,0,0),S.translate(-x[0]*M[i].an*.005,-x[1]*k*.01,0);for(R=0;R<O;R+=1)(D=w[R].a).t.propType&&(L=w[R].s.getMult(M[i].anIndexes[R],E.a[R].s.totalChars),0===n&&0===t.j||(this._hasMaskedPath?L.length?a+=D.t.v*L[0]:a+=D.t.v*L:L.length?n+=D.t.v*L[0]:n+=D.t.v*L));for(t.strokeWidthAnim&&(H=t.sw||0),t.strokeColorAnim&&(z=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(j=[t.fc[0],t.fc[1],t.fc[2]]),R=0;R<O;R+=1)(D=w[R].a).a.propType&&((L=w[R].s.getMult(M[i].anIndexes[R],E.a[R].s.totalChars)).length?S.translate(-D.a.v[0]*L[0],-D.a.v[1]*L[1],D.a.v[2]*L[2]):S.translate(-D.a.v[0]*L,-D.a.v[1]*L,D.a.v[2]*L));for(R=0;R<O;R+=1)(D=w[R].a).s.propType&&((L=w[R].s.getMult(M[i].anIndexes[R],E.a[R].s.totalChars)).length?S.scale(1+(D.s.v[0]-1)*L[0],1+(D.s.v[1]-1)*L[1],1):S.scale(1+(D.s.v[0]-1)*L,1+(D.s.v[1]-1)*L,1));for(R=0;R<O;R+=1){if(D=w[R].a,L=w[R].s.getMult(M[i].anIndexes[R],E.a[R].s.totalChars),D.sk.propType&&(L.length?S.skewFromAxis(-D.sk.v*L[0],D.sa.v*L[1]):S.skewFromAxis(-D.sk.v*L,D.sa.v*L)),D.r.propType&&(L.length?S.rotateZ(-D.r.v*L[2]):S.rotateZ(-D.r.v*L)),D.ry.propType&&(L.length?S.rotateY(D.ry.v*L[1]):S.rotateY(D.ry.v*L)),D.rx.propType&&(L.length?S.rotateX(D.rx.v*L[0]):S.rotateX(D.rx.v*L)),D.o.propType&&(L.length?G+=(D.o.v*L[0]-G)*L[0]:G+=(D.o.v*L-G)*L),t.strokeWidthAnim&&D.sw.propType&&(L.length?H+=D.sw.v*L[0]:H+=D.sw.v*L),t.strokeColorAnim&&D.sc.propType)for(V=0;V<3;V+=1)L.length?z[V]+=(D.sc.v[V]-z[V])*L[0]:z[V]+=(D.sc.v[V]-z[V])*L;if(t.fillColorAnim&&t.fc){if(D.fc.propType)for(V=0;V<3;V+=1)L.length?j[V]+=(D.fc.v[V]-j[V])*L[0]:j[V]+=(D.fc.v[V]-j[V])*L;D.fh.propType&&(j=L.length?addHueToRGB(j,D.fh.v*L[0]):addHueToRGB(j,D.fh.v*L)),D.fs.propType&&(j=L.length?addSaturationToRGB(j,D.fs.v*L[0]):addSaturationToRGB(j,D.fs.v*L)),D.fb.propType&&(j=L.length?addBrightnessToRGB(j,D.fb.v*L[0]):addBrightnessToRGB(j,D.fb.v*L))}}for(R=0;R<O;R+=1)(D=w[R].a).p.propType&&(L=w[R].s.getMult(M[i].anIndexes[R],E.a[R].s.totalChars),this._hasMaskedPath?L.length?S.translate(0,D.p.v[1]*L[0],-D.p.v[2]*L[1]):S.translate(0,D.p.v[1]*L,-D.p.v[2]*L):L.length?S.translate(D.p.v[0]*L[0],D.p.v[1]*L[1],-D.p.v[2]*L[2]):S.translate(D.p.v[0]*L,D.p.v[1]*L,-D.p.v[2]*L));if(t.strokeWidthAnim&&(X=H<0?0:H),t.strokeColorAnim&&(W="rgb("+Math.round(255*z[0])+","+Math.round(255*z[1])+","+Math.round(255*z[2])+")"),t.fillColorAnim&&t.fc&&(q="rgb("+Math.round(255*j[0])+","+Math.round(255*j[1])+","+Math.round(255*j[2])+")"),this._hasMaskedPath){if(S.translate(0,-t.ls),S.translate(0,x[1]*k*.01+r,0),this._pathData.p.v){b=(l.point[1]-d.point[1])/(l.point[0]-d.point[0]);var lt=180*Math.atan(b)/Math.PI;l.point[0]<d.point[0]&&(lt+=180),S.rotate(-lt*Math.PI/180)}S.translate(B,U,0),a-=x[0]*M[i].an*.005,M[i+1]&&$!==M[i+1].ind&&(a+=M[i].an/2,a+=.001*t.tr*t.finalSize)}else{switch(S.translate(n,r,0),t.ps&&S.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:S.translate(M[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[M[i].line]),0,0);break;case 2:S.translate(M[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[M[i].line])/2,0,0)}S.translate(0,-t.ls),S.translate(N,0,0),S.translate(x[0]*M[i].an*.005,x[1]*k*.01,0),n+=M[i].l+.001*t.tr*t.finalSize}"html"===T?tt=S.toCSS():"svg"===T?tt=S.to2dCSS():et=[S.props[0],S.props[1],S.props[2],S.props[3],S.props[4],S.props[5],S.props[6],S.props[7],S.props[8],S.props[9],S.props[10],S.props[11],S.props[12],S.props[13],S.props[14],S.props[15]],Y=G}A<=i?(I=new LetterProps(Y,X,W,q,tt,et),this.renderedLetters.push(I),A+=1,this.lettersChangedFlag=!0):(I=this.renderedLetters[i],this.lettersChangedFlag=I.update(Y,X,W,q,tt,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(t,e,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,n),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var n,r,i=e.length,o="";for(n=0;n<i;n+=1)"sh"===e[n].ty&&(r=e[n].ks.k,o+=buildShapeString(r,r.i.length,!0,t));return o},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,n,r,i){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n])/2,0,0)}e.translate(r,i,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,n){this.textSpans=[],this.renderType="svg",this.initElement(t,e,n)}function ISolidElement(t,e,n){this.initElement(t,e,n)}function NullElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initFrame(),this.initTransform(t,e,n),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(t,e,n){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(e&&e.title){var r=createNS("title"),i=createElementID();r.setAttribute("id",i),r.textContent=e.title,this.svgElement.appendChild(r),n+=i}if(e&&e.description){var o=createNS("desc"),s=createElementID();o.setAttribute("id",s),o.textContent=e.description,this.svgElement.appendChild(o),n+=" "+s}n&&this.svgElement.setAttribute("aria-labelledby",n);var a=createNS("defs");this.svgElement.appendChild(a);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,n=t.length,r=[],i="";e<n;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(r.push(i),i=""):i+=t[e],e+=1;return r.push(i),r},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var n=t.shapes[0];if(n.it){var r=n.it[n.it.length-1];r.s&&(r.s.k[0]=e,r.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){var t,e;this.addDynamicProperty(this);var n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var r=this.globalData.fontManager.getFontByName(n.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var i=n.fWeight,o=n.fStyle;this.layerElement.setAttribute("font-style",o),this.layerElement.setAttribute("font-weight",i)}this.layerElement.setAttribute("aria-label",n.t);var s,a=n.l||[],l=!!this.globalData.fontManager.chars;e=a.length;var c=this.mHelper,u=this.data.singleShape,h=0,p=0,d=!0,f=.001*n.tr*n.finalSize;if(!u||l||n.sz){var m,g=this.textSpans.length;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!l||!u||0===t){if(s=g>t?this.textSpans[t].span:createNS(l?"g":"text"),g<=t){if(s.setAttribute("stroke-linecap","butt"),s.setAttribute("stroke-linejoin","round"),s.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=s,l){var v=createNS("g");s.appendChild(v),this.textSpans[t].childSpan=v}this.textSpans[t].span=s,this.layerElement.appendChild(s)}s.style.display="inherit"}if(c.reset(),u&&(a[t].n&&(h=-f,p+=n.yOffset,p+=d?1:0,d=!1),this.applyTextPropertiesToMatrix(n,c,a[t].line,h,p),h+=a[t].l||0,h+=f),l){var y;if(1===(m=this.globalData.fontManager.getCharData(n.finalText[t],r.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily)).t)y=new SVGCompElement(m.data,this.globalData,this);else{var b=emptyShapeData;m.data&&m.data.shapes&&(b=this.buildShapeData(m.data,n.finalSize)),y=new SVGShapeElement(b,this.globalData,this)}if(this.textSpans[t].glyph){var _=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(_.layerElement),_.destroy()}this.textSpans[t].glyph=y,y._debug=!0,y.prepareFrame(0),y.renderFrame(),this.textSpans[t].childSpan.appendChild(y.layerElement),1===m.t&&this.textSpans[t].childSpan.setAttribute("transform","scale("+n.finalSize/100+","+n.finalSize/100+")")}else u&&s.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),s.textContent=a[t].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}u&&s&&s.setAttribute("d","")}else{var x=this.textContainer,w="start";switch(n.j){case 1:w="end";break;case 2:w="middle";break;default:w="start"}x.setAttribute("text-anchor",w),x.setAttribute("letter-spacing",f);var E=this.buildTextContents(n.finalText);for(e=E.length,p=n.ps?n.ps[1]+n.ascent:0,t=0;t<e;t+=1)(s=this.textSpans[t].span||createNS("tspan")).textContent=E[t],s.setAttribute("x",0),s.setAttribute("y",p),s.style.display="inherit",x.appendChild(s),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=s,p+=n.finalLineHeight;this.layerElement.appendChild(x)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e,n=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<n;t+=1)(e=this.textSpans[t].glyph)&&(e.prepareFrame(this.comp.renderedFrame-this.data.st),e._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var n,r,i,o=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(e=s.length,t=0;t<e;t+=1)s[t].n||(n=o[t],r=this.textSpans[t].span,(i=this.textSpans[t].glyph)&&i.renderFrame(),n._mdf.m&&r.setAttribute("transform",n.m),n._mdf.o&&r.setAttribute("opacity",n.o),n._mdf.sw&&r.setAttribute("stroke-width",n.sw),n._mdf.sc&&r.setAttribute("stroke",n.sc),n._mdf.fc&&r.setAttribute("fill",n.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var n=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",t.w),r.setAttribute("height",t.h),r.setAttribute("x",0),r.setAttribute("y",0);var i=createElementID();n.setAttribute("id",i),n.appendChild(r),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")"),e.appendChild(n),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,n=this.layers.length;for(e=0;e<n;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){e[t]=!0;var n=this.createItem(this.layers[t]);if(e[t]=n,getExpressionsPlugin()&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,t),this.layers[t].tt){var r="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(-1===r)return;if(this.elements[r]&&!0!==this.elements[r]){var i=e[r].getMatte(this.layers[t].tt);n.setMatte(i)}else this.buildItem(r),this.addPendingElement(n)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,n=this.elements.length;e<n;){if(this.elements[e]===t){var r="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,i=this.elements[r].getMatte(this.layers[e].tt);t.setMatte(i);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var n=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<n;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){for(var r,i=0;i<e;)this.elements[i]&&!0!==this.elements[i]&&this.elements[i].getBaseElement()&&(r=this.elements[i].getBaseElement()),i+=1;r?this.layerElement.insertBefore(n,r):this.layerElement.appendChild(n)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var n,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(t){var e,n=t.length,r="_";for(e=0;e<n;e+=1)r+=t[e].transform.key+"_";var i=this.sequences[r];return i||(i={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[r]=i,this.sequenceList.push(i)),i},processSequence:function(t,e){for(var n=0,r=t.transforms.length,i=e;n<r&&!e;){if(t.transforms[n].transform.mProps._mdf){i=!0;break}n+=1}if(i)for(t.finalTransform.reset(),n=r-1;n>=0;n-=1)t.finalTransform.multiply(t.transforms[n].transform.mProps.v);t._mdf=i},processSequences:function(t){var e,n=this.sequenceList.length;for(e=0;e<n;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",e=null,n=null,r=null;function i(){var i,o,s;e||(i=createNS("svg"),o=createNS("filter"),s=createNS("feColorMatrix"),o.setAttribute("id",t),s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),o.appendChild(s),i.appendChild(o),i.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(i.style.display="none"),r=i,document.body.appendChild(r),e=createTag("canvas"),(n=e.getContext("2d")).filter="url(#"+t+")",n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1))}return{load:i,get:function(r){return e||i(),e.width=r.width,e.height=r.height,n.filter="url(#"+t+")",e}}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var n=createTag("canvas");return n.width=t,n.height=e,n}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas:createCanvas},registeredEffects={};function CVEffects(t){var e,n,r=t.data.ef?t.data.ef.length:0;for(this.filters=[],e=0;e<r;e+=1){n=null;var i=t.data.ef[e].ty;if(registeredEffects[i])n=new(0,registeredEffects[i].effect)(t.effectsManager.effectElements[e],t);n&&this.filters.push(n)}this.filters.length&&t.addRenderableComponent(this)}function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){var n;this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r=this.masksProperties.length,i=!1;for(n=0;n<r;n+=1)"n"!==this.masksProperties[n].mode&&(i=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=i,i&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,n=this.filters.length,r=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&r.push(this.filters[e]);return r},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,n,r,i=this.element.finalTransform.mat,o=this.element.canvasContext,s=this.masksProperties.length;for(o.beginPath(),t=0;t<s;t+=1)if("n"!==this.masksProperties[t].mode){var a;this.masksProperties[t].inv&&(o.moveTo(0,0),o.lineTo(this.element.globalData.compSize.w,0),o.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),o.lineTo(0,this.element.globalData.compSize.h),o.lineTo(0,0)),r=this.viewData[t].v,e=i.applyToPointArray(r.v[0][0],r.v[0][1],0),o.moveTo(e[0],e[1]);var l=r._length;for(a=1;a<l;a+=1)n=i.applyToTriplePoints(r.o[a-1],r.i[a],r.v[a]),o.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=i.applyToTriplePoints(r.o[a-1],r.i[0],r.v[0]),o.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),o.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(t,e,n,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var i,o=4;"rc"===e.ty?o=5:"el"===e.ty?o=6:"sr"===e.ty&&(o=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,o,t);var s,a=n.length;for(i=0;i<a;i+=1)n[i].closed||(s={transforms:r.addTransformSequence(n[i].transforms),trNodes:[]},this.styledShapes.push(s),n[i].elements.push(s))}function CVShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,n)}function CVTextElement(t,e,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,n)}function CVImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,n)}function CVSolidElement(t,e,n){this.initElement(t,e,n)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var t;this.stack=[],this.cArrPos=0,this.cTr=new Matrix;for(t=0;t<15;t+=1){var e=new CanvasContext;this.stack[t]=e}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(t,e,n){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(t,e,n){this.initElement(t,e,n)}function HShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,n)}function HCameraElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initHierarchy();var r=PropertyFactory.getProp;if(this.pe=r(this,t.pe,0,0,this),t.ks.p.s?(this.px=r(this,t.ks.p.x,1,0,this),this.py=r(this,t.ks.p.y,1,0,this),this.pz=r(this,t.ks.p.z,1,0,this)):this.p=r(this,t.ks.p,1,0,this),t.ks.a&&(this.a=r(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var i,o=t.ks.or.k.length;for(i=0;i<o;i+=1)t.ks.or.k[i].to=null,t.ks.or.k[i].ti=null}this.or=r(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=r(this,t.ks.rx,0,degToRads,this),this.ry=r(this,t.ks.ry,0,degToRads,this),this.rz=r(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n)}function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(t,e,n){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,e=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(e);var n=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(n),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0].getContext("2d");this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],e=t.getContext("2d");if(this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var n=assetLoader.getLumaCanvas(this.canvasContext.canvas);n.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(n,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var e=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(e),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var n={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},r={};if("fl"===t.ty||"st"===t.ty?(r.c=PropertyFactory.getProp(this,t.c,1,255,this),r.c.k||(n.co="rgb("+bmFloor(r.c.v[0])+","+bmFloor(r.c.v[1])+","+bmFloor(r.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(r.s=PropertyFactory.getProp(this,t.s,1,null,this),r.e=PropertyFactory.getProp(this,t.e,1,null,this),r.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,t.g,this)),r.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"===t.ty||"gs"===t.ty){if(n.lc=lineCapEnum[t.lc||2],n.lj=lineJoinEnum[t.lj||2],1==t.lj&&(n.ml=t.ml),r.w=PropertyFactory.getProp(this,t.w,0,null,this),r.w.k||(n.wi=r.w.v),t.d){var i=new DashProperty(this,t.d,"canvas",this);r.d=i,r.d.k||(n.da=r.d.dashArray,n.do=r.d.dashoffset[0])}}else n.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(n),r.style=n,r},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,n,r,i){var o,s,a,l,c,u,h=t.length-1,p=[],d=[],f=[].concat(i);for(o=h;o>=0;o-=1){if((l=this.searchProcessedElement(t[o]))?e[o]=n[l-1]:t[o]._shouldRender=r,"fl"===t[o].ty||"st"===t[o].ty||"gf"===t[o].ty||"gs"===t[o].ty)l?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],f),p.push(e[o].style);else if("gr"===t[o].ty){if(l)for(a=e[o].it.length,s=0;s<a;s+=1)e[o].prevViewData[s]=e[o].it[s];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,r,f)}else"tr"===t[o].ty?(l||(u=this.createTransformElement(t[o]),e[o]=u),f.push(e[o]),this.addTransformToStyleList(e[o])):"sh"===t[o].ty||"rc"===t[o].ty||"el"===t[o].ty||"sr"===t[o].ty?l||(e[o]=this.createShapeElement(t[o])):"tm"===t[o].ty||"rd"===t[o].ty||"pb"===t[o].ty||"zz"===t[o].ty||"op"===t[o].ty?(l?(c=e[o]).closed=!1:((c=ShapeModifiers.getModifier(t[o].ty)).init(this,t[o]),e[o]=c,this.shapeModifiers.push(c)),d.push(c)):"rp"===t[o].ty&&(l?(c=e[o]).closed=!0:(c=ShapeModifiers.getModifier(t[o].ty),e[o]=c,c.init(this,t,o,e),this.shapeModifiers.push(c),r=!1),d.push(c));this.addProcessedElement(t[o],o+1)}for(this.removeTransformFromStyleList(),this.closeStyles(p),h=d.length,o=0;o<h;o+=1)d[o].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,n,r,i,o,s,a,l,c=this.stylesList.length,u=this.globalData.renderer,h=this.globalData.canvasContext;for(t=0;t<c;t+=1)if(("st"!==(a=(l=this.stylesList[t]).type)&&"gs"!==a||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(u.save(),o=l.elements,"st"===a||"gs"===a?(u.ctxStrokeStyle("st"===a?l.co:l.grd),u.ctxLineWidth(l.wi),u.ctxLineCap(l.lc),u.ctxLineJoin(l.lj),u.ctxMiterLimit(l.ml||0)):u.ctxFillStyle("fl"===a?l.co:l.grd),u.ctxOpacity(l.coOp),"st"!==a&&"gs"!==a&&h.beginPath(),u.ctxTransform(l.preTransforms.finalTransform.props),n=o.length,e=0;e<n;e+=1){for("st"!==a&&"gs"!==a||(h.beginPath(),l.da&&(h.setLineDash(l.da),h.lineDashOffset=l.do)),i=(s=o[e].trNodes).length,r=0;r<i;r+=1)"m"===s[r].t?h.moveTo(s[r].p[0],s[r].p[1]):"c"===s[r].t?h.bezierCurveTo(s[r].pts[0],s[r].pts[1],s[r].pts[2],s[r].pts[3],s[r].pts[4],s[r].pts[5]):h.closePath();"st"!==a&&"gs"!==a||(u.ctxStroke(),l.da&&h.setLineDash(this.dashResetter))}"st"!==a&&"gs"!==a&&this.globalData.renderer.ctxFill(l.r),u.restore()}},CVShapeElement.prototype.renderShape=function(t,e,n,r){var i,o;for(o=t,i=e.length-1;i>=0;i-=1)"tr"===e[i].ty?(o=n[i].transform,this.renderShapeTransform(t,o)):"sh"===e[i].ty||"el"===e[i].ty||"rc"===e[i].ty||"sr"===e[i].ty?this.renderPath(e[i],n[i]):"fl"===e[i].ty?this.renderFill(e[i],n[i],o):"st"===e[i].ty?this.renderStroke(e[i],n[i],o):"gf"===e[i].ty||"gs"===e[i].ty?this.renderGradientFill(e[i],n[i],o):"gr"===e[i].ty?this.renderShape(o,e[i].it,n[i].it):e[i].ty;r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var n,r,i,o=t.trNodes,s=e.paths,a=s._length;o.length=0;var l=t.transforms.finalTransform;for(i=0;i<a;i+=1){var c=s.shapes[i];if(c&&c.v){for(r=c._length,n=1;n<r;n+=1)1===n&&o.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),o.push({t:"c",pts:l.applyToTriplePoints(c.o[n-1],c.i[n],c.v[n])});1===r&&o.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&r&&(o.push({t:"c",pts:l.applyToTriplePoints(c.o[n-1],c.i[0],c.v[0])}),o.push({t:"z"}))}}t.trNodes=o}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var n,r=e.styledShapes.length;for(n=0;n<r;n+=1)this.renderStyledShape(e.styledShapes[n],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,n){var r=e.style;(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,n){var r,i=e.style;if(!i.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var o,s=this.globalData.canvasContext,a=e.s.v,l=e.e.v;if(1===t.t)r=s.createLinearGradient(a[0],a[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(a[0]-l[0],2)+Math.pow(a[1]-l[1],2)),u=Math.atan2(l[1]-a[1],l[0]-a[0]),h=e.h.v;h>=1?h=.99:h<=-1&&(h=-.99);var p=c*h,d=Math.cos(u+e.a.v)*p+a[0],f=Math.sin(u+e.a.v)*p+a[1];r=s.createRadialGradient(d,f,0,a[0],a[1],c)}var m=t.g.p,g=e.g.c,v=1;for(o=0;o<m;o+=1)e.g._hasOpacity&&e.g._collapsable&&(v=e.g.o[2*o+1]),r.addColorStop(g[4*o]/100,"rgba("+g[4*o+1]+","+g[4*o+2]+","+g[4*o+3]+","+v+")");i.grd=r}i.coOp=e.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(t,e,n){var r=e.style,i=e.d;i&&(i._mdf||this._isFirstFrame)&&(r.da=i.dashArray,r.do=i.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*n.opacity),(e.w._mdf||this._isFirstFrame)&&(r.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var n=!1;t.sc&&(n=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var r,i,o,s,a,l,c,u,h,p,d,f,m=this.globalData.fontManager.getFontByName(t.f),g=t.l,v=this.mHelper;this.stroke=n,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,i=t.finalText.length;var y=this.data.singleShape,b=.001*t.tr*t.finalSize,_=0,x=0,w=!0,E=0;for(r=0;r<i;r+=1){s=(o=this.globalData.fontManager.getCharData(t.finalText[r],m.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&o.data||{},v.reset(),y&&g[r].n&&(_=-b,x+=t.yOffset,x+=w?1:0,w=!1),h=(c=s.shapes?s.shapes[0].it:[]).length,v.scale(t.finalSize/100,t.finalSize/100),y&&this.applyTextPropertiesToMatrix(t,v,g[r].line,_,x),d=createSizedArray(h-1);var S=0;for(u=0;u<h;u+=1)if("sh"===c[u].ty){for(l=c[u].ks.k.i.length,p=c[u].ks.k,f=[],a=1;a<l;a+=1)1===a&&f.push(v.applyToX(p.v[0][0],p.v[0][1],0),v.applyToY(p.v[0][0],p.v[0][1],0)),f.push(v.applyToX(p.o[a-1][0],p.o[a-1][1],0),v.applyToY(p.o[a-1][0],p.o[a-1][1],0),v.applyToX(p.i[a][0],p.i[a][1],0),v.applyToY(p.i[a][0],p.i[a][1],0),v.applyToX(p.v[a][0],p.v[a][1],0),v.applyToY(p.v[a][0],p.v[a][1],0));f.push(v.applyToX(p.o[a-1][0],p.o[a-1][1],0),v.applyToY(p.o[a-1][0],p.o[a-1][1],0),v.applyToX(p.i[0][0],p.i[0][1],0),v.applyToY(p.i[0][0],p.i[0][1],0),v.applyToX(p.v[0][0],p.v[0][1],0),v.applyToY(p.v[0][0],p.v[0][1],0)),d[S]=f,S+=1}y&&(_+=g[r].l,_+=b),this.textSpans[E]?this.textSpans[E].elem=d:this.textSpans[E]={elem:d},E+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,n,r,i,o;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var s,a=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;e=l.length;var c,u,h=null,p=null,d=null,f=this.globalData.renderer;for(t=0;t<e;t+=1)if(!l[t].n){if((s=a[t])&&(f.save(),f.ctxTransform(s.p),f.ctxOpacity(s.o)),this.fill){for(s&&s.fc?h!==s.fc&&(f.ctxFillStyle(s.fc),h=s.fc):h!==this.values.fill&&(h=this.values.fill,f.ctxFillStyle(this.values.fill)),r=(c=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(o=(u=c[n]).length,this.globalData.canvasContext.moveTo(u[0],u[1]),i=2;i<o;i+=6)this.globalData.canvasContext.bezierCurveTo(u[i],u[i+1],u[i+2],u[i+3],u[i+4],u[i+5]);this.globalData.canvasContext.closePath(),f.ctxFill()}if(this.stroke){for(s&&s.sw?d!==s.sw&&(d=s.sw,f.ctxLineWidth(s.sw)):d!==this.values.sWidth&&(d=this.values.sWidth,f.ctxLineWidth(this.values.sWidth)),s&&s.sc?p!==s.sc&&(p=s.sc,f.ctxStrokeStyle(s.sc)):p!==this.values.stroke&&(p=this.values.stroke,f.ctxStrokeStyle(this.values.stroke)),r=(c=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(o=(u=c[n]).length,this.globalData.canvasContext.moveTo(u[0],u[1]),i=2;i<o;i+=6)this.globalData.canvasContext.bezierCurveTo(u[i],u[i+1],u[i+2],u[i+3],u[i+4],u[i+5]);this.globalData.canvasContext.closePath(),f.ctxStroke()}s&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,n,r=t.getContext("2d"),i=this.img.width,o=this.img.height,s=i/o,a=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>a&&"xMidYMid slice"===l||s<a&&"xMidYMid slice"!==l?e=(n=o)*a:n=(e=i)/a,r.drawImage(this.img,(i-e)/2,(o-n)/2,e,n,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){1===t[0]&&0===t[1]&&0===t[4]&&1===t[5]&&0===t[12]&&0===t[13]||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,n,r){this.canvasContext.fillRect(t,e,n,r)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){this.renderConfig.clearCanvas?(t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var n="0px 0px 0px";e.transformOrigin=n,e.mozTransformOrigin=n,e.webkitTransformOrigin=n,e["-webkit-transform"]=n,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){var n,r,i,o;if(this.reset(),t?(n=t,r=e,this.canvasContext.canvas.width=n,this.canvasContext.canvas.height=r):(this.animationItem.wrapper&&this.animationItem.container?(n=this.animationItem.wrapper.offsetWidth,r=this.animationItem.wrapper.offsetHeight):(n=this.canvasContext.canvas.width,r=this.canvasContext.canvas.height),this.canvasContext.canvas.width=n*this.renderConfig.dpr,this.canvasContext.canvas.height=r*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var s=this.renderConfig.preserveAspectRatio.split(" "),a=s[1]||"meet",l=s[0]||"xMidYMid",c=l.substr(0,4),u=l.substr(4);i=n/r,(o=this.transformCanvas.w/this.transformCanvas.h)>i&&"meet"===a||o<i&&"slice"===a?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===c&&(o<i&&"meet"===a||o>i&&"slice"===a)?(n-this.transformCanvas.w*(r/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(o<i&&"meet"===a||o>i&&"slice"===a)?(n-this.transformCanvas.w*(r/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===u&&(o>i&&"meet"===a||o<i&&"slice"===a)?(r-this.transformCanvas.h*(n/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===u&&(o>i&&"meet"===a||o<i&&"slice"===a)?(r-this.transformCanvas.h*(n/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){var n;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var r=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){var n=this.createItem(this.layers[t],this,this.globalData);e[t]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e,n=this.stack[this.cArrPos],r=n.transform,i=this.cTr.props;for(e=0;e<16;e+=1)i[e]=r[e];if(t){this.nativeContext.restore();var o=this.stack[this.cArrPos+1];this.appliedFillStyle=o.fillStyle,this.appliedStrokeStyle=o.strokeStyle,this.appliedLineWidth=o.lineWidth,this.appliedLineCap=o.lineCap,this.appliedLineJoin=o.lineJoin,this.appliedMiterLimit=o.miterLimit}this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),(t||-1!==n.opacity&&this.currentOpacity!==n.opacity)&&(this.nativeContext.globalAlpha=n.opacity,this.currentOpacity=n.opacity),this.currentFillStyle=n.fillStyle,this.currentStrokeStyle=n.strokeStyle,this.currentLineWidth=n.lineWidth,this.currentLineCap=n.lineCap,this.currentLineJoin=n.lineJoin,this.currentMiterLimit=n.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var n,r=this.stack[this.cArrPos];for(n=0;n<16;n+=1)r.transform[n]=e[n];this.cArrPos+=1;var i=this.stack[this.cArrPos];i.opacity=r.opacity,i.fillStyle=r.fillStyle,i.strokeStyle=r.strokeStyle,i.lineWidth=r.lineWidth,i.lineCap=r.lineCap,i.lineJoin=r.lineJoin,i.miterLimit=r.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var n=e.props;this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,n,r){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,n,r)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)e=t[n].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var n,r,i,o,s,a=t.sh.v,l=t.transformers,c=a._length;if(!(c<=1)){for(n=0;n<c-1;n+=1)r=this.getTransformedPoint(l,a.v[n]),i=this.getTransformedPoint(l,a.o[n]),o=this.getTransformedPoint(l,a.i[n+1]),s=this.getTransformedPoint(l,a.v[n+1]),this.checkBounds(r,i,o,s,e);a.c&&(r=this.getTransformedPoint(l,a.v[n]),i=this.getTransformedPoint(l,a.o[n]),o=this.getTransformedPoint(l,a.i[0]),s=this.getTransformedPoint(l,a.v[0]),this.checkBounds(r,i,o,s,e))}},HShapeElement.prototype.checkBounds=function(t,e,n,r,i){this.getBoundsOfCurve(t,e,n,r);var o=this.shapeBoundingBox;i.x=bmMin(o.left,i.x),i.xMax=bmMax(o.right,i.xMax),i.y=bmMin(o.top,i.y),i.yMax=bmMax(o.bottom,i.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,n,r){for(var i,o,s,a,l,c,u,h=[[t[0],r[0]],[t[1],r[1]]],p=0;p<2;++p)o=6*t[p]-12*e[p]+6*n[p],i=-3*t[p]+9*e[p]-9*n[p]+3*r[p],s=3*e[p]-3*t[p],o|=0,s|=0,0===(i|=0)&&0===o||(0===i?(a=-s/o)>0&&a<1&&h[p].push(this.calculateF(a,t,e,n,r,p)):(l=o*o-4*s*i)>=0&&((c=(-o+bmSqrt(l))/(2*i))>0&&c<1&&h[p].push(this.calculateF(c,t,e,n,r,p)),(u=(-o-bmSqrt(l))/(2*i))>0&&u<1&&h[p].push(this.calculateF(u,t,e,n,r,p))));this.shapeBoundingBox.left=bmMin.apply(null,h[0]),this.shapeBoundingBox.top=bmMin.apply(null,h[1]),this.shapeBoundingBox.right=bmMax.apply(null,h[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,h[1])},HShapeElement.prototype.calculateF=function(t,e,n,r,i,o){return bmPow(1-t,3)*e[o]+3*bmPow(1-t,2)*t*n[o]+3*(1-t)*bmPow(t,2)*r[o]+bmPow(t,3)*i[o]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],e):t[n]&&t[n].it?this.calculateBoundingBox(t[n].it,e):t[n]&&t[n].style&&t[n].w&&this.expandStrokeBoundingBox(t[n].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var n=0;if(t.keyframes){for(var r=0;r<t.keyframes.length;r+=1){var i=t.keyframes[r].s;i>n&&(n=i)}n*=t.mult}else n=t.v*t.mult;e.x-=n,e.xMax+=n,e.y-=n,e.yMax+=n},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var n=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),n=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),n=!0),n||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var r=this.shapeCont.style,i="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";r.transform=i,r.webkitTransform=i}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,n=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=n,e.color=n,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var r,i,o=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",o.fClass)this.innerElem.className=o.fClass;else{e.fontFamily=o.fFamily;var s=t.fWeight,a=t.fStyle;e.fontStyle=a,e.fontWeight=s}var l,c,u,h=t.l;i=h.length;var p,d=this.mHelper,f="",m=0;for(r=0;r<i;r+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?u=(c=this.textSpans[m]).children[0]:((c=createTag("div")).style.lineHeight=0,(u=createNS("svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(c=this.textSpans[m],l=this.textPaths[m]):(styleDiv(c=createTag("span")),styleDiv(l=createTag("span")),c.appendChild(l)),this.globalData.fontManager.chars){var g,v=this.globalData.fontManager.getCharData(t.finalText[r],o.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(g=v?v.data:null,d.reset(),g&&g.shapes&&g.shapes.length&&(p=g.shapes[0].it,d.scale(t.finalSize/100,t.finalSize/100),f=this.createPathShape(d,p),l.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(u);var y=u.getBBox();u.setAttribute("width",y.width+2),u.setAttribute("height",y.height+2),u.setAttribute("viewBox",y.x-1+" "+(y.y-1)+" "+(y.width+2)+" "+(y.height+2));var b=u.style,_="translate("+(y.x-1)+"px,"+(y.y-1)+"px)";b.transform=_,b.webkitTransform=_,h[r].yOffset=y.y-1}else u.setAttribute("width",1),u.setAttribute("height",1);c.appendChild(u)}}else if(l.textContent=h[r].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var x=l.style,w="translate3d(0,"+-t.finalSize/1.2+"px,0)";x.transform=w,x.webkitTransform=w}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=c,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var n,r,i,o,s,a=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(r=c.length,n=0;n<r;n+=1)c[n].n?a+=1:(o=this.textSpans[n],s=this.textPaths[n],i=l[a],a+=1,i._mdf.m&&(this.isMasked?o.setAttribute("transform",i.m):(o.style.webkitTransform=i.m,o.style.transform=i.m)),o.style.opacity=i.o,i.sw&&i._mdf.sw&&s.setAttribute("stroke-width",i.sw),i.sc&&i._mdf.sc&&s.setAttribute("stroke",i.sc),i.fc&&i._mdf.fc&&(s.setAttribute("fill",i.fc),s.style.color=i.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var u=this.innerElem.getBBox();this.currentBBox.w!==u.width&&(this.currentBBox.w=u.width,this.svgElement.setAttribute("width",u.width)),this.currentBBox.h!==u.height&&(this.currentBBox.h=u.height,this.svgElement.setAttribute("height",u.height));if(this.currentBBox.w!==u.width+2||this.currentBBox.h!==u.height+2||this.currentBBox.x!==u.x-1||this.currentBBox.y!==u.y-1){this.currentBBox.w=u.width+2,this.currentBBox.h=u.height+2,this.currentBBox.x=u.x-1,this.currentBBox.y=u.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var h="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=h,t.webkitTransform=h}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,n,r,i=this.comp.threeDElements.length;for(t=0;t<i;t+=1)if("3d"===(e=this.comp.threeDElements[t]).type){n=e.perspectiveElem.style,r=e.container.style;var o=this.pe.v+"px",s="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";n.perspective=o,n.webkitPerspective=o,r.transformOrigin="0px 0px 0px",r.mozTransformOrigin="0px 0px 0px",r.webkitTransformOrigin="0px 0px 0px",n.transform=s,n.webkitTransform=s}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,n=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)n=this.hierarchy[t].finalTransform.mProp._mdf||n;if(n||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var r=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-r.p.v[0],-r.p.v[1],r.p.v[2]),this.mat.rotateX(-r.or.v[0]).rotateY(-r.or.v[1]).rotateZ(r.or.v[2]),this.mat.rotateX(-r.rx.v).rotateY(-r.ry.v).rotateZ(r.rz.v),this.mat.scale(1/r.s.v[0],1/r.s.v[1],1/r.s.v[2]),this.mat.translate(r.a.v[0],r.a.v[1],r.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var i;i=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var o=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)+Math.pow(i[2],2)),s=[i[0]/o,i[1]/o,i[2]/o],a=Math.sqrt(s[2]*s[2]+s[0]*s[0]),l=Math.atan2(s[1],a),c=Math.atan2(s[0],-s[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var u=!this._prevMat.equals(this.mat);if((u||this.pe._mdf)&&this.comp.threeDElements){var h,p,d;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)if("3d"===(h=this.comp.threeDElements[t]).type){if(u){var f=this.mat.toCSS();(d=h.container.style).transform=f,d.webkitTransform=f}this.pe._mdf&&((p=h.perspectiveElem.style).perspective=this.pe.v+"px",p.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){var r=this.layers[e];if(r.ddd&&this.supports3d)this.addTo3dContainer(n,e);else if(this.threeDElements)this.addTo3dContainer(n,e);else{for(var i,o,s=0;s<e;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement&&(o=this.elements[s],i=(this.layers[s].ddd?this.getThreeDContainerByPos(s):o.getBaseElement())||i),s+=1;i?r.ddd&&this.supports3d||this.layerElement.insertBefore(n,i):r.ddd&&this.supports3d||this.layerElement.appendChild(n)}}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,n=this.threeDElements.length;e<n;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var n,r,i=createTag("div");styleDiv(i);var o=createTag("div");if(styleDiv(o),"3d"===e){(n=i.style).width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px";n.webkitTransformOrigin="50% 50%",n.mozTransformOrigin="50% 50%",n.transformOrigin="50% 50%";var s="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(r=o.style).transform=s,r.webkitTransform=s}i.appendChild(o);var a={container:o,perspectiveElem:i,startPos:t,endPos:t,type:e};return this.threeDElements.push(a),a},HybridRendererBase.prototype.build3dContainers=function(){var t,e,n=this.layers.length,r="";for(t=0;t<n;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==r&&(r="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==r&&(r="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(n=this.threeDElements.length)-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var n=0,r=this.threeDElements.length;n<r;){if(e<=this.threeDElements[n].endPos){for(var i,o=this.threeDElements[n].startPos;o<e;)this.elements[o]&&this.elements[o].getBaseElement&&(i=this.elements[o].getBaseElement()),o+=1;i?this.threeDElements[n].container.insertBefore(t,i):this.threeDElements[n].container.appendChild(t);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),n=this.animationItem.wrapper,r=e.style;r.width=t.w+"px",r.height=t.h+"px",this.resizerElem=e,styleDiv(e),r.transformStyle="flat",r.mozTransformStyle="flat",r.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),n.appendChild(e),r.overflow="hidden";var i=createNS("svg");i.setAttribute("width","1"),i.setAttribute("height","1"),styleDiv(i),this.resizerElem.appendChild(i);var o=createNS("defs");i.appendChild(o),this.data=t,this.setupGlobalData(t,i),this.globalData.defs=o,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t,e,n,r,i=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight,s=i/o;this.globalData.compSize.w/this.globalData.compSize.h>s?(t=i/this.globalData.compSize.w,e=i/this.globalData.compSize.w,n=0,r=(o-this.globalData.compSize.h*(i/this.globalData.compSize.w))/2):(t=o/this.globalData.compSize.h,e=o/this.globalData.compSize.h,n=(i-this.globalData.compSize.w*(o/this.globalData.compSize.h))/2,r=0);var a=this.resizerElem.style;a.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+n+","+r+",0,1)",a.transform=a.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,n=this.globalData.compSize.h,r=this.threeDElements.length;for(t=0;t<r;t+=1){var i=this.threeDElements[t].perspectiveElem.style;i.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(n,2))+"px",i.perspective=i.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,n=t.length,r=createTag("div");for(e=0;e<n;e+=1)if(t[e].xt){var i=this.createComp(t[e],r,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var n,r=0;r<e;)this.elements[r]&&this.elements[r].getBaseElement&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(t,n):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(t){function e(e){for(var n=0,r=t.layers.length;n<r;){if(t.layers[n].nm===e||t.layers[n].ind===e)return t.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e};function _typeof$2(t){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function seedRandom(t,e){var n=this,r=e.pow(256,6),i=e.pow(2,52),o=2*i;function s(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,s=r.S=[];for(n||(t=[n++]);i<256;)s[i]=i++;for(i=0;i<256;i++)s[i]=s[o=255&o+t[i%n]+(e=s[i])],s[o]=e;r.g=function(t){for(var e,n=0,i=r.i,o=r.j,s=r.S;t--;)e=s[i=255&i+1],n=256*n+s[255&(s[i]=s[o=255&o+e])+(s[o]=e)];return r.i=i,r.j=o,n}}function a(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function l(t,e){for(var n,r=t+"",i=0;i<r.length;)e[255&i]=255&(n^=19*e[255&i])+r.charCodeAt(i++);return c(e)}function c(t){return String.fromCharCode.apply(0,t)}e.seedrandom=function(u,h,p){var d=[],f=l(function t(e,n){var r,i=[],o=_typeof$2(e);if(n&&"object"==o)for(r in e)try{i.push(t(e[r],n-1))}catch(t){}return i.length?i:"string"==o?e:e+"\0"}((h=!0===h?{entropy:!0}:h||{}).entropy?[u,c(t)]:null===u?function(){try{void 0;var e=new Uint8Array(256);return(n.crypto||n.msCrypto).getRandomValues(e),c(e)}catch(e){var r=n.navigator,i=r&&r.plugins;return[+new Date,n,i,n.screen,c(t)]}}():u,3),d),m=new s(d),g=function(){for(var t=m.g(6),e=r,n=0;t<i;)t=256*(t+n),e*=256,n=m.g(1);for(;t>=o;)t/=2,e/=2,n>>>=1;return(t+n)/e};return g.int32=function(){return 0|m.g(4)},g.quick=function(){return m.g(4)/4294967296},g.double=g,l(c(m.S),t),(h.pass||p||function(t,n,r,i){return i&&(i.S&&a(i,m),t.state=function(){return a(m,{})}),r?(e.random=t,n):t})(g,f,"global"in h?h.global:this==e,h.state)},l(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||e instanceof Number||"boolean"===t||"string"===t}function $bm_neg(t){var e=_typeof$1(t);if("number"===e||t instanceof Number||"boolean"===e)return-t;if($bm_isInstanceOfArray(t)){var n,r=t.length,i=[];for(n=0;n<r;n+=1)i[n]=-t[n];return i}return t.propType?t.v:-t}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var n=_typeof$1(t),r=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(r,e)||"string"===n||"string"===r)return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return(t=t.slice(0))[0]+=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,o=t.length,s=e.length,a=[];i<o||i<s;)("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?a[i]=t[i]+e[i]:a[i]=void 0===e[i]?t[i]:t[i]||e[i],i+=1;return a}return 0}var add=sum;function sub(t,e){var n=_typeof$1(t),r=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(r,e))return"string"===n&&(t=parseInt(t,10)),"string"===r&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return(t=t.slice(0))[0]-=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,o=t.length,s=e.length,a=[];i<o||i<s;)("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?a[i]=t[i]-e[i]:a[i]=void 0===e[i]?t[i]:t[i]||e[i],i+=1;return a}return 0}function mul(t,e){var n,r,i,o=_typeof$1(t),s=_typeof$1(e);if(isNumerable(o,t)&&isNumerable(s,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(s,e)){for(i=t.length,n=createTypedArray("float32",i),r=0;r<i;r+=1)n[r]=t[r]*e;return n}if(isNumerable(o,t)&&$bm_isInstanceOfArray(e)){for(i=e.length,n=createTypedArray("float32",i),r=0;r<i;r+=1)n[r]=t*e[r];return n}return 0}function div(t,e){var n,r,i,o=_typeof$1(t),s=_typeof$1(e);if(isNumerable(o,t)&&isNumerable(s,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(s,e)){for(i=t.length,n=createTypedArray("float32",i),r=0;r<i;r+=1)n[r]=t[r]/e;return n}if(isNumerable(o,t)&&$bm_isInstanceOfArray(e)){for(i=e.length,n=createTypedArray("float32",i),r=0;r<i;r+=1)n[r]=t/e[r];return n}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t,10)),"string"==typeof e&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,n){if(e>n){var r=n;n=e,e=r}return Math.min(Math.max(t,e),n)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);var n;e||(e=helperLengthArray);var r=Math.min(t.length,e.length),i=0;for(n=0;n<r;n+=1)i+=Math.pow(e[n]-t[n],2);return Math.sqrt(i)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,n,r=t[0],i=t[1],o=t[2],s=Math.max(r,i,o),a=Math.min(r,i,o),l=(s+a)/2;if(s===a)e=0,n=0;else{var c=s-a;switch(n=l>.5?c/(2-s-a):c/(s+a),s){case r:e=(i-o)/c+(i<o?6:0);break;case i:e=(o-r)/c+2;break;case o:e=(r-i)/c+4}e/=6}return[e,n,l,t[3]]}function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslToRgb(t){var e,n,r,i=t[0],o=t[1],s=t[2];if(0===o)e=s,r=s,n=s;else{var a=s<.5?s*(1+o):s+o-s*o,l=2*s-a;e=hue2rgb(l,a,i+1/3),n=hue2rgb(l,a,i),r=hue2rgb(l,a,i-1/3)}return[e,n,r,t[3]]}function linear(t,e,n,r,i){if(void 0!==r&&void 0!==i||(r=e,i=n,e=0,n=1),n<e){var o=n;n=e,e=o}if(t<=e)return r;if(t>=n)return i;var s,a=n===e?0:(t-e)/(n-e);if(!r.length)return r+(i-r)*a;var l=r.length,c=createTypedArray("float32",l);for(s=0;s<l;s+=1)c[s]=r[s]+(i[s]-r[s])*a;return c}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var n,r=e.length;t||(t=createTypedArray("float32",r));var i=createTypedArray("float32",r),o=BMMath.random();for(n=0;n<r;n+=1)i[n]=t[n]+o*(e[n]-t[n]);return i}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,n,r){var i,o=t.length,s=shapePool.newElement();s.setPathData(!!r,o);var a,l,c=[0,0];for(i=0;i<o;i+=1)a=e&&e[i]?e[i]:c,l=n&&n[i]?n[i]:c,s.setTripleAt(t[i][0],t[i][1],l[0]+t[i][0],l[1]+t[i][1],a[0]+t[i][0],a[1]+t[i][1],i,!0);return s}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){var n,r,i=this.pv.length?this.pv.length:1,o=createTypedArray("float32",i);var s=Math.floor(5*time);for(n=0,r=0;n<s;){for(r=0;r<i;r+=1)o[r]+=-e+2*e*BMMath.random();n+=1}var a=5*time,l=a-Math.floor(a),c=createTypedArray("float32",i);if(i>1){for(r=0;r<i;r+=1)c[r]=this.pv[r]+o[r]+(-e+2*e*BMMath.random())*l;return c}return this.pv+o[0]+(-e+2*e*BMMath.random())*l}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var n=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],r=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads;return[-Math.atan2(n[1],n[2])/degToRads,r,0]}function easeOut(t,e,n,r,i){return applyEase(easeOutBez,t,e,n,r,i)}function easeIn(t,e,n,r,i){return applyEase(easeInBez,t,e,n,r,i)}function ease(t,e,n,r,i){return applyEase(easeInOutBez,t,e,n,r,i)}function applyEase(t,e,n,r,i,o){void 0===i?(i=n,o=r):e=(e-n)/(r-n),e>1?e=1:e<0&&(e=0);var s=t(e);if($bm_isInstanceOfArray(i)){var a,l=i.length,c=createTypedArray("float32",l);for(a=0;a<l;a+=1)c[a]=(o[a]-i[a])*s+i[a];return c}return(o-i)*s+i}function nearestKey(t){var e,n,r,i=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(n=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)n=1,r=data.k[0].t;else{for(e=0;e<i-1;e+=1){if(t===data.k[e].t){n=e+1,r=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(n=e+2,r=data.k[e+1].t):(n=e+1,r=data.k[e].t);break}}-1===n&&(n=e+1,r=data.k[e].t)}else n=0,r=0;var o={};return o.index=n,o.time=r/elem.comp.globalData.frameRate,o}function key(t){var e,n,r;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var i=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(r=i.length,n=0;n<r;n+=1)e[n]=i[n],e.value[n]=i[n];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={};return t.initExpressions=function(t){var e=0,n=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0===(e-=1)&&function(){var t,e=n.length;for(t=0;t<e;t+=1)n[t].release();n.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===n.indexOf(t)&&n.push(t)}},t.resetFrame=ExpressionManager.resetFrame,t}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}});return function(e){var n,r=createSizedArray(e.viewData.length),i=e.viewData.length;for(n=0;n<i;n+=1)r[n]=new t(e.viewData[n],e.masksProperties[n]);return function(t){for(n=0;n<i;){if(e.masksProperties[n].nm===t)return r[n];n+=1}return null}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function n(t,e,n){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(r){if(!t.numKeys)return 0;var i="";i="s"in e.keyframes[r-1]?e.keyframes[r-1].s:"e"in e.keyframes[r-2]?e.keyframes[r-2].e:e.keyframes[r-2].s;var o="unidimensional"===n?new Number(i):Object.assign({},i);return o.time=e.keyframes[r-1].t/e.elem.comp.globalData.frameRate,o.value="unidimensional"===n?i[0]:i,o},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function r(){return t}return function(i){return i?"unidimensional"===i.propType?function(e){e&&"pv"in e||(e=t);var r=1/e.mult,i=e.pv*r,o=new Number(i);return o.value=i,n(o,e,"unidimensional"),function(){return e.k&&e.getValue(),i=e.v*r,o.value!==i&&((o=new Number(i)).value=i,n(o,e,"unidimensional")),o}}(i):function(t){t&&"pv"in t||(t=e);var r=1/t.mult,i=t.data&&t.data.l||t.pv.length,o=createTypedArray("float32",i),s=createTypedArray("float32",i);return o.value=s,n(o,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<i;e+=1)s[e]=t.v[e]*r,o[e]=s[e];return o}}(i):r}}(),TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var n,r,i,o;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?o=ExpressionPropertyInterface(t.p):(n=ExpressionPropertyInterface(t.px),r=ExpressionPropertyInterface(t.py),t.pz&&(i=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?o():[n(),r(),i?i():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},LayerExpressionInterface=function(){function t(t){var e=new Matrix;void 0!==t?this._elem.finalTransform.mProp.getValueAtTime(t).clone(e):this._elem.finalTransform.mProp.applyToMatrix(e);return e}function e(t,e){var n=this.getMatrix(e);return n.props[12]=0,n.props[13]=0,n.props[14]=0,this.applyPoint(n,t)}function n(t,e){var n=this.getMatrix(e);return this.applyPoint(n,t)}function r(t,e){var n=this.getMatrix(e);return n.props[12]=0,n.props[13]=0,n.props[14]=0,this.invertPoint(n,t)}function i(t,e){var n=this.getMatrix(e);return this.invertPoint(n,t)}function o(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t)}return t.applyToPointArray(e[0],e[1],e[2]||0)}function s(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t)}return t.inversePoint(e)}function a(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function l(){return[1,1,1,1]}return function(c){var u;function h(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return h.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return u;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return h.effect;case"ADBE Text Properties":return h.textInterface;default:return null}}h.getMatrix=t,h.invertPoint=s,h.applyPoint=o,h.toWorld=n,h.toWorldVec=e,h.fromWorld=i,h.fromWorldVec=r,h.toComp=n,h.fromComp=a,h.sampleImage=l,h.sourceRectAtTime=c.sourceRectAtTime.bind(c),h._elem=c;var p=getDescriptor(u=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(h,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(u,"rotation"),scale:getDescriptor(u,"scale"),position:getDescriptor(u,"position"),opacity:getDescriptor(u,"opacity"),anchorPoint:p,anchor_point:p,transform:{get:function(){return u}},active:{get:function(){return c.isInRange}}}),h.startTime=c.data.st,h.index=c.data.ind,h.source=c.data.refId,h.height=0===c.data.ty?c.data.h:100,h.width=0===c.data.ty?c.data.w:100,h.inPoint=c.data.ip/c.comp.globalData.frameRate,h.outPoint=c.data.op/c.comp.globalData.frameRate,h._name=c.data.nm,h.registerMaskInterface=function(t){h.mask=new MaskManagerInterface(t,c)},h.registerEffectsInterface=function(t){h.effect=t},h}}(),propertyGroupFactory=function(t,e){return function(n){return(n=void 0===n?1:n)<=0?t:e(n-1)}},PropertyInterface=function(t,e){var n={_name:t};return function(t){return(t=void 0===t?1:t)<=0?n:e(t-1)}},EffectsExpressionInterface=function(){function t(n,r,i,o){function s(t){for(var e=n.ef,r=0,i=e.length;r<i;){if(t===e[r].nm||t===e[r].mn||t===e[r].ix)return 5===e[r].ty?c[r]:c[r]();r+=1}throw new Error}var a,l=propertyGroupFactory(s,i),c=[],u=n.ef.length;for(a=0;a<u;a+=1)5===n.ef[a].ty?c.push(t(n.ef[a],r.effectElements[a],r.effectElements[a].propertyGroup,o)):c.push(e(r.effectElements[a],n.ef[a].ty,o,l));return"ADBE Color Control"===n.mn&&Object.defineProperty(s,"color",{get:function(){return c[0]()}}),Object.defineProperties(s,{numProperties:{get:function(){return n.np}},_name:{value:n.nm},propertyGroup:{value:l}}),s.enabled=0!==n.en,s.active=s.enabled,s}function e(t,e,n,r){var i=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",r)),function(){return 10===e?n.comp.compInterface(t.p.v):i()}}return{createEffectsInterface:function(e,n){if(e.effectsManager){var r,i=[],o=e.data.ef,s=e.effectsManager.effectElements.length;for(r=0;r<s;r+=1)i.push(t(o[r],e.effectsManager.effectElements[r],n,e));var a=e.data.ef||[],l=function(t){for(r=0,s=a.length;r<s;){if(t===a[r].nm||t===a[r].mn||t===a[r].ix)return i[r];r+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return a.length}}),l}return null}}}(),ShapePathInterface=function(t,e,n){var r=e.sh;function i(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?i.path:null}var o=propertyGroupFactory(i,n);return r.setGroupProperty(PropertyInterface("Path",o)),Object.defineProperties(i,{path:{get:function(){return r.k&&r.getValue(),r}},shape:{get:function(){return r.k&&r.getValue(),r}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:n}}),i},ShapeExpressionInterface=function(){function t(t,a,d){var f,m=[],g=t?t.length:0;for(f=0;f<g;f+=1)"gr"===t[f].ty?m.push(e(t[f],a[f],d)):"fl"===t[f].ty?m.push(n(t[f],a[f],d)):"st"===t[f].ty?m.push(o(t[f],a[f],d)):"tm"===t[f].ty?m.push(s(t[f],a[f],d)):"tr"===t[f].ty||("el"===t[f].ty?m.push(l(t[f],a[f],d)):"sr"===t[f].ty?m.push(c(t[f],a[f],d)):"sh"===t[f].ty?m.push(ShapePathInterface(t[f],a[f],d)):"rc"===t[f].ty?m.push(u(t[f],a[f],d)):"rd"===t[f].ty?m.push(h(t[f],a[f],d)):"rp"===t[f].ty?m.push(p(t[f],a[f],d)):"gf"===t[f].ty?m.push(r(t[f],a[f],d)):m.push(i(t[f],a[f])));return m}function e(e,n,r){var i=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return i.content;default:return i.transform}};i.propertyGroup=propertyGroupFactory(i,r);var o=function(e,n,r){var i,o=function(t){for(var e=0,n=i.length;e<n;){if(i[e]._name===t||i[e].mn===t||i[e].propertyIndex===t||i[e].ix===t||i[e].ind===t)return i[e];e+=1}return"number"==typeof t?i[t-1]:null};o.propertyGroup=propertyGroupFactory(o,r),i=t(e.it,n.it,o.propertyGroup),o.numProperties=i.length;var s=a(e.it[e.it.length-1],n.it[n.it.length-1],o.propertyGroup);return o.transform=s,o.propertyIndex=e.cix,o._name=e.nm,o}(e,n,i.propertyGroup),s=a(e.it[e.it.length-1],n.it[n.it.length-1],i.propertyGroup);return i.content=o,i.transform=s,Object.defineProperty(i,"_name",{get:function(){return e.nm}}),i.numProperties=e.np,i.propertyIndex=e.ix,i.nm=e.nm,i.mn=e.mn,i}function n(t,e,n){function r(t){return"Color"===t||"color"===t?r.color:"Opacity"===t||"opacity"===t?r.opacity:null}return Object.defineProperties(r,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",n)),e.o.setGroupProperty(PropertyInterface("Opacity",n)),r}function r(t,e,n){function r(t){return"Start Point"===t||"start point"===t?r.startPoint:"End Point"===t||"end point"===t?r.endPoint:"Opacity"===t||"opacity"===t?r.opacity:null}return Object.defineProperties(r,{startPoint:{get:ExpressionPropertyInterface(e.s)},endPoint:{get:ExpressionPropertyInterface(e.e)},opacity:{get:ExpressionPropertyInterface(e.o)},type:{get:function(){return"a"}},_name:{value:t.nm},mn:{value:t.mn}}),e.s.setGroupProperty(PropertyInterface("Start Point",n)),e.e.setGroupProperty(PropertyInterface("End Point",n)),e.o.setGroupProperty(PropertyInterface("Opacity",n)),r}function i(){return function(){return null}}function o(t,e,n){var r,i=propertyGroupFactory(c,n),o=propertyGroupFactory(l,i);function s(n){Object.defineProperty(l,t.d[n].nm,{get:ExpressionPropertyInterface(e.d.dataProps[n].p)})}var a=t.d?t.d.length:0,l={};for(r=0;r<a;r+=1)s(r),e.d.dataProps[r].p.setGroupProperty(o);function c(t){return"Color"===t||"color"===t?c.color:"Opacity"===t||"opacity"===t?c.opacity:"Stroke Width"===t||"stroke width"===t?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return l}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),e.w.setGroupProperty(PropertyInterface("Stroke Width",i)),c}function s(t,e,n){function r(e){return e===t.e.ix||"End"===e||"end"===e?r.end:e===t.s.ix?r.start:e===t.o.ix?r.offset:null}var i=propertyGroupFactory(r,n);return r.propertyIndex=t.ix,e.s.setGroupProperty(PropertyInterface("Start",i)),e.e.setGroupProperty(PropertyInterface("End",i)),e.o.setGroupProperty(PropertyInterface("Offset",i)),r.propertyIndex=t.ix,r.propertyGroup=n,Object.defineProperties(r,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),r.mn=t.mn,r}function a(t,e,n){function r(e){return t.a.ix===e||"Anchor Point"===e?r.anchorPoint:t.o.ix===e||"Opacity"===e?r.opacity:t.p.ix===e||"Position"===e?r.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?r.rotation:t.s.ix===e||"Scale"===e?r.scale:t.sk&&t.sk.ix===e||"Skew"===e?r.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?r.skewAxis:null}var i=propertyGroupFactory(r,n);return e.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",i)),e.transform.mProps.p.setGroupProperty(PropertyInterface("Position",i)),e.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",i)),e.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",i)),e.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",i)),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",i)),e.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",i))),e.transform.op.setGroupProperty(PropertyInterface("Opacity",i)),Object.defineProperties(r,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),r.ty="tr",r.mn=t.mn,r.propertyGroup=n,r}function l(t,e,n){function r(e){return t.p.ix===e?r.position:t.s.ix===e?r.size:null}var i=propertyGroupFactory(r,n);r.propertyIndex=t.ix;var o="tm"===e.sh.ty?e.sh.prop:e.sh;return o.s.setGroupProperty(PropertyInterface("Size",i)),o.p.setGroupProperty(PropertyInterface("Position",i)),Object.defineProperties(r,{size:{get:ExpressionPropertyInterface(o.s)},position:{get:ExpressionPropertyInterface(o.p)},_name:{value:t.nm}}),r.mn=t.mn,r}function c(t,e,n){function r(e){return t.p.ix===e?r.position:t.r.ix===e?r.rotation:t.pt.ix===e?r.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?r.outerRadius:t.os.ix===e?r.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?r.innerRoundness:null:r.innerRadius}var i=propertyGroupFactory(r,n),o="tm"===e.sh.ty?e.sh.prop:e.sh;return r.propertyIndex=t.ix,o.or.setGroupProperty(PropertyInterface("Outer Radius",i)),o.os.setGroupProperty(PropertyInterface("Outer Roundness",i)),o.pt.setGroupProperty(PropertyInterface("Points",i)),o.p.setGroupProperty(PropertyInterface("Position",i)),o.r.setGroupProperty(PropertyInterface("Rotation",i)),t.ir&&(o.ir.setGroupProperty(PropertyInterface("Inner Radius",i)),o.is.setGroupProperty(PropertyInterface("Inner Roundness",i))),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(o.p)},rotation:{get:ExpressionPropertyInterface(o.r)},points:{get:ExpressionPropertyInterface(o.pt)},outerRadius:{get:ExpressionPropertyInterface(o.or)},outerRoundness:{get:ExpressionPropertyInterface(o.os)},innerRadius:{get:ExpressionPropertyInterface(o.ir)},innerRoundness:{get:ExpressionPropertyInterface(o.is)},_name:{value:t.nm}}),r.mn=t.mn,r}function u(t,e,n){function r(e){return t.p.ix===e?r.position:t.r.ix===e?r.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?r.size:null}var i=propertyGroupFactory(r,n),o="tm"===e.sh.ty?e.sh.prop:e.sh;return r.propertyIndex=t.ix,o.p.setGroupProperty(PropertyInterface("Position",i)),o.s.setGroupProperty(PropertyInterface("Size",i)),o.r.setGroupProperty(PropertyInterface("Rotation",i)),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(o.p)},roundness:{get:ExpressionPropertyInterface(o.r)},size:{get:ExpressionPropertyInterface(o.s)},_name:{value:t.nm}}),r.mn=t.mn,r}function h(t,e,n){function r(e){return t.r.ix===e||"Round Corners 1"===e?r.radius:null}var i=propertyGroupFactory(r,n),o=e;return r.propertyIndex=t.ix,o.rd.setGroupProperty(PropertyInterface("Radius",i)),Object.defineProperties(r,{radius:{get:ExpressionPropertyInterface(o.rd)},_name:{value:t.nm}}),r.mn=t.mn,r}function p(t,e,n){function r(e){return t.c.ix===e||"Copies"===e?r.copies:t.o.ix===e||"Offset"===e?r.offset:null}var i=propertyGroupFactory(r,n),o=e;return r.propertyIndex=t.ix,o.c.setGroupProperty(PropertyInterface("Copies",i)),o.o.setGroupProperty(PropertyInterface("Offset",i)),Object.defineProperties(r,{copies:{get:ExpressionPropertyInterface(o.c)},offset:{get:ExpressionPropertyInterface(o.o)},_name:{value:t.nm}}),r.mn=t.mn,r}return function(e,n,r){var i;function o(t){if("number"==typeof t)return 0===(t=void 0===t?1:t)?r:i[t-1];for(var e=0,n=i.length;e<n;){if(i[e]._name===t)return i[e];e+=1}return null}return o.propertyGroup=propertyGroupFactory(o,(function(){return r})),i=t(e,n,o.propertyGroup),o.numProperties=i.length,o._name="Contents",o}}(),TextExpressionInterface=function(t){var e;function n(t){switch(t){case"ADBE Text Document":return n.sourceText;default:return null}}return Object.defineProperty(n,"sourceText",{get:function(){t.textProperty.getValue();var n=t.textProperty.currentData.t;return e&&n===e.value||((e=new String(n)).value=n||new String(n),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),n};function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var FootageInterface=(dataInterfaceFactory=function(t){function e(t){return"Outline"===t?e.outlineInterface():null}return e._name="Outline",e.outlineInterface=function(t){var e="",n=t.getFootageData();function r(t){if(n[t])return e=t,"object"===_typeof(n=n[t])?r:n;var i=t.indexOf(e);if(-1!==i){var o=parseInt(t.substr(i+e.length),10);return"object"===_typeof(n=n[o])?r:n}return""}return function(){return e="",n=t.getFootageData(),r}}(t),e},function(t){function e(t){return"Data"===t?e.dataInterface:null}return e._name="Data",e.dataInterface=dataInterfaceFactory(t),e}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers={searchExpressions:function(t,e,n){e.x&&(n.k=!0,n.x=!0,n.initiateExpression=ExpressionManager.initiateExpression,n.effectsSequence.push(n.initiateExpression(t,e,n).bind(n)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),n=this.getValueAtTime(t+-.01),r=0;if(e.length){var i;for(i=0;i<e.length;i+=1)r+=Math.pow(n[i]-e[i],2);r=100*Math.sqrt(r)}else r=0;return r},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,n,r=this.getValueAtTime(t),i=this.getValueAtTime(t+-.001);if(r.length)for(e=createTypedArray("float32",r.length),n=0;n<r.length;n+=1)e[n]=(i[n]-r[n])/-.001;else e=(i-r)/-.001;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};function addPropertyDecorator(){function t(t,e,n){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var r,i,o,s,a,l=this.comp.renderedFrame,c=this.keyframes,u=c[c.length-1].t;if(l<=u)return this.pv;if(n?i=u-(r=e?Math.abs(u-this.elem.comp.globalData.frameRate*e):Math.max(0,u-this.elem.data.ip)):((!e||e>c.length-1)&&(e=c.length-1),r=u-(i=c[c.length-1-e].t)),"pingpong"===t){if(Math.floor((l-i)/r)%2!=0)return this.getValueAtTime((r-(l-i)%r+i)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var h=this.getValueAtTime(i/this.comp.globalData.frameRate,0),p=this.getValueAtTime(u/this.comp.globalData.frameRate,0),d=this.getValueAtTime(((l-i)%r+i)/this.comp.globalData.frameRate,0),f=Math.floor((l-i)/r);if(this.pv.length){for(s=(a=new Array(h.length)).length,o=0;o<s;o+=1)a[o]=(p[o]-h[o])*f+d[o];return a}return(p-h)*f+d}if("continue"===t){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),g=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(m.length)).length,o=0;o<s;o+=1)a[o]=m[o]+(m[o]-g[o])*((l-u)/this.comp.globalData.frameRate)/5e-4;return a}return m+(l-u)/.001*(m-g)}}return this.getValueAtTime(((l-i)%r+i)/this.comp.globalData.frameRate,0)}function e(t,e,n){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var r,i,o,s,a,l=this.comp.renderedFrame,c=this.keyframes,u=c[0].t;if(l>=u)return this.pv;if(n?i=u+(r=e?Math.abs(this.elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-u)):((!e||e>c.length-1)&&(e=c.length-1),r=(i=c[e].t)-u),"pingpong"===t){if(Math.floor((u-l)/r)%2==0)return this.getValueAtTime(((u-l)%r+u)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var h=this.getValueAtTime(u/this.comp.globalData.frameRate,0),p=this.getValueAtTime(i/this.comp.globalData.frameRate,0),d=this.getValueAtTime((r-(u-l)%r+u)/this.comp.globalData.frameRate,0),f=Math.floor((u-l)/r)+1;if(this.pv.length){for(s=(a=new Array(h.length)).length,o=0;o<s;o+=1)a[o]=d[o]-(p[o]-h[o])*f;return a}return d-(p-h)*f}if("continue"===t){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),g=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(m.length)).length,o=0;o<s;o+=1)a[o]=m[o]+(m[o]-g[o])*(u-l)/.001;return a}return m+(m-g)*(u-l)/.001}}return this.getValueAtTime((r-((u-l)%r+u))/this.comp.globalData.frameRate,0)}function n(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var n,r,i=this.comp.renderedFrame/this.comp.globalData.frameRate,o=i-t,s=e>1?(i+t-o)/(e-1):1,a=0,l=0;for(n=this.pv.length?createTypedArray("float32",this.pv.length):0;a<e;){if(r=this.getValueAtTime(o+a*s),this.pv.length)for(l=0;l<this.pv.length;l+=1)n[l]+=r[l];else n+=r;a+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)n[l]/=e;else n/=e;return n}function r(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e=this._transformCachingAtTime.v;if(e.cloneFromProps(this.pre.props),this.appliedTransformations<1){var n=this.a.getValueAtTime(t);e.translate(-n[0]*this.a.mult,-n[1]*this.a.mult,n[2]*this.a.mult)}if(this.appliedTransformations<2){var r=this.s.getValueAtTime(t);e.scale(r[0]*this.s.mult,r[1]*this.s.mult,r[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var i=this.sk.getValueAtTime(t),o=this.sa.getValueAtTime(t);e.skewFromAxis(-i*this.sk.mult,o*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var s=this.r.getValueAtTime(t);e.rotate(-s*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var a=this.rz.getValueAtTime(t),l=this.ry.getValueAtTime(t),c=this.rx.getValueAtTime(t),u=this.or.getValueAtTime(t);e.rotateZ(-a*this.rz.mult).rotateY(l*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-u[2]*this.or.mult).rotateY(u[1]*this.or.mult).rotateX(u[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var h=this.px.getValueAtTime(t),p=this.py.getValueAtTime(t);if(this.data.p.z){var d=this.pz.getValueAtTime(t);e.translate(h*this.px.mult,p*this.py.mult,-d*this.pz.mult)}else e.translate(h*this.px.mult,p*this.py.mult,0)}else{var f=this.p.getValueAtTime(t);e.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return e}function i(){return this.v.clone(new Matrix)}var o=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,n){var s=o(t,e,n);return s.dynamicProperties.length?s.getValueAtTime=r.bind(s):s.getValueAtTime=i.bind(s),s.setGroupProperty=expressionHelpers.setGroupProperty,s};var s=PropertyFactory.getProp;PropertyFactory.getProp=function(r,i,o,a,l){var c=s(r,i,o,a,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=t,c.loopIn=e,c.smooth=n,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===i.a?i.k.length:0,c.propertyIndex=i.ix;var u=0;return 0!==o&&(u=createTypedArray("float32",1===i.a?i.k[0].s.length:i.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:u},expressionHelpers.searchExpressions(r,i,c),c.k&&l.addDynamicProperty(c),c};var a=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(t,e){this.k&&this.getValue();var n,r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0));var i=r._length,o=r[t],s=r.v,a=createSizedArray(i);for(n=0;n<i;n+=1)a[n]="i"===t||"o"===t?[o[n][0]-s[n][0],o[n][1]-s[n][1]]:[o[n][0],o[n][1]];return a},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var n=this.v;void 0!==e&&(n=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(n));for(var r,i=this._segmentsLength,o=i.lengths,s=i.totalLength*t,a=0,l=o.length,c=0;a<l;){if(c+o[a].addedLength>s){var u=a,h=n.c&&a===l-1?0:a+1,p=(s-c)/o[a].addedLength;r=bez.getPointInSegment(n.v[u],n.v[h],n.o[u],n.i[h],p,o[a]);break}c+=o[a].addedLength,a+=1}return r||(r=n.c?[n.v[0][0],n.v[0][1]]:[n.v[n._length-1][0],n.v[n._length-1][1]]),r},vectorOnPath:function(t,e,n){1==t?t=this.v.c:0==t&&(t=.999);var r=this.pointOnPath(t,e),i=this.pointOnPath(t+.001,e),o=i[0]-r[0],s=i[1]-r[1],a=Math.sqrt(Math.pow(o,2)+Math.pow(s,2));return 0===a?[0,0]:"tangent"===n?[o/a,s/a]:[-s/a,o/a]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],a),extendPrototype([c],l),l.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var u=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,n,r,i){var o=u(t,e,n,r,i);return o.propertyIndex=e.ix,o.lock=!1,3===n?expressionHelpers.searchExpressions(t,e.pt,o):4===n&&expressionHelpers.searchExpressions(t,e.ks,o),o.k&&t.addDynamicProperty(o),o}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(t,e){var n=this.calculateExpression(e);if(t.t!==n){var r={};return this.copyData(r,t),r.t=n.toString(),r.__complete=!1,r}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(t,e){var n,r,i=createNS("feMerge");for(i.setAttribute("result",t),r=0;r<e.length;r+=1)(n=createNS("feMergeNode")).setAttribute("in",e[r]),i.appendChild(n),i.appendChild(n);return i}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,n,r,i){this.filterManager=e;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","linearRGB"),o.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=o,o.setAttribute("result",r+"_tint_1"),t.appendChild(o),(o=createNS("feColorMatrix")).setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),o.setAttribute("result",r+"_tint_2"),t.appendChild(o),this.matrixFilter=o;var s=this.createMergeNode(r,[i,r+"_tint_1",r+"_tint_2"]);t.appendChild(s)}function SVGFillFilter(t,e,n,r){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",r),t.appendChild(i),this.matrixFilter=i}function SVGStrokeEffect(t,e,n){this.initialized=!1,this.filterManager=e,this.elem=n,this.paths=[]}function SVGTritoneFilter(t,e,n,r){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(i);var o=createNS("feComponentTransfer");o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("result",r),this.matrixFilter=o;var s=createNS("feFuncR");s.setAttribute("type","table"),o.appendChild(s),this.feFuncR=s;var a=createNS("feFuncG");a.setAttribute("type","table"),o.appendChild(a),this.feFuncG=a;var l=createNS("feFuncB");l.setAttribute("type","table"),o.appendChild(l),this.feFuncB=l,t.appendChild(o)}function SVGProLevelsFilter(t,e,n,r){this.filterManager=e;var i=this.filterManager.effectElements,o=createNS("feComponentTransfer");(i[10].p.k||0!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||1!==i[12].p.v||i[13].p.k||0!==i[13].p.v||i[14].p.k||1!==i[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",o)),(i[17].p.k||0!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||1!==i[19].p.v||i[20].p.k||0!==i[20].p.v||i[21].p.k||1!==i[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",o)),(i[24].p.k||0!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||1!==i[26].p.v||i[27].p.k||0!==i[27].p.v||i[28].p.k||1!==i[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",o)),(i[31].p.k||0!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||1!==i[33].p.v||i[34].p.k||0!==i[34].p.v||i[35].p.k||1!==i[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",o)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(o.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(o)),(i[3].p.k||0!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||1!==i[5].p.v||i[6].p.k||0!==i[6].p.v||i[7].p.k||1!==i[7].p.v)&&((o=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("result",r),t.appendChild(o),this.feFuncRComposed=this.createFeFunc("feFuncR",o),this.feFuncGComposed=this.createFeFunc("feFuncG",o),this.feFuncBComposed=this.createFeFunc("feFuncB",o))}function SVGDropShadowEffect(t,e,n,r,i){var o=e.container.globalData.renderConfig.filterSize,s=e.data.fs||o;t.setAttribute("x",s.x||o.x),t.setAttribute("y",s.y||o.y),t.setAttribute("width",s.width||o.width),t.setAttribute("height",s.height||o.height),this.filterManager=e;var a=createNS("feGaussianBlur");a.setAttribute("in","SourceAlpha"),a.setAttribute("result",r+"_drop_shadow_1"),a.setAttribute("stdDeviation","0"),this.feGaussianBlur=a,t.appendChild(a);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",r+"_drop_shadow_1"),l.setAttribute("result",r+"_drop_shadow_2"),this.feOffset=l,t.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",r+"_drop_shadow_3"),this.feFlood=c,t.appendChild(c);var u=createNS("feComposite");u.setAttribute("in",r+"_drop_shadow_3"),u.setAttribute("in2",r+"_drop_shadow_2"),u.setAttribute("operator","in"),u.setAttribute("result",r+"_drop_shadow_4"),t.appendChild(u);var h=this.createMergeNode(r,[r+"_drop_shadow_4",i]);t.appendChild(h)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+r+" 0"),this.matrixFilter.setAttribute("values",n[0]-e[0]+" 0 0 0 "+e[0]+" "+(n[1]-e[1])+" 0 0 0 "+e[1]+" "+(n[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+n+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,n,r,i=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(r=this.elem.maskManager.masksProperties.length,n=0):r=(n=this.filterManager.effectElements[0].p.v-1)+1,(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);n<r;n+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:n});if(3===this.filterManager.effectElements[10].p.v){var o=createNS("mask"),s=createElementID();o.setAttribute("id",s),o.setAttribute("mask-type","alpha"),o.appendChild(e),this.elem.globalData.defs.appendChild(o);var a=createNS("g");for(a.setAttribute("mask","url("+getLocationHref()+"#"+s+")");i[0];)a.appendChild(i[0]);this.elem.layerElement.appendChild(a),this.masker=o,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(i=this.elem.layerElement.children||this.elem.layerElement.childNodes;i.length;)this.elem.layerElement.removeChild(i[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){var e;this.initialized||this.initialize();var n,r,i=this.paths.length;for(e=0;e<i;e+=1)if(-1!==this.paths[e].m&&(n=this.elem.maskManager.viewData[this.paths[e].m],r=this.paths[e].p,(t||this.filterManager._mdf||n.prop._mdf)&&r.setAttribute("d",n.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var o;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var s=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),a=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=r.getTotalLength();o="0 0 0 "+l*s+" ";var c,u=l*(a-s),h=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,p=Math.floor(u/h);for(c=0;c<p;c+=1)o+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";o+="0 "+10*l+" 0 0"}else o="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;r.setAttribute("stroke-dasharray",o)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var d=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*d[0])+","+bmFloor(255*d[1])+","+bmFloor(255*d[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,i=r[0]+" "+n[0]+" "+e[0],o=r[1]+" "+n[1]+" "+e[1],s=r[2]+" "+n[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",i),this.feFuncG.setAttribute("tableValues",o),this.feFuncB.setAttribute("tableValues",s)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var n=createNS(t);return n.setAttribute("type","table"),e.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(t,e,n,r,i){for(var o,s,a=0,l=Math.min(t,e),c=Math.max(t,e),u=Array.call(null,{length:256}),h=0,p=i-r,d=e-t;a<=256;)s=(o=a/256)<=l?d<0?i:r:o>=c?d<0?r:i:r+p*Math.pow((o-t)/d,1/n),u[h]=s,h+=1,a+=256/255;return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,n=this.filterManager.effectElements;this.feFuncRComposed&&(t||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(e=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(e=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(e=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(e=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(e=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=n*Math.cos(r),o=n*Math.sin(r);this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",o)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,n){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGGaussianBlurEffect(t,e,n,r){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var i=createNS("feGaussianBlur");i.setAttribute("result",r),t.appendChild(i),this.feGaussianBlur=i}function TransformEffect(){}function SVGTransformEffect(t,e){this.init(e)}function CVTransformEffect(t){this.init(t)}return SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,n=_svgMatteSymbols.length;e<n;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var n=t.layerElement.parentNode;if(n){for(var r,i=n.children,o=0,s=i.length;o<s&&i[o]!==t.layerElement;)o+=1;o<=s-2&&(r=i[o+1]);var a=createNS("use");a.setAttribute("href","#"+e),r?n.insertBefore(a,r):n.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var n=createElementID(),r=createNS("mask");r.setAttribute("id",e.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var i=t.globalData.defs;i.appendChild(r);var o=createNS("symbol");o.setAttribute("id",n),this.replaceInParent(e,n),o.appendChild(e.layerElement),i.appendChild(o);var s=createNS("use");s.setAttribute("href","#"+n),r.appendChild(s),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,n=0,r=e.length;n<r;)e[n]&&e[n].data.ind===t&&this.setElementAsMask(this.elem,e[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=3==n?0:e,i=2==n?0:e;this.feGaussianBlur.setAttribute("stdDeviation",r+" "+i);var o=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",o)}},TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,n=e[0].p.v,r=e[1].p.v,i=1===e[2].p.v,o=e[3].p.v,s=i?o:e[4].p.v,a=e[5].p.v,l=e[6].p.v,c=e[7].p.v;this.matrix.reset(),this.matrix.translate(-n[0],-n[1],n[2]),this.matrix.scale(.01*s,.01*o,1),this.matrix.rotate(-c*degToRads),this.matrix.skewFromAxis(-a*degToRads,(l+90)*degToRads),this.matrix.translate(r[0],r[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie}))},lnE3:function(t,e,n){"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=n("D3zA");t.exports=o.call(r,i)},ng4s:function(t,e,n){"use strict";n.r(e);n("ynzQ");var r=n("uvZ8"),i=n.n(r),o=n("yt1c"),s=n.n(o),a=n("yrm9"),l=n.n(a),c=n("z/o8"),u=n("Haw6"),h=n("+9ZR"),p=(n("t9wJ"),n("2Eoh")),d=function(){function t(t,e){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?window.open(t,e):window.open(t,"","width=550,height=400,resizable=yes,scrollbars=yes,top=200,left=200")}$(document).ready((function(){var e=window.location.href;$(".tw").on("click",(function(n){n.preventDefault();var r=$(this).attr("data-handles"),i=r?"by ".concat(r," via @lightspeedvp"):"by @lightspeedvp";t("https://twitter.com/intent/tweet?text="+encodeURIComponent(e+" "+i),"_blank")})),$(".fb").on("click",(function(n){n.preventDefault(),t("https://www.facebook.com/sharer/sharer.php?u="+e,"_blank")})),$(".li").on("click",(function(n){n.preventDefault(),t("https://www.linkedin.com/sharing/share-offsite/?url="+e,"_blank")})),$(".share-link").on("click",(function(t){t.preventDefault(),function(t,e){var n=document.createElement("input");n.setAttribute("value",t),e.appendChild(n),n.select();var r=document.execCommand("copy");e.removeChild(n)}(e,t.currentTarget)}))}))},f=n("AxL3"),m=n("iEc/"),g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var v=m.helpers,y=v.getOptions,b=v.addClasses,_=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return e.instances.set(n[0],i),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),(function(t){"init"===t.getAttribute("data-simplebar")||e.instances.has(t)||new e(t,y(t.attributes))}))},e.removeObserver=function(){var t;null===(t=e.globalObserver)||void 0===t||t.disconnect()},e.prototype.initDOM=function(){var t,e,n,r=this;if(!Array.prototype.filter.call(this.el.children,(function(t){return t.classList.contains(r.classNames.wrapper)})).length){for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),b(this.wrapperEl,this.classNames.wrapper),b(this.contentWrapperEl,this.classNames.contentWrapper),b(this.offsetEl,this.classNames.offset),b(this.maskEl,this.classNames.mask),b(this.contentEl,this.classNames.contentEl),b(this.placeholderEl,this.classNames.placeholder),b(this.heightAutoObserverWrapperEl,this.classNames.heightAutoObserverWrapperEl),b(this.heightAutoObserverEl,this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl),null===(t=this.contentWrapperEl)||void 0===t||t.setAttribute("tabindex","0"),null===(e=this.contentWrapperEl)||void 0===e||e.setAttribute("role","region"),null===(n=this.contentWrapperEl)||void 0===n||n.setAttribute("aria-label",this.options.ariaLabel)}if(!this.axis.x.track.el||!this.axis.y.track.el){var i=document.createElement("div"),o=document.createElement("div");b(i,this.classNames.track),b(o,this.classNames.scrollbar),i.appendChild(o),this.axis.x.track.el=i.cloneNode(!0),b(this.axis.x.track.el,this.classNames.horizontal),this.axis.y.track.el=i.cloneNode(!0),b(this.axis.y.track.el,this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}m.prototype.initDOM.call(this),this.el.setAttribute("data-simplebar","init")},e.prototype.unMount=function(){m.prototype.unMount.call(this),e.instances.delete(this.el)},e.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!=typeof MutationObserver&&(this.globalObserver=new MutationObserver(e.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))},e.handleMutations=function(t){t.forEach((function(t){t.addedNodes.forEach((function(t){1===t.nodeType&&(t.hasAttribute("data-simplebar")?!e.instances.has(t)&&document.documentElement.contains(t)&&new e(t,y(t.attributes)):t.querySelectorAll("[data-simplebar]").forEach((function(t){"init"!==t.getAttribute("data-simplebar")&&!e.instances.has(t)&&document.documentElement.contains(t)&&new e(t,y(t.attributes))})))})),t.removedNodes.forEach((function(t){1===t.nodeType&&("init"===t.getAttribute("data-simplebar")?e.instances.has(t)&&!document.documentElement.contains(t)&&e.instances.get(t).unMount():Array.prototype.forEach.call(t.querySelectorAll('[data-simplebar="init"]'),(function(t){e.instances.has(t)&&!document.documentElement.contains(t)&&e.instances.get(t).unMount()})))}))}))},e.instances=new WeakMap,e}(m);f&&_.initHtmlApi();n("gZXI");function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T(r.key),r)}}function T(t){var e=function(t,e){if("object"!=x(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==x(e)?e:String(e)}var A,M,C,P=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.accordionArray=[],this.options=Object.assign({},t.defaultOptions,e),this.accordion=this.options.container.querySelectorAll(this.options.element),this.setup(),this.init()}var e,n,r;return e=t,r=[{key:"create",value:function(e){t.instance||(t.instance=new t(e))}},{key:"defaultOptions",get:function(){return{element:null,trigger:"[data-accordion-trigger]",content:"[data-accordion-content]",container:document}}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}}],(n=[{key:"setup",value:function(){var t=this;this.accordion.forEach((function(e){var n=w(e.querySelectorAll(t.options.trigger));t.accordionArray=n.map((function(t,e){return{trigger:t,content:t.nextElementSibling,index:e,background:t.getAttribute("data-accordion-background"),lastHeight:t.nextElementSibling.scrollHeight,height:t.nextElementSibling.scrollHeight,isActive:0===e,animation:c.b.timeline({paused:!0,reversed:!0,defaults:{duration:.3,ease:"power4.out",transformOrigin:"center top"}}).fromTo(t.nextElementSibling,{height:"100%",overflow:"hidden",padding:"40px 0 20px 0"},{height:0,padding:0,duration:.3,overflow:"hidden"})}}))}))}},{key:"init",value:function(){var t=this;this.accordionArray.forEach((function(e,n){t.toggleAccordion(e),e.trigger.addEventListener("click",(function(n){n.preventDefault(),t.toggleAccordion(e,t.getScrollPosition),t.scrollToAnimation(e.trigger),e.background&&t.backgroundAnimation(e.background)}))}))}},{key:"scrollToAnimation",value:function(t){void 0!==window.scroller?window.scroller.scrollTo(t,{offset:-1*document.querySelector("header").offsetHeight,duration:1e3}):c.b.to(window,{scrollTo:{y:t,offsetY:document.querySelector("header").offsetHeight},duration:1,ease:"power4.inOut"})}},{key:"toggleAccordion",value:function(t,e){t.isActive?(t.animation.reverse().eventCallback("onReverseComplete",(function(){c.b.timeline().set(t.content.querySelectorAll("[data-stagger-slide-up]"),{alpha:0,y:50}).to(t.content.querySelectorAll("[data-stagger-slide-up]"),{alpha:1,duration:1,y:0,ease:"power4.out",transformOrigin:"center top",stagger:.1})})),t.isActive=!1,t.trigger.classList.add("active")):(t.animation.play(0).eventCallback("onComplete",(function(){c.b.set(t.content.querySelectorAll("[data-stagger-slide-up]"),{alpha:0,y:50})})),t.isActive=!0,t.trigger.classList.remove("active"))}},{key:"getScrollPosition",get:function(){return window.pageYOffset||document.documentElement.scrollTop}},{key:"toggleScrolling",value:function(){var t=this;return{enabled:!0,events:"scroll,wheel,touchmove,pointermove".split(","),prevent:function(t){console.log(t),t.preventDefault()},disable:function(){t.toggleScrolling().enabled&&(t.toggleScrolling().enabled=!1,window.addEventListener("scroll",c.b.ticker.tick,{passive:!0}),t.toggleScrolling().events.forEach((function(e,n){document.querySelector("#smooth-wrapper").addEventListener(e,t.toggleScrolling().prevent,{passive:!1})})))},enable:function(){t.toggleScrolling().enabled||(t.toggleScrolling().enabled=!0,window.removeEventListener("scroll",c.b.ticker.tick),t.toggleScrolling().events.forEach((function(e,n){return(n?document:window).removeEventListener(e,t.toggleScrolling().prevent)})))}}}},{key:"lockScroll",value:function(t){t.preventDefault()}},{key:"beforeDestroy",value:function(){this.accordion=null,this.accordionArray=null}},{key:"backgroundAnimation",value:function(t){var e,n=document.getElementById("bg-main");(e=n.classList).remove.apply(e,w(n.classList)),n.classList.add("bg-transition",t)}}])&&S(e.prototype,n),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I(r.key),r)}}function O(t,e,n){return(e=I(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t){var e=function(t,e){if("object"!=D(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==D(e)?e:String(e)}A=P,C=null,(M=T(M="instance"))in A?Object.defineProperty(A,M,{value:C,enumerable:!0,configurable:!0,writable:!0}):A[M]=C;var L=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),O(this,"loadMore",(function(t,e,r,i,o){var s=t.sectors,a=t.search,l=t.nonce,u=$(".filter-wrap").data("page-id"),h=$(".stories-section").data("template");$.ajax({type:"post",dataType:"json",url:wp_ajax.ajaxurl,data:{action:"load_more_stories",pageId:u,nonce:l,sectors:s,search:a,slug:e,page:r,template:h},success:function(t){setTimeout((function(){var n=$(".row-"+e);n.append(t.html),t.is_last?$("[data-slug='".concat(e,"']")).hide():($("[data-slug='".concat(e,"']")).html("Dive deeper"),$("[data-slug='".concat(e,"']")).data("page",r));var o=$(".page-stories, .page-india-stories").find(".col:not(.fade-in)");c.a.set(o,{alpha:0}),c.a.set(n.parent(),{height:"100%"});c.a.to(window,{scrollTo:{y:i},duration:0,ease:"power4.inOut"}),setTimeout((function(){c.a.timeline({onStart:function(){o.hasClass("fade-in")||o.addClass("fade-in")}}).to(o,{y:50,alpha:0,duration:1,delay:.2}).to(o,{y:0,alpha:1,duration:1,ease:"power4.out",stagger:.1},"-=0.5")}),0)}),0),void 0!==n.smoother&&n.smoother.refresh(),$(o).removeClass("disable-click")},error:function(t){console.log(JSON.stringify(t)),$(o).removeClass("disable-click")}})})),O(this,"filterCount",(function(){["sector"].forEach((function(t){var e=$("#".concat(t,"-filter input:checked")),n=e.length,r=[];e.each((function(t,e){r.push($(e).val())})),r.includes("all")&&(n-=1),n>0?$("#".concat(t,"-filter .filter-count")).html("(".concat(n,")")):$("#".concat(t,"-filter .filter-count")).html("")}));var t=$(".filter-wrap input:checked:not(.filter-all)").length;t?($(".filter-opener .filter-count").html("(".concat(t,")")),window.innerWidth>768&&$("#reset-filters").fadeIn()):($("#reset-filters").fadeOut(),$(".filter-opener .filter-count").html(""))})),O(this,"resetFilters",(function(){$(".filter-wrap input:checked").prop("checked",!1),$(".filter-all").prop("checked",!0),$("#search").val(""),$("form.search").removeClass("filled"),n.previousSearch=""})),O(this,"searchAutocomplete",(function(){function t(t){return t.replace(/&#8217;/g,"'").replace(/&#038;/g,"&")}void 0!==window.storiesAutocomplete&&$(".page-stories, .page-india-stories").find("#search").autocomplete({source:window.storiesAutocomplete,appendTo:$(".page-stories, .page-india-stories").find(".filter-wrap .inner .search")[0],minLength:1,autoFocus:!1,open:function(t){$(t.target).next(".ui-autocomplete").addClass("is-active"),n.isSimpleBar||n.initSimplebar()},select:function(t,e){$(t.target).removeClass("active"),$(t.target).next(".ui-autocomplete").removeClass("is-active")},close:function(){n.destroySimpleBar()},change:function(e,n){var r=$(e.target).val();r=t(r),$(e.target).val(r)},response:function(e,n){n.content.forEach((function(e){e.label=t(e.label),e.value=t(e.value)}))}})})),this.options=Object.assign({},this.defaultOptions,e),this.isEnabled=!0,this.simpleBar,this.isSimpleBar=!1,this.applied=!1,this.accordion=P,this.mm=c.a.matchMedia(),this.init(),this.previousSearch=""}var e,n,r;return e=t,(n=[{key:"defaultOptions",get:function(){return{container:document}}},{key:"init",value:function(){this.Filters(),this.filterCount(),this.searchAutocomplete(),this.initTransition(),this.createAccordion()}},{key:"createAccordion",value:function(){this.accordion.create({speed:.5,element:"[data-accordion]",container:this.options.container})}},{key:"destroyAccodion",value:function(){this.accordion.destroy()}},{key:"initTransition",value:function(){$(".page-stories, .page-india-stories").find(".news-feed-grid .col").addClass("fade-in")}},{key:"updateURL",value:function(t){var e=new URLSearchParams(location.search);t.length?e.set("sector",t.join(",")):e.delete("sector");var n="".concat(location.pathname,"?").concat(e.toString());history.pushState({},"",n),window.barba.history.add(n,"stories")}},{key:"Filters",value:function(){var t=this;$(".page-stories, .page-india-stories").find(".filter-wrap :checkbox").on("change",(function(e){"all"===$(e.target).val()?($(e.target).closest("ul").find("li input").prop("checked",!1),$(e.target).prop("checked",!0)):($(e.target).parents("ul").find(".filter-all").prop("checked",!1),$(e.target).closest("ul").find("li input:not(.filter-all)").is(":checked")||$(e.target).closest("ul").find(".filter-all").prop("checked",!0)),t.getResults(t.getFilters()),t.filterCount()})),$(".page-stories, .page-india-stories").find("#reset-filters").on("click",(function(){t.resetFilters(),t.filterCount(),t.getResults(t.getFilters())})),$(".page-stories, .page-india-stories").find("#reset-filters-mobile").on("click",(function(){t.resetFilters(),t.filterCount(),t.getResults(t.getFilters())})),$(document).on("click",".page-stories .ui-menu-item-wrapper, .page-india-stories .ui-menu-item-wrapper",(function(e){t.applied=!0,t.previousSearch=$(e.target).text(),t.getResults(t.getFilters())})),$(document).on("submit",".page-stories form.search, .page-india-stories form.search",(function(e){e.preventDefault(),t.applied=!0,t.previousSearch=$(e.target).find("input").val(),t.getResults(t.getFilters())})),$(document).on("click",".load-more-stories:not(.disable-click)",(function(e){$(e.target).addClass("disable-click");var n=$(e.target).data("slug"),r=$(e.target).data("page"),i=t.getScrollPosition();$(e.target).html('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: none; display: block; shape-rendering: auto;" width="16px" height="16px" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid">\n      <circle cx="12" cy="12" fill="none" stroke="#ffffff" stroke-width="2" r="8" stroke-dasharray="18.84955592153876 8.283185307179586">\n      <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 12 12;360 12 12" keyTimes="0;1"/>\n      </circle>\n      </svg>'),setTimeout((function(){t.loadMore(t.getFilters(),n,parseInt(r)+1,i,e.target)}),200)})),$(".page-stories, .page-india-stories").find(".filter-wrap #search").on("keyup",(function(e){!$(".filter-wrap #search").val()&&t.applied&&(t.previousSearch="",t.getResults(t.getFilters()),t.applied=!1),$("#search").val()?$("form.search").addClass("filled"):$("form.search").removeClass("filled")})),$(".page-stories, .page-india-stories").find(".reset-field").on("click",(function(e){$("#search").val(""),$("form.search").removeClass("filled"),t.applied&&(t.previousSearch="",t.getResults(t.getFilters()),t.applied=!1)}))}},{key:"getFilters",value:function(){var t=[];$("#sector-filter input:checked").each((function(e,n){t.push($(n).val())}));var e=this.previousSearch,n=$("#story-filters-nonce").val();return{sectors:t,search:e,nonce:n}}},{key:"getResults",value:function(t){var e=this,n=t.sectors,r=t.search,i=t.nonce,o=$(".filter-wrap").data("page-id"),s=$(".stories-section").data("template");$("#smooth-wrapper").after('<div class="loading"></div>'),this.destroyAccodion(),setTimeout((function(){$.ajax({type:"post",dataType:"json",url:wp_ajax.ajaxurl,data:{action:"stories_filters",pageId:o,nonce:i,sectors:n,search:r,template:s},success:function(t){var r="\n"!==t.html?t.html:'<div class="no-result">No results</div>';t.html&&($(".section-portfolio .accordion").html(r),p.q(),p.i(),$(".loading").remove()),e.updateURL(n),e.createAccordion();var i=$(".page-stories, .page-india-stories").find(".col:not(.fade-in)").parent();setTimeout((function(){var t=$(".page-stories, .page-india-stories").find(".col:not(.fade-in)");c.a.set(t,{alpha:0}),c.a.set(i.parent(),{height:"100%"}),c.a.timeline({onStart:function(){t.hasClass("fade-in")||t.addClass("fade-in")}}).to(t,{y:50,alpha:0,duration:1,delay:.2}).to(t,{y:0,alpha:1,duration:1,ease:"power4.out",stagger:.1},"-=0.5")}),0),e.mm.add("(max-width: 991px)",(function(){setTimeout((function(){window.scrollTo(0,$(".page-stories, .page-india-stories").find(".section-portfolio").offset().top-document.querySelector(".header").offsetHeight)}),500)})),e.mm.add("(min-width: 992px)",(function(){setTimeout((function(){window.scroller.scrollTo(e.options.container.querySelector(".section-portfolio"),{duration:100,offset:-1*document.querySelector(".header").offsetHeight})}),100)}))},error:function(t){console.log(JSON.stringify(t))}})}),200)}},{key:"initSimplebar",value:function(){this.isSimpleBar=!0,this.SimpleBar=new _(document.querySelector(".ui-autocomplete"))}},{key:"destroySimpleBar",value:function(){this.isSimpleBar&&(this.isSimpleBar=!1,this.SimpleBar.unMount())}},{key:"getScrollPosition",value:function(){return window.pageYOffset||document.documentElement.scrollTop}},{key:"destroyAutoComplete",value:function(){$(".page-stories #search, .page-india-stories #search").autocomplete("destroy"),void 0!==window.storiesAutocomplete&&(window.storiesAutocomplete=void 0)}},{key:"destroy",value:function(){this.destroyAutoComplete(),this.destroySimpleBar(),this.destroyAccodion()}}])&&R(e.prototype,n),r&&R(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B(r.key),r)}}function N(t,e,n){return(e=B(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B(t){var e=function(t,e){if("object"!=k(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==k(e)?e:String(e)}var U=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),N(this,"loadMore",(function(t,e,r,i){var o=t.locations,s=t.sectors,a=t.expertise,l=t.search,u=t.nonce;$.ajax({type:"post",dataType:"json",url:wp_ajax.ajaxurl,data:{action:"load_more_team_members",nonce:u,locations:o,sectors:s,expertise:a,search:l,slug:e,page:r},success:function(t){setTimeout((function(){var o=$(".row-"+e);o.append(t.html),t.is_last&&$("[data-slug='".concat(e,"']")).hide(),$("[data-slug='".concat(e,"']")).html("Dive deeper"),$("[data-slug='".concat(e,"']")).data("page",r);var s=$(n.container).find(".row-grid .col:not(.fade-in)");c.a.set(s,{alpha:0}),c.a.set(o.parent(),{height:"100%"});c.a.to(window,{scrollTo:{y:i},duration:0,ease:"power4.inOut"}),setTimeout((function(){c.a.timeline({onComplete:function(){s.hasClass("fade-in")||s.addClass("fade-in")}}).to(s,{y:50,alpha:0,duration:1,delay:.2}).to(s,{y:0,alpha:1,duration:1,ease:"power4.out",stagger:.1},"-=0.5")}),0)}),0)},error:function(t){console.log(JSON.stringify(t))}})})),N(this,"filterCount",(function(){["location","expertise","sector"].forEach((function(t){var e=$(n.container).find("#".concat(t,"-filter input:checked")),r=e.length,i=[];e.each((function(t,e){i.push($(e).val())})),(i.includes("all")||0===i.length)&&(r-=1),r>0?$(n.container).find("#".concat(t,"-filter .filter-count")).html("(".concat(r,")")):$(n.container).find("#".concat(t,"-filter .filter-count")).html("")}));var t=$(".filter-wrap input:checked:not(.filter-all)").length;t?($(n.container).find(".filter-opener .filter-count").html("(".concat(t,")")),window.innerWidth>768&&$(n.container).find("#reset-filters").fadeIn()):($(n.container).find("#reset-filters").fadeOut(),$(n.container).find(".filter-opener .filter-count").html(""))})),N(this,"resetFilters",(function(){$(".filter-wrap input:checked").prop("checked",!1),$(".filter-wrap input.filter-all").prop("checked",!0)})),N(this,"searchAutocomplete",(function(){n.searchContainer=$("[data-filter-wrap-team] #search")[0];var t=$("[data-filter-wrap-team] .inner .search")[0];void 0!==window.teamsAutocomplete&&$(n.searchContainer).autocomplete({source:window.teamsAutocomplete,appendTo:t,minLength:1,autoFocus:!1,open:function(t){$(t.target).next(".ui-autocomplete").addClass("is-active"),n.isSimpleBar||n.initSimplebar()},select:function(t,e){$(t.target).removeClass("active"),$(t.target).next(".ui-autocomplete").removeClass("is-active")},close:function(){n.destroySimpleBar()}})})),N(this,"enableAutocomplete",(function(){$(n.searchContainer).autocomplete("enable")})),this.options=Object.assign({},this.defaultOptions,e),this.container=this.options.container,this.isEnabled=!0,this.simpleBar,this.isSimpleBar=!1,this.applied=!1,this.accordion=P,this.mm=c.a.matchMedia(),this.init(),this.previousSearch=""}var e,n,r;return e=t,r=[{key:"create",value:function(e){return null===t.instance&&(t.instance=new t(e)),t.instance}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}}],(n=[{key:"defaultOptions",get:function(){return{container:document}}},{key:"init",value:function(){var t=this;this.Filters(),this.filterCount(),setTimeout((function(){t.searchAutocomplete()}),200),this.initTransition(),this.createAccordion()}},{key:"createAccordion",value:function(){this.accordion.create({speed:.5,element:"[data-accordion]",container:this.options.container})}},{key:"destroyAccodion",value:function(){this.accordion.destroy()}},{key:"initTransition",value:function(){$(this.container).find(".row-grid .col").addClass("fade-in")}},{key:"updateURL",value:function(t,e,n){var r=new URLSearchParams(location.search);t.length?r.set("expertise",t.join(",")):r.delete("expertise"),e.length?r.set("location",e.join(",")):r.delete("location"),n.length?r.set("sector",n.join(",")):r.delete("sector");var i="".concat(location.pathname,"?").concat(r.toString());history.pushState({},"",i),window.barba.history.add(i,"team")}},{key:"Filters",value:function(){var t=this;$(".filter-wrap :checkbox").on("change",(function(e){"all"===$(e.target).val()?($(e.target).closest("ul").find("li input").prop("checked",!1),$(e.target).prop("checked",!0)):($(e.target).closest("ul").find(".filter-all").prop("checked",!1),$(e.target).closest("ul").find("li input:not(.filter-all)").is(":checked")||$(e.target).closest("ul").find(".filter-all").prop("checked",!0)),t.getResults(t.getFilters()),t.filterCount()})),$(this.container).find("#reset-filters").on("click",(function(){t.resetFilters(),t.filterCount(),t.getResults(t.getFilters())})),$(".filter-wrap #reset-filters-mobile").on("click",(function(){$(".filter-wrap #search").val(""),setTimeout((function(){t.resetFilters(),t.filterCount(),t.getResults(t.getFilters())}),0)})),$("body").on("click",".ui-menu-item-wrapper",(function(e){t.applied=!0,t.resetFilters(),t.filterCount(),t.previousSearch=$(e.target).text(),t.getResults(t.getFilters())})),$("body").on("submit","form.search",(function(e){e.preventDefault(),t.applied=!0,t.resetFilters(),t.filterCount(),t.previousSearch=$(e.target).find("input").val(),t.getResults(t.getFilters())})),$(this.container).on("click",".load-more-members",(function(e){var n=$(e.target).data("slug"),r=$(e.target).data("page"),i=t.getScrollPosition();$(e.target).html('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: none; display: block; shape-rendering: auto;" width="16px" height="16px" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid">\n                <circle cx="12" cy="12" fill="none" stroke="#ffffff" stroke-width="2" r="8" stroke-dasharray="18.84955592153876 8.283185307179586">\n                <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 12 12;360 12 12" keyTimes="0;1"/>\n                </circle>\n            </svg>'),setTimeout((function(){t.loadMore(t.getFilters(),n,parseInt(r)+1,i)}),200)})),$(".filter-wrap #search").on("keyup",(function(e){!$(".filter-wrap #search").val()&&t.applied&&(t.previousSearch="",t.getResults(t.getFilters()),t.applied=!1),$("#search").val()?$("form.search").addClass("filled"):$("form.search").removeClass("filled")})),$(".page-lightspeed-team, .page-press-kit").find(".reset-field").on("click",(function(e){$("#search").val(""),$("form.search").removeClass("filled"),t.applied&&(t.previousSearch="",t.getResults(t.getFilters()),t.applied=!1)}))}},{key:"getFilters",value:function(){var t=[],e=[],n=[],r=[];$("#location-filter input:checked").each((function(e,n){t.push($(n).val())})),$("#sector-filter input:checked").each((function(t,n){e.push($(n).val())})),$("#expertise-filter input:checked").each((function(t,e){n.push($(e).val())})),r=(r=$("#blocked_locations")).length&&JSON.parse(r.text())||[];var i=this.previousSearch,o=$("#member-filters-nonce").val();return{locations:t,sectors:e,expertise:n,search:i,nonce:o,blocked_locations:r}}},{key:"getResults",value:function(t){var e=this,n=t.locations,r=t.sectors,i=t.expertise,o=t.search,s=t.nonce,a=t.blocked_locations;$("#smooth-wrapper").after('<div class="loading"></div>'),this.destroyAccodion();var l=$(".section-team-list").data("page-id");setTimeout((function(){$.ajax({type:"post",dataType:"json",url:wp_ajax.ajaxurl,data:{action:"team_member_filters",nonce:s,locations:n,sectors:r,expertise:i,search:o,blocked_locations:a,pageId:l},success:function(t){var o="\n"!==t.html?t.html:'<div class="no-result">No results</div>';t.html&&($(e.container).find(".section-portfolio .accordion").html(o),p.q(),p.i(),$(".loading").remove()),e.updateURL(i,n,r),e.createAccordion();var s=$(e.container).find(".row-grid .col:not(.fade-in)"),a=s.parent(),l=1,u=1,h="-=0.5";window.innerWidth<1200&&(l=0,u=.1,h="-=0.1"),c.a.set(s,{alpha:0}),c.a.set(a.parent(),{height:"100%"}),setTimeout((function(){c.a.timeline({onStart:function(){s.hasClass("fade-in")||s.addClass("fade-in")}}).to(s,{y:50,alpha:0,duration:u,delay:.2}).to(s,{y:0,alpha:1,duration:1,ease:"power4.out",stagger:.1*l},h)}),0),e.mm.add("(max-width: 991px)",(function(){setTimeout((function(){window.scrollTo(0,$(e.container).find(".section-team-list").offset().top-document.querySelector(".header").offsetHeight)}),500)})),e.mm.add("(min-width: 992px)",(function(){setTimeout((function(){window.scroller.scrollTo(e.options.container.querySelector(".section-team-list"),{duration:100,offset:-1*document.querySelector(".header").offsetHeight})}),100)}))},error:function(t){console.log(JSON.stringify(t))}})}),200)}},{key:"initSimplebar",value:function(){this.isSimpleBar=!0,this.SimpleBar=new _($("[data-filter-wrap-team] .ui-autocomplete")[0])}},{key:"destroySimpleBar",value:function(){this.isSimpleBar&&(this.isSimpleBar=!1,this.SimpleBar.unMount())}},{key:"getScrollPosition",value:function(){return window.pageYOffset||document.documentElement.scrollTop}},{key:"destroyAutoComplete",value:function(){$(this.searchContainer).autocomplete("destroy"),void 0!==window.teamsAutocomplete&&(window.teamsAutocomplete=void 0)}},{key:"beforeDestroy",value:function(){this.destroyAutoComplete(),this.destroySimpleBar(),this.destroyAccodion()}}])&&F(e.prototype,n),r&&F(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();N(U,"instance",null);var G=U;function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j(r.key),r)}}function j(t){var e=function(t,e){if("object"!=z(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==z(e)?e:String(e)}var V=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init()}var e,n,r;return e=t,r=[{key:"create",value:function(){return t.instance||(t.instance=this),t.instance}},{key:"destroy",value:function(){t.instance&&(t.instance=null)}}],(n=[{key:"init",value:function(){$("[data-width-mb]").each((function(){var t=$(this),e=$(t).attr("width"),n=$(t).data("width-mb"),r=function(){$(window).width()<768?$(t).attr("width",n):$(t).attr("width",e)};r(),$(window).on("resize orientationchange",r)}))}},{key:"beforeDestroy",value:function(){$(window).off("resize orientationchange")}}])&&H(e.prototype,n),r&&H(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=j(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(V,"instance",null);var X=V;function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){Z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J(r.key),r)}}function Z(t,e,n){return(e=J(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J(t){var e=function(t,e){if("object"!=W(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==W(e)?e:String(e)}c.a.registerPlugin(u.b);var Q=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Z(this,"getFilters",(function(){var t=[],e=[],r=[],i=[];$("#location-filter input:checked").each((function(e,n){t.push($(n).val())})),$("#stage-filter input:checked").each((function(t,n){e.push($(n).val())})),$("#sector-filter input:checked").each((function(t,e){r.push($(e).val())})),$("#investments-filter").length?$("#investments-filter input:checked").each((function(t,e){i.push($(e).val())})):i=["all"];var o=n.previousSearch,s=$("#post-filters-nonce").val(),a=$(".filter").data("spotlight-list");return{locations:t,stages:e,sectors:r,investments:i,search:o,nonce:s,spotlight:a}})),Z(this,"loadMore",(function(t,e,n,r){var i=t.locations,o=t.stages,s=t.sectors,a=t.investments,l=t.search,u=t.nonce;$.ajax({type:"post",dataType:"json",url:wp_ajax.ajaxurl,data:{action:"load_more_founders",nonce:u,locations:i,stages:o,sectors:s,investments:a,search:l,slug:e,page:n},success:function(t){setTimeout((function(){var r=$(".row-"+e);r.append(t.html),t.is_last&&$("[data-slug='".concat(e,"']")).hide(),$("[data-slug='".concat(e,"']")).html("Dive deeper"),$("[data-slug='".concat(e,"']")).data("page",n);var i=$("#section-companies .col:not(.fade-in)");c.a.set(i,{alpha:0}),c.a.set(r.parent(),{height:"100%"});setTimeout((function(){c.a.timeline({onComplete:function(){i.hasClass("fade-in")||i.addClass("fade-in")}}).to(i,{y:50,alpha:0,duration:1,delay:.2}).to(i,{y:0,alpha:1,duration:1,ease:"power4.out",stagger:.1},"-=0.5"),X.create()}),0)}),0)},error:function(t){console.log(JSON.stringify(t))}})})),Z(this,"filterCount",(function(){var t=$(".filter-wrap input:checked").length;["location","stage","sector","investments","length"].forEach((function(e){var n=$("#".concat(e,"-filter input:checked")),r=n.length,i=[];n.each((function(t,e){i.push($(e).val())})),i.includes("all")&&(r-=1,t-=1),r>0?$("#".concat(e,"-filter .filter-count")).html("(".concat(r,")")):($("#".concat(e,"-filter .filter-count")).html(""),$("#".concat(e,"-filter input.filter-all")).prop("checked",!0))})),t||$(".filter-wrap #search").val().length?(t=t?"(".concat(t,")"):"",$("#section-companies .filter-opener .filter-count").html(t),$("#section-companies #reset-filters .filter-count").text(t),window.innerWidth>767&&$("#reset-filters").fadeIn()):($("#section-companies #reset-filters").fadeOut(),$("#section-companies .filter-opener .filter-count").html(""))})),Z(this,"initFromURL",(function(){var t=new URLSearchParams(window.location.search);if($("#investments-filter").length){var e=t.get("investments");if(e){var n=e.split(",");$("#investments-filter input").prop("checked",!1),n.forEach((function(t){"all"===t?$("#investments-input-all").prop("checked",!0):"both"===t?$("#investments-input-both").prop("checked",!0):"lsvp"===t?$("#investments-input-lsvp").prop("checked",!0):"lsip"===t&&$("#investments-input-lsip").prop("checked",!0)}))}else $("#investments-input-all").prop("checked",!0)}})),Z(this,"resetFilters",(function(){$(".filter-wrap input:checked").prop("checked",!1),$("#investments-filter").length&&$("#investments-input-all").prop("checked",!0),$("#section-companies #search").prop("value",""),window.updateLocoAndScrollTrigger(),n.onScrollActions(),$("form.search").removeClass("filled"),n.previousSearch=""})),Z(this,"searchAutocomplete",(function(){n.searchContainerCompanies=$("#search")[0],void 0!==window.companiesAutocomplete&&$(n.searchContainerCompanies).autocomplete({source:window.companiesAutocomplete,appendTo:$(".filter-wrap .inner .search")[0],minLength:1,autoFocus:!1,open:function(t){$(t.target).next(".ui-autocomplete").addClass("is-active"),n.isSimpleBar||n.initSimplebar()},select:function(t,e){$(t.target).removeClass("active"),$(t.target).next(".ui-autocomplete").removeClass("is-active")},close:function(){n.destroySimpleBar()}})})),Z(this,"enableAutocomplete",(function(){$("#search").autocomplete("enable")})),this.options=Object.assign({},this.defaultOptions,e),this.isEnabled=!0,this.lastScrollPosition=0,this.simpleBar,this.isSimpleBar=!1,this.applied=!!$("#search").val(),this.AjaxLoadOnScroll=this.ajaxLoadOnScroll.bind(this),this.stickyFilters=this.stickyFilters.bind(this),this.mm=c.a.matchMedia(),this.onResize=this.onResize.bind(this),this.init(),this.previousSearch=$("#search").val(),setTimeout((function(){window.scroller.update()}),1e3)}var e,n,r;return e=t,r=[{key:"create",value:function(e){return t.instance||(t.instance=new t(e)),t.instance}},{key:"destroy",value:function(e){t.instance&&(t.instance.beforeDestroy(e),t.instance=null)}}],(n=[{key:"defaultOptions",get:function(){return{container:document}}},{key:"init",value:function(){var t=this;this.htmlEl=document.documentElement,this.bodyEl=document.body,this.headerFilter=document.querySelector("#section-companies .filter-heading"),this.wrapper=document.querySelector(".companies-wrapper"),this.header=document.querySelector(".header"),this.Filters(),this.onResize(),setTimeout((function(){t.searchAutocomplete()}),300),this.initTransition(),this.onScrollActions(),this.initStickyFilters(),this.initResize(),this.showCompany(),this.identifyFounder()}},{key:"initTransition",value:function(){$("#section-companies .row-grid .col").addClass("fade-in")}},{key:"updateURL",value:function(t,e,n,r,i){var o=new URLSearchParams(location.search);t.length?o.set("location",t.join(",")):o.delete("location"),e.length?o.set("stage",e.join(",")):o.delete("stage"),n.length?o.set("sector",n.join(",")):o.delete("sector"),r.length?o.set("investments",r.join(",")):o.delete("investments"),i.length?o.set("search",i):o.delete("search");var s="".concat(location.pathname,"?").concat(o.toString());history.pushState({},"",s),window.barba.history.add(s,"companies")}},{key:"Filters",value:function(){var t=this;$(".filter-wrap :checkbox").on("change",(function(e){var n=$(e.target).val(),r="investments"===$(e.target).closest("ul").data("key");"all"===n?($(e.target).closest("ul").find("li input").prop("checked",!1),$(e.target).prop("checked",!0)):r?"all"===n?$(e.target).closest("ul").find("li input:not(.filter-all)").prop("checked",!1):$(e.target).closest("ul").find(".filter-all").prop("checked",!1):($(e.target).parents("ul").find(".filter-all").prop("checked",!1),$(e.target).closest("ul").find("li input:not(.filter-all)").is(":checked")||$(e.target).closest("ul").find(".filter-all").prop("checked",!0)),t.filterCount(),t.getResults(t.getFilters())})),$(document).ready((function(){t.initFromURL(),$("body").hasClass("page-companies-india")&&(t.filterCount(),t.getResults(t.getFilters(),!1))})),$("#reset-filters").on("click",(function(){t.resetFilters(),t.filterCount(),t.getResults(t.getFilters(),!0)})),$("#reset-filters-mobile").on("click",(function(){t.resetFilters(),t.filterCount(),t.getResults(t.getFilters(),!0)})),$(document).on("click",".ui-menu-item-wrapper",(function(e){t.applied=!0,t.previousSearch=$(e.target).text(),t.getResults(t.getFilters(),!0),t.filterCount()})),$(document).on("submit","form.search",(function(e){e.preventDefault(),t.applied=!0,t.previousSearch=$(e.target).find("input").val(),t.getResults(t.getFilters(),!0),t.filterCount()})),$(document).on("click",".load-more-companies",(function(e){var n=$(e.target).data("slug"),r=$(e.target).data("page"),i=t.getScrollPosition();$(e.target).html('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: none; display: block; shape-rendering: auto;" width="16px" height="16px" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid">\n                <circle cx="12" cy="12" fill="none" stroke="#ffffff" stroke-width="2" r="8" stroke-dasharray="18.84955592153876 8.283185307179586">\n                <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 12 12;360 12 12" keyTimes="0;1"/>\n                </circle>\n            </svg>'),setTimeout((function(){t.loadMore(t.getFilters(),n,parseInt(r)+1,i,t.previousSearch)}),200)})),$(".filter-wrap #search").on("keyup",(function(e){!$(".filter-wrap #search").val()&&t.applied&&(t.previousSearch="",t.getResults(t.getFilters(),!0),t.filterCount(),t.applied=!1),$("#search").val()?$("form.search").addClass("filled"):$("form.search").removeClass("filled")})),$(".page-companies, .page-companies-india").find(".reset-field").on("click",(function(e){new URLSearchParams(location.search),$("#search").val(""),$("form.search").removeClass("filled"),t.applied&&(t.previousSearch="",t.getResults(t.getFilters(),!0),t.applied=!1)}))}},{key:"getResults",value:function(t,e){var n=this,r=t.locations,i=t.stages,o=t.sectors,s=t.investments,a=t.search,l=t.nonce,c=t.spotlight;$("#smooth-wrapper").after('<div class="loading"></div>');var u=o.length>0&&!o.includes("all")?o.join(", "):"";$("#section-companies .section-spotlight-companies .current_sector_filters").text(u);var h={nonce:l,locations:r,stages:i,sectors:o,investments:s,search:a,spotlight:c},d=$(".filter-heading").data("prefilled-location");d&&d.length>0&&0===h.locations.length&&(h.locations=[d]),this.ajaxLoadCompanies(h,(function(t){$("#section-companies #all-companies-list ul").length>0&&("string"==typeof t.html_all&&t.html_all.length>5?($("#section-companies #all-companies-list").attr("data-paged",1),$("#section-companies #all-companies-list").attr("data-is-loading",""),$("#section-companies #all-companies-list ul").html(t.html_all)):$("#section-companies #all-companies-list ul").html('<div class="no-result">No results</div>')),$("#section-companies #spotlight-companies-list ul").length>0&&("string"==typeof t.html_spotlight&&t.html_spotlight.length>5?($("#section-companies #spotlight-companies-list ul").html(t.html_spotlight),$("#section-companies #spotlight-companies-list").removeClass("hide")):($("#section-companies #spotlight-companies-list ul").html('<div class="no-result">No results</div>'),$("#section-companies #spotlight-companies-list").addClass("hide")))}),(function(){p.q(),p.i(),$(".loading").remove(),e&&(n.mm.add("(max-width: 991px)",(function(){Object(p.y)(),setTimeout((function(){window.scroller?window.scroller.scrollTo($("#section-companies .section-portfolio-heading")[0],{duration:100,offset:-n.headerHeight}):window.scrollTo(0,$("#section-companies .section-portfolio-heading").offset().top-n.headerHeight)}),500)})),n.mm.add("(min-width: 992px)",(function(){setTimeout((function(){window.scroller.scrollTo($("#section-companies .section-portfolio-heading")[0],{duration:100,offset:-n.headerHeight})}),0)}))),window.updateLocoAndScrollTrigger(),n.animationListCompany()})),this.updateURL(r,i,o,s,a)}},{key:"initSimplebar",value:function(){this.isSimpleBar=!0,this.SimpleBar=new _($(".ui-autocomplete")[0])}},{key:"destroySimpleBar",value:function(){this.isSimpleBar&&(this.isSimpleBar=!1,this.SimpleBar.unMount())}},{key:"getScrollPosition",value:function(){return window.pageYOffset||document.documentElement.scrollTop}},{key:"destroyAutoComplete",value:function(){$("#search").autocomplete("destroy"),void 0!==window.companiesAutocomplete&&(window.companiesAutocomplete=void 0)}},{key:"beforeDestroy",value:function(t){this.destroyAutoComplete(),this.destroySimpleBar(),this.AjaxLoadOnScroll=null,this.headerFilter=null,this.wrapper=null,this.boundWrapper=null,this.headerHeight=null,this.header=null,this.lastScrollPosition=null,this.initStickyFilters=null,this.isSimpleBar=null,this.SimpleBar=null,window.removeEventListener("resize",this.onResize)}},{key:"ajaxLoadCompanies",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;this.getFilters();var r=Y(Y({},t),{action:"founders_filters"});$.ajax({type:"post",dataType:"json",url:wp_ajax.ajaxurl,data:r,success:function(t){e(t)},error:function(t){console.log(JSON.stringify(t))},complete:function(){n()}})}},{key:"initResize",value:function(){window.addEventListener("resize",this.onResize)}},{key:"onResize",value:function(){this.headerHeight=this.header.offsetHeight,this.isSmoothScroll=this.htmlEl.classList.contains("has-scroll-smooth"),this.isMobile=window.matchMedia("(max-width: 767px)").matches}},{key:"onScrollActions",value:function(){var t=this;window.scroller.on("scroll",this.AjaxLoadOnScroll),window.scroller.on("call",(function(e,n){t.isSmoothScroll&&"companiesFilter"===e&&document.body.classList["enter"===n?"add":"remove"]("is-filter-sticky")}))}},{key:"ajaxLoadOnScroll",value:function(){var t=this,e=this.options.container.querySelector("#all-companies-list");if(null!==e){var n=e.querySelector("ul.companies-list"),r=e.dataset.isLoading,i=parseInt(e.dataset.paged)+1,o=e.offsetTop+(e.offsetHeight-3*window.outerHeight);if(window.scroller.scroll.instance.scroll.y>o&&!r){var s=this.getFilters();e.dataset.isLoading="loading",e.dataset.paged=i,this.ajaxLoadCompanies(Y(Y({},s),{paged:i}),(function(r){"string"==typeof r.html_all&&r.html_all.length>5&&($(n).append(r.html_all),window.setTimeout((function(){e.dataset.isLoading="",window.updateLocoAndScrollTrigger(),t.animationListCompany()}),200))}),(function(){}))}}}},{key:"animationListCompany",value:function(){this.options.container.querySelectorAll(".ready-appear-list").forEach((function(t){var e=c.a.to(t,{scrollTrigger:{trigger:t,start:"top 110%",end:"bottom 90%",scroller:"[data-scroll-container]",markers:!1},y:0,autoAlpha:1,duration:.75,ease:"circ.out",delay:.1,clearProps:"autoAlpha",onStart:function(e){t.classList.add("list-animated"),t.classList.remove("ready-appear-list")},onComplete:function(t){e.scrollTrigger.kill(),e.kill(),e=null}})}))}},{key:"stickyFilters",value:function(){if(null!==this.headerFilter){this.boundWrapper=this.wrapper.getBoundingClientRect().top+window.scroller.scroll.instance.scroll.y-this.headerHeight;var t=window.scroller.scroll.instance.scroll.y;this.isSmoothScroll||this.stickyFilterTouchPin(t),this.stickyFiltersHandler(t),this.lastScrollPosition=t}}},{key:"stickyFilterTouchPin",value:function(t){t>this.boundWrapper?(this.headerFilter.classList.add("sticky"),this.headerFilter.style.top=this.headerHeight-1+"px",this.wrapper.style.paddingTop=this.headerFilter.offsetHeight+"px",this.bodyEl.classList.add("is-filter-sticky")):(this.headerFilter.classList.remove("sticky"),this.headerFilter.style.top="",this.wrapper.style.paddingTop="",this.bodyEl.classList.remove("is-filter-sticky"),this.headerFilter.classList.remove("active"),this.headerFilter.classList.remove("removed"))}},{key:"stickyFiltersHandler",value:function(t){if(t>this.boundWrapper+100){var e=t-this.lastScrollPosition;e>1?(this.headerFilter.classList.remove("active"),this.headerFilter.classList.add("removed"),this.isMobile||this.closeTheDropdownFilter()):e<-1&&(this.headerFilter.classList.add("active"),this.headerFilter.classList.remove("removed"),this.isMobile||this.closeTheDropdownFilter())}else this.headerFilter.classList.remove("active"),this.headerFilter.classList.remove("removed")}},{key:"initStickyFilters",value:function(){window.scroller.on("scroll",this.stickyFilters)}},{key:"closeTheDropdownFilter",value:function(){this.options.container.querySelectorAll("[data-more]").forEach((function(t){t.classList.contains("active")&&(t.classList.remove("active"),$(t).next().stop().slideToggle(200))}))}},{key:"showCompany",value:function(){if(document.querySelector(".page-companies-india")){var t=document.querySelectorAll(".page-companies-india [data-appear-list]");Array.from(t).slice(0,5).forEach((function(t){t.removeAttribute("data-appear-list")}))}}},{key:"identifyFounder",value:function(){document.querySelectorAll("[data-company-id]").forEach((function(t){t.addEventListener("click",(function(e){t.hasAttribute("data-spotlight-founders-list")?sessionStorage.setItem("founder","true"):sessionStorage.setItem("founder","false")}))}))}}])&&K(e.prototype,n),r&&K(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();Z(Q,"instance",null);var tt=Q,et=function(t,e,n){return(1-n)*t+n*e},nt=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting?t.target.swiper.autoplay.start():t.target.swiper.autoplay.stop()}))}),{root:null,threshold:.1}),rt=n("TaHA");n("u+OR");function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t){return function(t){if(Array.isArray(t))return st(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return st(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lt(r.key),r)}}function lt(t){var e=function(t,e){if("object"!=it(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==it(e)?e:String(e)}rt.j.use([rt.f,rt.g,rt.a,rt.h,rt.e,rt.i,rt.b,rt.d,rt.c]);var ct=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.mySwiper=null,this.init(),this.mobileSwiper()}var e,n,r;return e=t,r=[{key:"create",value:function(e){null===t.instance&&e&&(t.instance=new t(e))}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}}],(n=[{key:"init",value:function(){var t=this;this.el.querySelectorAll(".swiper-twitter").length&&(this.twiterSlides=new rt.j(".swiper-twitter",{slidesPerView:1.1,draggable:!0,mousewheel:!0,spaceBetween:24,loop:!0,pagination:{el:".section-updates .swiper-pagination",type:"custom",renderCustom:function(t,e,n){return("0"+e).slice(-2)+"/"+("0"+n).slice(-2)}},navigation:{nextEl:".section-updates .swiper-button-next",prevEl:".section-updates .swiper-button-prev"},breakpoints:{768:{slidesPerView:2,spaceBetween:33},1280:{slidesPerView:3,spaceBetween:56}}})),this.el.querySelectorAll(".swiper-news").length&&(this.newsSlides=new rt.j(".swiper-news",{slidesPerView:1.1,spaceBetween:33,loop:!0,pagination:{el:".section-newsfeed .swiper-pagination",type:"custom",renderCustom:function(t,e,n){return("0"+e).slice(-2)+"/"+("0"+n).slice(-2)}},navigation:{nextEl:".section-newsfeed .swiper-button-next",prevEl:".section-newsfeed .swiper-button-prev"},breakpoints:{767:{slidesPerView:2.1,spaceBetween:20},1024:{slidesPerView:3.1,spaceBetween:20}}}),!0===window.matchMedia("(min-width:768px)").matches&&this.newsSlides.slides.length>4&&this.newsSlides.el.classList.add("slider-init")),this.el.querySelectorAll(".swiper-blog").length&&(this.blogSlides=new rt.j(".swiper-blog",{slidesPerView:2,spaceBetween:16,centeredSlides:!1,loop:!0,breakpoints:{768:{slidesPerView:1,spaceBetween:16},1024:{slidesPerView:2},1280:{slidesPerView:2}}})),this.el.querySelectorAll(".quote-slider").length&&(this.quoteSlides=new rt.j(".quote-slider",{slidesPerView:1,loop:!0,autoplay:!0,pagination:{el:".swiper-pagination",type:"bullets",clickable:"true"}}));var e=this.el.querySelectorAll(".cs-builder-slider");e.length&&(this.quoteSlides=new rt.j(".cs-builder-slider",{slidesPerView:1,autoplay:{delay:7e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new IntersectionObserver((function(e,n){e.forEach((function(e){e.isIntersecting?t.quoteSlides.autoplay.start():t.quoteSlides.autoplay.stop()}))}),{root:null,threshold:.5}).observe(e[0]),this.el.querySelectorAll(".cs-opp-boxes .box").forEach((function(e,n){e.addEventListener("click",(function(e){e.preventDefault(),setTimeout((function(){t.quoteSlides.slideTo(n)}),175)}))})));var n=this.el.querySelectorAll(".pagination-slider");if(n.length)if(n[0].classList.contains("single-video"))var r=function(t){var e=1e3*(parseInt(t.slides[t.activeIndex].dataset.displayDuration)||1)-i;t.activeIndex+1===t.slides.length?setTimeout((function(){var e=document.querySelector(".idp-slider.single-video iframe");e.setAttribute("src",e.getAttribute("src")),t.slideTo(0)}),e):setTimeout((function(){t.slideNext()}),e)},i=300,o=new rt.j(".pagination-slider",{slidesPerView:1,centeredSlides:!0,roundLengths:!0,speed:i,loop:!1,allowTouchMove:!1,breakpoints:{768:{direction:"vertical",slidesPerView:5}},on:{afterInit:function(){r(this)},slideChangeTransitionEnd:function(){r(this)}}});else{o=new rt.j(".pagination-slider",{slidesPerView:1,centeredSlides:!0,roundLengths:!0,autoplay:{delay:5e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",type:"fraction",formatFractionCurrent:function(t){return("0"+t).slice(-2)},formatFractionTotal:function(t){return("0"+t).slice(-2)},renderFraction:function(t,e){return'<span class="'+t+'"></span>/<span class="'+e+'"></span>'}},breakpoints:{768:{direction:"vertical",slidesPerView:5}}}),this.imageSlides=new rt.j(".image-slider",{slidesPerView:1,loop:!0,allowTouchMove:!1,on:{transitionEnd:function(){var t=$(".swiper-slide-active"),e=t.data("caption"),n=t.data("url");$(".img-caption").text(e),n?$(".img-caption").attr("href",n):$(".img-caption").removeAttr("href")}}}),o.on("slideChangeTransitionEnd",(function(){var e=$(".pagination-slider .swiper-slide-active").data("swiper-slide-index");t.imageSlides.slideTo(e)}));var s=new rt.j(".pagination-slider-modal",{slidesPerView:1,centeredSlides:!0,roundLengths:!0,navigation:{nextEl:".swiper-button-next-modal",prevEl:".swiper-button-prev-modal"},pagination:{el:".swiper-pagination-modal",type:"fraction",formatFractionCurrent:function(t){return("0"+t).slice(-2)},formatFractionTotal:function(t){return("0"+t).slice(-2)},renderFraction:function(t,e){return'<span class="'+t+'"></span>/<span class="'+e+'"></span>'}},breakpoints:{768:{slidesPerView:5}}}),a=new rt.j(".image-slider-modal",{slidesPerView:1,centeredSlides:!0,allowTouchMove:!1,on:{transitionEnd:function(){var t=$(".image-slider-modal .swiper-slide-active"),e=t.data("caption"),n=t.data("url");console.log(n),$(".img-caption-modal").text(e),n?$(".img-caption-modal").attr("href",n):$(".img-caption-modal").removeAttr("href")}}}),l=$(".progress-bar");$("[data-modal]").on("click",(function(){var t=$(this).closest(".swiper-slide-active").data("swiper-slide-index");a.slideTo(t),s.slideTo(t);var e=a.slides[a.activeIndex].querySelector("iframe");if(e){var n=e.getAttribute("data-href");$(e).attr("src",n)}o.autoplay.stop(),$(l).removeClass("progress-bar")})),$(".modal .close").click((function(t){t.preventDefault(),o.autoplay.start(),$(l).addClass("progress-bar")})),$("html").on("click touchstart pointerdown MSPointerDown",(function(t){o.autoplay.start(),$(l).addClass("progress-bar")})),s.on("slideChange",(function(){var t=$(".swiper-button-next-modal.swiper-button-disabled"),e=s.slides.length;s.activeIndex===e-1&&t.on("click",(function(){t.hasClass("swiper-button-disabled")?s.slideTo(0):t.off("click")})),a.slideTo(s.activeIndex)})),a.on("slideChange",(function(){!function(){var t=document.querySelectorAll("video"),e=document.querySelectorAll("iframe");t.forEach((function(t){t.paused||t.pause()})),e.forEach((function(t){t.removeAttribute("src")}))}();var t=a.slides[a.activeIndex],e=t.querySelector("video"),n=t.querySelector("iframe");if(n){var r=n.getAttribute("data-href");$(n).attr("src",r)}e&&e.play()}))}this.el.querySelectorAll(".partner-slider").length&&(this.partnerSlides=new rt.j(".partner-slider",{slidesPerView:1,spaceBetween:26,loop:!0,watchSlidesProgress:!0,autoplay:{delay:4e3,disableOnInteraction:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination-fraction",type:"custom",renderCustom:function(t,e,n){return'<span class="current">'+(e>=10?"":"0")+e+'</span>/<span class="total">'+(n>=10?"":"0")+n+"</span>"}},breakpoints:{768:{slidesPerView:2},1024:{slidesPerView:3},1280:{slidesPerView:4}}})),this.el.querySelectorAll(".innovators-slider").length&&(this.InnovatorsSlides=new rt.j(".innovators-slider",{slidesPerView:1,loop:!0,autoplay:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination-fraction",type:"custom",renderCustom:function(t,e,n){return'<span class="current">'+(e>=10?"":"0")+e+'</span>/<span class="total">'+(n>=10?"":"0")+n+"</span>"}}}));var c=this.el.querySelectorAll(".nl-post-slider");if(c.length){var u,h=function(t){var e,n=null===(e=t.slides[t.activeIndex].querySelector(".eyebrow-label"))||void 0===e?void 0:e.textContent.trim(),r=t.el.previousElementSibling;null!=r&&r.classList.contains("post-slider-navigation")&&n&&ot(r.children).forEach((function(t){t.classList.remove("item-active"),t.textContent.trim()===n&&t.classList.add("item-active")}))};this.partnerSlides=new rt.j(".nl-post-slider",{slidesPerView:1,roundLengths:!0,spaceBetween:48,loop:!0,watchSlidesProgress:!0,autoplay:{delay:6e3,disableOnInteraction:!0},breakpoints:{768:{slidesPerView:1.5,spaceBetween:33},920:{slidesPerView:2,spaceBetween:33},1280:{centeredSlides:!0,slidesPerView:2.2,spaceBetween:56}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination-fraction",type:"custom",renderCustom:function(t,e,n){var r,i=t.el.classList.contains("render-twice"),o=t.el.classList.contains("render-three"),s=n,a=e,l=null===(r=t.slides[e-1])||void 0===r||null===(r=r.querySelector(".eyebrow-label"))||void 0===r?void 0:r.textContent.trim();return l&&function(t,e){var n=e.el.previousElementSibling;if(null!=n&&n.classList.contains("post-slider-navigation")){var r=ot(n.children);r.forEach((function(t){return t.classList.remove("item-active")})),r.forEach((function(e){e.textContent.trim()===t&&e.classList.add("item-active")}))}}(l,t),i&&(a=e%(s=n/2)||s),o&&(a=e%(s=n/3)||s),'<span class="current">'+(a>=10?"":"0")+a+'</span>/<span class="total">'+(s>=10?"":"0")+s+"</span>"}},on:{slideChange:function(t){h(t)},init:function(t){h(t)}}}),null===(u=this.partnerSlides)||void 0===u||u.forEach((function(t){t.autoplay.stop();var e=t.el.previousElementSibling;if(null!=e&&e.classList.contains("post-slider-navigation")){var n=ot(e.children);document.addEventListener("click",(function(e){var r=e.target.closest(".post-slider-navigation > *");r&&n.includes(r)&&(n.forEach((function(t){return t.classList.remove("item-active")})),r.classList.add("item-active"),t.slideToLoop(r.dataset.index))}))}}));var p=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting?t.target.swiper.autoplay.start():t.target.swiper.autoplay.stop()}))}),{root:null,threshold:.1});c.forEach((function(t){return p.observe(t)}))}this.el.querySelectorAll(".img-card-slider").length&&(this.partnerSlides=new rt.j(".img-card-slider",{slidesPerView:"auto",centeredSlides:!0,spaceBetween:43,loop:!1,watchSlidesProgress:!0,autoplay:{delay:4e3,disableOnInteraction:!0},breakpoints:{480:{centeredSlides:!1}}})),this.el.querySelectorAll(".lr-reports-slider").length&&(this.partnerSlides=new rt.j(".lr-reports-slider",{slidesPerView:1,spaceBetween:20,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{899:{slidesPerView:1},900:{slidesPerView:2},1280:{slidesPerView:2.4}}})),this.el.querySelectorAll(".visual-breakdown-slider").length&&(this.partnerSlides=new rt.j(".visual-breakdown-slider",{slidesPerView:1,spaceBetween:50,breakpoints:{768:{slidesPerView:2,spaceBetween:20},1280:{slidesPerView:2,spaceBetween:50}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}));var d,f=this.el.querySelectorAll(".product-milestone-slider");f.length&&(this.productMilestoneSlider=new rt.j(".product-milestone-slider",{slidesPerView:1.2,centeredSlides:!0,watchSlidesProgress:!0,mousewheel:{enabled:!0,sensitivity:1,forceToAxis:!0},autoplay:{delay:5e3},breakpoints:{768:{slidesPerView:1.5},1024:{slidesPerView:2}},scrollbar:{el:".swiper-scrollbar",hide:!1,draggable:!0}}),f.forEach((function(t){return nt.observe(t)}))),this.el.querySelectorAll(".ai-downloads-slider").length&&(this.partnerSlides=new rt.j(".ai-downloads-slider",{slidesPerView:1,spaceBetween:50,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{768:{slidesPerView:2},1280:{slidesPerView:3}}})),$(".partner-details-slider").length&&(d=new rt.j(".partner-details-slider",{slidesPerView:1,centeredSlides:!0,spaceBetween:40,loop:!0,watchSlidesProgress:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination-fraction",type:"custom",renderCustom:function(t,e,n){return'<span class="current">'+(e>=10?"":"0")+e+'</span>/<span class="total">'+(n>=10?"":"0")+n+"</span>"}}}),$("a[data-slide]").on("click",(function(t){t.preventDefault();var e=parseInt($(this).attr("data-slide"));d&&!isNaN(e)&&setTimeout((function(){d.slideToLoop(e,10,(function(){setTimeout((function(){var t=d.getTranslate();d.setTranslate(t,.1,(function(){d.setTranslate(t)}))}),10)}))}),20)})));var m=this.el.querySelectorAll(".trust-swiper");if(m.length){var g=function(t){var e=t.slides.length,n=t.realIndex+1,r=n<10?"0".concat(n):n,i=e<10?"0".concat(e):e;document.querySelector(".swiper-counter").textContent="".concat(r," / ").concat(i)};this.trust=new rt.j(".trust-swiper",{slidesPerView:1,spaceBetween:50,loop:!0,autoplay:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination-progressbar",type:"progressbar"},breakpoints:{768:{slidesPerView:1.05,spaceBetween:30},1024:{slidesPerView:1.2,spaceBetween:40},1280:{spaceBetween:64,slidesPerView:1.26}},on:{init:function(){g(this)},slideChange:function(){g(this)}}}),m.forEach((function(t){return nt.observe(t)}))}var v=this.el.querySelectorAll(".launch-community-swiper");if(v.length){var y=function(t){var e=t.slides.length,n=t.realIndex+1,r=n<10?"0".concat(n):n,i=e<10?"0".concat(e):e;document.querySelector(".slider-counter").textContent="".concat(r," / ").concat(i)};this.launchCommunity=new rt.j(".launch-community-swiper",{slidesPerView:2.725,spaceBetween:64,loop:!0,autoplay:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination-progressbar",type:"progressbar"},breakpoints:{768:{slidesPerView:2.1,spaceBetween:30},1024:{slidesPerView:2.725,spaceBetween:40},1280:{spaceBetween:64}},on:{init:function(){y(this)},slideChange:function(){y(this)}}}),v.forEach((function(t){return nt.observe(t)}))}this.el.querySelectorAll(".swiper-stories#specialists-swiper").length&&this.el.querySelectorAll(".swiper-stories#specialists-swiper").forEach((function(t){var e,n=window.matchMedia("(max-width:767px)"),r=function(){return n.matches?(void 0!==e&&e.destroy(!0,!0),$(t).children().removeClass("swiper-wrapper").addClass("cio-slider"),void $(t).find(".swiper-slide").removeClass("swiper-slide")):($(t).children().addClass("swiper-wrapper").removeClass("cio-slider").children().addClass("swiper-slide"),void(e=new rt.j(t,{slidesPerView:1.001,loop:!0,pagination:{el:".swiper-pagination",type:"custom",renderCustom:function(t,e,n){return("0"+e).slice(-2)+"/"+("0"+n).slice(-2)}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})))};n.addListener(r),r()})),$(".swiper-slide:not(:has(.lr-milestone-box))").find("h2, p").addClass("swiper-no-swiping");var b=this.el.querySelectorAll(".swiper-gallery-section"),_=this.el.querySelectorAll(".swiper-gallery-section .swiper-slide").length;b.length&&(this.gallerySlides=new rt.j(".swiper-gallery",{slidesPerView:1.12,spaceBetween:40,loop:!1,pagination:{el:".swiper-gallery-section .swiper-pagination",type:"custom",renderCustom:function(t,e,n){var r=_,i=Math.ceil(r/1);return("0"+(e<=i?e:e%i||i)).slice(-2)+"/"+"0".concat(i).slice(-2)}},navigation:{nextEl:".swiper-gallery-section .swiper-button-next",prevEl:".swiper-gallery-section .swiper-button-prev"},breakpoints:{1024:{slidesPerView:1,spaceBetween:70},1180:{spaceBetween:90},1280:{spaceBetween:135}}})),this.el.querySelectorAll(".events-overview-slider").length&&(this.quoteSlides=new rt.j(".events-overview-slider",{slidesPerView:"auto",spaceBetween:10,loop:!0,autoplay:!1,speed:1e3,pagination:{el:".swiper-pagination",type:"custom",renderCustom:function(t,e,n){return("0"+e).slice(-2)+"/"+("0"+n).slice(-2)}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{768:{slidesPerView:1},769:{slidesPerView:"auto"}}})),this.mobileSwiper("[data-mobile-swiper]",{loop:!1,slidesPerView:1,spaceBetween:24,centeredSlides:!0,pagination:{el:".swiper-pagination",clickable:!0}}),this.mobileSwiper(".judge-list-slider",{loop:!1,slidesPerView:1,grid:{rows:3,fill:"row"},navigation:{nextEl:".judge-list-slider .swiper-button-next:not(.a)",prevEl:".judge-list-slider .swiper-button-prev:not(.a)"},on:{init:function(t){document.addEventListener("click",(function(e){var n=e.target.closest(".judge-list-slider .swiper-control > .a");n&&(n.classList.contains("swiper-button-prev")&&t.slideTo(t.snapGrid.length-1),n.classList.contains("swiper-button-next")&&t.slideTo(0))}))},progress:function(t,e){e<-.01&&t.slideTo(t.snapGrid.length-1),e>1.01&&setTimeout((function(){t.slideTo(0)}),100)}}}),new rt.j(".episodes-slider",{slidesPerView:3,spaceBetween:20,slideToClickedSlide:!0,initialSlide:0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerGroup:1,centeredSlides:!0,on:{slideChange:function(){w(this.activeIndex)}}});var x=new rt.j(".gt-episodes-slider",{slidesPerView:1.5,spaceBetween:20,slideToClickedSlide:!1,initialSlide:0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerGroup:1,centeredSlides:!0,breakpoints:{768:{slidesPerView:2.5},1024:{slidesPerView:3.5}},on:{click:function(t,e){if(e.target.closest(".swiper-slide-disabled"))return e.stopPropagation(),!1},slideChange:function(){this.slides[this.activeIndex].classList.contains("swiper-slide-disabled")&&("next"==(this.activeIndex>this.previousIndex?"next":"prev")?(this.slideNext(),w(this.activeIndex)):(this.slidePrev(),w(this.activeIndex)))}}});function w(t){if(videosData[t]){var e=videosData[t],n=$(".featured-content"),r=$(".game-theory-featured").height();$(".game-theory-featured").css("height",r+"px"),n.fadeOut(300,(function(){var r=$(".video-embed");if(r.length&&(r.empty(),e.video_file)){var i='\n                      <video class="game-theory-video" width="100%" height="100%" loop muted autoplay>\n                          <source src="'.concat(e.video_file.url,'" type="').concat(e.video_file.mime_type,'">\n                      </video>\n                  ');r.html(i)}var o=$(".featured-episode");o.length&&e.episode&&o.text("Episode "+e.episode);var s=$(".featured-title");s.length&&(s.text(e.title),e.move_down&&s.css("margin-top",e.move_down+"px"));var a=$(".featured-guest");a.length&&a.text(e.guest);var l=$(".featured-content .thumbnail-buttons a");l.length&&e.modal_id&&(l.attr("video-id",e.modal_id),l.attr("data-index",t)),n.fadeIn(300,(function(){$(".game-theory-featured").css("height","auto")}))}))}}$(".gt-episodes-slider .swiper-slide").on("click",(function(t){if(!$(t.target).closest(".play-btn[data-modal]").length){var e=$(this).index();x.slideTo(e)}})),$(".gt-episodes-slider .play-btn[data-modal]").on("click",(function(t){return t.preventDefault(),t.stopPropagation(),$(this).attr("video-id"),$(this).attr("data-index"),!1})),new rt.j(".modal-thumbnails-slider",{slidesPerView:1.5,spaceBetween:10,slideToClickedSlide:!0,initialSlide:0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerGroup:1,centeredSlides:!0,breakpoints:{768:{slidesPerView:3},1024:{slidesPerView:4},1300:{slidesPerView:5}}})}},{key:"mobileSwiper",value:function(t,e){var n=this,r=window.matchMedia("(min-width:768px)");document.querySelectorAll(t).length&&(this.breakpointChecker=function(){if(!0!==r.matches)return!1===r.matches?($(n.el).find(t).addClass("swiper-mobile").find(".row").addClass("swiper-wrapper").children().addClass("swiper-slide"),n.enableSwiper()):void 0;void 0!==n.mySwiper&&null!==n.mySwiper&&(n.mySwiper.length>1?(n.mySwiper.forEach((function(t){t.destroy(!0,!0)})),n.checkDestroySwiper(n.mySwiper)):n.checkDestroySwiper([n.mySwiper]),$(n.el).find(t).each((function(){$(this).removeClass("swiper-mobile").find(".row").removeClass("swiper-wrapper").children().removeClass("swiper-slide")})))},this.enableSwiper=function(){n.mySwiper=new rt.j(t,e)},this.breakpointChecker(),r.addEventListener("change",(function(){n.breakpointChecker()})))}},{key:"destroyMobile",value:function(){this.checkDestroySwiper([this.mySwiper])}},{key:"checkDestroySwiper",value:function(t){t.forEach((function(t){null!=t&&(t.destroy(!0,!0),t=null)}))}},{key:"destroySwipers",value:function(){this.checkDestroySwiper([this.twiterSlides,this.newsSlides,this.blogSlides,this.spotlightSlides,this.gallerySlides])}},{key:"beforeDestroy",value:function(){this.destroySwipers(),this.destroyMobile()}}])&&at(e.prototype,n),r&&at(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=lt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ct,"instance",null);var ut=ct;function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dt(r.key),r)}}function dt(t){var e=function(t,e){if("object"!=ht(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ht(e)?e:String(e)}rt.j.use([rt.f,rt.g,rt.a,rt.h,rt.e]);var ft=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign({},this.defaultOptions,e),this.el=this.options.selector,this.speed=parseFloat(this.options.selector.getAttribute("data-speed-slide")),this.totalSlides=this.options.selector.querySelectorAll(".swiper-slide").length,this.init()}var e,n,r;return e=t,r=[{key:"create",value:function(e){var n=new t(e);return t.instances.push(n),n}},{key:"destroy",value:function(){t.instances.forEach((function(t){t.beforeDestroy()})),t.instances=[]}}],(n=[{key:"defaultOptions",get:function(){return{selector:null,next:null,prev:null,pagination:null,container:document,speed:700,slidesPerView:1.001}}},{key:"init",value:function(){var t=this;this.el&&(this.spotlightSotriesSwiper=new rt.j(this.el,{slidesPerView:this.options.slidesPerView,loop:!0,speed:this.options.speed,setWrapperSize:!0,roundLengths:!0,grabCursor:!0,watchSlidesProgress:!0,mousewheel:!1,observeParents:!0,observer:!0,observeSlideChildren:!0,resizeObserver:!0,loopedSlides:3,effect:"slide",preventInteractionOnTransition:!0,allowTouchMove:!0,pagination:{el:this.options.pagination,type:"custom",renderCustom:function(e,n,r){var i=t.totalSlides,o=t.options.slidesPerView,s=Math.ceil(i/o);return("0"+(n<=s?n:n%s||s)).slice(-2)+"/"+"0".concat(s).slice(-2)}},navigation:{nextEl:this.options.next,prevEl:this.options.prev},on:{beforeInit:function(t){if(0!=t.el.querySelectorAll(".swiper-slide").length)for(var e=0;e<1;e++)t.el.querySelectorAll(".swiper-slide").forEach((function(e){var n=e.cloneNode(!0);t.el.querySelectorAll(".swiper-wrapper")[0].appendChild(n)}))},init:function(){},slideChange:function(){},progress:function(t,e){for(var n=function(){var e=t.slides[r].firstElementChild,n=t.slides[r].progress,i=Math.abs(n),o=0,s=1;n>-.1&&n<.1?(o=0,s=1):n<=-1?(o=10,s=1):n>.99?(o=10,s=0):n<-.1&&n>-1?(o=et(0,10,i),s=1):n>.1&&n<1?o=et(10,0,i):n>.8&&n<1&&(s=et(1,0,i)),requestAnimationFrame((function(){o>0?c.a.set(e,{filter:"blur(".concat(o,"px)")}):c.a.set(e,{filter:"none"}),c.a.set(e,{alpha:s})}))},r=0;r<t.slides.length;r+=1)n()},setTransition:function(t,e){for(var n=0;n<t.slides.length;n+=1)t.slides[n].firstElementChild.style.transitionDuration="".concat(e,"ms")}}}))}},{key:"breakpoints",get:function(){var t={"(min-width: 1024px) and (max-width: 1279.98px)":"desktop","(min-width: 768px) and (max-width: 1023.98px)":"tablet","(max-width: 767.98px)":"phone","(min-width: 1280px) and (max-width: 1920px)":"widescreen","(min-width: 1921px)":"uhd"};for(var e in t)if(window.matchMedia(e).matches)return t[e];return null}},{key:"beforeDestroy",value:function(){this.spotlightSotriesSwiper&&this.spotlightSotriesSwiper.destroy(),this.el=null}}])&&pt(e.prototype,n),r&&pt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=dt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ft,"instances",[]);var mt=n("lCAa");function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yt(r.key),r)}}function yt(t){var e=function(t,e){if("object"!=gt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gt(e)?e:String(e)}c.b.registerPlugin(mt.b);var bt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.init()}var e,n,r;return e=t,r=[{key:"create",value:function(e){null===t.instance&&e&&(t.instance=new t(e))}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}}],(n=[{key:"init",value:function(){this.bannerSlideIn=this.el.querySelectorAll("[data-home-slideIn]"),this.initFirstTransitionAnimation()}},{key:"initFirstTransitionAnimation",value:function(){var t=this,e=c.b.utils.toArray(this.bannerSlideIn),n=document.querySelectorAll(".banner-text span"),r=document.querySelectorAll(".banner-text-bottom span");window.scroller.stop(),c.b.set(e,{alpha:0,y:window.screen.height}),this.animationHomeBanner=c.b.timeline({delay:.5,onComplete:function(){t.bannerSlideIn.forEach((function(t){t.parentNode.style.willChange="auto"}))}}).from(n,{duration:1.2,y:75,autoAlpha:0,stagger:.15,ease:"circ.out",clearProps:!0}).to(e,{duration:.9,alpha:1,y:0,stagger:.2,rotationZ:.01,force3D:!0,ease:"circ.out",clearProps:!0,lazy:!1,overwrite:"auto",immediateRender:!1},"-=1").from(r,{duration:1,y:200,alpha:0,stagger:.15,ease:"circ.out",clearProps:!0},"-=1"),setTimeout((function(){window.scroller.start()}),1e3*this.animationHomeBanner.totalDuration())}},{key:"beforeDestroy",value:function(){this.el=null,this.animationHomeBanner.kill()}}])&&vt(e.prototype,n),r&&vt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=yt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(bt,"instance",null);var _t=bt;function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t){return function(t){if(Array.isArray(t))return Et(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Et(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function St(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tt(r.key),r)}}function Tt(t){var e=function(t,e){if("object"!=xt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xt(e)?e:String(e)}var At=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.active=!0,this.tabs=e,this.init()}var e,n,r;return e=t,r=[{key:"create",value:function(e){null===t.instance&&e.length&&(t.instance=new t(e))}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}}],(n=[{key:"init",value:function(){var t=this;this.tabs.forEach((function(e){e.addEventListener("click",(function(n){n.preventDefault(),t.active&&t.openTab(e)})),e.classList.contains("active")&&t.openTab(e)}))}},{key:"openTab",value:function(t){var e=this;if(t.classList.contains("active"))return!1;var n=t.dataset.tabFeed,r=wt(t.closest(".tab-nav").querySelectorAll("[data-tab-feed]")).filter((function(e){return e!==t})),i=[],o=[],s=null,a=null,l=null;if(this.active=!1,r.forEach((function(t){if(t.classList.contains("active")){s=t;var e=t.dataset.tabFeed;(a=document.getElementById("".concat(e)))&&a.querySelectorAll(".card-container").forEach((function(t){i.push(t)}))}})),(l=document.getElementById("".concat(n)))&&l.querySelectorAll(".card-container").forEach((function(t){o.push(t)})),a&&l){s.classList.remove("active"),t.classList.add("active");var u=c.a.timeline({onComplete:function(){e.active=!0}});i.length>0&&u.to(i,{duration:.3,y:-30,opacity:0,stagger:.1,ease:"power3.inOut"}),u.add((function(){a.classList.remove("active"),l.classList.add("active")})),o.length>0&&u.from(o,{duration:.5,y:50,opacity:0,stagger:.1,ease:"power3.inOut"}),u.set(i,{y:0,opacity:1})}var h=$("#header").outerHeight();setTimeout((function(){c.a.to(window,{duration:.2,scrollTo:{y:t.closest(".news-feed"),offsetY:h}})}),20)}},{key:"beforeDestroy",value:function(){var t=this;this.tabs.forEach((function(e){e.removeEventListener("click",(function(){t.openTab(e)}))})),this.tabs=null}}])&&St(e.prototype,n),r&&St(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=Tt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(At,"instance",null);var Mt=At;function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t){return function(t){if(Array.isArray(t))return Dt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Dt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ot(r.key),r)}}function Ot(t){var e=function(t,e){if("object"!=Ct(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ct(e)?e:String(e)}var It,Lt,kt,Ft,Nt,Bt,Ut,Gt,zt,Ht,jt,Vt,Xt,Wt,qt,Yt=function(){return"undefined"!=typeof window},$t=function(){return It||Yt()&&(It=window.gsap)&&It.registerPlugin&&It},Kt=(Date.now,function(t){var e=Ft.querySelector(".ScrollSmoother-wrapper");return e||((e=Ft.createElement("div")).classList.add("ScrollSmoother-wrapper"),t.parentNode.insertBefore(e,t),e.appendChild(t)),e}),Zt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Lt||t.register(It)||console.warn("Please gsap.registerPlugin(ScrollSmoother)"),e=this.vars=e||{},Ht&&Ht.kill(),Ht=this,Wt(this);var r,i,o,s,a,l,c,u,h,p,d,f,m,g,v,y=e,b=y.smoothTouch,_=y.onUpdate,x=y.onStop,w=y.smooth,E=y.onFocusIn,S=y.normalizeScroll,T=y.wholePixels,A=this,M=e.effectsPrefix||"",C=zt.getScrollFunc(kt),P=1===zt.isTouch?!0===b?.8:parseFloat(b)||0:0===w||!1===w?0:parseFloat(w)||.8,D=P&&+e.speed||1,R=0,O=0,I=1,L=Vt(0),k=function(){return L.update(-R)},F={y:0},N=function(){return r.style.overflow="visible"},B=function(t){t.update();var e=t.getTween();e&&(e.pause(),e._time=e._dur,e._tTime=e._tDur),g=!1,t.animation.progress(t.progress,!0)},U=function(e,n){(e!==R&&!p||n)&&(T&&(e=Math.round(e)),P&&(r.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+e+", 0, 1)",r._gsap.y=e+"px"),O=e-R,R=e,zt.isUpdating||t.isRefreshing||zt.update())},G=function(t){return arguments.length?(t<0&&(t=0),F.y=-t,g=!0,p?R=-t:U(-t),zt.isRefreshing?s.update():C(t/D),this):-R},z="undefined"!=typeof ResizeObserver&&!1!==e.autoResize&&new ResizeObserver((function(){if(!zt.isRefreshing){var t=zt.maxScroll(i);t<-R&&G(t),qt.restart(!0)}})),H=function(t){i.scrollTop=0,t.target.contains&&t.target.contains(i)||E&&!1===E(n,t)||(zt.isInViewport(t.target)||t.target===v||n.scrollTo(t.target,!1,"center center"),v=t.target)},j=function(t,e){var n,r,i,o;a.forEach((function(e){n=e.pins,o=e.markers,t.forEach((function(t){e.trigger&&t.trigger&&e!==t&&(t.trigger===e.trigger||t.pinnedContainer===e.trigger||e.trigger.contains(t.trigger))&&(r=t.start,i=(r-e.start-e.offset)/e.ratio-(r-e.start),n.forEach((function(t){return i-=t.distance/e.ratio-t.distance})),t.setPositions(r+i,t.end+i),t.markerStart&&o.push(It.quickSetter([t.markerStart,t.markerEnd],"y","px")),t.pin&&t.end>0&&(i=t.end-t.start,n.push({start:t.start,end:t.end,distance:i,trig:t}),e.setPositions(e.start,e.end+i),e.vars.onRefresh(e)))}))}))},V=function(){N(),requestAnimationFrame(N),a&&(a.forEach((function(t){var e=t.start,n=t.auto?Math.min(zt.maxScroll(t.scroller),t.end):e+(t.end-e)/t.ratio,r=(n-t.end)/2;e-=r,n-=r,t.offset=r||1e-4,t.pins.length=0,t.setPositions(Math.min(e,n),Math.max(e,n)),t.vars.onRefresh(t)})),j(zt.sort())),L.reset()},X=function(){return zt.addEventListener("refresh",V)},W=function(){return a&&a.forEach((function(t){return t.vars.onRefresh(t)}))},q=function(){return a&&a.forEach((function(t){return t.vars.onRefreshInit(t)})),W},Y=function(t,e,n,r){return function(){var i="function"==typeof e?e(n,r):e;return i||0===i||(i=r.getAttribute("data-"+M+t)||("speed"===t?1:0)),r.setAttribute("data-"+M+t,i),"auto"===i?i:parseFloat(i)}},$=function(t,e,n,r,o){o=("function"==typeof o?o(r,t):o)||0;var s,l,c,u,h,p,d=Y("speed",e,r,t),f=Y("lag",n,r,t),m=It.getProperty(t,"y"),g=t._gsap,v=function(){e=d(),n=f(),s=parseFloat(e)||1,h=(c="auto"===e)?0:.5,u&&u.kill(),u=n&&It.to(t,{ease:jt,overwrite:!1,y:"+=0",duration:n}),l&&(l.ratio=s,l.autoSpeed=c)},y=function(){g.y=m+"px",g.renderTransform(1),v()},b=[],_=[],x=0,w=function(e){if(c){y();var n=function(t,e){var n,r,i=t.parentNode||Nt,o=t.getBoundingClientRect(),s=i.getBoundingClientRect(),a=s.top-o.top,l=s.bottom-o.bottom,c=(Math.abs(a)>Math.abs(l)?a:l)/(1-e),u=-c*e;return c>0&&(r=.5===(n=s.height/(kt.innerHeight+s.height))?2*s.height:2*Math.min(s.height,-c*n/(2*n-1))*(e||1),u+=e?-r*e:-r/2,c+=r),{change:c,offset:u}}(t,Gt(0,1,-e.start/(e.end-e.start)));x=n.change,p=n.offset}else x=(e.end-e.start)*(1-s),p=0;b.forEach((function(t){return x-=t.distance*(1-s)})),e.vars.onUpdate(e),u&&u.progress(1)};return v(),(1!==s||c||u)&&(w(l=zt.create({trigger:c?t.parentNode:t,start:"top bottom+="+o,end:"bottom top-="+o,scroller:i,scrub:!0,refreshPriority:-999,onRefreshInit:y,onRefresh:w,onKill:function(t){var e=a.indexOf(t);e>=0&&a.splice(e,1),y()},onUpdate:function(t){var e,n,r,i=m+x*(t.progress-h),o=b.length,s=0;if(t.offset){if(o){for(n=-R,r=t.end;o--;){if((e=b[o]).trig.isActive||n>=e.start&&n<=e.end)return void(u&&(e.trig.progress+=e.trig.direction<0?.001:-.001,e.trig.update(0,0,1),u.resetTo("y",parseFloat(g.y),-O,!0),I&&u.progress(1)));n>e.end&&(s+=e.distance),r-=e.distance}i=m+s+x*((It.utils.clamp(t.start,t.end,n)-t.start-s)/(r-t.start)-h)}i=function(t){return Math.round(1e5*t)/1e5||0}(i+p),_.length&&!c&&_.forEach((function(t){return t(i-s)})),u?(u.resetTo("y",i,-O,!0),I&&u.progress(1)):(g.y=i+"px",g.renderTransform(1))}}})),It.core.getCache(l.trigger).stRevert=q,l.startY=m,l.pins=b,l.markers=_,l.ratio=s,l.autoSpeed=c,t.style.willChange="transform"),l};function K(){return o=r.clientHeight,r.style.overflow="visible",Bt.style.height=kt.innerHeight+(o-kt.innerHeight)/D+"px",o-kt.innerHeight}X(),zt.addEventListener("killAll",X),It.delayedCall(.5,(function(){return I=0})),this.scrollTop=G,this.scrollTo=function(t,e,r){var i=It.utils.clamp(0,zt.maxScroll(kt),isNaN(t)?n.offset(t,r):+t);e?p?It.to(n,{duration:P,scrollTop:i,overwrite:"auto",ease:jt}):C(i):G(i)},this.offset=function(t,e){var n,r=(t=Ut(t)[0]).style.cssText,i=zt.create({trigger:t,start:e||"top top"});return a&&j([i]),n=i.start/D,i.kill(!1),t.style.cssText=r,It.core.getCache(t).uncache=1,n},this.content=function(t){if(arguments.length){var e=Ut(t||"#smooth-content")[0]||console.warn("ScrollSmoother needs a valid content element.")||Bt.children[0];return e!==r&&(h=(r=e).getAttribute("style")||"",z&&z.observe(r),It.set(r,{overflow:"visible",width:"100%",boxSizing:"border-box",y:"+=0"}),P||It.set(r,{clearProps:"transform"})),this}return r},this.wrapper=function(t){return arguments.length?(i=Ut(t||"#smooth-wrapper")[0]||Kt(r),u=i.getAttribute("style")||"",K(),It.set(i,P?{overflow:"hidden",position:"fixed",height:"100%",width:"100%",top:0,left:0,right:0,bottom:0}:{overflow:"visible",position:"relative",width:"100%",height:"auto",top:"auto",bottom:"auto",left:"auto",right:"auto"}),this):i},this.effects=function(t,e){var n;if(a||(a=[]),!t)return a.slice(0);(t=Ut(t)).forEach((function(t){for(var e=a.length;e--;)a[e].trigger===t&&a[e].kill()}));var r,i,o=e=e||{},s=o.speed,l=o.lag,c=o.effectsPadding,u=[];for(r=0;r<t.length;r++)(i=$(t[r],s,l,r,c))&&u.push(i);return(n=a).push.apply(n,u),u},this.sections=function(t,e){var n;if(l||(l=[]),!t)return l.slice(0);var r=Ut(t).map((function(t){return zt.create({trigger:t,start:"top 120%",end:"bottom -20%",onToggle:function(e){t.style.opacity=e.isActive?"1":"0",t.style.pointerEvents=e.isActive?"all":"none"}})}));return e&&e.add?(n=l).push.apply(n,Pt(r)):l=r.slice(0),r},this.content(e.content),this.wrapper(e.wrapper),this.render=function(t){return U(t||0===t?t:R)},this.getVelocity=function(){return L.getVelocity(-R)},zt.scrollerProxy(i,{scrollTop:G,scrollHeight:function(){return K()&&Bt.scrollHeight},fixedMarkers:!1!==e.fixedMarkers&&!!P,content:r,getBoundingClientRect:function(){return{top:0,left:0,width:kt.innerWidth,height:kt.innerHeight}}}),zt.defaults({scroller:i});var Z=zt.getAll().filter((function(t){return t.scroller===kt||t.scroller===i}));Z.forEach((function(t){return t.revert(!0,!0)})),s=zt.create({animation:It.fromTo(F,{y:0},{y:function(){return-K()},immediateRender:!1,ease:"none",data:"ScrollSmoother",duration:100,onUpdate:function(){if(this._dur){var t=g;t&&(B(s),F.y=R),U(F.y,t),k(),_&&!p&&_(A)}}}),onRefreshInit:function(e){if(t.isRefreshing=!0,a){var n=zt.getAll().filter((function(t){return!!t.pin}));a.forEach((function(t){t.vars.pinnedContainer||n.forEach((function(e){if(e.pin.contains(t.trigger)){var n=t.vars;n.pinnedContainer=e.pin,t.vars=null,t.init(n,t.animation)}}))}))}var r=e.getTween();m=r&&r._end>r._dp._time,f=R,F.y=0,P&&(1===zt.isTouch&&(i.style.position="absolute"),i.scrollTop=0,1===zt.isTouch&&(i.style.position="fixed"))},onRefresh:function(e){e.animation.invalidate(),e.setPositions(e.start,K()/D),m||B(e),F.y=-C()*D,U(F.y),I||e.animation.progress(It.utils.clamp(0,1,f/D/-e.end)),m&&(e.progress-=.001,e.update()),t.isRefreshing=!1},id:"ScrollSmoother",scroller:kt,invalidateOnRefresh:!0,start:0,refreshPriority:-9999,end:function(){return K()/D},onScrubComplete:function(){L.reset(),x&&x(n)},scrub:P||!0}),this.smooth=function(t){return arguments.length&&(D=(P=t||0)&&+e.speed||1,s.scrubDuration(t)),s.getTween()?s.getTween().duration():0},s.getTween()&&(s.getTween().vars.ease=e.ease||jt),this.scrollTrigger=s,e.effects&&this.effects(!0===e.effects?"[data-"+M+"speed], [data-"+M+"lag]":e.effects,{effectsPadding:e.effectsPadding}),e.sections&&this.sections(!0===e.sections?"[data-section]":e.sections),Z.forEach((function(t){t.vars.scroller=i,t.revert(!1,!0),t.init(t.vars,t.animation)})),this.paused=function(t,e){return arguments.length?(!!p!==t&&(t?(s.getTween()&&s.getTween().pause(),C(-R/D),L.reset(),(d=zt.normalizeScroll())&&d.disable(),(p=zt.observe({preventDefault:!0,type:"wheel,touch,scroll",debounce:!1,allowClicks:!0,onChangeY:function(){return G(-R)}})).nested=Xt(Nt,"wheel,touch,scroll",!0,!1!==e)):(p.nested.kill(),p.kill(),p=0,d&&d.enable(),s.progress=(-R/D-s.start)/(s.end-s.start),B(s))),this):!!p},this.kill=this.revert=function(){n.paused(!1),B(s),s.kill();for(var t=(a||[]).concat(l||[]),e=t.length;e--;)t[e].kill();zt.scrollerProxy(i),zt.removeEventListener("killAll",X),zt.removeEventListener("refresh",V),i.style.cssText=u,r.style.cssText=h;var o=zt.defaults({});o&&o.scroller===i&&zt.defaults({scroller:kt}),n.normalizer&&zt.normalizeScroll(!1),clearInterval(c),Ht=null,z&&z.disconnect(),Bt.style.removeProperty("height"),kt.removeEventListener("focusin",H)},this.refresh=function(t,e){return s.refresh(t,e)},S&&(this.normalizer=zt.normalizeScroll(!0===S?{debounce:!0,content:!P&&r}:S)),zt.config(e),"overscrollBehavior"in kt.getComputedStyle(Bt)&&It.set([Bt,Nt],{overscrollBehavior:"none"}),"scrollBehavior"in kt.getComputedStyle(Bt)&&It.set([Bt,Nt],{scrollBehavior:"auto"}),kt.addEventListener("focusin",H),c=setInterval(k,250),"loading"===Ft.readyState||requestAnimationFrame((function(){return zt.refresh()}))}var e,n,r;return e=t,r=[{key:"register",value:function(e){return Lt||(It=e||$t(),Yt()&&window.document&&(kt=window,Ft=document,Nt=Ft.documentElement,Bt=Ft.body),It&&(Ut=It.utils.toArray,Gt=It.utils.clamp,jt=It.parseEase("expo"),Wt=It.core.context||function(){},qt=It.delayedCall(.2,(function(){return zt.isRefreshing||Ht&&Ht.refresh()})).pause(),zt=It.core.globals().ScrollTrigger,It.core.globals("ScrollSmoother",t),Bt&&zt&&([kt,Ft,Nt,Bt],Vt=zt.core._getVelocityProp,Xt=zt.core._inputObserver,t.refresh=zt.refresh,Lt=1))),Lt}}],(n=[{key:"progress",get:function(){return this.scrollTrigger?this.scrollTrigger.animation._time/100:0}}])&&Rt(e.prototype,n),r&&Rt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();Zt.version="3.11.5",Zt.create=function(t){return Ht&&t&&Ht.content()===Ut(t.content)[0]?Ht:new Zt(t)},Zt.get=function(){return Ht},$t()&&It.registerPlugin(Zt);var Jt=n("0LjR");function Qt(t){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t){return function(t){if(Array.isArray(t))return ee(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ee(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,re(r.key),r)}}function re(t){var e=function(t,e){if("object"!=Qt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qt(e)?e:String(e)}c.b.registerPlugin(u.a,Zt,Jt.a);var ie=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign({},this.defaultOptions,e),this.options.container.querySelectorAll("[data-split-text-animate]").length>0&&this.init()}var e,n,r;return e=t,r=[{key:"create",value:function(e){return null===t.instance&&(t.instance=new t(e)),t.instance}},{key:"destroy",value:function(e){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}}],(n=[{key:"defaultOptions",get:function(){return{selector:null,container:document}}},{key:"init",value:function(){this.options.container.querySelectorAll("[data-split-text-animate]").length>0&&(this.initSplitText(),this.initResizeSplitText())}},{key:"initSplitText",value:function(){var t=this;this.splitTextEls=te(this.options.container.querySelectorAll("[data-split-text-animate]")),this.splitTextArray=[],this.splitTextEls.forEach((function(e){var n=new Jt.a(e,{type:"lines"}),r=n.lines,i=e.hasAttribute("data-appear-reverse")?"play none none reverse":"play none none none";t.splitTextArray.push(n);var o=c.b.timeline({scrollTrigger:{trigger:e,start:"top 90%",end:"bottom 10%",scroller:"[data-scroll-container]",markers:!1,toggleActions:i},onComplete:function(){n.revert(),t.splitTextEls.forEach((function(t){t.style.willChange="auto"})),t.splitTextEls.forEach((function(t){t.style.willChange="auto"}))}});o.from(r,{y:40,opacity:0,duration:1,stagger:{amount:.5,ease:"circ.out"}});var s=e.parentNode.querySelectorAll("[data-split-text-animate-next]");s.length>0&&o.from(s,{y:40,opacity:0,duration:.8,ease:"circ.out",clearProps:"all"},.1*r.length)}))}},{key:"initResizeSplitText",value:function(){var t,e=this,n=!1,r=window.innerWidth;window.addEventListener("resize",(function(i){window.innerWidth!==r&&(r=window.innerWidth,t=new Date,!1===n&&(n=!0,null!==e.splitTextArray&&(e.splitTextArray.length>0&&e.splitTextArray.forEach((function(t){t.revert()})),setTimeout(e.checkResizeFinish,200))))})),this.checkResizeFinish=function(){new Date-t<200?setTimeout(e.checkResizeFinish,200):(n=!1,e.initSplitText())}}},{key:"beforeDestroy",value:function(){null!==this.splitTextEls&&(u.a.getAll().forEach((function(t){t.kill(!0)})),this.splitTextEls=null,this.checkResizeFinish=null,this.splitTextArray=null)}}])&&ne(e.prototype,n),r&&ne(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=re(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ie,"instance",null);var oe=ie,se=n("8IGP");function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?le(Object(n),!0).forEach((function(e){he(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pe(r.key),r)}}function he(t,e,n){return(e=pe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pe(t){var e=function(t,e){if("object"!=ae(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ae(e)?e:String(e)}c.b.registerPlugin(u.a,mt.a);var de=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=ce(ce({},this.defaultOptions),e),this.options.initialHeight=this.options.trigger.offsetHeight,this.options.currentHeight=this.options.trigger.offsetHeight;var r=c.b.matchMedia();r.add("(min-width: 1080px)",(function(){n.initObserver()})),r.add("(max-width: 1079px)",(function(){t.destroy()}))}var e,n,r;return e=t,r=[{key:"create",value:function(e){return t.instance||(t.instance=new t(e)),t.instance}},{key:"destroy",value:function(){t.instance&&(this.instance.beforeDestroy(),t.instance=null)}}],(n=[{key:"defaultOptions",get:function(){return{selector:null,trigger:null,initialHeight:0,currentHeight:0}}},{key:"init",value:function(){var t=this;this.timeline=u.a.create({trigger:this.options.trigger,start:"top +=".concat(document.querySelector(".header").offsetHeight,"}}"),end:function(){return"+=".concat(t.options.currentHeight-t.options.initialHeight,"}")},pin:!0,pinSpacing:!1,markers:!1})}},{key:"beforeDestroy",value:function(){var t=this;c.b.to(window,{duration:.1,scrollTo:".section-spotlight",onComplete:function(){t.timeline.kill()}})}},{key:"initObserver",value:function(){var t=this;new ResizeObserver((function(){t.options.currentHeight<t.options.trigger.offsetHeight&&(t.options.currentHeight=t.options.trigger.offsetHeight,u.a.refresh(),t.init())})).observe(this.options.trigger)}}])&&ue(e.prototype,n),r&&ue(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function fe(t){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ge(r.key),r)}}function ge(t){var e=function(t,e){if("object"!=fe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fe(e)?e:String(e)}he(de,"instance",null);var ve=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activeEl=null,this.timeoutId=null,this.item=e.querySelectorAll("[data-hover]"),this.init()}var e,n,r;return e=t,r=[{key:"create",value:function(e){return t.instance||(t.instance=new t(e)),t.instance}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}}],(n=[{key:"init",value:function(){var t=this;this.item.length&&(this.activeEl=this.item[0],this.activeEl.classList.add("active"),this.item.forEach((function(e){e.addEventListener("mouseenter",(function(){if(clearTimeout(t.timeoutId),e!==t.activeEl){t.activeEl.classList.remove("active"),t.activeEl=e,t.activeEl.classList.add("active");var n=t.activeEl.getAttribute("data-hover"),r=document.getElementById(n);t.timeoutId=setTimeout((function(){var e=t.activeEl.children[0].getAttribute("src");r.setAttribute("src",e),r.style.opacity=0,r.onload=function(){r.style.opacity=1}}),400)}}))})))}},{key:"beforeDestroy",value:function(){this.item.forEach((function(t){t.removeEventListener("mouseenter")}))}}])&&me(e.prototype,n),r&&me(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=ge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ve,"instance",null);var ye=ve,be=function(){var t=function(t){var e=$("#founder-spotlight-nonce").val();$.ajax({type:"post",dataType:"json",url:wp_ajax.ajaxurl,data:{action:"founders_spotlight",page:t,nonce:e},success:function(t){$(".spotlight-list").html(t.html),t.is_last?($(".bg-load-spotlights").hide(),$(".bg-hide-spotlights").show()):($(".bg-load-spotlights").show(),$(".bg-hide-spotlights").hide()),ye.create(),$(".bg-load-spotlights").html("Load More")},error:function(t){console.log(t)}})};$(".bg-load-spotlights").on("click",(function(){de.create({selector:document.querySelector("[data-sticky-scroll"),trigger:document.querySelector("[data-sticky-scroll-trigger]")});var e=$(".bg-load-spotlights").data("page");e+=1,$(".bg-load-spotlights").data("page",e),$(".bg-load-spotlights").html('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: none; display: block; shape-rendering: auto;" width="16px" height="16px" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid">\n      <circle cx="12" cy="12" fill="none" stroke="#ffffff" stroke-width="2" r="8" stroke-dasharray="18.84955592153876 8.283185307179586">\n      <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 12 12;360 12 12" keyTimes="0;1"/>\n      </circle>\n    </svg>'),t(e)})),$(".bg-hide-spotlights").on("click",(function(){de.destroy(),setTimeout((function(){$(".bg-load-spotlights").data("page",1),t(1)}),300)}))};function _e(t){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,we(r.key),r)}}function we(t){var e=function(t,e){if("object"!=_e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_e(e)?e:String(e)}rt.j.use([rt.g]);var Ee=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign({},t.defaultOptions,e);var r=this;this.resize(),this.initEvents(),this.firstMove=!0,this.speed=parseFloat(this.options.selector.getAttribute("data-speed-slide")),this.slider=new rt.j(this.options.selector,{slidesPerView:1.098,spaceBetween:33,slidesPerGroup:1,loop:!0,setWrapperSize:!0,roundLengths:!0,grabCursor:!0,watchSlidesProgress:!0,loopPreventsSlide:!0,mousewheel:!1,speed:this.options.mobileSpeed||r.speed,loopFillGroupWithBlank:!0,pagination:{el:this.options.pagination,type:"custom",renderCustom:function(t,e,n){var i=parseInt(t.el.dataset.foundersCount),o=r.getSlidesPerGroup(t),s=Math.ceil(i/o);return("0"+(e<=s?e:e%s||s)).slice(-2)+"/"+"0".concat(s).slice(-2)}},navigation:{nextEl:this.options.next,prevEl:this.options.prev},breakpoints:this.options.breakpoints||{768:{slidesPerView:2,spaceBetween:64,slidesPerGroup:2,speed:r.speed},1024:{slidesPerView:2,spaceBetween:64,slidesPerGroup:2,speed:r.speed},1280:{slidesPerView:5,spaceBetween:116,slidesPerGroup:3,speed:r.speed}},on:{beforeInit:function(t){if(0!=t.el.querySelectorAll(".swiper-slide").length&&t.slides.length<3)for(var e=0;e<2;e++)t.el.querySelectorAll(".swiper-slide").forEach((function(e){var n=e.cloneNode(!0);t.el.querySelectorAll(".swiper-wrapper")[0].appendChild(n)}))},init:function(t){var e=r.speed/1e3,i=2*r.speed/1e3;if(r.handleClickBlurImage(t),"home"==n.options.namespace||"home-india"==n.options.namespace||"focus-area"==n.options.namespace)switch(r.breakpoint){case"desktop":c.a.set(n.options.selector,{x:-115}),c.a.to(n.options.selector,{x:0,duration:e,delay:i,onComplete:function(){n.firstMove=!1}});break;case"tablet":c.a.set(n.options.selector,{x:-72}),c.a.to(n.options.selector,{x:0,duration:e,delay:i,onComplete:function(){n.firstMove=!1}})}},progress:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.options.unblurAmount,o=0;o<t.slides.length;o+=1){var s=t.slides[o].firstElementChild,a=t.slides[o].progress,l=Math.abs(a),c=0;switch(r.breakpoint){case"uhd":a<=-1&&a>=-i?c=0:a>=0||a<=-(i+1)?c=10:a>=-(i+1)&&a<-i?c=et(0,10,(l-i)/1):a>-1&&a<0&&(c=et(10,0,l));break;case"widescreen":l>=.7&&l<=i?c=0:l>=i+1||l<=0?c=10:l>=i&&l<i+1?c=et(0,10,(l-i)/.5):l>0&&l<.7&&(c=et(10,0,l/.7));break;case"desktop":"home"==n.options.namespace||"home-india"==n.options.namespace||"focus-area"==n.options.namespace?a<=0&&a>=-1?c=0:a>=.5||a<=-1.5?c=10:a>0&&a<.5?c=et(0,10,a/.5):a>-1.5&&a<-1&&(c=et(10,0,(a+1.5)/.5)):a<=-1&&a>=-3?c=0:a>=0||a<=-4?c=10:a>=-4&&a<-3?c=et(0,10,(l-3)/1):a>-1&&a<0&&(c=et(10,0,l));break;case"tablet":"home"==n.options.namespace||"home-india"==n.options.namespace||"focus-area"==n.options.namespace?a<=0&&a>=-1?c=0:a>=.5||a<=-1.5?c=10:a>0&&a<.5?c=et(0,10,a/.5):a>-1.5&&a<-1&&(c=et(10,0,(a+1.5)/.5)):a<=-1&&a>=-2?c=0:a>=0||a<=-3?c=10:a>=-3&&a<-2?c=et(0,10,(l-2)/1):a>-1&&a<0&&(c=et(10,0,l));break;case"phone":a<.25&&a>-.25?c=0:a>=.75||a<=-.75?c=10:a>=.25&&a<.75?c=et(0,10,(a-.25)/.5):a>-.75&&a<-.25&&(c=et(10,0,(a+.75)/.5));break;default:c=0}c>0?(s.style.filter="blur(".concat(Math.floor(c),"px)"),s.parentElement.classList.remove("swiper-enable-link"),s.parentElement.classList.add("swiper-disable-link"),s.classList.remove("swiper-enable-link"),s.classList.add("swiper-disable-link")):(s.style.filter="none",s.parentElement.classList.contains("swiper-slide-duplicate")?(s.parentElement.classList.remove("swiper-enable-link"),s.parentElement.classList.add("swiper-disable-link"),s.classList.remove("swiper-enable-link"),s.classList.add("swiper-disable-link")):(s.parentElement.classList.add("swiper-enable-link"),s.parentElement.classList.remove("swiper-disable-link"),s.classList.add("swiper-enable-link"),s.classList.remove("swiper-disable-link")))}},setTransition:function(t,e){for(var n=0;n<t.slides.length;n+=1){t.slides[n].firstElementChild.style.transitionDuration="".concat(e,"ms")}},slideChange:function(t){n.handleClickBlurImage(t)},fromEdge:function(t){t.isBeginning&&t.slideNext(),t.isEnd&&t.slidePrev()}}}),this.slider.on("sliderFirstMove",(function(){switch(r.breakpoint){case"desktop":case"tablet":n.firstMove&&(n.firstMove=!1,c.a.to(n.options.selector,{x:0,duration:r.speed/1e3}))}}))}var e,n,r;return e=t,r=[{key:"create",value:function(e){if(null===t.instance)return e&&(t.instance=new t(e)),t.instance}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}},{key:"defaultOptions",get:function(){return{selector:null,container:document,next:"",prev:"",pagination:".swiper-pagination",unblurAmount:3,namespace:"home"}}}],(n=[{key:"getSlidesPerGroup",value:function(t){var e=t.params.breakpoints,n=Object.keys(e).filter((function(t){var e="(min-width: "+t+"px)";if(window.matchMedia(e).matches)return t})),r=!!n.length&&n[n.length-1];return r?e[r].slidesPerGroup:1}},{key:"handleClickBlurImage",value:function(t){var e="",n="",r=[];e=t.slides[t.activeIndex+1],n=t.slides[t.activeIndex];var i=t.slides;switch(this.breakpoint){case"uhd":case"widescreen":n=t.slides[t.activeIndex+3];break;case"desktop":case"tablet":e=t.slides[t.activeIndex],n=t.slides[t.activeIndex+1];break;case"phone":e=t.slides[t.activeIndex-1]}r=this.getAllSiblings(e,"prev"),this.getAllSiblings(n,"next").forEach((function(t){t.classList.remove("slide-blur-prev"),t.firstElementChild.classList.remove("slide-blur-prev"),t.classList.add("slide-blur-next"),t.firstElementChild.classList.add("slide-blur-next")})),r.forEach((function(t){t.classList.remove("slide-blur-next"),t.classList.add("slide-blur-prev"),t.firstElementChild.classList.remove("slide-blur-next"),t.firstElementChild.classList.add("slide-blur-prev")})),setTimeout((function(){i.forEach((function(e){$(e.firstElementChild).off("click"),e.matches(".slide-blur-prev.swiper-disable-link")&&$(e.firstElementChild).off().on("click",(function(e){e.preventDefault(),t.slidePrev()})),e.matches(".slide-blur-next.swiper-disable-link")&&$(e.firstElementChild).off().on("click",(function(e){e.preventDefault(),t.slideNext()}))}))}),100)}},{key:"getAllSiblings",value:function(t,e){for(var n=[],r=t;r;)switch(r!==t&&r.nodeType===Node.ELEMENT_NODE&&n.push(r),e){case"prev":case"previous":r=r.previousElementSibling||r.previousSibling;break;case"next":r=r.nextElementSibling||r.nextSibling}return n}},{key:"getBreakpoint",value:function(){var t={"(min-width: 1024px) and (max-width: 1279.98px)":"desktop","(min-width: 768px) and (max-width: 1023.98px)":"tablet","(max-width: 767.98px)":"phone","(min-width: 1280px) and (max-width: 1920px)":"widescreen","(min-width: 1921px)":"uhd"};for(var e in t)if(window.matchMedia(e).matches)return t[e];return null}},{key:"initEvents",value:function(){var t,e,n,r;this.onResize=(t=this.resize.bind(this),e=100,function(){var i=arguments;n=n||this,clearTimeout(r),r=setTimeout((function(){r=null,t.apply(n,i)}),e)}),window.addEventListener("resize",this.onResize)}},{key:"resizeHandler",value:function(){var t=this.getBreakpoint();this.breakpoint!==t&&(this.breakpoint=t,this.slider&&this.slider.update())}},{key:"resize",value:function(){var t=window.innerWidth;this.width!==t&&(this.width=t,this.resizeHandler())}},{key:"beforeDestroy",value:function(){this.slider.destroy(),window.removeEventListener("resize",this.onResize),this.breakpoint=null,this.width=null,this.slider=null}}])&&xe(e.prototype,n),r&&xe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=we(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ee,"instance",null);var Se=Ee;function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Me(r.key),r)}}function Me(t){var e=function(t,e){if("object"!=Te(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Te(e)?e:String(e)}c.b.registerPlugin(u.a);var Ce=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign({},t.defaultOptions,e),this.init()}var e,n,r;return e=t,r=[{key:"create",value:function(e){return t.instance||(t.instance=new t(e)),t.instance}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}},{key:"getDefaultOptions",value:function(){return{container:null,selector:null}}}],(n=[{key:"init",value:function(){this.initScrollAnimations()}},{key:"initScrollAnimations",value:function(){this.options.selector.length>0&&(this.horizontalTl=this.options.selector.map((function(t){for(var e=t.querySelectorAll("span"),n=c.b.timeline({scrollTrigger:{trigger:t,start:"top bottom",end:"bottom top",scrub:!0,scroller:"[data-scroll-container]",markers:!1}}),r=0;r<e.length;r++){var i=r%2==0?"+=".concat(window.innerWidth/3):"-=".concat(window.innerWidth/3);n.to(e[r],{x:i,ease:"power1.out"},0)}return n})))}},{key:"beforeDestroy",value:function(){null!==this.horizontalTl&&(u.a.getAll().forEach((function(t){t.kill()})),this.horizontalTl=null)}}])&&Ae(e.prototype,n),r&&Ae(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=Me(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ce,"instance",null);var Pe=Ce;function De(t){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t){return function(t){if(Array.isArray(t))return Oe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Oe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Le(r.key),r)}}function Le(t){var e=function(t,e){if("object"!=De(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==De(e)?e:String(e)}c.b.registerPlugin(u.a);var ke=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign({},t.defaultOptions,e),this.init()}var e,n,r;return e=t,r=[{key:"create",value:function(e){return t.instance||(t.instance=new t(e)),t.instance}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}},{key:"getDefaultOptions",value:function(){return{container:null,selector:null}}}],(n=[{key:"init",value:function(){var t=this;this.initAppearBlocks(),this.initAppearSequence(),setTimeout((function(){t.initApperList()}),300)}},{key:"initAppearBlocks",value:function(){this.appearBlocks=Re(this.options.container.querySelectorAll("[data-appear-block]")),(this.appearBlocks.length>0||null!==this.appearBlocks)&&this.appearBlocks.forEach((function(t){var e=t.dataset.appearBlock,n=t.dataset.appearDistance||100,r=t.hasAttribute("data-appear-reverse")?"play none none reverse":"play none none none",i=t.dataset.appearDelay||0,o=c.b.from(t,{scrollTrigger:{trigger:t,start:"top 80%",end:"bottom 20%",scroller:"[data-scroll-container]",markers:!1,toggleActions:r},y:"fadein"!==e?n:0,autoAlpha:0,duration:1,ease:"power1.out",delay:i,clearProps:"all",onComplete:function(e){o.scrollTrigger.kill(),o.kill(),o=null,t.style.willChange="auto"}})}))}},{key:"initAppearSequence",value:function(){var t=this;this.appearSequenced=Re(this.options.container.querySelectorAll("[data-appear-sequenced]")),(this.appearSequenced.length>0||null!==this.appearSequenced)&&this.appearSequenced.forEach((function(e){var n=e.dataset.appearDelay||0,r=e.dataset.appearStagger||.1,i=e.dataset.appearDistance||200,o=e.hasAttribute("data-appear-reverse")?"play none none reverse":"play none none none",s=e.querySelectorAll("[data-appear-item]");if(!s.length&&"all"===e.dataset.appearSequenced&&e.children.length>0&&(s=Re(e.children)),t.button=e.querySelectorAll(".btn-hold"),s.length){var a=c.b.timeline({scrollTrigger:{trigger:e,start:"top 90%",end:"bottom 10%",scroller:"[data-scroll-container]",markers:!1,toggleActions:o},onComplete:function(t){a.scrollTrigger.kill(),a.kill(),a=null,e.style.willChange="auto",s.forEach((function(t){t.style.willChange="auto"}))}}).from(s,{y:i,opacity:0,duration:.8,ease:"power1.out",delay:n,stagger:r,clearProps:"all",overwrite:!0});t.button.length>0&&a.from(t.button,{y:50,alpha:0})}}))}},{key:"initApperList",value:function(){var t=window.innerWidth<768;this.appearList=Re(this.options.container.querySelectorAll("[data-appear-list]:not(.list-animated)")),this.appearList.length>0&&this.appearList.forEach((function(e){var n=e.dataset.appearDelay||.1;if(e.hasAttribute("data-disable-mobile")&&t)return e.style.willChange="auto",e.style.opacity=1,e.style.transform="translateY(0)",void(e.style.visibility="visible");var r=c.b.to(e,{scrollTrigger:{trigger:e,start:"0% 97%",end:"100% 3%",scroller:"[data-scroll-container]",markers:!1},y:0,autoAlpha:1,duration:t?.35:.75,ease:t?"power1.out":"circ.out",delay:n,onStart:function(t){e.classList.add("list-animated")},onComplete:function(t){r.scrollTrigger.kill(),r.kill(),r=null,e.style.willChange="auto"}})}))}},{key:"beforeDestroy",value:function(){this.appearBlocks.length>0&&(this.appearBlocks=null,this.appearSequenced=null,this.button=null,this.appearList=null)}}])&&Ie(e.prototype,n),r&&Ie(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=Le(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ke,"instance",null);var Fe=ke;function Ne(t){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ue(r.key),r)}}function Ue(t){var e=function(t,e){if("object"!=Ne(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ne(e)?e:String(e)}var Ge=function(){function t(e,n){var r=this;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t.instance?t.instance:(this.playBtn=e,this.videoModal=n,this.closeBtn=document.querySelector(".modal-close-btn"),this.iframeHtml=document.querySelector("#video-modal iframe"),this.modalContent=document.querySelector(".modal-content"),this.body=document.body,this.videoModalParent=this.videoModal.parentNode,this.videoModalParent.removeChild(this.videoModal),setTimeout((function(){r.body.appendChild(r.videoModal)}),100),this.iframeHtml?(this.iframeHtml.style="",this.iframeHtml.remove(),this.playClick=this.playClick.bind(this),this.closeClick=this.closeClick.bind(this),this.documentClick=this.documentClick.bind(this),void this.init()):null)}var e,n,r;return e=t,r=[{key:"create",value:function(e){var n=e.querySelector(".play-btn"),r=document.querySelector("#video-modal");return n&&r?(t.instance||(t.instance=new t(n,r)),t.instance):null}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}}],(n=[{key:"init",value:function(){this.playBtn.addEventListener("click",this.playClick),this.closeBtn&&this.closeBtn.addEventListener("click",this.closeClick),document.addEventListener("click",this.documentClick)}},{key:"playClick",value:function(){var t=this;this.modalContent.append(this.iframeHtml),setTimeout((function(){t.body.classList.add("modal-active")}),100),this.videoModal.style.display="flex",this.playBtn.style.display="none"}},{key:"closeClick",value:function(){this.hideModal(),this.playBtn.style.display="block"}},{key:"documentClick",value:function(t){this.body.classList.contains("modal-active")&&!t.target.closest("iframe")&&(this.hideModal(),this.playBtn.style.display="block")}},{key:"hideModal",value:function(){this.body.classList.remove("modal-active"),this.videoModal.style.display="none",this.iframeHtml&&this.iframeHtml.remove()}},{key:"beforeDestroy",value:function(){this.playBtn.removeEventListener("click",this.playClick),this.closeBtn&&this.closeBtn.removeEventListener("click",this.closeClick),document.removeEventListener("click",this.documentClick),this.body.removeChild(this.videoModal)}}])&&Be(e.prototype,n),r&&Be(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ze(t){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function He(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,je(r.key),r)}}function je(t){var e=function(t,e){if("object"!=ze(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ze(e)?e:String(e)}!function(t,e,n){(e=Ue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ge,"instance",null);var Ve=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.playBtn=e,this.videoModal=n,this.closeBtn=this.videoModal.querySelector(".modal-close-btn"),this.iframe=this.videoModal.querySelector("iframe"),this.modalContent=this.videoModal.querySelector(".modal-content"),this.body=document.body,this.playClick=this.playClick.bind(this),this.closeClick=this.closeClick.bind(this),this.documentClick=this.documentClick.bind(this),this.init()}var e,n,r;return e=t,r=[{key:"create",value:function(e){if(null===t.instances&&e){var n=document.querySelector("#video-modal-carousel"),r=e.querySelectorAll(".play-btn-carousel");t.instances=[],r.length&&n&&r.forEach((function(e){t.instances.push(new t(e,n))}))}}},{key:"destroy",value:function(){t.instances&&(t.instances.forEach((function(t){t.beforeDestroy()})),t.instances=null)}}],(n=[{key:"init",value:function(){this.playBtn.addEventListener("click",this.playClick),this.closeBtn&&this.closeBtn.addEventListener("click",this.closeClick),document.addEventListener("click",this.documentClick)}},{key:"playClick",value:function(t){var e=this,n=this.playBtn.getAttribute("data-vimeo");if(n){var r="".concat(n,"?autoplay=1&muted=1");this.iframe.src=r,this.modalContent.appendChild(this.iframe),setTimeout((function(){e.body.classList.add("modal-active")}),100),this.videoModal.style.display="flex"}}},{key:"closeClick",value:function(){this.hideModal()}},{key:"documentClick",value:function(t){this.body.classList.contains("modal-active")&&!t.target.closest("iframe")&&this.hideModal()}},{key:"hideModal",value:function(){this.body.classList.remove("modal-active"),this.videoModal.style.display="none",this.iframe&&this.iframe.remove()}},{key:"beforeDestroy",value:function(){this.playBtn.removeEventListener("click",this.playClick),this.closeBtn&&this.closeBtn.removeEventListener("click",this.closeClick),document.removeEventListener("click",this.documentClick)}}])&&He(e.prototype,n),r&&He(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Xe(t){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function We(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qe(r.key),r)}}function qe(t){var e=function(t,e){if("object"!=Xe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xe(e)?e:String(e)}!function(t,e,n){(e=je(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ve,"instances",null);var Ye=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign(this.defaultOptions,e),this.mm=c.b.matchMedia(),this.selector=this.options.container.querySelector(".ui-menu"),this.mm.add("(min-width: 768px)",(function(){n.init()})),this.mm.add("(max-width: 76px)",(function(){t.destroy()}))}var e,n,r;return e=t,r=[{key:"create",value:function(e){return t.instance||(t.instance=new t(e)),t.instance}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}}],(n=[{key:"defaultOptions",get:function(){return{container:document.querySelector(".ui-menu")}}},{key:"start",value:function(){window.scroller.start()}},{key:"stop",value:function(){window.scroller.stop()}},{key:"init",value:function(){var t=this;this.selector&&(this.selector.addEventListener("mouseenter",(function(){t.stop()})),this.selector.addEventListener("mouseleave",(function(){t.start()})))}},{key:"beforeDestroy",value:function(){this.selector&&(this.selector=null,this.mm=null)}}])&&We(e.prototype,n),r&&We(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function $e(t){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ze(r.key),r)}}function Ze(t){var e=function(t,e){if("object"!=$e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$e(e)?e:String(e)}!function(t,e,n){(e=qe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ye,"instance",null);var Je=function(){function t(e){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign({},this.defaultOptions,e),this.filterOpener=this.options.selector.querySelector(".filter-opener"),this.filterDrop=null===(n=this.filterOpener)||void 0===n?void 0:n.nextElementSibling,this.breakpoint=window.matchMedia("(min-width:768px)"),this.filterDiv=null===(r=this.filterOpener)||void 0===r?void 0:r.parentNode,this.mobileFilter=document.querySelector(".filter-wrap"),this.init()}var e,n,r;return e=t,r=[{key:"create",value:function(e){return t.instance||(t.instance=new t(e)),t.instance}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}}],(n=[{key:"defaultOptions",get:function(){return{selector:null}}},{key:"init",value:function(){this.initFilterSwitch()}},{key:"initFilterSwitch",value:function(){var t=this;if(this.filterOpener){this.filterOpener.addEventListener("click",(function(t){t.preventDefault(),Object(p.x)((function(){document.body.classList.add("filter--active")}))}));var e=function(){t.breakpoint.matches?t.filterDiv.insertBefore(t.filterDrop,t.filterOpener):document.body.append(t.filterDrop)};this.breakpoint.addListener(e),e()}}},{key:"beforeDestroy",value:function(){this.mobileFilter&&this.mobileFilter.remove()}}])&&Ke(e.prototype,n),r&&Ke(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Qe(t){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,en(r.key),r)}}function en(t){var e=function(t,e){if("object"!=Qe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qe(e)?e:String(e)}!function(t,e,n){(e=Ze(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Je,"instance",null);var nn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.navopener=document.querySelector(".nav-opener"),this.navwrap=document.querySelector(".nav-wrap"),this.navout="nav-out",this.navactive="nav-active",this.init()}var e,n,r;return e=t,r=[{key:"create",value:function(){return t.instance||(t.instance=new t),t.instance}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}}],(n=[{key:"init",value:function(){this.initCloseMenu()}},{key:"initCloseMenu",value:function(){var t=this;$("#smooth-wrapper").on("click touchstart pointerdown MSPointerDown",(function(e){var n=$(e.target);n.closest(t.navopener).length||n.closest(t.navwrap).length||$("body").hasClass("nav-active")&&($("body").toggleClass(t.navactive),$("body").addClass(t.navout),setTimeout((function(){$("body").removeClass(t.navout)}),1001))}))}},{key:"beforeDestroy",value:function(){$("html").off("click touchstart pointerdown MSPointerDown")}}])&&tn(e.prototype,n),r&&tn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function rn(t){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function on(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sn(r.key),r)}}function sn(t){var e=function(t,e){if("object"!=rn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rn(e)?e:String(e)}!function(t,e,n){(e=en(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(nn,"instance",null);var an=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isScrollingUp=!1,this.isScrollingDown=!1,this.speed=.35,this.ease="power1.out",this.navHeader=document.querySelector(".header-focus"),this.lastScrollPosition=0,this.init()}var e,n,r;return e=t,r=[{key:"create",value:function(){return t.instance||(t.instance=new t),t.instance}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}}],(n=[{key:"init",value:function(){this.navHeader&&this.initHeaderFocusArea()}},{key:"initHeaderFocusArea",value:function(){window.scroller.on("scroll",this.hideShowHeader.bind(this))}},{key:"hideShowHeader",value:function(){var t=window.scroller.scroll.instance.scroll.y;if(t>this.navHeader.offsetHeight){var e=t-this.lastScrollPosition;e>1&&!this.isScrollingDown?(c.a.to(this.navHeader,{y:-this.navHeader.offsetHeight,duration:this.speed,ease:this.ease}),this.isScrollingDown=!0,this.isScrollingUp=!1):e<-1&&!this.isScrollingUp&&(c.a.to(this.navHeader,{y:0,duration:this.speed,ease:this.ease}),this.isScrollingDown=!1,this.isScrollingUp=!0),this.lastScrollPosition=t}}},{key:"beforeDestroy",value:function(){this.navHeader=null,this.isScrollingUp=null,this.isScrollingDown=null,this.hideShowHeader=null,this.initHeaderFocusArea=null}}])&&on(e.prototype,n),r&&on(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,un(r.key),r)}}function un(t){var e=function(t,e){if("object"!=ln(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ln(e)?e:String(e)}!function(t,e,n){(e=sn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(an,"instance",null),c.b.registerPlugin(u.a);var hn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.charts=document.querySelectorAll("[data-chart-graph]"),this.charts.length&&this.init()}var e,n,r;return e=t,r=[{key:"create",value:function(e){return t.instance||(t.instance=new t(e)),t.instance}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}}],(n=[{key:"init",value:function(){var t=this;this.charts.forEach((function(e){t.initChart(e)}))}},{key:"initChart",value:function(t){switch(t.dataset.chartGraph){case"line":this.initLineChart(t);break;case"bar":this.initBarChart(t);break;case"bar-double":this.initBarDoubleChart(t);break;case"counters":this.initCountersChart(t);break;default:console.error("Chart type not found")}}},{key:"initLineChart",value:function(t){var e=t.querySelectorAll(".w-line");if(e.length){e.forEach((function(t){var e=t.getTotalLength();t.style.strokeDasharray=e,t.style.strokeDashoffset=e,t.dataset.length=e}));var n=c.b.timeline({scrollTrigger:{trigger:t,start:"top 90%",end:"bottom 10%",scroller:"[data-scroll-container]",once:!0},onComplete:function(t){n.scrollTrigger&&n.scrollTrigger.kill(),n&&n.kill(),n=null}}).to(e,{strokeDashoffset:0,duration:2,ease:"power1.out",stagger:.15})}}},{key:"initBarChart",value:function(t){var e=t.dataset.digits||0,n=Math.pow(10,e),r=t.querySelectorAll(".w-bar");if(r.length){r.forEach((function(t){t.style.height=0,t.dataset.value&&(t.innerhtml="<span>0%</span")}));var i=c.b.timeline({scrollTrigger:{trigger:t,start:"top 90%",end:"bottom 10%",scroller:"[data-scroll-container]",once:!0},onComplete:function(t){i.scrollTrigger&&i.scrollTrigger.kill(),i&&i.kill(),i=null}}).to(r,{height:function(t,e){var n=e.dataset.bar;return"".concat(n,"%")},onUpdate:function(){var t=i.progress();r.forEach((function(e){var r=e.dataset.value;if(r){var i=Math.round(r*t*n)/n;e.innerHTML="<span>".concat(i,"%</span>")}}))},duration:2,ease:"power1.out",stagger:.15})}}},{key:"initBarDoubleChart",value:function(t){var e=t.dataset.digits||0,n=Math.pow(10,e),r=t.dataset.postfix||"",i=t.querySelectorAll(".w-bar"),o=t.querySelectorAll(".w-bar--0"),s=t.querySelectorAll(".w-bar--1");if(i.length){i.forEach((function(t){t.style.height=0,t.dataset.value&&(t.innerhtml="<span>0".concat(r,"</span"))}));var a=c.b.timeline({scrollTrigger:{trigger:t,start:"top 90%",end:"bottom 10%",scroller:"[data-scroll-container]",once:!0},onComplete:function(t){a.scrollTrigger&&a.scrollTrigger.kill(),a&&a.kill(),a=null}}).to(o,{height:function(t,e){var n=e.dataset.bar;return"".concat(n,"%")},onUpdate:function(){var t=a.progress();o.forEach((function(e){var i=e.dataset.value;if(i){var o=Math.round(i*t*n)/n;e.innerHTML="<span>".concat(o).concat(r,"</span>")}}))},duration:2,ease:"power1.out",stagger:.15}).to(s,{height:function(t,e){var n=e.dataset.bar;return"".concat(n,"%")},onUpdate:function(){var t=a.progress();s.forEach((function(e){var i=e.dataset.value;if(i){var o=Math.round(i*t*n)/n;e.innerHTML="<span>".concat(o).concat(r,"</span>")}}))},duration:2,ease:"power1.out",stagger:.15},.7)}}},{key:"initCountersChart",value:function(t){var e=t.querySelectorAll(".w-counter");if(e.length){var n=t.dataset.digits||0,r=Math.pow(10,n);e.forEach((function(t){var e=t.dataset.value,n=t.dataset.postfix||"";e&&(t.innerHTML="<span>0".concat(n,"</span>"))}));var i=c.b.timeline({scrollTrigger:{trigger:t,start:"top 90%",end:"bottom 10%",scroller:"[data-scroll-container]",once:!0},onComplete:function(t){i.scrollTrigger&&i.scrollTrigger.kill(),i&&i.kill(),i=null}}).to(e,{onUpdate:function(){var t=i.progress();e.forEach((function(e){var n=e.dataset.value,i=e.dataset.postfix||"";if(n){var o=Math.round(n*t*r)/r;e.innerHTML="<span>".concat(o).concat(i,"</span>")}}))},duration:2,ease:"power1.out",stagger:.25})}}},{key:"beforeDestroy",value:function(){this.charts=null}}])&&cn(e.prototype,n),r&&cn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=un(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(hn,"instance",null);var pn=hn,dn=n("B/eG"),fn=n("MgzW"),mn=n.n(fn);self.Promise||(self.Promise=dn.a),Object.assign||(Object.assign=mn.a);if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!self.performance||!self.performance.now){var gn=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-gn}}for(var vn=Date.now(),yn=["ms","moz","webkit","o"],bn=0;bn<yn.length&&!self.requestAnimationFrame;++bn){var _n=yn[bn];self.requestAnimationFrame=self[_n+"RequestAnimationFrame"],self.cancelAnimationFrame=self[_n+"CancelAnimationFrame"]||self[_n+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+vn-e;return n<0&&(n=0),vn=e,self.setTimeout((function(){vn=Date.now(),t(performance.now())}),n)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array);var xn=/iPhone/i,wn=/iPod/i,En=/iPad/i,Sn=/\biOS-universal(?:.+)Mac\b/i,Tn=/\bAndroid(?:.+)Mobile\b/i,An=/Android/i,Mn=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Cn=/Silk/i,Pn=/Windows Phone/i,Dn=/\bWindows(?:.+)ARM\b/i,Rn=/BlackBerry/i,On=/BB10/i,In=/Opera Mini/i,Ln=/\b(CriOS|Chrome)(?:.+)Mobile/i,kn=/Mobile(?:.+)Firefox\b/i,Fn=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};var Nn,Bn,Un,Gn,zn,Hn,jn,Vn,Xn,Wn,qn,Yn,$n,Kn,Zn,Jn,Qn,tr,er,nr=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=e.userAgent,r=n.split("[FBAN");void 0!==r[1]&&(n=r[0]),void 0!==(r=n.split("Twitter"))[1]&&(n=r[0]);var i=function(t){return function(e){return e.test(t)}}(n),o={apple:{phone:i(xn)&&!i(Pn),ipod:i(wn),tablet:!i(xn)&&(i(En)||Fn(e))&&!i(Pn),universal:i(Sn),device:(i(xn)||i(wn)||i(En)||i(Sn)||Fn(e))&&!i(Pn)},amazon:{phone:i(Mn),tablet:!i(Mn)&&i(Cn),device:i(Mn)||i(Cn)},android:{phone:!i(Pn)&&i(Mn)||!i(Pn)&&i(Tn),tablet:!i(Pn)&&!i(Mn)&&!i(Tn)&&(i(Cn)||i(An)),device:!i(Pn)&&(i(Mn)||i(Cn)||i(Tn)||i(An))||i(/\bokhttp\b/i)},windows:{phone:i(Pn),tablet:i(Dn),device:i(Pn)||i(Dn)},other:{blackberry:i(Rn),blackberry10:i(On),opera:i(In),firefox:i(kn),chrome:i(Ln),device:i(Rn)||i(On)||i(In)||i(kn)||i(Ln)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(self.navigator);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Nn||(Nn={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Bn||(Bn={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(Un||(Un={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(Gn||(Gn={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(zn||(zn={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Hn||(Hn={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(jn||(jn={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Vn||(Vn={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(Xn||(Xn={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(Wn||(Wn={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(qn||(qn={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(Yn||(Yn={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}($n||($n={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(Kn||(Kn={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(Zn||(Zn={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(Jn||(Jn={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(Qn||(Qn={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(tr||(tr={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(er||(er={}));var rr,ir,or,sr,ar,lr,cr,ur,hr,pr,dr,fr,mr,gr,vr,yr,br,_r,xr,wr={MIPMAP_TEXTURES:Yn.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:tr.NONE,SPRITE_MAX_TEXTURES:function(t){var e=!0;if(nr.tablet||nr.phone){var n;if(nr.apple.device)if(n=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(n[1],10)<11&&(e=!1);if(nr.android.device)if(n=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(n[1],10)<7&&(e=!1)}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:Zn.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:qn.CLAMP,SCALE_MODE:Wn.LINEAR,PRECISION_VERTEX:Jn.HIGH,PRECISION_FRAGMENT:nr.apple.device?Jn.HIGH:Jn.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!nr.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Er=n("uhBA"),Sr=n.n(Er),Tr=n("VmRL"),Ar=n.n(Tr),Mr=n("CxY0");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(rr||(rr={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(ir||(ir={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(or||(or={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(sr||(sr={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(ar||(ar={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(lr||(lr={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(cr||(cr={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(ur||(ur={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(hr||(hr={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(pr||(pr={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(dr||(dr={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(fr||(fr={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(mr||(mr={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(gr||(gr={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(vr||(vr={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(yr||(yr={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(br||(br={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(_r||(_r={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(xr||(xr={}));var Cr={parse:Mr.parse,format:Mr.format,resolve:Mr.resolve};wr.RETINA_PREFIX=/@([0-9\.]+)x/,wr.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Pr,Dr=!1;var Rr={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Or(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Ir(t){var e=t.toString(16);return"#"+(e="000000".substr(0,6-e.length)+e)}function Lr(t){return"string"==typeof t&&"#"===(t=Rr[t.toLowerCase()]||t)[0]&&(t=t.substr(1)),parseInt(t,16)}var kr=function(){for(var t=[],e=[],n=0;n<32;n++)t[n]=n,e[n]=n;t[sr.NORMAL_NPM]=sr.NORMAL,t[sr.ADD_NPM]=sr.ADD,t[sr.SCREEN_NPM]=sr.SCREEN,e[sr.NORMAL]=sr.NORMAL_NPM,e[sr.ADD]=sr.ADD_NPM,e[sr.SCREEN]=sr.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}();function Fr(t,e){return kr[e?1:0][t]}function Nr(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var n=t>>16&255,r=t>>8&255,i=255&t;return(255*e<<24)+((n=n*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(i=i*e+.5|0)}function Br(t,e,n,r){return(n=n||new Float32Array(4))[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(255&t)/255,(r||void 0===r)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}function Ur(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}Float32Array,Uint32Array,Int32Array,Uint8Array;function Gr(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function zr(t){return!(t&t-1||!t)}function Hr(t){var e=(t>65535?1:0)<<4,n=((t>>>=e)>255?1:0)<<3;return e|=n,e|=n=((t>>>=n)>15?1:0)<<2,(e|=n=((t>>>=n)>3?1:0)<<1)|(t>>>=n)>>1}function jr(t,e,n){var r,i=t.length;if(!(e>=i||0===n)){var o=i-(n=e+n>i?i-e:n);for(r=e;r<o;++r)t[r]=t[r+n];t.length=o}}function Vr(t){return 0===t?0:t<0?-1:1}var Xr=0;function Wr(){return++Xr}var qr={};function Yr(t,e,n){if(void 0===n&&(n=3),!qr[e]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(r=r.split("\n").splice(n).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(r))),qr[e]=!0}}var $r={},Kr=Object.create(null),Zr=Object.create(null);var Jr=function(){function t(t,e,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||wr.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),t}();var Qr;function ti(t,e){var n=wr.RETINA_PREFIX.exec(t);return n?parseFloat(n[1]):void 0!==e?e:1}var ei,ni=2*Math.PI,ri=180/Math.PI,ii=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(ei||(ei={}));var oi=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(n),this.height=Number(r),this.type=ei.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(n-e,0),this.y=r,this.height=Math.max(i-r,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var n=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=n-this.x,this.height=r-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=n-e,this.y=r,this.height=i-r,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),si=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=t,this.y=e,this.radius=n,this.type=ei.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-t,i=this.y-e;return(r*=r)+(i*=i)<=n},t.prototype.getBounds=function(){return new oi(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),ai=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=n,this.height=r,this.type=ei.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,r=(e-this.y)/this.height;return(n*=n)+(r*=r)<=1},t.prototype.getBounds=function(){return new oi(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),li=function(){function t(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];var r=Array.isArray(e[0])?e[0]:e;if("number"!=typeof r[0]){for(var i=[],o=0,s=r.length;o<s;o++)i.push(r[o].x,r[o].y);r=i}this.points=r,this.type=ei.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var s=this.points[2*i],a=this.points[2*i+1],l=this.points[2*o],c=this.points[2*o+1];a>e!=c>e&&t<(e-a)/(c-a)*(l-s)+s&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce((function(t,e){return t+", "+e}),"")+"]"},t}(),ci=function(){function t(t,e,n,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=20),this.x=t,this.y=e,this.width=n,this.height=r,this.radius=i,this.type=ei.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var n=t-(this.x+this.radius),r=e-(this.y+this.radius),i=this.radius*this.radius;if(n*n+r*r<=i)return!0;if((n=t-(this.x+this.width-this.radius))*n+r*r<=i)return!0;if(n*n+(r=e-(this.y+this.height-this.radius))*r<=i)return!0;if((n=t-(this.x+this.radius))*n+r*r<=i)return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},t}(),ui=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),hi=function(){function t(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0),this._x=n,this._y=r,this.cb=t,this.scope=e}return t.prototype.clone=function(e,n){return void 0===e&&(e=this.cb),void 0===n&&(n=this.scope),new t(e,n,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),pi=function(){function t(t,e,n,r,i,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,n,r,i,o){return this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(t,e){e=e||new ui;var n=t.x,r=t.y;return e.x=this.a*n+this.c*r+this.tx,e.y=this.b*n+this.d*r+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new ui;var n=1/(this.a*this.d+this.c*-this.b),r=t.x,i=t.y;return e.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.a,i=this.c,o=this.tx;return this.a=r*e-this.b*n,this.b=r*n+this.b*e,this.c=i*e-this.d*n,this.d=i*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},t.prototype.append=function(t){var e=this.a,n=this.b,r=this.c,i=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*n+t.b*i,this.c=t.c*e+t.d*r,this.d=t.c*n+t.d*i,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*n+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,n,r,i,o,s,a,l){return this.a=Math.cos(s+l)*i,this.b=Math.sin(s+l)*i,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(n*this.a+r*this.c),this.ty=e-(n*this.b+r*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,r=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,n=this.b,r=this.c,i=this.d,o=t.pivot,s=-Math.atan2(-r,i),a=Math.atan2(n,e),l=Math.abs(s+a);return l<1e-5||Math.abs(ni-l)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=a),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(r*r+i*i),t.position.x=this.tx+(o.x*e+o.y*r),t.position.y=this.ty+(o.x*n+o.y*i),t},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=t*r-e*n;return this.a=r/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),di=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],fi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],mi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],gi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],vi=[],yi=[],bi=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];vi.push(e);for(var n=0;n<16;n++)for(var r=bi(di[t]*di[n]+mi[t]*fi[n]),i=bi(fi[t]*di[n]+gi[t]*fi[n]),o=bi(di[t]*mi[n]+mi[t]*gi[n]),s=bi(fi[t]*mi[n]+gi[t]*gi[n]),a=0;a<16;a++)if(di[a]===r&&fi[a]===i&&mi[a]===o&&gi[a]===s){e.push(a);break}}for(t=0;t<16;t++){var l=new pi;l.set(di[t],fi[t],mi[t],gi[t],0,0),yi.push(l)}}();var _i={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return di[t]},uY:function(t){return fi[t]},vX:function(t){return mi[t]},vY:function(t){return gi[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return vi[t][e]},sub:function(t,e){return vi[t][_i.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?_i.S:_i.N:2*Math.abs(e)<=Math.abs(t)?t>0?_i.E:_i.W:e>0?t>0?_i.SE:_i.SW:t>0?_i.NE:_i.NW},matrixAppendRotationInv:function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=yi[_i.inv(e)];i.tx=n,i.ty=r,t.append(i)}},xi=function(){function t(){this.worldTransform=new pi,this.localTransform=new pi,this.position=new hi(this.onChange,this,0,0),this.scale=new hi(this.onChange,this,1,1),this.pivot=new hi(this.onChange,this,0,0),this.skew=new hi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();wr.SORTABLE_CHILDREN=!1;var wi=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?oi.EMPTY:((t=t||new oi(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addPointMatrix=function(t,e){var n=t.a,r=t.b,i=t.c,o=t.d,s=t.tx,a=t.ty,l=n*e.x+i*e.y+s,c=r*e.x+o*e.y+a;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)},t.prototype.addQuad=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=t[0],s=t[1];e=o<e?o:e,n=s<n?s:n,r=o>r?o:r,i=s>i?s:i,e=(o=t[2])<e?o:e,n=(s=t[3])<n?s:n,r=o>r?o:r,i=s>i?s:i,e=(o=t[4])<e?o:e,n=(s=t[5])<n?s:n,r=o>r?o:r,i=s>i?s:i,e=(o=t[6])<e?o:e,n=(s=t[7])<n?s:n,r=o>r?o:r,i=s>i?s:i,this.minX=e,this.minY=n,this.maxX=r,this.maxY=i},t.prototype.addFrame=function(t,e,n,r,i){this.addFrameMatrix(t.worldTransform,e,n,r,i)},t.prototype.addFrameMatrix=function(t,e,n,r,i){var o=t.a,s=t.b,a=t.c,l=t.d,c=t.tx,u=t.ty,h=this.minX,p=this.minY,d=this.maxX,f=this.maxY,m=o*e+a*n+c,g=s*e+l*n+u;h=m<h?m:h,p=g<p?g:p,d=m>d?m:d,f=g>f?g:f,h=(m=o*r+a*n+c)<h?m:h,p=(g=s*r+l*n+u)<p?g:p,d=m>d?m:d,f=g>f?g:f,h=(m=o*e+a*i+c)<h?m:h,p=(g=s*e+l*i+u)<p?g:p,d=m>d?m:d,f=g>f?g:f,h=(m=o*r+a*i+c)<h?m:h,p=(g=s*r+l*i+u)<p?g:p,d=m>d?m:d,f=g>f?g:f,this.minX=h,this.minY=p,this.maxX=d,this.maxY=f},t.prototype.addVertexData=function(t,e,n){for(var r=this.minX,i=this.minY,o=this.maxX,s=this.maxY,a=e;a<n;a+=2){var l=t[a],c=t[a+1];r=l<r?l:r,i=c<i?c:i,o=l>o?l:o,s=c>s?c:s}this.minX=r,this.minY=i,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(t,e,n,r){this.addVerticesMatrix(t.worldTransform,e,n,r)},t.prototype.addVerticesMatrix=function(t,e,n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=i);for(var s=t.a,a=t.b,l=t.c,c=t.d,u=t.tx,h=t.ty,p=this.minX,d=this.minY,f=this.maxX,m=this.maxY,g=n;g<r;g+=2){var v=e[g],y=e[g+1],b=s*v+l*y+u,_=c*y+a*v+h;p=Math.min(p,b-i),f=Math.max(f,b+i),d=Math.min(d,_-o),m=Math.max(m,_+o)}this.minX=p,this.minY=d,this.maxX=f,this.maxY=m},t.prototype.addBounds=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var n=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(n<=i&&r<=o){var s=this.minX,a=this.minY,l=this.maxX,c=this.maxY;this.minX=n<s?n:s,this.minY=r<a?r:a,this.maxX=i>l?i:l,this.maxY=o>c?o:c}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var n=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(n<=i&&r<=o){var s=this.minX,a=this.minY,l=this.maxX,c=this.maxY;this.minX=n<s?n:s,this.minY=r<a?r:a,this.maxX=i>l?i:l,this.maxY=o>c?o:c}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,n,r,i,o){t-=i,e-=o,n+=i,r+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},t}(),Ei=function(t,e){return(Ei=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Si(t,e){function n(){this.constructor=t}Ei(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ti=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new xi,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new wi,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return Si(e,t),e.mixin=function(t){for(var n=Object.keys(t),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(t,i))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new oi),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new oi),t=this._localBoundsRect),this._localBounds||(this._localBounds=new wi);var e=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,i=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,t);return this.parent=n,this.transform=e,this._bounds=r,this._bounds.updateID+=this._boundsID-i,o},e.prototype.toGlobal=function(t,e,n){return void 0===n&&(n=!1),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,n,r){return e&&(t=e.toGlobal(t,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,n,r,i,o,s,a,l){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===l&&(l=0),this.position.x=t,this.position.y=e,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=l,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Ai),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*ri},set:function(t){this.transform.rotation=t*ii},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1);(this._mask=t,this._mask)&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),e}(Sr.a),Ai=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return Si(e,t),e}(Ti);function Mi(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Ti.prototype.displayObjectUpdateTransform=Ti.prototype.updateTransform;var Ci=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=wr.SORTABLE_CHILDREN,e.sortDirty=!1,e}return Si(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if(e.length>1)for(var r=0;r<e.length;r++)this.addChild(e[r]);else{var i=e[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(t);jr(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if(e.length>1)for(var r=0;r<e.length;r++)this.removeChild(e[r]);else{var i=e[0],o=this.children.indexOf(i);if(-1===o)return null;i.parent=null,i.transform._parentID=-1,jr(this.children,o,1),this._boundsID++,this.onChildrenChange(o),i.emit("removed",this),this.emit("childRemoved",i,this,o)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,jr(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var n,r=t,i=e-r;if(i>0&&i<=e){n=this.children.splice(r,i);for(var o=0;o<n.length;++o)n[o].parent=null,n[o].transform&&(n[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(o=0;o<n.length;++o)n[o].emit("removed",this),this.emit("childRemoved",n[o],this,o);return n}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,n=this.children.length;e<n;++e){var r=this.children[e];r._lastSortedIndex=e,t||0===r.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(Mi),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var n=this.children[t];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var n=e._mask.maskObject||e._mask;n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,n){void 0===n&&(n=!1);var r=t.prototype.getLocalBounds.call(this,e);if(!n)for(var i=0,o=this.children.length;i<o;++i){var s=this.children[i];s.visible&&s.updateTransform()}return r},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}n&&t.mask.push(this,this._mask),this._render(t);r=0;for(var i=this.children.length;r<i;r++)this.children[r].render(t);t.batch.flush(),n&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var n="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(n)for(var i=0;i<r.length;++i)r[i].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(Ti);Ci.prototype.containerUpdateTransform=Ci.prototype.updateTransform;Ti.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var Pi,Di=function(){function t(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(nr.tablet||nr.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))},t.prototype.deactivate=function(){var t;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}},t.prototype.update=function(){var t=performance.now();if(!(nr.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),n=e.left,r=e.top,i=e.width,o=e.height,s=this.renderer,a=s.width,l=s.height,c=s.resolution,u=i/a*c,h=o/l*c,p=this.div;p.style.left=n+"px",p.style.top=r+"px",p.style.width=a+"px",p.style.height=l+"px";for(var d=0;d<this.children.length;d++){var f=this.children[d];if(f.renderId!==this.renderId)f._accessibleActive=!1,jr(this.children,d,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,d--;else{p=f._accessibleDiv;var m=f.hitArea,g=f.worldTransform;f.hitArea?(p.style.left=(g.tx+m.x*g.a)*u+"px",p.style.top=(g.ty+m.y*g.d)*h+"px",p.style.width=m.width*g.a*u+"px",p.style.height=m.height*g.d*h+"px"):(m=f.getBounds(),this.capHitArea(m),p.style.left=m.x*u+"px",p.style.top=m.y*h+"px",p.style.width=m.width*u+"px",p.style.height=m.height*h+"px",p.title!==f.accessibleTitle&&null!==f.accessibleTitle&&(p.title=f.accessibleTitle),p.getAttribute("aria-label")!==f.accessibleHint&&null!==f.accessibleHint&&p.setAttribute("aria-label",f.accessibleHint)),f.accessibleTitle===p.title&&f.tabIndex===p.tabIndex||(p.title=f.accessibleTitle,p.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,n=e.width,r=e.height;t.x+t.width>n&&(t.width=n-t.x),t.y+t.height>r&&(t.height=r-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,n=t.target.displayObject,r=e.eventData;e.dispatchEvent(n,"click",r),e.dispatchEvent(n,"pointertap",r),e.dispatchEvent(n,"tap",r)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction,n=t.target.displayObject,r=e.eventData;e.dispatchEvent(n,"mouseover",r)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction,n=t.target.displayObject,r=e.eventData;e.dispatchEvent(n,"mouseout",r)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();wr.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(Pi||(Pi={}));var Ri=function(){function t(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=n,this.once=r}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),Oi=function(){function t(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Ri(null,null,1/0),this.deltaMS=1/wr.TARGET_FPMS,this.elapsedMS=1/wr.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,n){return void 0===n&&(n=Pi.NORMAL),this._addListener(new Ri(t,e,n))},t.prototype.addOnce=function(t,e,n){return void 0===n&&(n=Pi.NORMAL),this._addListener(new Ri(t,e,n,!0))},t.prototype._addListener=function(t){var e=this._head.next,n=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}else t.connect(n);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var n=this._head.next;n;)n=n.match(t,e)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*wr.TARGET_FPMS;for(var r=this._head,i=r.next;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,wr.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),Ii=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Pi.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Oi.shared:new Oi,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}(),Li=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new ui,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),ki=function(t,e){return(ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Fi=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),Ni=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),Bi=function(){function t(){this._tempPoint=new ui}return t.prototype.recursiveFindHit=function(t,e,n,r,i){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=i=e.interactive||i,l=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(r=!1,l=!1)),a=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(r=!1)),l&&e.interactiveChildren&&e.children)for(var c=e.children,u=c.length-1;u>=0;u--){var h=c[u],p=this.recursiveFindHit(t,h,n,r,a);if(p){if(!h.parent)continue;a=!1,p&&(t.target&&(r=!1),s=!0)}}return i&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),n&&n(t,e,!!s))),s},t.prototype.findHit=function(t,e,n,r){this.recursiveFindHit(t,e,n,r,!1)},t}(),Ui={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Ti.mixin(Ui);var Gi={target:null,data:{global:null}},zi=function(t){function e(e,n){var r=t.call(this)||this;return n=n||{},r.renderer=e,r.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,r.interactionFrequency=n.interactionFrequency||10,r.mouse=new Li,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new Fi,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!("PointerEvent"in self),r.supportsTouchEvents="ontouchstart"in self,r.supportsPointerEvents=!!self.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new Bi,r._tempDisplayObject=new Ai,r._eventListenerOptions={capture:!0,passive:!1},r._useSystemTicker=void 0===n.useSystemTicker||n.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function(t,e){function n(){this.constructor=t}ki(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return Gi.target=null,Gi.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(Gi,e,null,!0),Gi.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Oi.system.add(this.tickerUpdate,this,Pi.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(Oi.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){t=t||"default";var e=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(e=!1),this.currentCursorMode!==t){this.currentCursorMode=t;var n=this.cursorStyles[t];if(n)switch(typeof n){case"string":e&&(this.interactionDOMElement.style.cursor=n);break;case"function":n(t);break;case"object":e&&Object.assign(this.interactionDOMElement.style,n)}else e&&"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,n){n.stopPropagationHint&&t!==n.stopsPropagatingAt||(n.currentTarget=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},e.prototype.delayDispatchEvent=function(t,e,n){this.delayedEvents.push({displayObject:t,eventString:e,eventData:n})},e.prototype.mapPositionToPoint=function(t,e,n){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var i=1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*i,t.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},e.prototype.processInteractive=function(t,e,n,r){var i=this.search.findHit(t,e,n,r),o=this.delayedEvents;if(!o.length)return i;t.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var l=o[a],c=l.displayObject,u=l.eventString,h=l.eventData;h.stopsPropagatingAt===c&&(h.stopPropagationHint=!0),this.dispatchEvent(c,u,h)}return i},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===i.pointerType)this.emit("touchstart",s);else if("mouse"===i.pointerType||"pen"===i.pointerType){var a=2===i.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,n){var r=t.data,i=t.data.identifier;if(n)if(e.trackedPointers[i]||(e.trackedPointers[i]=new Ni(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,n){for(var r=this.normalizeToPointerData(t),i=r.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<i;s++){var a=r[s],l=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,l);if(c.data.originalEvent=t,this.processInteractive(c,this.lastObjectRendered,n,e||!o),this.emit(e?"pointercancel":"pointerup"+o,c),"mouse"===a.pointerType||"pen"===a.pointerType){var u=2===a.button;this.emit(u?"rightup"+o:"mouseup"+o,c)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,c),this.releaseInteractionDataForPointerId(a.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var n=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===n.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,n){var r=t.data,i=t.data.identifier,o=e.trackedPointers[i],s="touch"===r.pointerType,a="mouse"===r.pointerType||"pen"===r.pointerType,l=!1;if(a){var c=2===r.button,u=Ni.FLAGS,h=c?u.RIGHT_DOWN:u.LEFT_DOWN,p=void 0!==o&&o.flags&h;n?(this.dispatchEvent(e,c?"rightup":"mouseup",t),p&&(this.dispatchEvent(e,c?"rightclick":"click",t),l=!0)):p&&this.dispatchEvent(e,c?"rightupoutside":"mouseupoutside",t),o&&(c?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!l||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===i.pointerType&&this.emit("touchmove",s),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,n){var r=t.data,i="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(t,e,n),this.moveWhenInside&&!n||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}},e.prototype.processPointerOverOut=function(t,e,n){var r=t.data,i=t.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,s=e.trackedPointers[i];n&&!s&&(s=e.trackedPointers[i]=new Ni(i)),void 0!==s&&(n&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",r)},e.prototype.getInteractionDataForPointerId=function(t){var e,n=t.pointerId;return 1===n||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[n]?e=this.activeInteractionData[n]:((e=this.interactionDataPool.pop()||new Li).identifier=n,this.activeInteractionData[n]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,n){return t.data=n,this.mapPositionToPoint(n.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=n.global.x,e.globalY=n.global.y),n.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,r=t.changedTouches.length;n<r;n++){var i=t.changedTouches[n];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else if(self.MouseEvent&&(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof self.PointerEvent))e.push(t);else{var o=t;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=1),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(Sr.a),Hi=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,n,r,i,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var l=this,c=l.name,u=l.items;this._aliasCount++;for(var h=0,p=u.length;h<p;h++)u[h][c](t,e,n,r,i,o,s,a);return u===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Hi.prototype,{dispatch:{value:Hi.prototype.emit},run:{value:Hi.prototype.emit}}),wr.PREFER_ENV=nr.any?rr.WEBGL:rr.WEBGL2,wr.STRICT_TEXTURE_CACHE=!1;var ji=[];function Vi(t,e){if(!t)return null;var n="";if("string"==typeof t){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(var i=ji.length-1;i>=0;--i){var o=ji[i];if(o.test&&o.test(t,n))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var Xi=function(t,e){return(Xi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Wi(t,e){function n(){this.constructor=t}Xi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var qi=function(){return(qi=Object.assign||function(t){for(var e,n=arguments,r=1,i=arguments.length;r<i;r++)for(var o in e=n[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var Yi=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Hi("setRealSize"),this.onUpdate=new Hi("update"),this.onError=new Hi("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),$i=function(t){function e(e,n){var r=this,i=n||{},o=i.width,s=i.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(r=t.call(this,o,s)||this).data=e,r}return Wi(e,t),e.prototype.upload=function(t,e,n){var r=t.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===mr.UNPACK);var i=e.realWidth,o=e.realHeight;return n.width===i&&n.height===o?r.texSubImage2D(e.target,0,0,0,i,o,e.format,n.type,this.data):(n.width=i,n.height=o,r.texImage2D(e.target,0,n.internalFormat,i,o,0,e.format,n.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(Yi),Ki={scaleMode:pr.NEAREST,format:lr.RGBA,alphaMode:mr.NPM},Zi=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=t.call(this)||this,i=(n=n||{}).alphaMode,o=n.mipmap,s=n.anisotropicLevel,a=n.scaleMode,l=n.width,c=n.height,u=n.wrapMode,h=n.format,p=n.type,d=n.target,f=n.resolution,m=n.resourceOptions;return!e||e instanceof Yi||((e=Vi(e,m)).internal=!0),r.resolution=f||wr.RESOLUTION,r.width=Math.round((l||0)*r.resolution)/r.resolution,r.height=Math.round((c||0)*r.resolution)/r.resolution,r._mipmap=void 0!==o?o:wr.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==s?s:wr.ANISOTROPIC_LEVEL,r._wrapMode=u||wr.WRAP_MODE,r._scaleMode=void 0!==a?a:wr.SCALE_MODE,r.format=h||lr.RGBA,r.type=p||ur.UNSIGNED_BYTE,r.target=d||cr.TEXTURE_2D,r.alphaMode=void 0!==i?i:mr.UNPACK,r.uid=Wr(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=l>0&&c>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return Wi(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var n;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)},e.prototype.setRealSize=function(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=zr(this.realWidth)&&zr(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Zr[this.cacheId],delete Kr[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,n,r){void 0===r&&(r=wr.STRICT_TEXTURE_CACHE);var i="string"==typeof t,o=null;if(i)o=t;else{if(!t._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";t._pixiId=s+"_"+Wr()}o=t._pixiId}var a=Zr[o];if(i&&r&&!a)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return a||((a=new e(t,n)).cacheId=o,e.addToCache(a,o)),a},e.fromBuffer=function(t,n,r,i){t=t||new Float32Array(n*r*4);var o=new $i(t,{width:n,height:r}),s=t instanceof Float32Array?ur.FLOAT:ur.UNSIGNED_BYTE;return new e(o,Object.assign(Ki,i||{width:n,height:r,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Zr[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),Zr[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Zr[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete Zr[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete Zr[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(Sr.a),Ji=function(t){function e(e,n){var r=this,i=n||{},o=i.width,s=i.height;(r=t.call(this,o,s)||this).items=[],r.itemDirtyIds=[];for(var a=0;a<e;a++){var l=new Zi;r.items.push(l),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return Wi(e,t),e.prototype.initFromArray=function(t,e){for(var n=0;n<this.length;n++)t[n]&&(t[n].castToBaseTexture?this.addBaseTextureAt(t[n].castToBaseTexture(),n):t[n]instanceof Yi?this.addResourceAt(t[n],n):this.addResourceAt(Vi(t[n],e),n))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],n=e.realWidth,r=e.realHeight;return t.resize(n,r),Promise.resolve(t)})),this._load},e}(Yi),Qi=function(t){function e(e,n){var r,i,o=this,s=n||{},a=s.width,l=s.height;return Array.isArray(e)?(r=e,i=e.length):i=e,o=t.call(this,i,{width:a,height:l})||this,r&&o.initFromArray(r,n),o}return Wi(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=cr.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,n){var r=this.length,i=this.itemDirtyIds,o=this.items,s=t.gl;n.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,r,0,e.format,n.type,null);for(var a=0;a<r;a++){var l=o[a];i[a]<l.dirtyId&&(i[a]=l.dirtyId,l.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,l.resource.width,l.resource.height,1,e.format,n.type,l.resource.source))}return!0},e}(Ji),to=function(t){function e(e){var n=this,r=e,i=r.naturalWidth||r.videoWidth||r.width,o=r.naturalHeight||r.videoHeight||r.height;return(n=t.call(this,i,o)||this).source=e,n.noSubImage=!1,n}return Wi(e,t),e.crossOrigin=function(t,e,n){void 0===n&&0!==e.indexOf("data:")?t.crossOrigin=function(t,e){if(void 0===e&&(e=self.location),0===t.indexOf("data:"))return"";e=e||self.location,Qr||(Qr=document.createElement("a")),Qr.href=t;var n=Cr.parse(Qr.href),r=!n.port&&""===e.port||n.port===e.port;return n.hostname===e.hostname&&r&&n.protocol===e.protocol?"":"anonymous"}(e):!1!==n&&(t.crossOrigin="string"==typeof n?n:"anonymous")},e.prototype.upload=function(t,e,n,r){var i=t.gl,o=e.realWidth,s=e.realHeight;return r=r||this.source,i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===mr.UNPACK),this.noSubImage||e.target!==i.TEXTURE_2D||n.width!==o||n.height!==s?(n.width=o,n.height=s,i.texImage2D(e.target,0,n.internalFormat,e.format,n.type,r)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e.format,n.type,r),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Yi),eo=function(t){function e(e){return t.call(this,e)||this}return Wi(e,t),e.test=function(t){var e=self.OffscreenCanvas;return!!(e&&t instanceof e)||self.HTMLCanvasElement&&t instanceof HTMLCanvasElement},e}(to),no=function(t){function e(n,r){var i=this,o=r||{},s=o.width,a=o.height,l=o.autoLoad,c=o.linkBaseTexture;if(n&&n.length!==e.SIDES)throw new Error("Invalid length. Got "+n.length+", expected 6");i=t.call(this,6,{width:s,height:a})||this;for(var u=0;u<e.SIDES;u++)i.items[u].target=cr.TEXTURE_CUBE_MAP_POSITIVE_X+u;return i.linkBaseTexture=!1!==c,n&&i.initFromArray(n,r),!1!==l&&i.load(),i}return Wi(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=cr.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,n){if(void 0===n&&(n=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=cr.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,n,r){for(var i=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];i[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(t,s,r),i[o]=s.dirtyId):i[o]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,n.realWidth,n.realHeight,0,n.format,r.type,null),i[o]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(Ji),ro=function(t){function e(e,n){var r=this;if(n=n||{},!(e instanceof HTMLImageElement)){var i=new Image;to.crossOrigin(i,e,n.crossorigin),i.src=e,e=i}return r=t.call(this,e)||this,!e.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==n.createBitmap?n.createBitmap:wr.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,r.alphaMode="number"==typeof n.alphaMode?n.alphaMode:null,r.bitmap=null,r._load=null,!1!==n.autoLoad&&r.load(),r}return Wi(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,n){var r=e.source;e.url=r.src;var i=function(){e.destroyed||(r.onload=null,r.onerror=null,e.resize(r.width,r.height),e._load=null,e.createBitmap?t(e.process()):t(e))};r.complete&&r.src?i():(r.onload=i,r.onerror=function(t){n(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var n=self.createImageBitmap,r=!e.crossOrigin||"anonymous"===e.crossOrigin;return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then((function(t){return t.blob()})).then((function(r){return n(r,0,0,e.width,e.height,{premultiplyAlpha:t.alphaMode===mr.UNPACK?"premultiply":"none"})})).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process},e.prototype.upload=function(e,n,r){if("number"==typeof this.alphaMode&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,n,r,this.bitmap),!this.preserveBitmap){var i=!0,o=n._glTextures;for(var s in o){var a=o[s];if(a!==r&&a.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(to),io=function(t){function e(e,n){var r=this;return n=n||{},(r=t.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=n.scale||1,r._overrideWidth=n.width,r._overrideHeight=n.height,r._resolve=null,r._crossorigin=n.crossorigin,r._load=null,!1!==n.autoLoad&&r.load(),r}return Wi(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;to.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(n){t._resolve&&(e.onerror=null,t.onError.emit(n))},e.onload=function(){if(t._resolve){var n=e.width,r=e.height;if(!n||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=n*t.scale,o=r*t.scale;(t._overrideWidth||t._overrideHeight)&&(i=t._overrideWidth||t._overrideHeight/r*n,o=t._overrideHeight||t._overrideWidth/n*r),i=Math.round(i),o=Math.round(o);var s=t.source;s.width=i,s.height=o,s._pixiId="canvas_"+Wr(),s.getContext("2d").drawImage(e,0,0,n,r,0,0,i,o),t._resolve(),t._resolve=null}}},e.getSize=function(t){var n=e.SVG_SIZE.exec(t),r={};return n&&(r[n[1]]=Math.round(parseFloat(n[3])),r[n[5]]=Math.round(parseFloat(n[7]))),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,n){return"svg"===n||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&e.SVG_XML.test(t)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(to),oo=function(t){function e(n,r){var i=this;if(r=r||{},!(n instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof n&&(n=[n]);var s=n[0].src||n[0];to.crossOrigin(o,s,r.crossorigin);for(var a=0;a<n.length;++a){var l=document.createElement("source"),c=n[a],u=c.src,h=c.mime,p=(u=u||n[a]).split("?").shift().toLowerCase(),d=p.substr(p.lastIndexOf(".")+1);h=h||e.MIME_TYPES[d]||"video/"+d,l.src=u,l.type=h,o.appendChild(l)}n=o}return(i=t.call(this,n)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==r.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==r.autoLoad&&i.load(),i}return Wi(e,t),e.prototype.update=function(e){if(!this.destroyed){var n=Oi.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(n){t.valid?n(t):(t._resolve=n,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Oi.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Oi.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(Oi.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Oi.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Oi.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,n){return self.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(to),so=function(t){function e(e){return t.call(this,e)||this}return Wi(e,t),e.test=function(t){return!!self.createImageBitmap&&t instanceof ImageBitmap},e}(to);ji.push(ro,so,eo,oo,io,$i,no,Qi);var ao={__proto__:null,Resource:Yi,BaseImageResource:to,INSTALLED:ji,autoDetectResource:Vi,AbstractMultiResource:Ji,ArrayResource:Qi,BufferResource:$i,CanvasResource:eo,CubeResource:no,ImageResource:ro,SVGResource:io,VideoResource:oo,ImageBitmapResource:so},lo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wi(e,t),e.prototype.upload=function(t,e,n){var r=t.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===mr.UNPACK);var i=e.realWidth,o=e.realHeight;return n.width===i&&n.height===o?r.texSubImage2D(e.target,0,0,0,i,o,e.format,n.type,this.data):(n.width=i,n.height=o,r.texImage2D(e.target,0,n.internalFormat,i,o,0,e.format,n.type,this.data)),!0},e}($i),co=function(){function t(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Hi("disposeFramebuffer"),this.multisample=_r.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new Zi(null,{scaleMode:pr.NEAREST,resolution:1,mipmap:fr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Zi(new lo(null,{width:this.width,height:this.height}),{scaleMode:pr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:fr.OFF,format:lr.DEPTH_COMPONENT,type:ur.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var r=this.colorTextures[n],i=r.resolution;r.setSize(t/i,e/i)}if(this.depthTexture){i=this.depthTexture.resolution;this.depthTexture.setSize(t/i,e/i)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),uo=function(t){function e(e){var n=this;if("number"==typeof e){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3];e={width:r,height:i,scaleMode:o,resolution:s}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:_r.NONE,(n=t.call(this,null,e)||this).mipmap=fr.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new co(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=e.multisample,n.maskStack=[],n.filterStack=[{}],n}return Wi(e,t),e.prototype.resize=function(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(Zi),ho=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,n){var r=e.width,i=e.height;if(n){var o=t.width/2/r,s=t.height/2/i,a=t.x/r+o,l=t.y/i+s;n=_i.add(n,_i.NW),this.x0=a+o*_i.uX(n),this.y0=l+s*_i.uY(n),n=_i.add(n,2),this.x1=a+o*_i.uX(n),this.y1=l+s*_i.uY(n),n=_i.add(n,2),this.x2=a+o*_i.uX(n),this.y2=l+s*_i.uY(n),n=_i.add(n,2),this.x3=a+o*_i.uX(n),this.y3=l+s*_i.uY(n)}else this.x0=t.x/r,this.y0=t.y/i,this.x1=(t.x+t.width)/r,this.y1=t.y/i,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/i,this.x3=t.x/r,this.y3=(t.y+t.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},t}(),po=new ho,fo=function(t){function e(n,r,i,o,s,a){var l=t.call(this)||this;if(l.noFrame=!1,r||(l.noFrame=!0,r=new oi(0,0,1,1)),n instanceof e&&(n=n.baseTexture),l.baseTexture=n,l._frame=r,l.trim=o,l.valid=!1,l._uvs=po,l.uvMatrix=null,l.orig=i||r,l._rotate=Number(s||0),!0===s)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new ui(a.x,a.y):new ui(0,0),l._updateID=0,l.textureCacheIds=[],n.valid?l.noFrame?n.valid&&l.onBaseTextureUpdated(n):l.frame=r:n.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&n.on("update",l.onBaseTextureUpdated,l),l}return Wi(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var n=this.baseTexture.resource;n&&n.url&&Kr[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var t=this._frame.clone(),n=this._frame===this.orig?t:this.orig.clone(),r=new e(this.baseTexture,!this.noFrame&&t,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=t),r},e.prototype.updateUvs=function(){this._uvs===po&&(this._uvs=new ho),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,n,r){void 0===n&&(n={}),void 0===r&&(r=wr.STRICT_TEXTURE_CACHE);var i="string"==typeof t,o=null;if(i)o=t;else{if(!t._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";t._pixiId=s+"_"+Wr()}o=t._pixiId}var a=Kr[o];if(i&&r&&!a)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return a||(n.resolution||(n.resolution=ti(t)),(a=new e(new Zi(t,n))).baseTexture.cacheId=o,Zi.addToCache(a.baseTexture,o),e.addToCache(a,o)),a},e.fromURL=function(t,n){var r=Object.assign({autoLoad:!1},null==n?void 0:n.resourceOptions),i=e.from(t,Object.assign({resourceOptions:r},n),!1),o=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):o.load().then((function(){return Promise.resolve(i)}))},e.fromBuffer=function(t,n,r,i){return new e(Zi.fromBuffer(t,n,r,i))},e.fromLoader=function(t,n,r,i){var o=new Zi(t,Object.assign({scaleMode:wr.SCALE_MODE,resolution:ti(n)},i)),s=o.resource;s instanceof ro&&(s.url=n);var a=new e(o);return r||(r=n),Zi.addToCache(a.baseTexture,r),e.addToCache(a,r),r!==n&&(Zi.addToCache(a.baseTexture,n),e.addToCache(a,n)),a.baseTexture.valid?Promise.resolve(a):new Promise((function(t){a.baseTexture.once("loaded",(function(){return t(a)}))}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Kr[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),Kr[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Kr[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete Kr[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)Kr[t.textureCacheIds[r]]===t&&delete Kr[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,n=t.y,r=t.width,i=t.height,o=e+r>this.baseTexture.width,s=n+i>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",l="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,c="Y: "+n+" + "+i+" = "+(n+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+a+" "+c)}this.valid=r&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(Sr.a);function mo(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}fo.EMPTY=new fo(new Zi),mo(fo.EMPTY),mo(fo.EMPTY.baseTexture),fo.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new fo(new Zi(new eo(t)))}(),mo(fo.WHITE),mo(fo.WHITE.baseTexture);var go=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return Wi(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(t){this.framebuffer.multisample=t},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,n){void 0===n&&(n=!0);var r=this.baseTexture.resolution,i=Math.round(t*r)/r,o=Math.round(e*r)/r;this.valid=i>0&&o>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(i,o),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){for(var n=arguments,r=[],i=1;i<arguments.length;i++)r[i-1]=n[i];return"number"==typeof t&&(Yr("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),t={width:t,height:r[0],scaleMode:r[1],resolution:r[2]}),new e(new uo(t))},e}(fo),vo=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e,n){void 0===n&&(n=_r.NONE);var r=new uo(Object.assign({width:t,height:e,resolution:1,multisample:n},this.textureOptions));return new go(r)},t.prototype.getOptimalTexture=function(t,e,n,r){var i;void 0===n&&(n=1),void 0===r&&(r=_r.NONE),t=Math.ceil(t*n),e=Math.ceil(e*n),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?i=r>1?-r:-1:(i=((65535&(t=Gr(t)))<<16|65535&(e=Gr(e)))>>>0,r>1&&(i+=4294967296*r)),this.texturePool[i]||(this.texturePool[i]=[]);var o=this.texturePool[i].pop();return o||(o=this.createTexture(t,e,r)),o.filterPoolKey=i,o.setResolution(n),o},t.prototype.getFilterTexture=function(t,e,n){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution,n||_r.NONE);return r.filterFrame=t.filterFrame,r},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var n=this.texturePool[e];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var n=this.texturePool[e];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},t.SCREEN_KEY=-1,t}(),yo=function(){function t(t,e,n,r,i,o,s){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===r&&(r=ur.FLOAT),this.buffer=t,this.size=e,this.normalized=n,this.type=r,this.stride=i,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,n,r,i,o){return new t(e,n,r,i,o)},t}(),bo=0,_o=function(){function t(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=e,this.id=bo++,this.disposeRunner=new Hi("disposeBuffer")}return t.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===xr.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?xr.ELEMENT_ARRAY_BUFFER:xr.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),xo={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var wo={5126:4,5123:2,5121:1},Eo=0,So={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},To=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Eo++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Hi("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,n,r,i,o,s,a){if(void 0===n&&(n=0),void 0===r&&(r=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof _o||(e instanceof Array&&(e=new Float32Array(e)),e=new _o(e));var l=t.split("|");if(l.length>1){for(var c=0;c<l.length;c++)this.addAttribute(l[c],e,n,r,i);return this}var u=this.buffers.indexOf(e);return-1===u&&(this.buffers.push(e),u=this.buffers.length-1),this.attributes[t]=new yo(u,n,r,i,o,s,a),this.instanced=this.instanced||a,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof _o||(t instanceof Array&&(t=new Uint16Array(t)),t=new _o(t)),t.type=xr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],n=[],r=new _o;for(t in this.attributes){var i=this.attributes[t],o=this.buffers[i.buffer];e.push(o.data),n.push(i.size*wo[i.type]/4),i.buffer=0}for(r.data=function(t,e){for(var n=0,r=0,i={},o=0;o<t.length;o++)r+=e[o],n+=t[o].length;var s=new ArrayBuffer(4*n),a=null,l=0;for(o=0;o<t.length;o++){var c=e[o],u=t[o],h=Ur(u);i[h]||(i[h]=new xo[h](s)),a=i[h];for(var p=0;p<u.length;p++){a[(p/c|0)*r+l+p%c]=u[p]}l+=c}return new Float32Array(s)}(e,n),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,n=0;n<this.buffers.length;n++)e.buffers[n]=new _o(this.buffers[n].data.slice(0));for(var n in this.attributes){var r=this.attributes[n];e.attributes[n]=new yo(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=xr.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var n,r=new t,i=[],o=[],s=[],a=0;a<e.length;a++){n=e[a];for(var l=0;l<n.buffers.length;l++)o[l]=o[l]||0,o[l]+=n.buffers[l].data.length,s[l]=0}for(a=0;a<n.buffers.length;a++)i[a]=new(So[Ur(n.buffers[a].data)])(o[a]),r.buffers[a]=new _o(i[a]);for(a=0;a<e.length;a++){n=e[a];for(l=0;l<n.buffers.length;l++)i[l].set(n.buffers[l].data,s[l]),s[l]+=n.buffers[l].data.length}if(r.attributes=n.attributes,n.indexBuffer){r.indexBuffer=r.buffers[n.buffers.indexOf(n.indexBuffer)],r.indexBuffer.type=xr.ELEMENT_ARRAY_BUFFER;var c=0,u=0,h=0,p=0;for(a=0;a<n.buffers.length;a++)if(n.buffers[a]!==n.indexBuffer){p=a;break}for(var a in n.attributes){var d=n.attributes[a];(0|d.buffer)===p&&(u+=d.size*wo[d.type]/4)}for(a=0;a<e.length;a++){var f=e[a].indexBuffer.data;for(l=0;l<f.length;l++)r.indexBuffer.data[l+h]+=c;c+=e[a].buffers[p].data.length/u,h+=f.length}}return r},t}(),Ao=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return Wi(e,t),e}(To),Mo=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new _o(e.vertices),e.uvBuffer=new _o(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return Wi(e,t),e.prototype.map=function(t,e){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+e.width/t.width,this.uvs[3]=r,this.uvs[4]=n+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=n,this.uvs[7]=r+e.height/t.height,n=e.x,r=e.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+e.width,this.vertices[3]=r,this.vertices[4]=n+e.width,this.vertices[5]=r+e.height,this.vertices[6]=n,this.vertices[7]=r+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(To),Co=0,Po=function(){function t(t,e,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Co++,this.static=!!e,this.ubo=!!n,t instanceof _o?(this.buffer=t,this.buffer.type=xr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new _o(new Float32Array(1)),this.buffer.type=xr.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,n,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new t(n,r)},t.from=function(e,n,r){return new t(e,n,r)},t.uboFrom=function(e,n){return new t(e,null==n||n,!0)},t}(),Do=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=_r.NONE,this.sourceFrame=new oi,this.destinationFrame=new oi,this.bindingSourceFrame=new oi,this.bindingDestinationFrame=new oi,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Ro=[new ui,new ui,new ui,new ui],Oo=new pi,Io=function(){function t(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new vo,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new Ao,this.quadUv=new Mo,this.tempRect=new oi,this.activeState={},this.globalUniforms=new Po({outputFrame:new oi,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(t,e){for(var n=this.renderer,r=this.defaultFilterStack,i=this.statePool.pop()||new Do,o=this.renderer.renderTexture,s=e[0].resolution,a=e[0].multisample,l=e[0].padding,c=e[0].autoFit,u=e[0].legacy,h=1;h<e.length;h++){var p=e[h];s=Math.min(s,p.resolution),a=Math.min(a,p.multisample),l=this.useMaxPadding?Math.max(l,p.padding):l+p.padding,c=c&&p.autoFit,u=u||p.legacy}if(1===r.length&&(this.defaultFilterStack[0].renderTexture=o.current),r.push(i),i.resolution=s,i.multisample=a,i.legacy=u,i.target=t,i.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),i.sourceFrame.pad(l),c){var d=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Oo.copyFrom(n.projection.transform).invert(),d),i.sourceFrame.fit(d)}this.roundFrame(i.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,s,a),i.filters=e,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height;var f=this.tempRect;f.x=0,f.y=0,f.width=i.sourceFrame.width,f.height=i.sourceFrame.height,i.renderTexture.filterFrame=i.sourceFrame,i.bindingSourceFrame.copyFrom(o.sourceFrame),i.bindingDestinationFrame.copyFrom(o.destinationFrame),i.transform=n.projection.transform,n.projection.transform=null,o.bind(i.renderTexture,i.sourceFrame,f),n.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),n=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var i=r.inputSize,o=r.inputPixel,s=r.inputClamp;if(i[0]=e.destinationFrame.width,i[1]=e.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],o[0]=Math.round(i[0]*e.resolution),o[1]=Math.round(i[1]*e.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*i[2]-.5*o[2],s[3]=e.sourceFrame.height*i[3]-.5*o[3],e.legacy){var a=r.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var l=t[t.length-1];if(this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,e.renderTexture,l.renderTexture,gr.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var c=e.renderTexture,u=this.getOptimalFilterTexture(c.width,c.height,e.resolution);u.filterFrame=c.filterFrame;var h=0;for(h=0;h<n.length-1;++h){1===h&&e.multisample>1&&((u=this.getOptimalFilterTexture(c.width,c.height,e.resolution)).filterFrame=c.filterFrame),n[h].apply(this,c,u,gr.CLEAR,e);var p=c;c=u,u=p}n[h].apply(this,c,l.renderTexture,gr.BLEND,e),h>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(u)}e.clear(),this.statePool.push(e)},t.prototype.bindAndClear=function(t,e){void 0===e&&(e=gr.CLEAR);var n=this.renderer,r=n.renderTexture,i=n.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,r.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=1&i.stateId||this.forceClear;(e===gr.CLEAR||e===gr.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(t,e,n,r){var i=this.renderer;i.state.set(t.state),this.bindAndClear(n,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,i.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(ar.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(ar.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(t,e){var n=this.activeState,r=n.sourceFrame,i=n.destinationFrame,o=e._texture.orig,s=t.set(i.width,0,0,i.height,r.x,r.y),a=e.worldTransform.copyTo(pi.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(t,e,n,r){return void 0===n&&(n=1),void 0===r&&(r=_r.NONE),this.texturePool.getOptimalTexture(t,e,n,r)},t.prototype.getFilterTexture=function(t,e,n){if("number"==typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,n||_r.NONE);return i.filterFrame=t.filterFrame,i},t.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(t,e){var n=Ro[0],r=Ro[1],i=Ro[2],o=Ro[3];n.set(e.left,e.top),r.set(e.left,e.bottom),i.set(e.right,e.top),o.set(e.right,e.bottom),t.apply(n,n),t.apply(r,r),t.apply(i,i),t.apply(o,o);var s=Math.min(n.x,r.x,i.x,o.x),a=Math.min(n.y,r.y,i.y,o.y),l=Math.max(n.x,r.x,i.x,o.x),c=Math.max(n.y,r.y,i.y,o.y);e.x=s,e.y=a,e.width=l-s,e.height=c-a},t.prototype.roundFrame=function(t,e,n,r,i){if(i){var o=i.a,s=i.b,a=i.c,l=i.d;if((Math.abs(s)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}(i=i?Oo.copyFrom(i):Oo.identity()).translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.transformAABB(i,t),t.ceil(e),this.transformAABB(i.invert(),t)},t}(),Lo=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),ko=function(){function t(t){this.renderer=t,this.emptyRenderer=new Lo(t),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(t,e){for(var n=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=n[r]||null,t[r]&&(t[r]._batchLocation=r)},t.prototype.boundArray=function(t,e,n,r){for(var i=t.elements,o=t.ids,s=t.count,a=0,l=0;l<s;l++){var c=i[l],u=c._batchLocation;if(u>=0&&u<r&&e[u]===c)o[l]=u;else for(;a<r;){var h=e[a];if(!h||h._batchEnabled!==n||h._batchLocation!==a){o[l]=a,c._batchLocation=a,e[a]=c;break}a++}}},t.prototype.destroy=function(){this.renderer=null},t}(),Fo=0,No=function(){function t(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Fo++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Fo++,this.renderer.runners.contextChange.emit(t)},t.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},t.prototype.createContext=function(t,e){var n;if(wr.PREFER_ENV>=rr.WEBGL2&&(n=t.getContext("webgl2",e)),n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(t){t.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(t){var e=t.getContextAttributes(),n="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;n&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),Bo=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=_r.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},Uo=new oi,Go=function(){function t(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new co(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new oi,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;wr.PREFER_ENV===rr.WEBGL_LEGACY&&(e=null,n=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},t.prototype.bind=function(t,e,n){void 0===n&&(n=0);var r=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==n&&(t.dirtyId++,t.dirtyFormat++,i.mipLevel=n),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,i.dirtySize=t.dirtySize,this.updateFramebuffer(t,n)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var o=0;o<t.colorTextures.length;o++){var s=t.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var a=e.width>>n,l=e.height>>n,c=a/e.width;this.setViewport(e.x*c,e.y*c,a,l)}else{a=t.width>>n,l=t.height>>n;this.setViewport(0,0,a,l)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(t,e,n,r){var i=this.viewport;t=Math.round(t),e=Math.round(e),n=Math.round(n),r=Math.round(r),i.width===n&&i.height===r&&i.x===t&&i.y===e||(i.x=t,i.y=e,i.width=n,i.height=r,this.gl.viewport(t,e,n,r))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(t,e,n,r,i){void 0===i&&(i=or.COLOR|or.DEPTH);var o=this.gl;o.clearColor(t,e,n,r),o.clear(i)},t.prototype.initFramebuffer=function(t){var e=this.gl,n=new Bo(e.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(t){var e=this.gl,n=t.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,n.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.RGBA8,t.width,t.height)),n.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,n.stencil),n.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,i=r.length;e.drawBuffers||(i=Math.min(i,1));for(var o=0;o<i;o++){var s=r[o],a=s.parentTextureArray||s;this.renderer.texture.bind(a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},t.prototype.updateFramebuffer=function(t,e){var n=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures,o=i.length;n.drawBuffers||(o=Math.min(o,1)),r.multisample>1&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.RGBA8,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(n.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var s=[],a=0;a<o;a++){var l=i[a],c=l.parentTextureArray||l;this.renderer.texture.bind(c,0),0===a&&r.msaaBuffer||(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+a,l.target,c._glTextures[this.CONTEXT_UID].texture,e),s.push(n.COLOR_ATTACHMENT0+a))}if((s.length>1&&n.drawBuffers(s),t.depthTexture)&&this.writeDepthTexture){var u=t.depthTexture;this.renderer.texture.bind(u,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(n.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,r.stencil))},t.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},t.prototype.detectSamples=function(t){var e=this.msaaSamples,n=_r.NONE;if(t<=1||null===e)return n;for(var r=0;r<e.length;r++)if(e[r]<=t){n=e[r];break}return 1===n&&(n=_r.NONE),n},t.prototype.blit=function(t,e,n){var r=this.current,i=this.renderer,o=this.gl,s=this.CONTEXT_UID;if(2===i.context.webGLVersion&&r){var a=r.glFramebuffers[s];if(a){if(!t){if(!a.msaaBuffer)return;var l=r.colorTextures[0];if(!l)return;a.blitFramebuffer||(a.blitFramebuffer=new co(r.width,r.height),a.blitFramebuffer.addColorTexture(0,l)),(t=a.blitFramebuffer).colorTextures[0]!==l&&(t.colorTextures[0]=l,t.dirtyId++,t.dirtyFormat++),t.width===r.width&&t.height===r.height||(t.width=r.width,t.height=r.height,t.dirtyId++,t.dirtySize++)}e||((e=Uo).width=r.width,e.height=r.height),n||(n=e);var c=e.width===n.width&&e.height===n.height;this.bind(t),o.bindFramebuffer(o.READ_FRAMEBUFFER,a.framebuffer),o.blitFramebuffer(e.x,e.y,e.width,e.height,n.x,n.y,n.width,n.height,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR)}}},t.prototype.disposeFramebuffer=function(t,e){var n=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(n){delete t.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(t);i>=0&&this.managedFramebuffers.splice(i,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&r.deleteRenderbuffer(n.msaaBuffer),n.stencil&&r.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<e.length;n++)this.disposeFramebuffer(e[n],t)},t.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var n=t.width,r=t.height,i=this.gl,o=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,o),e.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,e.multisample,i.DEPTH24_STENCIL8,n,r):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,n,r),e.stencil=o,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new oi},t.prototype.destroy=function(){this.renderer=null},t}(),zo={5126:4,5123:2,5121:1},Ho=function(){function t(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var n=this.renderer.context.extensions.vertexArrayObject;wr.PREFER_ENV===rr.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=function(){return n.createVertexArrayOES()},t.bindVertexArray=function(t){return n.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return n.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(t,e){return r.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,n,i,o){return r.drawElementsInstancedANGLE(t,e,n,i,o)},t.drawArraysInstanced=function(t,e,n,i){return r.drawArraysInstancedANGLE(t,e,n,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},t.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var n=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],i=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},i=!0);var o=r[e.program.id]||this.initGeometryVao(t,e,i);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,n=0;n<t.buffers.length;n++){var r=t.buffers[n];e.update(r)}},t.prototype.checkCompatibility=function(t,e){var n=t.attributes,r=e.attributeData;for(var i in r)if(!n[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},t.prototype.getSignature=function(t,e){var n=t.attributes,r=e.attributeData,i=["g",t.id];for(var o in n)r[o]&&i.push(o);return i.join("-")},t.prototype.initGeometryVao=function(t,e,n){void 0===n&&(n=!0);var r=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,s=e.program;s.glPrograms[i]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,s);var a=this.getSignature(t,s),l=t.glVertexArrayObjects[this.CONTEXT_UID],c=l[a];if(c)return l[s.id]=c,c;var u=t.buffers,h=t.attributes,p={},d={};for(var f in u)p[f]=0,d[f]=0;for(var f in h)!h[f].size&&s.attributeData[f]?h[f].size=s.attributeData[f].size:h[f].size||console.warn("PIXI Geometry attribute '"+f+"' size cannot be determined (likely the bound shader does not have the attribute)"),p[h[f].buffer]+=h[f].size*zo[h[f].type];for(var f in h){var m=h[f],g=m.size;void 0===m.stride&&(p[m.buffer]===g*zo[m.type]?m.stride=0:m.stride=p[m.buffer]),void 0===m.start&&(m.start=d[m.buffer],d[m.buffer]+=g*zo[m.type])}c=r.createVertexArray(),r.bindVertexArray(c);for(var v=0;v<u.length;v++){var y=u[v];o.bind(y),n&&y._glBuffers[i].refCount++}return this.activateVao(t,s),this._activeVao=c,l[s.id]=c,l[a]=c,c},t.prototype.disposeGeometry=function(t,e){var n;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,o=t.buffers,s=null===(n=this.renderer)||void 0===n?void 0:n.buffer;if(t.disposeRunner.remove(this),r){if(s)for(var a=0;a<o.length;a++){var l=o[a]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,0!==l.refCount||e||s.dispose(o[a],e))}if(!e)for(var c in r)if("g"===c[0]){var u=r[c];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),n=0;n<e.length;n++)this.disposeGeometry(this.managedGeometries[e[n]],t)},t.prototype.activateVao=function(t,e){var n=this.gl,r=this.CONTEXT_UID,i=this.renderer.buffer,o=t.buffers,s=t.attributes;t.indexBuffer&&i.bind(t.indexBuffer);var a=null;for(var l in s){var c=s[l],u=o[c.buffer],h=u._glBuffers[r];if(e.attributeData[l]){a!==h&&(i.bind(u),a=h);var p=e.attributeData[l].location;if(n.enableVertexAttribArray(p),n.vertexAttribPointer(p,c.size,c.type||n.FLOAT,c.normalized,c.stride,c.start),c.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");n.vertexAttribDivisor(p,1)}}}},t.prototype.draw=function(t,e,n,r){var i=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?i.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(n||0)*s,r||1):i.drawElements(t,e||o.indexBuffer.data.length,a,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?i.drawArraysInstanced(t,n,e||o.getSize(),r||1):i.drawArrays(t,n,e||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),jo=function(){function t(t){void 0===t&&(t=null),this.type=br.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=wr.FILTER_MULTISAMPLE,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=br.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function Vo(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function Xo(t,e){var n=t.getShaderSource(e).split("\n").map((function(t,e){return e+": "+t})),r=t.getShaderInfoLog(e),i=r.split("\n"),o={},s=i.map((function(t){return parseFloat(t.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))})).filter((function(t){return!(!t||o[t])&&(o[t]=!0,!0)})),a=[""];s.forEach((function(t){n[t-1]="%c"+n[t-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));var l=n.join("\n");a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function Wo(t){for(var e=new Array(t),n=0;n<e.length;n++)e[n]=!1;return e}function qo(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Wo(2*e);case"bvec3":return Wo(3*e);case"bvec4":return Wo(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Yo,$o={},Ko=$o;function Zo(){if(!Yo){Yo=yr.MEDIUM;var t=function(){if(Ko===$o||Ko&&Ko.isContextLost()){var t=document.createElement("canvas"),e=void 0;wr.PREFER_ENV>=rr.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),Ko=e}return Ko}();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Yo=e.precision?yr.HIGH:yr.MEDIUM}}return Yo}function Jo(t,e,n){if("precision"!==t.substring(0,9)){var r=e;return e===yr.HIGH&&n!==yr.HIGH&&(r=yr.MEDIUM),"precision "+r+" float;\n"+t}return n!==yr.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var Qo={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function ts(t){return Qo[t]}var es=null,ns={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function rs(t,e){if(!es){var n=Object.keys(ns);es={};for(var r=0;r<n.length;++r){var i=n[r];es[t[i]]=ns[i]}}return es[e]}var is=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '},codeUbo:function(t){return"\n                var "+t+"_matrix = uv."+t+".toArray(true);\n\n                data[offset] = "+t+"_matrix[0];\n                data[offset+1] = "+t+"_matrix[1];\n                data[offset+2] = "+t+"_matrix[2];\n        \n                data[offset + 4] = "+t+"_matrix[3];\n                data[offset + 5] = "+t+"_matrix[4];\n                data[offset + 6] = "+t+"_matrix[5];\n        \n                data[offset + 8] = "+t+"_matrix[6];\n                data[offset + 9] = "+t+"_matrix[7];\n                data[offset + 10] = "+t+"_matrix[8];\n            "}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'},codeUbo:function(t){return"\n                v = uv."+t+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(t){return"\n                    v = uv."+t+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],os={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",uint:"gl.uniform1ui(location, v)",uvec2:"gl.uniform2ui(location, v[0], v[1])",uvec3:"gl.uniform3ui(location, v[0], v[1], v[2])",uvec4:"gl.uniform4ui(location, v[0], v[1], v[2], v[3])",bool:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1i(location, v)\n    }",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},ss={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var as,ls=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function cs(t){for(var e="",n=0;n<t;++n)n>0&&(e+="\nelse "),n<t-1&&(e+="if(test == "+n+".0){}");return e}var us=0,hs={},ps=function(){function t(e,n,r){void 0===r&&(r="pixi-shader"),this.id=us++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),hs[r]?(hs[r]++,r+="-"+hs[r]):hs[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=Jo(this.vertexSrc,wr.PRECISION_VERTEX,yr.HIGH),this.fragmentSrc=Jo(this.fragmentSrc,wr.PRECISION_FRAGMENT,Zo())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,n,r){var i=e+n,o=$r[i];return o||($r[i]=o=new t(e,n,r)),o},t}(),ds=function(){function t(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof Po?e:new Po(e):new Po({})}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var n in e.uniforms){var r=e.uniforms[n];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,n,r){return new t(ps.from(e,n),r)},t}(),fs=function(){function t(){this.data=0,this.blendMode=sr.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==sr.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),ms=function(t){function e(n,r,i){var o=this,s=ps.from(n||e.defaultVertexSrc,r||e.defaultFragmentSrc);return(o=t.call(this,s,i)||this).padding=0,o.resolution=wr.FILTER_RESOLUTION,o.multisample=wr.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new fs,o}return Wi(e,t),e.prototype.apply=function(t,e,n,r,i){t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(ds),gs=new pi,vs=function(){function t(t,e){this._texture=t,this.mapCoord=new pi,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var n=this.mapCoord,r=0;r<t.length;r+=2){var i=t[r],o=t[r+1];e[r]=i*n.a+o*n.c+n.tx,e[r+1]=i*n.b+o*n.d+n.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=e.orig,i=e.trim;i&&(gs.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(gs));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(e._frame.x+a+l)/o.width,s[1]=(e._frame.y+a+l)/o.height,s[2]=(e._frame.x+e._frame.width-a+l)/o.width,s[3]=(e._frame.y+e._frame.height-a+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},t}(),ys=function(t){function e(e){var n=this,r=new pi;return n=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,n.maskSprite=e,n.maskMatrix=r,n}return Wi(e,t),e.prototype.apply=function(t,e,n,r){var i=this.maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new vs(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,n,r))},e}(ms),bs=function(){function t(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},t.prototype.push=function(t,e){var n=e;if(!n.isMaskData){var r=this.maskDataPool.pop()||new jo;r.pooled=!0,r.maskObject=e,n=r}switch(n.autoDetect&&this.detect(n),n.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),n._target=t,n.type){case br.SCISSOR:this.maskStack.push(n),this.renderer.scissor.push(n);break;case br.STENCIL:this.maskStack.push(n),this.renderer.stencil.push(n);break;case br.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n),this.maskStack.push(n)}},t.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case br.SCISSOR:this.renderer.scissor.pop();break;case br.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case br.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},t.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=br.SPRITE;else if(t.type=br.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var n=e.worldTransform,r=Math.atan2(n.b,n.a),i=Math.atan2(n.d,n.c);r=Math.round(r*(180/Math.PI)*100),i=((i=Math.round(i*(180/Math.PI)*100)-r)%18e3+18e3)%18e3,0===(r=(r%9e3+9e3)%9e3)&&9e3===i&&(t.type=br.SCISSOR)}},t.prototype.pushSpriteMask=function(t){var e,n,r=t.maskObject,i=t._target,o=this.alphaMaskPool[this.alphaMaskIndex];o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new ys(r)]);var s,a,l=this.renderer,c=l.renderTexture;if(c.current){var u=c.current;s=t.resolution||u.resolution,a=null!==(e=t.multisample)&&void 0!==e?e:u.multisample}else s=t.resolution||l.resolution,a=null!==(n=t.multisample)&&void 0!==n?n:l.multisample;o[0].resolution=s,o[0].multisample=a,o[0].maskSprite=r;var h=i.filterArea;i.filterArea=r.getBounds(!0),l.filter.push(i,o),i.filterArea=h,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},t.prototype.destroy=function(){this.renderer=null},t}(),_s=function(){function t(t){this.renderer=t,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(t){var e=this.renderer.gl,n=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==n&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),xs=function(t){function e(e){var n=t.call(this,e)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return Wi(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var n=t._scissorRect,r=e.getBounds(!0),i=this.renderer.gl;e.renderable=!1,n?r.fit(n):i.enable(i.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=r,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,n=this.renderer.projection,r=n.transform,i=n.sourceFrame,o=n.destinationFrame,s=e?e.resolution:this.renderer.resolution,a=o.width/i.width,l=o.height/i.height,c=((t.x-i.x)*a+o.x)*s,u=((t.y-i.y)*l+o.y)*s,h=t.width*a*s,p=t.height*l*s;r&&(c+=r.tx*s,u+=r.ty*s),e||(u=this.renderer.height-p-u),c=Math.round(c),u=Math.round(u),h=Math.round(h),p=Math.round(p),this.renderer.gl.scissor(c,u,h,p)},e}(_s),ws=function(t){function e(e){var n=t.call(this,e)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return Wi(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,n=this.renderer.gl,r=t._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),n.enable(n.STENCIL_TEST)),t._stencilCounter++,n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.EQUAL,r,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clearStencil(0),e.clear(e.STENCIL_BUFFER_BIT)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e}(_s),Es=function(){function t(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new pi,this.transform=null}return t.prototype.update=function(t,e,n,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,r),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(t,e,n,r){var i=this.projectionMatrix,o=r?-1:1;i.identity(),i.a=1/e.width*2,i.d=o*(1/e.height*2),i.tx=-1-e.x*i.a,i.ty=-o-e.y*i.d},t.prototype.setTransform=function(t){},t.prototype.destroy=function(){this.renderer=null},t}(),Ss=new oi,Ts=new oi,As=function(){function t(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new oi,this.destinationFrame=new oi,this.viewportFrame=new oi}return t.prototype.bind=function(t,e,n){void 0===t&&(t=null);var r,i,o,s=this.renderer;this.current=t,t?(o=(r=t.baseTexture).resolution,e||(Ss.width=t.frame.width,Ss.height=t.frame.height,e=Ss),n||(Ts.x=t.frame.x,Ts.y=t.frame.y,Ts.width=e.width,Ts.height=e.height,n=Ts),i=r.framebuffer):(o=s.resolution,e||(Ss.width=s.screen.width,Ss.height=s.screen.height,e=Ss),n||((n=Ss).width=e.width,n.height=e.height));var a=this.viewportFrame;a.x=n.x*o,a.y=n.y*o,a.width=n.width*o,a.height=n.height*o,t||(a.y=s.view.height-(a.y+a.height)),a.ceil(),this.renderer.framebuffer.bind(i,a),this.renderer.projection.update(n,e,o,!i),t?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var n=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,i=n.width!==r.width||n.height!==r.height;if(i){var o=this.viewportFrame,s=o.x,a=o.y,l=o.width,c=o.height;s=Math.round(s),a=Math.round(a),l=Math.round(l),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,a,l,c)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),i&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function Ms(t,e,n,r,i){n.buffer.update(i)}var Cs={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},Ps={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function Ds(t,e){if(!t.autoManage)return{size:0,syncFunc:Ms};for(var n=function(t){for(var e=t.map((function(t){return{data:t,offset:0,dataLen:0,dirty:0}})),n=0,r=0,i=0,o=0;o<e.length;o++){var s=e[o];if(n=Ps[s.data.type],s.data.size>1&&(n=Math.max(n,16)*s.data.size),s.dataLen=n,r%n!=0&&r<16){var a=r%n%16;r+=a,i+=a}r+n>16?(i=16*Math.ceil(i/16),s.offset=i,i+=n,r=n):(s.offset=i,r+=n,i+=n)}return{uboElements:e,size:i=16*Math.ceil(i/16)}}(function(t,e){var n=[];for(var r in t)e[r]&&n.push(e[r]);return n.sort((function(t,e){return t.index-e.index})),n}(t.uniforms,e)),r=n.uboElements,i=n.size,o=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],s=0;s<r.length;s++){for(var a=r[s],l=t.uniforms[a.data.name],c=a.data.name,u=!1,h=0;h<is.length;h++){var p=is[h];if(p.codeUbo&&p.test(a.data,l)){o.push("offset = "+a.offset/4+";",is[h].codeUbo(a.data.name,l)),u=!0;break}}if(!u)if(a.data.size>1){var d=ts(a.data.type),f=Math.max(Ps[a.data.type]/16,1),m=d/f,g=(4-m%4)%4;o.push("\n                cv = ud."+c+".value;\n                v = uv."+c+";\n                offset = "+a.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+a.data.size*f+"; i++)\n                {\n                    for(var j = 0; j < "+m+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+g+";\n                }\n\n                ")}else{var v=Cs[a.data.type];o.push("\n                cv = ud."+c+".value;\n                v = uv."+c+";\n                offset = "+a.offset/4+";\n                "+v+";\n                ")}}return o.push("\n       renderer.buffer.update(buffer);\n    "),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))}}var Rs=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function Os(t,e){var n=Vo(t,t.VERTEX_SHADER,e.vertexSrc),r=Vo(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||function(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||Xo(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||Xo(t,r),console.error("PixiJS Error: Could not initialize shader."),""!==t.getProgramInfoLog(e)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}(t,i,n,r),e.attributeData=function(t,e){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=e.getActiveAttrib(t,i);if(0!==o.name.indexOf("gl_")){var s=rs(e,o.type),a={type:s,name:o.name,size:ts(s),location:i};n[o.name]=a}}return n}(i,t),e.uniformData=function(t,e){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;i++){var o=e.getActiveUniform(t,i),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),l=rs(e,o.type);n[s]={name:s,index:i,type:l,size:o.size,isArray:a,value:qo(l,o.size)}}return n}(i,t);var o=Object.keys(e.attributeData);o.sort((function(t,e){return t>e?1:-1}));for(var s=0;s<o.length;s++)e.attributeData[o[s]].location=s,t.bindAttribLocation(i,s,o[s]);t.linkProgram(i),t.deleteShader(n),t.deleteShader(r);var a={};for(var s in e.uniformData){var l=e.uniformData[s];a[s]={location:t.getUniformLocation(i,s),value:qo(l.type,l.size)}}return new Rs(i,a)}var Is=0,Ls={textureCount:0,uboCount:0},ks=function(){function t(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Is++}return t.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof as)return as;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");as=!0===t({a:"b"},"a","b")}catch(t){as=!1}return as}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(t){this.gl=t,this.reset()},t.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var n=t.program,r=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(r.program)),e||(Ls.textureCount=0,Ls.uboCount=0,this.syncUniformGroup(t.uniformGroup,Ls)),r},t.prototype.setUniforms=function(t){var e=this.shader.program,n=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(n.uniformData,t,this.renderer)},t.prototype.syncUniformGroup=function(t,e){var n=this.getGlProgram();t.static&&t.dirtyId===n.uniformDirtyGroups[t.id]||(n.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,e))},t.prototype.syncUniforms=function(t,e,n){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function(t,e){var n=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var r in t.uniforms){var i=e[r];if(i){for(var o=t.uniforms[r],s=!1,a=0;a<is.length;a++)if(is[a].test(i,o)){n.push(is[a].code(r,o)),s=!0;break}if(!s){var l=(1===i.size?os:ss)[i.type].replace("location",'ud["'+r+'"].location');n.push('\n            cv = ud["'+r+'"].value;\n            v = uv["'+r+'"];\n            '+l+";")}}else t.uniforms[r].group&&(t.uniforms[r].ubo?n.push("\n                        renderer.shader.syncUniformBufferGroup(uv."+r+", '"+r+"');\n                    "):n.push("\n                        renderer.shader.syncUniformGroup(uv."+r+", syncData);\n                    "))}return new Function("ud","uv","renderer","syncData",n.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(t,e){var n=this.getGlProgram();if(!t.static||0!==t.dirtyId||!n.uniformGroups[t.id]){t.dirtyId=0;var r=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,e);t.buffer.update(),r(n.uniformData,t.uniforms,this.renderer,Ls,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[e])},t.prototype.createSyncBufferGroup=function(t,e,n){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var i=this.gl.getUniformBlockIndex(e.program,n);e.uniformBufferBindings[n]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(t,this.shader.program.uniformData,"ubo"),s=this._uboCache[o];if(s||(s=this._uboCache[o]=Ds(t,this.shader.program.uniformData)),t.autoManage){var a=new Float32Array(s.size/4);t.buffer.update(a)}return e.uniformGroups[t.id]=s.syncFunc,e.uniformGroups[t.id]},t.prototype.getSignature=function(t,e,n){var r=t.uniforms,i=[n+"-"];for(var o in r)i.push(o),e[o]&&i.push(e[o].type);return i.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(t){var e=this.gl,n=t.program,r=Os(e,n);return n.glPrograms[this.renderer.CONTEXT_UID]=r,r},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();var Fs=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=sr.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new fs,this.defaultState.blend=!0}return t.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[sr.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.ADD]=[t.ONE,t.ONE],e[sr.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.NONE]=[0,0],e[sr.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[sr.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[sr.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[sr.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[sr.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[sr.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[sr.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[sr.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[sr.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[sr.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[sr.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},t.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,n=0;e;)1&e&&this.map[n].call(this,!!(t.data&1<<n)),e>>=1,n++;this.stateId=t.data}for(n=0;n<this.checks.length;n++)this.checks[n](this,t)},t.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(t){this.gl.depthMask(t)},t.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},t.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],n=this.gl;2===e.length?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(t,e){var n=this.checks.indexOf(t);e&&-1===n?this.checks.push(t):e||-1===n||this.checks.splice(n,1)},t.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},t.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),Ns=function(){function t(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=wr.GC_MAX_IDLE,this.checkCountMax=wr.GC_MAX_CHECK_COUNT,this.mode=wr.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==vr.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,n=!1,r=0;r<e.length;r++){var i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){var o=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[o++]=e[r]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t.prototype.destroy=function(){this.renderer=null},t}();var Bs=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ur.UNSIGNED_BYTE,this.internalFormat=lr.RGBA,this.samplerType=0},Us=function(){function t(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Zi,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(t){var e,n,r,i,o,s,a,l,c,u,h,p,d,f,m,g,v,y,b,_,x,w,E;return"WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext?((e={})[ur.UNSIGNED_BYTE]=((n={})[lr.RGBA]=t.RGBA8,n[lr.RGB]=t.RGB8,n[lr.RG]=t.RG8,n[lr.RED]=t.R8,n[lr.RGBA_INTEGER]=t.RGBA8UI,n[lr.RGB_INTEGER]=t.RGB8UI,n[lr.RG_INTEGER]=t.RG8UI,n[lr.RED_INTEGER]=t.R8UI,n[lr.ALPHA]=t.ALPHA,n[lr.LUMINANCE]=t.LUMINANCE,n[lr.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,n),e[ur.BYTE]=((r={})[lr.RGBA]=t.RGBA8_SNORM,r[lr.RGB]=t.RGB8_SNORM,r[lr.RG]=t.RG8_SNORM,r[lr.RED]=t.R8_SNORM,r[lr.RGBA_INTEGER]=t.RGBA8I,r[lr.RGB_INTEGER]=t.RGB8I,r[lr.RG_INTEGER]=t.RG8I,r[lr.RED_INTEGER]=t.R8I,r),e[ur.UNSIGNED_SHORT]=((i={})[lr.RGBA_INTEGER]=t.RGBA16UI,i[lr.RGB_INTEGER]=t.RGB16UI,i[lr.RG_INTEGER]=t.RG16UI,i[lr.RED_INTEGER]=t.R16UI,i[lr.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[ur.SHORT]=((o={})[lr.RGBA_INTEGER]=t.RGBA16I,o[lr.RGB_INTEGER]=t.RGB16I,o[lr.RG_INTEGER]=t.RG16I,o[lr.RED_INTEGER]=t.R16I,o),e[ur.UNSIGNED_INT]=((s={})[lr.RGBA_INTEGER]=t.RGBA32UI,s[lr.RGB_INTEGER]=t.RGB32UI,s[lr.RG_INTEGER]=t.RG32UI,s[lr.RED_INTEGER]=t.R32UI,s[lr.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,s),e[ur.INT]=((a={})[lr.RGBA_INTEGER]=t.RGBA32I,a[lr.RGB_INTEGER]=t.RGB32I,a[lr.RG_INTEGER]=t.RG32I,a[lr.RED_INTEGER]=t.R32I,a),e[ur.FLOAT]=((l={})[lr.RGBA]=t.RGBA32F,l[lr.RGB]=t.RGB32F,l[lr.RG]=t.RG32F,l[lr.RED]=t.R32F,l[lr.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,l),e[ur.HALF_FLOAT]=((c={})[lr.RGBA]=t.RGBA16F,c[lr.RGB]=t.RGB16F,c[lr.RG]=t.RG16F,c[lr.RED]=t.R16F,c),e[ur.UNSIGNED_SHORT_5_6_5]=((u={})[lr.RGB]=t.RGB565,u),e[ur.UNSIGNED_SHORT_4_4_4_4]=((h={})[lr.RGBA]=t.RGBA4,h),e[ur.UNSIGNED_SHORT_5_5_5_1]=((p={})[lr.RGBA]=t.RGB5_A1,p),e[ur.UNSIGNED_INT_2_10_10_10_REV]=((d={})[lr.RGBA]=t.RGB10_A2,d[lr.RGBA_INTEGER]=t.RGB10_A2UI,d),e[ur.UNSIGNED_INT_10F_11F_11F_REV]=((f={})[lr.RGB]=t.R11F_G11F_B10F,f),e[ur.UNSIGNED_INT_5_9_9_9_REV]=((m={})[lr.RGB]=t.RGB9_E5,m),e[ur.UNSIGNED_INT_24_8]=((g={})[lr.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,g),e[ur.FLOAT_32_UNSIGNED_INT_24_8_REV]=((v={})[lr.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,v),E=e):((y={})[ur.UNSIGNED_BYTE]=((b={})[lr.RGBA]=t.RGBA,b[lr.RGB]=t.RGB,b[lr.ALPHA]=t.ALPHA,b[lr.LUMINANCE]=t.LUMINANCE,b[lr.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,b),y[ur.UNSIGNED_SHORT_5_6_5]=((_={})[lr.RGB]=t.RGB,_),y[ur.UNSIGNED_SHORT_4_4_4_4]=((x={})[lr.RGBA]=t.RGBA,x),y[ur.UNSIGNED_SHORT_5_5_5_1]=((w={})[lr.RGBA]=t.RGBA,w),E=y),E}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var n=0;n<e;n++)this.boundTextures[n]=null;this.emptyTextures={};var r=new Bs(t.createTexture());t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Bs(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(t,e){void 0===e&&(e=0);var n=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[e]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},t.prototype.unbind=function(t){var e=this.gl,n=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<n.length;r++)n[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<n.length;r++)n[r]===t&&(this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(t.target,this.emptyTextures[t.target].texture),n[r]=null)},t.prototype.ensureSamplerType=function(t){var e=this.boundTextures,n=this.hasIntegerTextures,r=this.CONTEXT_UID;if(n)for(var i=t-1;i>=0;--i){var o=e[i];if(o)o._glTextures[r].samplerType!==hr.FLOAT&&this.renderer.texture.unbind(o)}},t.prototype.initTexture=function(t){var e=new Bs(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},t.prototype.initTextureType=function(t,e){var n,r;e.internalFormat=null!==(r=null===(n=this.internalFormats[t.type])||void 0===n?void 0:n[t.format])&&void 0!==r?r:t.format,2===this.webGLVersion&&t.type===ur.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type},t.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var n=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(n,t,e))e.samplerType!==hr.FLOAT&&(this.hasIntegerTextures=!0);else{var r=t.realWidth,i=t.realHeight,o=n.gl;(e.width!==r||e.height!==i||e.dirtyId<0)&&(e.width=r,e.height=i,o.texImage2D(t.target,0,e.internalFormat,r,i,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},t.prototype.destroyTexture=function(t,e){var n=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&jr(this.managedTextures,r,1)}},t.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==fr.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=dr.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},t.prototype.setStyle=function(t,e){var n=this.gl;if(e.mipmap&&t.mipmap!==fr.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,e.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===pr.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===pr.LINEAR){var i=Math.min(t.anisotropicLevel,n.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===pr.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===pr.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),Gs={__proto__:null,FilterSystem:Io,BatchSystem:ko,ContextSystem:No,FramebufferSystem:Go,GeometrySystem:Ho,MaskSystem:bs,ScissorSystem:xs,StencilSystem:ws,ProjectionSystem:Es,RenderTextureSystem:As,ShaderSystem:ks,StateSystem:Fs,TextureGCSystem:Ns,TextureSystem:Us},zs=new pi,Hs=function(t){function e(e,n){void 0===e&&(e=ir.UNKNOWN);var r=t.call(this)||this;return n=Object.assign({},wr.RENDER_OPTIONS,n),r.options=n,r.type=e,r.screen=new oi(0,0,n.width,n.height),r.view=n.view||document.createElement("canvas"),r.resolution=n.resolution||wr.RESOLUTION,r.useContextAlpha=n.useContextAlpha,r.autoDensity=!!n.autoDensity,r.preserveDrawingBuffer=n.preserveDrawingBuffer,r.clearBeforeRender=n.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=n.backgroundColor||r._backgroundColor,r.backgroundAlpha=n.backgroundAlpha,void 0!==n.transparent&&(Yr("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=n.transparent,r.backgroundAlpha=n.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return Wi(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.view.width=Math.round(t*this.resolution),this.view.height=Math.round(e*this.resolution);var n=this.view.width/this.resolution,r=this.view.height/this.resolution;this.screen.width=n,this.screen.height=r,this.autoDensity&&(this.view.style.width=n+"px",this.view.style.height=r+"px"),this.emit("resize",n,r)},e.prototype.generateTexture=function(t,e,n,r){void 0===e&&(e={}),"number"==typeof e&&(Yr("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),e={scaleMode:e,resolution:n,region:r});var i=e.region,o=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}(e,["region"]);0===(r=i||t.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);var s=go.create(qi({width:r.width,height:r.height},o));return zs.tx=-r.x,zs.ty=-r.y,this.render(t,{renderTexture:s,clear:!1,transform:zs,skipUpdateTransform:!!t.parent}),s},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.plugins=null,this.type=ir.UNKNOWN,this.view=null,this.screen=null,this._tempDisplayObjectParent=null,this.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=Ir(t),Or(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(t){this._backgroundColorRgba[3]=t},enumerable:!1,configurable:!0}),e}(Sr.a),js=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Vs=function(){function t(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(t){var e=this.gl,n=this.CONTEXT_UID,r=t._glBuffers[n]||this.createGLBuffer(t);e.bindBuffer(t.type,r.buffer)},t.prototype.bindBufferBase=function(t,e){var n=this.gl,r=this.CONTEXT_UID;if(this.boundBufferBases[e]!==t){var i=t._glBuffers[r]||this.createGLBuffer(t);this.boundBufferBases[e]=t,n.bindBufferBase(n.UNIFORM_BUFFER,e,i.buffer)}},t.prototype.bindBufferRange=function(t,e,n){var r=this.gl,i=this.CONTEXT_UID;n=n||0;var o=t._glBuffers[i]||this.createGLBuffer(t);r.bindBufferRange(r.UNIFORM_BUFFER,e||0,o.buffer,256*n,256)},t.prototype.update=function(t){var e=this.gl,n=this.CONTEXT_UID,r=t._glBuffers[n];if(t._updateID!==r.updateID)if(r.updateID=t._updateID,e.bindBuffer(t.type,r.buffer),r.byteLength>=t.data.byteLength)e.bufferSubData(t.type,0,t.data);else{var i=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;r.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,i)}},t.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var n=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),n&&(e||r.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),n=0;n<e.length;n++)this.dispose(this.managedBuffers[e[n]],t)},t.prototype.createGLBuffer=function(t){var e=this.CONTEXT_UID,n=this.gl;return t._glBuffers[e]=new js(n.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[e]},t}(),Xs=function(t){function e(n){var r=t.call(this,ir.WEBGL,n)||this;return n=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new Hi("destroy"),contextChange:new Hi("contextChange"),reset:new Hi("reset"),update:new Hi("update"),postrender:new Hi("postrender"),prerender:new Hi("prerender"),resize:new Hi("resize")},r.runners.contextChange.add(r),r.globalUniforms=new Po({projectionMatrix:new pi},!0),r.addSystem(bs,"mask").addSystem(No,"context").addSystem(Fs,"state").addSystem(ks,"shader").addSystem(Us,"texture").addSystem(Vs,"buffer").addSystem(Ho,"geometry").addSystem(Go,"framebuffer").addSystem(xs,"scissor").addSystem(ws,"stencil").addSystem(Es,"projection").addSystem(Ns,"textureGC").addSystem(Io,"filter").addSystem(As,"renderTexture").addSystem(ko,"batch"),r.initPlugins(e.__plugins),r.multisample=void 0,n.context?r.context.initFromContext(n.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:n.antialias,premultipliedAlpha:r.useContextAlpha&&"notMultiplied"!==r.useContextAlpha,stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,function(t){var e;if(!Dr){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var n=["\n %c %c %c PixiJS 6.1.3 - âœ° "+t+" âœ°  %c  %c  http://www.pixijs.com/  %c %c â™¥%câ™¥%câ™¥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=self.console).log.apply(e,n)}else self.console&&self.console.log("PixiJS 6.1.3 - "+t+" - http://www.pixijs.com/");Dr=!0}}(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return Wi(e,t),e.create=function(t){if(void 0===Pr&&(Pr=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:wr.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!n||!n.getContextAttributes().stencil);if(n){var i=n.getExtension("WEBGL_lose_context");i&&i.loseContext()}return n=null,r}catch(t){return!1}}()),Pr)return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var t,e=this.gl;if(1===this.context.webGLVersion){var n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}t>=_r.HIGH?this.multisample=_r.HIGH:t>=_r.MEDIUM?this.multisample=_r.MEDIUM:t>=_r.LOW?this.multisample=_r.LOW:this.multisample=_r.NONE},e.prototype.addSystem=function(t,e){var n=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var r in this[e]=n,this.runners)this.runners[r].add(n);return this},e.prototype.render=function(t,e){var n,r,i,o;if(e&&(e instanceof go?(Yr("6.0.0","Renderer#render arguments changed, use options instead."),n=e,r=arguments[2],i=arguments[3],o=arguments[4]):(n=e.renderTexture,r=e.clear,i=e.transform,o=e.skipUpdateTransform)),this.renderingToScreen=!n,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(n||(this._lastObjectRendered=t),!o){var s=t.enableTempParent();t.updateTransform(),t.disableTempParent(s)}this.renderTexture.bind(n),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),n&&n.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(e,n,r,i){void 0===n&&(n={});var o=t.prototype.generateTexture.call(this,e,n,r,i);return this.framebuffer.blit(),o},e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var n in this.runners.destroy.emit(),this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return Yr("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(t,n){e.__plugins=e.__plugins||{},e.__plugins[t]=n},e}(Hs);var Ws="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",qs=(function(){function t(t){Yr("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}t.prototype.destroy=function(){this.renderer=null}}(),function(){this.texArray=null,this.blend=0,this.type=ar.TRIANGLES,this.start=0,this.size=0,this.data=null}),Ys=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),$s=function(){function t(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),Ks=function(t){function e(e){var n=t.call(this,e)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=fs.for2d(),n.size=4*wr.SPRITE_BATCH_SIZE,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),e.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return Wi(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;wr.PREFER_ENV===rr.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),wr.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=e.createShader(e.FRAGMENT_SHADER);;){var r=ls.replace(/%forloop%/gi,cs(t));if(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))break;t=t/2|0}return t}(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,n=e._textureArrayPool,r=this.size/4,i=Math.floor(r/this.MAX_TEXTURES)+1;t.length<r;)t.push(new qs);for(;n.length<i;)n.push(new Ys);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,n=this.MAX_TEXTURES,r=e._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++Zi._globalBatch,l=0,c=r[0],u=0;i.copyBoundTextures(o,n);for(var h=0;h<this._bufferSize;++h){var p=t[h];t[h]=null,p._batchEnabled!==a&&(c.count>=n&&(i.boundArray(c,o,a,n),this.buildDrawCalls(c,u,h),u=h,c=r[++l],++a),p._batchEnabled=a,p.touched=s,c.elements[c.count++]=p)}c.count>0&&(i.boundArray(c,o,a,n),this.buildDrawCalls(c,u,this._bufferSize),++l,++a);for(h=0;h<o.length;h++)o[h]=null;Zi._globalBatch=a},e.prototype.buildDrawCalls=function(t,n,r){var i=this._bufferedElements,o=this._attributeBuffer,s=this._indexBuffer,a=this.vertexSize,l=e._drawCallPool,c=this._dcIndex,u=this._aIndex,h=this._iIndex,p=l[c];p.start=this._iIndex,p.texArray=t;for(var d=n;d<r;++d){var f=i[d],m=f._texture.baseTexture,g=kr[m.alphaMode?1:0][f.blendMode];i[d]=null,n<d&&p.blend!==g&&(p.size=h-p.start,n=d,(p=l[++c]).texArray=t,p.start=h),this.packInterleavedGeometry(f,o,s,u,h),u+=f.vertexData.length/2*a,h+=f.indices.length,p.blend=g}n<r&&(p.size=h-p.start,++c),this._dcIndex=c,this._aIndex=u,this._iIndex=h},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,n=this._indexBuffer;wr.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,n=this.renderer,r=n.gl,i=n.state,o=e._drawCallPool,s=null,a=0;a<t;a++){var l=o[a],c=l.texArray,u=l.type,h=l.size,p=l.start,d=l.blend;s!==c&&(s=c,this.bindAndClearTexArray(c)),this.state.blendMode=d,i.set(this.state),r.drawElements(u,h,r.UNSIGNED_SHORT,2*p)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),wr.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=Gr(Math.ceil(t/8)),n=Hr(e),r=8*e;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new $s(r*this.vertexSize*4)),i},e.prototype.getIndexBuffer=function(t){var e=Gr(Math.ceil(t/12)),n=Hr(e),r=12*e;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i},e.prototype.packInterleavedGeometry=function(t,e,n,r,i){for(var o=e.uint32View,s=e.float32View,a=r/this.vertexSize,l=t.uvs,c=t.indices,u=t.vertexData,h=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),d=p<1&&t._texture.baseTexture.alphaMode?Nr(t._tintRGB,p):t._tintRGB+(255*p<<24),f=0;f<u.length;f+=2)s[r++]=u[f],s[r++]=u[f+1],s[r++]=l[f],s[r++]=l[f+1],o[r++]=d,s[r++]=h;for(f=0;f<c.length;f++)n[i++]=a+c[f]},e._drawCallPool=[],e._textureArrayPool=[],e}(Lo),Zs=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),n=0;n<t;n++)e[n]=n;this.defaultGroupCache[t]=Po.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new ps(this.vertexSrc,r)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new pi,default:this.defaultGroupCache[t]};return new ds(this.programCache[t],i)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var n=0;n<t;n++)n>0&&(e+="\nelse "),n<t-1&&(e+="if(vTextureId < "+n+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},t}(),Js=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n._buffer=new _o(null,e,!1),n._indexBuffer=new _o(null,e,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,ur.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,ur.FLOAT).addAttribute("aColor",n._buffer,4,!0,ur.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,ur.FLOAT).addIndex(n._indexBuffer),n}return Wi(e,t),e}(To),Qs="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",ta="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",ea=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:Qs,fragment:ta,geometryClass:Js,vertexSize:6},t),n=e.vertex,r=e.fragment,i=e.vertexSize,o=e.geometryClass;return function(t){function e(e){var s=t.call(this,e)||this;return s.shaderGenerator=new Zs(n,r),s.geometryClass=o,s.vertexSize=i,s}return Wi(e,t),e}(Ks)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return Qs},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return ta},enumerable:!1,configurable:!0}),t}().create(),na={},ra=function(t){Object.defineProperty(na,t,{get:function(){return Yr("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),ao[t]}})};for(var ia in ao)ra(ia);var oa={},sa=function(t){Object.defineProperty(oa,t,{get:function(){return Yr("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),Gs[t]}})};for(var ia in Gs)sa(ia);var aa=function(){function t(e){var n=this;this.stage=new Ci,e=Object.assign({forceCanvas:!1},e),this.renderer=function(t){return Xs.create(t)}(e),t._plugins.forEach((function(t){t.init.call(n,e)}))}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,n){var r=this,i=t._plugins.slice(0);i.reverse(),i.forEach((function(t){t.destroy.call(r)})),this.stage.destroy(n),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}(),la=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){self.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,n;if(e.cancelResize(),e._resizeTo===self)t=self.innerWidth,n=self.innerHeight;else{var r=e._resizeTo;t=r.clientWidth,n=r.clientHeight}e.renderer.resize(t,n)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();aa.registerPlugin(la);var ca=new oi,ua=function(){function t(t){this.renderer=t}return t.prototype.image=function(t,e,n){var r=new Image;return r.src=this.base64(t,e,n),r},t.prototype.base64=function(t,e,n){return this.canvas(t).toDataURL(e,n)},t.prototype.canvas=function(e){var n,r,i,o=this.renderer,s=!1,a=!1;e&&(e instanceof go?i=e:(i=this.renderer.generateTexture(e),a=!0)),i?(n=i.baseTexture.resolution,r=i.frame,s=!1,o.renderTexture.bind(i)):(n=this.renderer.resolution,s=!0,(r=ca).width=this.renderer.width,r.height=this.renderer.height,o.renderTexture.bind(null));var l=Math.floor(r.width*n+1e-4),c=Math.floor(r.height*n+1e-4),u=new Jr(l,c,1),h=new Uint8Array(4*l*c),p=o.gl;p.readPixels(r.x*n,r.y*n,l,c,p.RGBA,p.UNSIGNED_BYTE,h);var d=u.context.getImageData(0,0,l,c);if(t.arrayPostDivide(h,d.data),u.context.putImageData(d,0,0),s){var f=new Jr(u.width,u.height,1);f.context.scale(1,-1),f.context.drawImage(u.canvas,0,-c),u.destroy(),u=f}return a&&i.destroy(!0),u.canvas},t.prototype.pixels=function(e){var n,r,i,o=this.renderer,s=!1;e&&(e instanceof go?i=e:(i=this.renderer.generateTexture(e),s=!0)),i?(n=i.baseTexture.resolution,r=i.frame,o.renderTexture.bind(i)):(n=o.resolution,(r=ca).width=o.width,r.height=o.height,o.renderTexture.bind(null));var a=r.width*n,l=r.height*n,c=new Uint8Array(4*a*l),u=o.gl;return u.readPixels(r.x*n,r.y*n,a,l,u.RGBA,u.UNSIGNED_BYTE,c),s&&i.destroy(!0),t.arrayPostDivide(c,c),c},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(t,e){for(var n=0;n<t.length;n+=4){var r=e[n+3]=t[n+3];0!==r?(e[n]=Math.round(Math.min(255*t[n]/r,255)),e[n+1]=Math.round(Math.min(255*t[n+1]/r,255)),e[n+2]=Math.round(Math.min(255*t[n+2]/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}},t}(),ha=function(){function t(t,e,n){void 0===e&&(e=!1),this._fn=t,this._once=e,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},t}();function pa(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var da=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(t){void 0===t&&(t=!1);var e=this._head;if(t)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n},t.prototype.has=function(t){if(!(t instanceof ha))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},t.prototype.dispatch=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];var r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,e),r=r._next;return!0},t.prototype.add=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return pa(this,new ha(t,!1,e))},t.prototype.once=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return pa(this,new ha(t,!0,e))},t.prototype.detach=function(t){if(!(t instanceof ha))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this},t.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},t}();function fa(t,e){e=e||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,(function(t,e,r){e&&(i[n.q.name][e]=r)})),i}var ma=!(!self.XDomainRequest||"withCredentials"in new XMLHttpRequest),ga=null;function va(){}function ya(t,e,n){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=n)}function ba(t){return t.toString().replace("object ","")}var _a=function(){function t(e,n,r){if(this._dequeue=va,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof e||"string"!=typeof n)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=va,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new da,this.onProgress=new da,this.onComplete=new da,this.onAfterMiddleware=new da}return t.setExtensionLoadType=function(e,n){ya(t._loadTypeMap,e,n)},t.setExtensionXhrType=function(e,n){ya(t._xhrTypeMap,e,n)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var n=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(n)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:ma&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return 0!=(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==self.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==self.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(e)?e[n]:e));else{e=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new self.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},t.prototype._createSource=function(t,e,n){n||(n=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=n,r},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(ba(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(ba(t)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(ba(t)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,n="",r=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(n=e.responseText),0===r&&(n.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(self.DOMParser){var i=new DOMParser;this.data=i.parseFromString(n,"text/xml")}else{var o=document.createElement("div");o.innerHTML=n,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||n;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(self.origin!==self.location.origin)return"anonymous";e=e||self.location,ga||(ga=document.createElement("a")),ga.href=t;var n=fa(ga.href,{strictMode:!0}),r=!n.port&&""===e.port||n.port===e.port,i=n.protocol?n.protocol+":":"";return n.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(t){void 0===t&&(t=this.url);var e="";if(this.isDataUrl){var n=t.indexOf("/");e=t.substring(n+1,t.indexOf(";",n))}else{var r=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(r>-1?r:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();function xa(){}function wa(t){return function(){for(var e=arguments,n=[],r=0;r<arguments.length;r++)n[r]=e[r];if(null===t)throw new Error("Callback was already called.");var i=t;t=null,i.apply(this,n)}}!function(t){!function(t){t[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING"}(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.JSON=1]="JSON",t[t.XML=2]="XML",t[t.IMAGE=3]="IMAGE",t[t.AUDIO=4]="AUDIO",t[t.VIDEO=5]="VIDEO",t[t.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(t){t[t.XHR=1]="XHR",t[t.IMAGE=2]="IMAGE",t[t.AUDIO=3]="AUDIO",t[t.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(t){t.DEFAULT="text",t.BUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}(_a||(_a={}));var Ea=function(t,e){this.data=t,this.callback=e},Sa=function(){function t(t,e){var n=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=xa,this.unsaturated=xa,this.empty=xa,this.drain=xa,this.error=xa,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(t,e,r){if(r&&"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,null==t&&n.idle())setTimeout((function(){return n.drain()}),1);else{var i=new Ea(t,"function"==typeof r?r:xa);e?n._tasks.unshift(i):n._tasks.push(i),setTimeout(n.process,1)}},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var t=n._tasks.shift();0===n._tasks.length&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(t.data,wa(n._next(t)))}},this._worker=t,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return t.prototype._next=function(t){var e=this;return function(){for(var n=arguments,r=[],i=0;i<arguments.length;i++)r[i]=n[i];e.workers-=1,t.callback.apply(t,r),null!=r[0]&&e.error(r[0],t.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},t.prototype.push=function(t,e){this._insert(t,!1,e)},t.prototype.kill=function(){this.workers=0,this.drain=xa,this.started=!1,this._tasks=[]},t.prototype.unshift=function(t,e){this._insert(t,!0,e)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},t.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},t.eachSeries=function(t,e,n,r){var i=0,o=t.length;!function s(a){a||i===o?n&&n(a):r?setTimeout((function(){e(t[i++],s)}),1):e(t[i++],s)}()},t.queue=function(e,n){return new t(e,n)},t}(),Ta=/(#[\w-]+)?$/,Aa=function(){function t(e,n){var r=this;void 0===e&&(e=""),void 0===n&&(n=10),this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this.resources={},this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this._queue=Sa.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new da,this.onError=new da,this.onLoad=new da,this.onStart=new da,this.onComplete=new da;for(var i=0;i<t._plugins.length;++i){var o=t._plugins[i],s=o.pre,a=o.use;s&&this.pre(s),a&&this.use(a)}this._protected=!1}return t.prototype._add=function(t,e,n,r){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new _a(t,e,n),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var i=n.parentResource,o=[],s=0;s<i.children.length;++s)i.children[s].isComplete||o.push(i.children[s]);var a=i.progressChunk*(o.length+1)/(o.length+2);i.children.push(this.resources[t]),i.progressChunk=a;for(s=0;s<o.length;++s)o[s].progressChunk=a;this.resources[t].progressChunk=a}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(t){var e,n=fa(t,{strictMode:!0});if(e=n.protocol||!n.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=Ta.exec(e)[0];-1!==(e=e.substr(0,e.length-r.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=r}return e},t.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,Sa.eachSeries(this._beforeMiddleware,(function(e,r){e.call(n,t,(function(){r(t.isComplete?{}:null)}))}),(function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())}),!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),Sa.eachSeries(this._afterMiddleware,(function(n,r){n.call(e,t,r)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||((e=new t)._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}();Aa.prototype.add=function(t,e,n,r){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"==typeof t&&(n=t,r=e||n.callback||n.onComplete,e=n.url,t=n.name||n.key||n.url),"string"!=typeof e&&(r=n,n=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");return"function"==typeof n&&(r=n,n=null),this._add(t,e,n,r)};var Ma=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Aa.shared:new Aa},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),Ca=function(){function t(){}return t.add=function(){_a.setExtensionLoadType("svg",_a.LOAD_TYPE.XHR),_a.setExtensionXhrType("svg",_a.XHR_RESPONSE_TYPE.TEXT)},t.use=function(t,e){if(!t.data||t.type!==_a.TYPE.IMAGE&&"svg"!==t.extension)e();else{var n=t.data,r=t.url,i=t.name,o=t.metadata;fo.fromLoader(n,r,i,o).then((function(n){t.texture=n,e()})).catch(e)}},t}();var Pa,Da,Ra=self.URL||self.webkitURL;Aa.registerPlugin({use:function(t,e){if(t.data){if(t.xhr&&t.xhrType===_a.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var n=Ra.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=n,t.type=_a.TYPE.IMAGE,void(t.data.onload=function(){Ra.revokeObjectURL(n),t.data.onload=null,e()})}}else{var r=t.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return t.data=new Image,t.data.src="data:"+r+";base64,"+function(t){for(var e="",n=0;n<t.length;){for(var r=[0,0,0],i=[0,0,0,0],o=0;o<r.length;++o)n<t.length?r[o]=255&t.charCodeAt(n++):r[o]=0;switch(i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2],n-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;++o)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[o])}return e}(t.xhr.responseText),t.type=_a.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}}),Aa.registerPlugin(Ca),function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(Da||(Da={}));var Oa=((Pa={})[Da.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Pa[Da.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Pa[Da.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Pa[Da.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Pa[Da.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Pa[Da.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Pa[Da.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Pa[Da.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Pa[Da.COMPRESSED_R11_EAC]=.5,Pa[Da.COMPRESSED_SIGNED_R11_EAC]=.5,Pa[Da.COMPRESSED_RG11_EAC]=1,Pa[Da.COMPRESSED_SIGNED_RG11_EAC]=1,Pa[Da.COMPRESSED_RGB8_ETC2]=.5,Pa[Da.COMPRESSED_RGBA8_ETC2_EAC]=1,Pa[Da.COMPRESSED_SRGB8_ETC2]=.5,Pa[Da.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Pa[Da.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Pa[Da.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Pa[Da.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Pa[Da.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Pa[Da.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Pa[Da.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Pa[Da.COMPRESSED_RGB_ETC1_WEBGL]=.5,Pa[Da.COMPRESSED_RGB_ATC_WEBGL]=.5,Pa[Da.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Pa[Da.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Pa),Ia=function(t,e){return(Ia=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function La(t,e){function n(){this.constructor=t}Ia(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function ka(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var Fa,Na,Ba=function(t){function e(n,r){var i=t.call(this,n,r)||this;return i.format=r.format,i.levels=r.levels||1,i._width=r.width,i._height=r.height,i._extension=e._formatToExtension(i.format),(r.levelBuffers||i.buffer)&&(i._levelBuffers=r.levelBuffers||e._createLevelBuffers(n instanceof Uint8Array?n:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return La(e,t),e.prototype.upload=function(t,e,n){var r=t.gl;if(!t.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var i=0,o=this.levels;i<o;i++){var s=this._levelBuffers[i],a=s.levelID,l=s.levelWidth,c=s.levelHeight,u=s.levelBuffer;r.compressedTexImage2D(r.TEXTURE_2D,a,this.format,l,c,0,u)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(t,e,n,r,i,o,s){for(var a=new Array(n),l=t.byteOffset,c=o,u=s,h=c+r-1&~(r-1),p=u+i-1&~(i-1),d=h*p*Oa[e],f=0;f<n;f++)a[f]={levelID:f,levelWidth:n>1?c:h,levelHeight:n>1?u:p,levelBuffer:new Uint8Array(t.buffer,l,d)},l+=d,d=(h=(c=c>>1||1)+r-1&~(r-1))*(p=(u=u>>1||1)+i-1&~(i-1))*Oa[e];return a},e}(function(t){function e(e,n){void 0===n&&(n={width:1,height:1,autoLoad:!0});var r,i,o=this;return"string"==typeof e?(r=e,i=new Uint8Array):(r=null,i=e),(o=t.call(this,i,n)||this).origin=r,o.buffer=i?new $s(i):null,o.origin&&!1!==n.autoLoad&&o.load(),i&&i.length&&(o.loaded=!0,o.onBlobLoaded(o.buffer.rawBinaryData)),o}return La(e,t),e.prototype.onBlobLoaded=function(t){},e.prototype.load=function(){return t=this,e=void 0,r=function(){var t;return ka(this,(function(e){switch(e.label){case 0:return[4,fetch(this.origin)];case 1:return[4,e.sent().blob()];case 2:return[4,e.sent().arrayBuffer()];case 3:return t=e.sent(),this.data=new Uint32Array(t),this.buffer=new $s(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),[2,this]}}))},new((n=Promise)||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}l((r=r.apply(t,e||[])).next())}));var t,e,n,r},e}($i)),Ua=function(){function t(){}return t.use=function(e,n){var r=e.data;if(e.type===_a.TYPE.JSON&&r&&r.cacheID&&r.textures){for(var i=r.textures,o=void 0,s=void 0,a=0,l=i.length;a<l;a++){var c=i[a],u=c.src,h=c.format;if(h||(s=u),t.textureFormats[h]){o=u;break}}if(!(o=o||s))return void n(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));if(o===e.url)return void n(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var p={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=Cr.resolve(e.url.replace(this.baseUrl,""),o),f=r.cacheID;this.add(f,d,p,(function(t){if(t.error)n(t.error);else{var r=t.texture,i=void 0===r?null:r,o=t.textures,s=void 0===o?{}:o;Object.assign(e,{texture:i,textures:s}),n()}}))}else n()},t.add=function(){var e=document.createElement("canvas").getContext("webgl");if(e){var n={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};for(var r in t.textureExtensions=n,t.textureFormats={},n){var i=n[r];i&&Object.assign(t.textureFormats,Object.getPrototypeOf(i))}}else console.warn("WebGL not available for compressed textures. Silently failing.")},t}();function Ga(t,e,n){var r={textures:{},texture:null};return e?(e.map((function(t){return new fo(new Zi(t,Object.assign({mipmap:fr.OFF,alphaMode:mr.NO_PREMULTIPLIED_ALPHA},n)))})).forEach((function(e,n){var i=e.baseTexture,o=t+"-"+(n+1);Zi.addToCache(i,o),fo.addToCache(e,o),0===n&&(Zi.addToCache(i,t),fo.addToCache(e,t),r.texture=e),r.textures[o]=e})),r):r}_a.setExtensionXhrType("dds",_a.XHR_RESPONSE_TYPE.BUFFER);var za,Ha,ja=3,Va=4,Xa=7,Wa=19,qa=2,Ya=0,$a=1,Ka=2,Za=3;!function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(za||(za={})),function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(Ha||(Ha={}));var Ja,Qa,tl,el=((Fa={})[827611204]=Da.COMPRESSED_RGBA_S3TC_DXT1_EXT,Fa[861165636]=Da.COMPRESSED_RGBA_S3TC_DXT3_EXT,Fa[894720068]=Da.COMPRESSED_RGBA_S3TC_DXT5_EXT,Fa),nl=((Na={})[za.DXGI_FORMAT_BC1_TYPELESS]=Da.COMPRESSED_RGBA_S3TC_DXT1_EXT,Na[za.DXGI_FORMAT_BC1_UNORM]=Da.COMPRESSED_RGBA_S3TC_DXT1_EXT,Na[za.DXGI_FORMAT_BC2_TYPELESS]=Da.COMPRESSED_RGBA_S3TC_DXT3_EXT,Na[za.DXGI_FORMAT_BC2_UNORM]=Da.COMPRESSED_RGBA_S3TC_DXT3_EXT,Na[za.DXGI_FORMAT_BC3_TYPELESS]=Da.COMPRESSED_RGBA_S3TC_DXT5_EXT,Na[za.DXGI_FORMAT_BC3_UNORM]=Da.COMPRESSED_RGBA_S3TC_DXT5_EXT,Na[za.DXGI_FORMAT_BC1_UNORM_SRGB]=Da.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Na[za.DXGI_FORMAT_BC2_UNORM_SRGB]=Da.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Na[za.DXGI_FORMAT_BC3_UNORM_SRGB]=Da.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Na),rl=function(){function t(){}return t.use=function(e,n){if("dds"===e.extension&&e.data)try{Object.assign(e,Ga(e.name||e.url,t.parse(e.data),e.metadata))}catch(t){return void n(t)}n()},t.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var n=new Uint32Array(t,0,124/Uint32Array.BYTES_PER_ELEMENT),r=n[ja],i=n[Va],o=n[Xa],s=new Uint32Array(t,Wa*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),a=s[1];if(4&a){var l=s[qa];if(808540228!==l){var c=el[l],u=new Uint8Array(t,128);return[new Ba(u,{format:c,width:i,height:r,levels:o})]}var h=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),p=h[Ya],d=h[$a],f=h[Ka],m=h[Za],g=nl[p];if(void 0===g)throw new Error("DDSLoader cannot parse texture data with DXGI format "+p);if(4===f)throw new Error("DDSLoader does not support cubemap textures");if(d===Ha.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var v=new Array;if(1===m)v.push(new Uint8Array(t,148));else{for(var y=Oa[g],b=0,_=i,x=r,w=0;w<o;w++){b+=Math.max(1,_+3&-4)*Math.max(1,x+3&-4)*y,_>>>=1,x>>>=1}var E=148;for(w=0;w<m;w++)v.push(new Uint8Array(t,E,b)),E+=b}return v.map((function(t){return new Ba(t,{format:g,width:i,height:r,levels:o})}))}if(64&a)throw new Error("DDSLoader does not support uncompressed texture data.");if(512&a)throw new Error("DDSLoader does not supported YUV uncompressed texture data.");if(131072&a)throw new Error("DDSLoader does not support single-channel (lumninance) texture data!");if(2&a)throw new Error("DDSLoader does not support single-channel (alpha) texture data!");throw new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}();_a.setExtensionXhrType("ktx",_a.XHR_RESPONSE_TYPE.BUFFER);var il=[171,75,84,88,32,49,49,187,13,10,26,10],ol=12,sl=16,al=24,ll=28,cl=36,ul=40,hl=44,pl=48,dl=52,fl=56,ml=60,gl=((Ja={})[ur.UNSIGNED_BYTE]=1,Ja[ur.UNSIGNED_SHORT]=2,Ja[ur.FLOAT]=4,Ja[ur.HALF_FLOAT]=8,Ja),vl=((Qa={})[lr.RGBA]=4,Qa[lr.RGB]=3,Qa[lr.LUMINANCE]=1,Qa[lr.LUMINANCE_ALPHA]=2,Qa[lr.ALPHA]=1,Qa),yl=((tl={})[ur.UNSIGNED_SHORT_4_4_4_4]=2,tl[ur.UNSIGNED_SHORT_5_5_5_1]=2,tl[ur.UNSIGNED_SHORT_5_6_5]=2,tl),bl=function(){function t(){}return t.use=function(e,n){if("ktx"===e.extension&&e.data)try{var r=e.name||e.url;Object.assign(e,Ga(r,t.parse(r,e.data),e.metadata))}catch(t){return void n(t)}n()},t.parse=function(e,n){var r=new DataView(n);if(!t.validate(e,r))return null;var i=67305985===r.getUint32(ol,!0),o=r.getUint32(sl,i),s=r.getUint32(al,i),a=r.getUint32(ll,i),l=r.getUint32(cl,i),c=r.getUint32(ul,i)||1,u=r.getUint32(hl,i)||1,h=r.getUint32(pl,i)||1,p=r.getUint32(dl,i),d=r.getUint32(fl,i),f=r.getUint32(ml,i);if(0===c||1!==u)throw new Error("Only 2D textures are supported");if(1!==p)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==h)throw new Error("WebGL does not support array textures");var m,g=l+3&-4,v=c+3&-4,y=new Array(h),b=l*c;if(0===o&&(b=g*v),void 0===(m=0!==o?gl[o]?gl[o]*vl[s]:yl[o]:Oa[a]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var _=b*m,x=l,w=c,E=g,S=v,T=64+f,A=0;A<d;A++){for(var M=r.getUint32(T,i),C=T+4,P=0;P<h;P++){var D=y[P];D||(D=y[P]=new Array(d)),D[A]={levelID:A,levelWidth:d>1?x:E,levelHeight:d>1?w:S,levelBuffer:new Uint8Array(n,C,_)},C+=_}T=(T+=M+4)%4!=0?T+4-T%4:T,_=(E=(x=x>>1||1)+4-1&-4)*(S=(w=w>>1||1)+4-1&-4)*m}if(0!==o)throw new Error("TODO: Uncompressed");return y.map((function(t){return new Ba(null,{format:a,width:l,height:c,levels:d,levelBuffers:t})}))},t.validate=function(t,e){for(var n=0;n<il.length;n++)if(e.getUint8(n)!==il[n])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},t}(),_l=function(t,e){return(_l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function xl(t,e){function n(){this.constructor=t}_l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}!function(t){function e(e,n,r,i){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===i&&(i=!1);var o=t.call(this)||this;return r>16384&&(r=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=r,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=sr.NORMAL,o.autoResize=i,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}xl(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,Or(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}(Ci);var wl,El,Sl=function(){function t(t,e,n){this.geometry=new To,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var i=t[r];i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||ur.FLOAT,offset:i.offset},e[r]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new _o(function(t,e){void 0===e&&(e=null);var n=6*t;if((e=e||new Uint16Array(n)).length!==n)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+n);for(var r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){(s=this.dynamicProperties[n]).offset=e,e+=s.size,this.dynamicStride+=s.size}var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new _o(this.dynamicData,!1,!1);var i=0;this.staticStride=0;for(n=0;n<this.staticProperties.length;++n){(s=this.staticProperties[n]).offset=i,i+=s.size,this.staticStride+=s.size}var o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new _o(this.staticData,!0,!1);for(n=0;n<this.dynamicProperties.length;++n){var s=this.dynamicProperties[n];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===ur.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(n=0;n<this.staticProperties.length;++n){s=this.staticProperties[n];t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===ur.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)}},t.prototype.uploadDynamic=function(t,e,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(t,e,n,i.type===ur.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(t,e,n,i.type===ur.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),Tl=function(t){function e(e){var n=t.call(this,e)||this;return n.shader=null,n.properties=null,n.tempMatrix=new pi,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ur.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=ds.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),n.state=fs.for2d(),n}return xl(e,t),e.prototype.render=function(t){var e=t.children,n=t._maxSize,r=t._batchSize,i=this.renderer,o=e.length;if(0!==o){o>n&&!t.autoResize&&(o=n);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.state.blendMode=Fr(t.blendMode,a.alphaMode),i.state.set(this.state);var l,c,u,h,p=i.gl,d=t.worldTransform.copyTo(this.tempMatrix);d.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=d.toArray(!0),this.shader.uniforms.uColor=(l=t.tintRgb,c=t.worldAlpha,u=this.shader.uniforms.uColor,h=a.alphaMode,u=u||new Float32Array(4),h||void 0===h?(u[0]=l[0]*c,u[1]=l[1]*c,u[2]=l[2]*c):(u[0]=l[0],u[1]=l[1],u[2]=l[2]),u[3]=c,u),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var f=!1,m=0,g=0;m<o;m+=r,g+=1){var v=o-m;v>r&&(v=r),g>=s.length&&s.push(this._generateOneMoreBuffer(t));var y=s[g];y.uploadDynamic(e,m,v);var b=t._bufferUpdateIDs[g]||0;(f=f||y._updateID<b)&&(y._updateID=t._updateID,y.uploadStatic(e,m,v)),i.geometry.bind(y.geometry),p.drawElements(p.TRIANGLES,6*v,p.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],n=t._maxSize,r=t._batchSize,i=t._properties,o=0;o<n;o+=r)e.push(new Sl(this.properties,i,r));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,n=t._properties;return new Sl(this.properties,n,e)},e.prototype.uploadVertices=function(t,e,n,r,i,o){for(var s=0,a=0,l=0,c=0,u=0;u<n;++u){var h=t[e+u],p=h._texture,d=h.scale.x,f=h.scale.y,m=p.trim,g=p.orig;m?(s=(a=m.x-h.anchor.x*g.width)+m.width,l=(c=m.y-h.anchor.y*g.height)+m.height):(s=g.width*(1-h.anchor.x),a=g.width*-h.anchor.x,l=g.height*(1-h.anchor.y),c=g.height*-h.anchor.y),r[o]=a*d,r[o+1]=c*f,r[o+i]=s*d,r[o+i+1]=c*f,r[o+2*i]=s*d,r[o+2*i+1]=l*f,r[o+3*i]=a*d,r[o+3*i+1]=l*f,o+=4*i}},e.prototype.uploadPosition=function(t,e,n,r,i,o){for(var s=0;s<n;s++){var a=t[e+s].position;r[o]=a.x,r[o+1]=a.y,r[o+i]=a.x,r[o+i+1]=a.y,r[o+2*i]=a.x,r[o+2*i+1]=a.y,r[o+3*i]=a.x,r[o+3*i+1]=a.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,n,r,i,o){for(var s=0;s<n;s++){var a=t[e+s].rotation;r[o]=a,r[o+i]=a,r[o+2*i]=a,r[o+3*i]=a,o+=4*i}},e.prototype.uploadUvs=function(t,e,n,r,i,o){for(var s=0;s<n;++s){var a=t[e+s]._texture._uvs;a?(r[o]=a.x0,r[o+1]=a.y0,r[o+i]=a.x1,r[o+i+1]=a.y1,r[o+2*i]=a.x2,r[o+2*i+1]=a.y2,r[o+3*i]=a.x3,r[o+3*i+1]=a.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,n,r,i,o){for(var s=0;s<n;++s){var a=t[e+s],l=a._texture.baseTexture.alphaMode>0,c=a.alpha,u=c<1&&l?Nr(a._tintRGB,c):a._tintRGB+(255*c<<24);r[o]=u,r[o+i]=u,r[o+2*i]=u,r[o+3*i]=u,o+=4*i}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Lo);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(wl||(wl={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(El||(El={}));var Al={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},Ml=function(){function t(){this.color=16777215,this.alpha=1,this.texture=fo.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=fo.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),Cl=function(t,e){return(Cl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Pl(t,e){function n(){this.constructor=t}Cl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Dl={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var n=t.points,r=t.holes,i=e.points,o=e.indices;if(n.length>=6){for(var s=[],a=0;a<r.length;a++){var l=r[a];s.push(n.length/2),n=n.concat(l.points)}var c=Ar()(n,s,2);if(!c)return;var u=i.length/2;for(a=0;a<c.length;a+=3)o.push(c[a]+u),o.push(c[a+1]+u),o.push(c[a+2]+u);for(a=0;a<n.length;a++)i.push(n[a])}}},Rl={build:function(t){var e,n,r=t.shape,i=t.points,o=r.x,s=r.y;if(i.length=0,t.type===ei.CIRC)e=r.radius,n=r.radius;else{var a=t.shape;e=a.width,n=a.height}if(0!==e&&0!==n){var l=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(e+n));l/=2.3;for(var c=2*Math.PI/l,u=0;u<l-.5;u++)i.push(o+Math.sin(-c*u)*e,s+Math.cos(-c*u)*n);i.push(i[0],i[1])}},triangulate:function(t,e){var n=t.points,r=e.points,i=e.indices,o=r.length/2,s=o,a=t.shape,l=t.matrix,c=a.x,u=a.y;r.push(t.matrix?l.a*c+l.c*u+l.tx:c,t.matrix?l.b*c+l.d*u+l.ty:u);for(var h=0;h<n.length;h+=2)r.push(n[h],n[h+1]),i.push(o++,s,o)}},Ol={build:function(t){var e=t.shape,n=e.x,r=e.y,i=e.width,o=e.height,s=t.points;s.length=0,s.push(n,r,n+i,r,n+i,r+o,n,r+o)},triangulate:function(t,e){var n=t.points,r=e.points,i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Il(t,e,n){return t+(e-t)*n}function Ll(t,e,n,r,i,o,s){void 0===s&&(s=[]);for(var a=s,l=0,c=0,u=0,h=0,p=0,d=0,f=0,m=0;f<=20;++f)l=Il(t,n,m=f/20),c=Il(e,r,m),u=Il(n,i,m),h=Il(r,o,m),p=Il(l,u,m),d=Il(c,h,m),0===f&&a[a.length-2]===p&&a[a.length-1]===d||a.push(p,d);return a}var kl={build:function(t){var e=t.shape,n=t.points,r=e.x,i=e.y,o=e.width,s=e.height,a=Math.max(0,Math.min(e.radius,Math.min(o,s)/2));n.length=0,a?(Ll(r,i+a,r,i,r+a,i,n),Ll(r+o-a,i,r+o,i,r+o,i+a,n),Ll(r+o,i+s-a,r+o,i+s,r+o-a,i+s,n),Ll(r+a,i+s,r,i+s,r,i+s-a,n)):n.push(r,i,r+o,i,r+o,i+s,r,i+s)},triangulate:function(t,e){for(var n=t.points,r=e.points,i=e.indices,o=r.length/2,s=Ar()(n,null,2),a=0,l=s.length;a<l;a+=3)i.push(s[a]+o),i.push(s[a+1]+o),i.push(s[a+2]+o);for(a=0,l=n.length;a<l;a++)r.push(n[a],n[++a])}};function Fl(t,e,n,r,i,o,s,a){var l,c;s?(l=r,c=-n):(l=-r,c=n);var u=t-n*i+l,h=e-r*i+c,p=t+n*o+l,d=e+r*o+c;return a.push(u,h),a.push(p,d),2}function Nl(t,e,n,r,i,o,s,a){var l=n-t,c=r-e,u=Math.atan2(l,c),h=Math.atan2(i-t,o-e);a&&u<h?u+=2*Math.PI:!a&&u>h&&(h+=2*Math.PI);var p=u,d=h-u,f=Math.abs(d),m=Math.sqrt(l*l+c*c),g=1+(15*f*Math.sqrt(m)/Math.PI>>0),v=d/g;if(p+=v,a){s.push(t,e),s.push(n,r);for(var y=1,b=p;y<g;y++,b+=v)s.push(t,e),s.push(t+Math.sin(b)*m,e+Math.cos(b)*m);s.push(t,e),s.push(i,o)}else{s.push(n,r),s.push(t,e);for(y=1,b=p;y<g;y++,b+=v)s.push(t+Math.sin(b)*m,e+Math.cos(b)*m),s.push(t,e);s.push(i,o),s.push(t,e)}return 2*g}function Bl(t,e){t.lineStyle.native?function(t,e){var n=0,r=t.shape,i=t.points||r.points,o=r.type!==ei.POLY||r.closeStroke;if(0!==i.length){var s=e.points,a=e.indices,l=i.length/2,c=s.length/2,u=c;for(s.push(i[0],i[1]),n=1;n<l;n++)s.push(i[2*n],i[2*n+1]),a.push(u,u+1),u++;o&&a.push(u,c)}}(t,e):function(t,e){var n=t.shape,r=t.points||n.points.slice(),i=e.closePointEps;if(0!==r.length){var o=t.lineStyle,s=new ui(r[0],r[1]),a=new ui(r[r.length-2],r[r.length-1]),l=n.type!==ei.POLY||n.closeStroke,c=Math.abs(s.x-a.x)<i&&Math.abs(s.y-a.y)<i;if(l){r=r.slice(),c&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));var u=.5*(s.x+a.x),h=.5*(a.y+s.y);r.unshift(u,h),r.push(u,h)}var p=e.points,d=r.length/2,f=r.length,m=p.length/2,g=o.width/2,v=g*g,y=o.miterLimit*o.miterLimit,b=r[0],_=r[1],x=r[2],w=r[3],E=0,S=0,T=-(_-w),A=b-x,M=0,C=0,P=Math.sqrt(T*T+A*A);T/=P,A/=P,T*=g,A*=g;var D=o.alignment,R=2*(1-D),O=2*D;l||(o.cap===El.ROUND?f+=Nl(b-T*(R-O)*.5,_-A*(R-O)*.5,b-T*R,_-A*R,b+T*O,_+A*O,p,!0)+2:o.cap===El.SQUARE&&(f+=Fl(b,_,T,A,R,O,!0,p))),p.push(b-T*R,_-A*R),p.push(b+T*O,_+A*O);for(var I=1;I<d-1;++I){b=r[2*(I-1)],_=r[2*(I-1)+1],x=r[2*I],w=r[2*I+1],E=r[2*(I+1)],S=r[2*(I+1)+1],T=-(_-w),A=b-x,T/=P=Math.sqrt(T*T+A*A),A/=P,T*=g,A*=g,M=-(w-S),C=x-E,M/=P=Math.sqrt(M*M+C*C),C/=P,M*=g,C*=g;var L=x-b,k=_-w,F=x-E,N=S-w,B=k*F-N*L,U=B<0;if(Math.abs(B)<.1)p.push(x-T*R,w-A*R),p.push(x+T*O,w+A*O);else{var G=(-T+b)*(-A+w)-(-T+x)*(-A+_),z=(-M+E)*(-C+w)-(-M+x)*(-C+S),H=(L*z-F*G)/B,j=(N*G-k*z)/B,V=(H-x)*(H-x)+(j-w)*(j-w),X=x+(H-x)*R,W=w+(j-w)*R,q=x-(H-x)*O,Y=w-(j-w)*O,$=U?R:O;V<=Math.min(L*L+k*k,F*F+N*N)+$*$*v?o.join===wl.BEVEL||V/v>y?(U?(p.push(X,W),p.push(x+T*O,w+A*O),p.push(X,W),p.push(x+M*O,w+C*O)):(p.push(x-T*R,w-A*R),p.push(q,Y),p.push(x-M*R,w-C*R),p.push(q,Y)),f+=2):o.join===wl.ROUND?U?(p.push(X,W),p.push(x+T*O,w+A*O),f+=Nl(x,w,x+T*O,w+A*O,x+M*O,w+C*O,p,!0)+4,p.push(X,W),p.push(x+M*O,w+C*O)):(p.push(x-T*R,w-A*R),p.push(q,Y),f+=Nl(x,w,x-T*R,w-A*R,x-M*R,w-C*R,p,!1)+4,p.push(x-M*R,w-C*R),p.push(q,Y)):(p.push(X,W),p.push(q,Y)):(p.push(x-T*R,w-A*R),p.push(x+T*O,w+A*O),o.join===wl.BEVEL||V/v>y||(o.join===wl.ROUND?f+=U?Nl(x,w,x+T*O,w+A*O,x+M*O,w+C*O,p,!0)+2:Nl(x,w,x-T*R,w-A*R,x-M*R,w-C*R,p,!1)+2:(U?(p.push(q,Y),p.push(q,Y)):(p.push(X,W),p.push(X,W)),f+=2)),p.push(x-M*R,w-C*R),p.push(x+M*O,w+C*O),f+=2)}}b=r[2*(d-2)],_=r[2*(d-2)+1],x=r[2*(d-1)],T=-(_-(w=r[2*(d-1)+1])),A=b-x,T/=P=Math.sqrt(T*T+A*A),A/=P,T*=g,A*=g,p.push(x-T*R,w-A*R),p.push(x+T*O,w+A*O),l||(o.cap===El.ROUND?f+=Nl(x-T*(R-O)*.5,w-A*(R-O)*.5,x-T*R,w-A*R,x+T*O,w+A*O,p,!1)+2:o.cap===El.SQUARE&&(f+=Fl(x,w,T,A,R,O,!1,p)));var K=e.indices,Z=Al.epsilon*Al.epsilon;for(I=m;I<f+m-2;++I)b=p[2*I],_=p[2*I+1],x=p[2*(I+1)],w=p[2*(I+1)+1],E=p[2*(I+2)],S=p[2*(I+2)+1],Math.abs(b*(w-S)+x*(S-_)+E*(_-w))<Z||K.push(I,I+1,I+2)}}(t,e)}var Ul,Gl=function(){function t(){}return t.curveTo=function(t,e,n,r,i,o){var s=o[o.length-2],a=o[o.length-1]-e,l=s-t,c=r-e,u=n-t,h=Math.abs(a*u-l*c);if(h<1e-8||0===i)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var p=a*a+l*l,d=c*c+u*u,f=a*c+l*u,m=i*Math.sqrt(p)/h,g=i*Math.sqrt(d)/h,v=m*f/p,y=g*f/d,b=m*u+g*l,_=m*c+g*a,x=l*(g+v),w=a*(g+v),E=u*(m+y),S=c*(m+y);return{cx:b+t,cy:_+e,radius:i,startAngle:Math.atan2(w-_,x-b),endAngle:Math.atan2(S-_,E-b),anticlockwise:l*c>u*a}},t.arc=function(t,e,n,r,i,o,s,a,l){for(var c=s-o,u=Al._segmentsCount(Math.abs(c)*i,40*Math.ceil(Math.abs(c)/ni)),h=c/(2*u),p=2*h,d=Math.cos(h),f=Math.sin(h),m=u-1,g=m%1/m,v=0;v<=m;++v){var y=h+o+p*(v+g*v),b=Math.cos(y),_=-Math.sin(y);l.push((d*b+f*_)*i+n,(d*-_+f*b)*i+r)}},t}(),zl=function(){function t(){}return t.curveLength=function(t,e,n,r,i,o,s,a){for(var l=0,c=0,u=0,h=0,p=0,d=0,f=0,m=0,g=0,v=0,y=0,b=t,_=e,x=1;x<=10;++x)v=b-(m=(f=(d=(p=1-(c=x/10))*p)*p)*t+3*d*c*n+3*p*(u=c*c)*i+(h=u*c)*s),y=_-(g=f*e+3*d*c*r+3*p*u*o+h*a),b=m,_=g,l+=Math.sqrt(v*v+y*y);return l},t.curveTo=function(e,n,r,i,o,s,a){var l=a[a.length-2],c=a[a.length-1];a.length-=2;var u=Al._segmentsCount(t.curveLength(l,c,e,n,r,i,o,s)),h=0,p=0,d=0,f=0,m=0;a.push(l,c);for(var g=1,v=0;g<=u;++g)d=(p=(h=1-(v=g/u))*h)*h,m=(f=v*v)*v,a.push(d*l+3*p*v*e+3*h*f*r+m*o,d*c+3*p*v*n+3*h*f*i+m*s)},t}(),Hl=function(){function t(){}return t.curveLength=function(t,e,n,r,i,o){var s=t-2*n+i,a=e-2*r+o,l=2*n-2*t,c=2*r-2*e,u=4*(s*s+a*a),h=4*(s*l+a*c),p=l*l+c*c,d=2*Math.sqrt(u+h+p),f=Math.sqrt(u),m=2*u*f,g=2*Math.sqrt(p),v=h/f;return(m*d+f*h*(d-g)+(4*p*u-h*h)*Math.log((2*f+v+d)/(v+g)))/(4*m)},t.curveTo=function(e,n,r,i,o){for(var s=o[o.length-2],a=o[o.length-1],l=Al._segmentsCount(t.curveLength(s,a,e,n,r,i)),c=0,u=0,h=1;h<=l;++h){var p=h/l;c=s+(e-s)*p,u=a+(n-a)*p,o.push(c+(e+(r-e)*p-c)*p,u+(n+(i-n)*p-u)*p)}},t}(),jl=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,n){this.reset(),this.style=t,this.start=e,this.attribStart=n},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),Vl=((Ul={})[ei.POLY]=Dl,Ul[ei.CIRC]=Rl,Ul[ei.ELIP]=Rl,Ul[ei.RECT]=Ol,Ul[ei.RREC]=kl,Ul),Xl=[],Wl=[];function ql(t){for(var e=t.points,n=0,r=0;r<e.length-2;r+=2)n+=(e[r+2]-e[r])*(e[r+3]+e[r+1]);return n>0}var Yl=function(){function t(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=e,this.matrix=r,this.type=t.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),$l=new ui,Kl=new wi,Zl=function(t){function e(){var e=t.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new wi,e.boundsDirty=-1,e}return Pl(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Wl.push(this.drawCalls[t]);this.drawCalls.length=0;for(t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),Xl.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null);var i=new Yl(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var n=new Yl(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,n=0;n<e.length;++n){var r=e[n];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(t,$l):$l.copyFrom(t),r.shape.contains($l.x,$l.y)))){var i=!1;if(r.holes)for(var o=0;o<r.holes.length;o++){if(r.holes[o].shape.contains($l.x,$l.y)){i=!0;break}}if(!i)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,n=this.graphicsData,r=null,i=null;this.batches.length>0&&(i=(r=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<n.length;o++){this.shapeIndex++;var s=n[o],a=s.fillStyle,l=s.lineStyle;Vl[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix);for(var c=0;c<2;c++){var u=0===c?a:l;if(u.visible){var h=u.texture.baseTexture,p=this.indices.length,d=this.points.length/2;h.wrapMode=dr.REPEAT,0===c?this.processFill(s):this.processLine(s);var f=this.points.length/2-d;0!==f&&(r&&!this._compareStyles(i,u)&&(r.end(p,d),r=null),r||((r=Xl.pop()||new jl).begin(u,p,d),this.batches.push(r),i=u),this.addUvs(this.points,e,u.texture,d,f,u.matrix))}}}var m=this.indices.length,g=this.points.length/2;if(r&&r.end(m,g),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var v=g>65535&&t;this.indicesUint16=v?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,n=t.length;e<n;e++)for(var r=t[e],i=0;i<r.size;i++){var o=r.start+i;this.indicesUint16[o]=this.indicesUint16[o]-r.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,n=0;n<t.length;n++)if(t[n].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++Zi._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Wl.push(this.drawCalls[e]);this.drawCalls.length=0;var n=this.colors,r=this.textureIds,i=Wl.pop();i||((i=new qs).texArray=new Ys),i.texArray.count=0,i.start=0,i.size=0,i.type=ar.TRIANGLES;var o=0,s=null,a=0,l=!1,c=ar.TRIANGLES,u=0;this.drawCalls.push(i);for(e=0;e<this.batches.length;e++){var h=this.batches[e],p=h.style,d=p.texture.baseTexture;l!==!!p.native&&(c=(l=!!p.native)?ar.LINES:ar.TRIANGLES,s=null,o=8,t++),s!==d&&(s=d,d._batchEnabled!==t&&(8===o&&(t++,o=0,i.size>0&&((i=Wl.pop())||((i=new qs).texArray=new Ys),this.drawCalls.push(i)),i.start=u,i.size=0,i.texArray.count=0,i.type=c),d.touched=1,d._batchEnabled=t,d._batchLocation=o,d.wrapMode=dr.REPEAT,i.texArray.elements[i.texArray.count++]=d,o++)),i.size+=h.size,u+=h.size,a=d._batchLocation,this.addColors(n,p.color,p.alpha,h.attribSize,h.attribStart),this.addTextureIds(r,a,h.attribSize,h.attribStart)}Zi._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(3*t.length*4),o=new Float32Array(i),s=new Uint32Array(i),a=0,l=0;l<t.length/2;l++)o[a++]=t[2*l],o[a++]=t[2*l+1],o[a++]=e[2*l],o[a++]=e[2*l+1],s[a++]=n[l],o[a++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),Dl.triangulate(t,this)):Vl[t.type].triangulate(t,this)},e.prototype.processLine=function(t){Bl(t,this);for(var e=0;e<t.holes.length;e++)Bl(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var n=t[e];Vl[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=Kl,n=pi.IDENTITY;this._bounds.clear(),e.clear();for(var r=0;r<this.graphicsData.length;r++){var i=this.graphicsData[r],o=i.shape,s=i.type,a=i.lineStyle,l=i.matrix||pi.IDENTITY,c=0;if(a&&a.visible){var u=a.alignment;c=a.width,s===ei.POLY?ql(o)?c*=1-u:c*=u:c*=Math.max(0,u)}if(n!==l&&(e.isEmpty()||(t.addBoundsMatrix(e,n),e.clear()),n=l),s===ei.RECT||s===ei.RREC){var h=o;e.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,c,c)}else if(s===ei.CIRC){var p=o;e.addFramePad(p.x,p.y,p.x,p.y,p.radius+c,p.radius+c)}else if(s===ei.ELIP){var d=o;e.addFramePad(d.x,d.y,d.x,d.y,d.width+c,d.height+c)}else{var f=o;t.addVerticesMatrix(n,f.points,0,f.points.length,c,c)}}e.isEmpty()||t.addBoundsMatrix(e,n),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var n=0;n<t.length/2;n++){var r=t[2*n],i=t[2*n+1];t[2*n]=e.a*r+e.c*i+e.tx,t[2*n+1]=e.b*r+e.d*i+e.ty}},e.prototype.addColors=function(t,e,n,r,i){void 0===i&&(i=0);var o=Nr((e>>16)+(65280&e)+((255&e)<<16),n);t.length=Math.max(t.length,i+r);for(var s=0;s<r;s++)t[i+s]=o},e.prototype.addTextureIds=function(t,e,n,r){void 0===r&&(r=0),t.length=Math.max(t.length,r+n);for(var i=0;i<n;i++)t[r+i]=e},e.prototype.addUvs=function(t,e,n,r,i,o){void 0===o&&(o=null);for(var s=0,a=e.length,l=n.frame;s<i;){var c=t[2*(r+s)],u=t[2*(r+s)+1];if(o){var h=o.a*c+o.c*u+o.tx;u=o.b*c+o.d*u+o.ty,c=h}s++,e.push(c/l.width,u/l.height)}var p=n.baseTexture;(l.width<p.width||l.height<p.height)&&this.adjustUvs(e,n,a,i)},e.prototype.adjustUvs=function(t,e,n,r){for(var i=e.baseTexture,o=1e-6,s=n+2*r,a=e.frame,l=a.width/i.width,c=a.height/i.height,u=a.x/a.width,h=a.y/a.height,p=Math.floor(t[n]+o),d=Math.floor(t[n+1]+o),f=n+2;f<s;f+=2)p=Math.min(p,Math.floor(t[f]+o)),d=Math.min(d,Math.floor(t[f+1]+o));u-=p,h-=d;for(f=n;f<s;f+=2)t[f]=(t[f]+u)*l,t[f+1]=(t[f+1]+h)*c},e.BATCHABLE_SIZE=100,e}(Js),Jl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=El.BUTT,e.join=wl.MITER,e.miterLimit=10,e}return Pl(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(Ml),Ql=new Float32Array(3),tc={},ec=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new Ml,n._lineStyle=new Jl,n._matrix=null,n._holeMode=!1,n.state=fs.for2d(),n._geometry=e||new Zl,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=sr.NORMAL,n}return Pl(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t,e,n,r,i){return void 0===t&&(t=null),void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===i&&(i=!1),"number"==typeof t&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:fo.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:El.BUTT,join:wl.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new li,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new li,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return r===t&&i===e||n.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,n,r){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),Hl.curveTo(t,e,n,r,i),this},e.prototype.bezierCurveTo=function(t,e,n,r,i,o){return this._initCurve(),zl.curveTo(t,e,n,r,i,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,n,r,i){this._initCurve(t,e);var o=this.currentPath.points,s=Gl.curveTo(t,e,n,r,i,o);if(s){var a=s.cx,l=s.cy,c=s.radius,u=s.startAngle,h=s.endAngle,p=s.anticlockwise;this.arc(a,l,c,u,h,p)}return this},e.prototype.arc=function(t,e,n,r,i,o){if(void 0===o&&(o=!1),r===i)return this;if(!o&&i<=r?i+=ni:o&&r<=i&&(r+=ni),0===i-r)return this;var s=t+Math.cos(r)*n,a=e+Math.sin(r)*n,l=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;if(c){var u=Math.abs(c[c.length-2]-s),h=Math.abs(c[c.length-1]-a);u<l&&h<l||c.push(s,a)}else this.moveTo(s,a),c=this.currentPath.points;return Gl.arc(s,a,t,e,n,r,i,o,c),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:fo.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){t=Object.assign({texture:fo.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,n,r){return this.drawShape(new oi(t,e,n,r))},e.prototype.drawRoundedRect=function(t,e,n,r,i){return this.drawShape(new ci(t,e,n,r,i))},e.prototype.drawCircle=function(t,e,n){return this.drawShape(new si(t,e,n))},e.prototype.drawEllipse=function(t,e,n,r){return this.drawShape(new ai(t,e,n,r))},e.prototype.drawPolygon=function(){for(var t,e=arguments,n=[],r=0;r<arguments.length;r++)n[r]=e[r];var i=!0,o=n[0];o.points?(i=o.closeStroke,t=o.points):t=Array.isArray(n[0])?n[0]:n;var s=new li(t);return s.closeStroke=i,this.drawShape(s),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return!(1!==t.length||t[0].shape.type!==ei.RECT||t[0].holes.length||t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,n=t.context.supports.uint32Indices;e.updateBatches(n),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(var r=0;r<n;r++){var i=t.batches[r],o=i.style.color,s=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),l={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*i.start,i.size),uvs:a,_batchRGB:Or(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=l}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,n=this.batches.length;e<n;e++){var r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,o=e.uniforms,s=n.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(r>>16&255)/255*i,o.tint[1]=(r>>8&255)/255*i,o.tint[2]=(255&r)/255*i,o.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(var a=0,l=s.length;a<l;a++)this._renderDrawCallDirect(t,n.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var n=e.texArray,r=e.type,i=e.size,o=e.start,s=n.count,a=0;a<s;a++)t.texture.bind(n.elements[a],a);t.geometry.draw(r,i,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,n=this.pluginName;if(!e){if(!tc[n]){for(var r=t.plugins.batch.MAX_TEXTURES,i=new Int32Array(r),o=0;o<r;o++)i[o]=o;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new pi,default:Po.from({uSamplers:i},!0)},a=t.plugins[n]._shader.program;tc[n]=new ds(a,s)}e=tc[n]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,n=e.minX,r=e.minY,i=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,n,r,i,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=Or(this.tint,Ql),e=0;e<this.batches.length;e++){var n=this.batches[e],r=n._batchRGB,i=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);n._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,l=this._geometry.points,c=this.vertexData,u=0,h=0;h<l.length;h+=2){var p=l[h],d=l[h+1];c[u++]=n*p+i*d+s,c[u++]=o*d+r*p+a}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e._TEMP_POINT=new ui,e}(Ci),nc=function(t,e){return(nc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var rc,ic=new ui,oc=new Uint16Array([0,1,2,0,2,3]),sc=function(t){function e(e){var n=t.call(this)||this;return n._anchor=new hi(n._onAnchorUpdate,n,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=sr.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=e||fo.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=oc,n.pluginName="batch",n.isSprite=!0,n._roundPixels=wr.ROUND_PIXELS,n}return function(t,e){function n(){this.constructor=t}nc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Vr(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Vr(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,l=this.vertexData,c=t.trim,u=t.orig,h=this._anchor,p=0,d=0,f=0,m=0;if(c?(p=(d=c.x-h._x*u.width)+c.width,f=(m=c.y-h._y*u.height)+c.height):(p=(d=-h._x*u.width)+u.width,f=(m=-h._y*u.height)+u.height),l[0]=n*d+i*m+s,l[1]=o*m+r*d+a,l[2]=n*p+i*m+s,l[3]=o*m+r*p+a,l[4]=n*p+i*f+s,l[5]=o*f+r*p+a,l[6]=n*d+i*f+s,l[7]=o*f+r*d+a,this._roundPixels)for(var g=wr.RESOLUTION,v=0;v<l.length;++v)l[v]=Math.round((l[v]*g|0)/g)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,n=t.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,l=i.d,c=i.tx,u=i.ty,h=-r._x*n.width,p=h+n.width,d=-r._y*n.height,f=d+n.height;e[0]=o*h+a*d+c,e[1]=l*d+s*h+u,e[2]=o*p+a*d+c,e[3]=l*d+s*p+u,e[4]=o*p+a*f+c,e[5]=l*f+s*p+u,e[6]=o*h+a*f+c,e[7]=l*f+s*h+u},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new oi),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,ic);var e=this._texture.orig.width,n=this._texture.orig.height,r=-e*this.anchor.x,i=0;return ic.x>=r&&ic.x<r+e&&(i=-n*this.anchor.y,ic.y>=i&&ic.y<i+n)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var n="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null},e.from=function(t,n){return new e(t instanceof fo?t:fo.from(t,n))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=Vr(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=Vr(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||fo.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Ci),ac=function(t,e){return(ac=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(rc||(rc={}));var lc={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:rc.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},cc=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],uc=function(){function t(t){this.styleID=0,this.reset(),dc(this,t,t)}return t.prototype.clone=function(){var e={};return dc(e,this,lc),new t(e)},t.prototype.reset=function(){dc(this,lc,lc)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=pc(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=pc(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=pc(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var n=e.length-1;n>=0;n--){var r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&cc.indexOf(r)<0&&(r='"'+r+'"'),e[n]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function hc(t){return"number"==typeof t?Ir(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function pc(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=hc(t[e]);return t}return hc(t)}function dc(t,e,n){for(var r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}var fc=function(){function t(t,e,n,r,i,o,s,a,l){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=l}return t.measureText=function(e,n,r,i){void 0===i&&(i=t._canvas),r=null==r?n.wordWrap:r;var o=n.toFontString(),s=t.measureFont(o);0===s.fontSize&&(s.fontSize=n.fontSize,s.ascent=n.fontSize);var a=i.getContext("2d");a.font=o;for(var l=(r?t.wordWrap(e,n,i):e).split(/(?:\r\n|\r|\n)/),c=new Array(l.length),u=0,h=0;h<l.length;h++){var p=a.measureText(l[h]).width+(l[h].length-1)*n.letterSpacing;c[h]=p,u=Math.max(u,p)}var d=u+n.strokeThickness;n.dropShadow&&(d+=n.dropShadowDistance);var f=n.lineHeight||s.fontSize+n.strokeThickness,m=Math.max(f,s.fontSize+n.strokeThickness)+(l.length-1)*(f+n.leading);return n.dropShadow&&(m+=n.dropShadowDistance),new t(e,n,d,m,l,c,f+n.leading,u,s)},t.wordWrap=function(e,n,r){void 0===r&&(r=t._canvas);for(var i=r.getContext("2d"),o=0,s="",a="",l=Object.create(null),c=n.letterSpacing,u=n.whiteSpace,h=t.collapseSpaces(u),p=t.collapseNewlines(u),d=!h,f=n.wordWrapWidth+c,m=t.tokenize(e),g=0;g<m.length;g++){var v=m[g];if(t.isNewline(v)){if(!p){a+=t.addLine(s),d=!h,s="",o=0;continue}v=" "}if(h){var y=t.isBreakingSpace(v),b=t.isBreakingSpace(s[s.length-1]);if(y&&b)continue}var _=t.getFromCache(v,c,l,i);if(_>f)if(""!==s&&(a+=t.addLine(s),s="",o=0),t.canBreakWords(v,n.breakWords))for(var x=t.wordWrapSplit(v),w=0;w<x.length;w++){for(var E=x[w],S=1;x[w+S];){var T=x[w+S],A=E[E.length-1];if(t.canBreakChars(A,T,v,w,n.breakWords))break;E+=T,S++}w+=E.length-1;var M=t.getFromCache(E,c,l,i);M+o>f&&(a+=t.addLine(s),d=!1,s="",o=0),s+=E,o+=M}else{s.length>0&&(a+=t.addLine(s),s="",o=0);var C=g===m.length-1;a+=t.addLine(v,!C),d=!1,s="",o=0}else _+o>f&&(d=!1,a+=t.addLine(s),s="",o=0),(s.length>0||!t.isBreakingSpace(v)||d)&&(s+=v,o+=_)}return a+=t.addLine(s,!1)},t.addLine=function(e,n){return void 0===n&&(n=!0),e=t.trimRight(e),e=n?e+"\n":e},t.getFromCache=function(t,e,n,r){var i=n[t];if("number"!=typeof i){var o=t.length*e;i=r.measureText(t).width+o,n[t]=i}return i},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var n=e.length-1;n>=0;n--){var r=e[n];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,n){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var n=[],r="";if("string"!=typeof e)return n;for(var i=0;i<e.length;i++){var o=e[i],s=e[i+1];t.isBreakingSpace(o,s)||t.isNewline(o)?(""!==r&&(n.push(r),r=""),n.push(o)):r+=o}return""!==r&&n.push(r),n},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,n,r,i){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var n={ascent:0,descent:0,fontSize:0},r=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(i.measureText(o).width),a=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),l=Math.ceil(t.HEIGHT_MULTIPLIER*a);a=a*t.BASELINE_MULTIPLIER|0,r.width=s,r.height=l,i.fillStyle="#f00",i.fillRect(0,0,s,l),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,a);var c=i.getImageData(0,0,s,l).data,u=c.length,h=4*s,p=0,d=0,f=!1;for(p=0;p<a;++p){for(var m=0;m<h;m+=4)if(255!==c[d+m]){f=!0;break}if(f)break;d+=h}for(n.ascent=a-p,d=u-h,f=!1,p=l;p>a;--p){for(m=0;m<h;m+=4)if(255!==c[d+m]){f=!0;break}if(f)break;d-=h}return n.descent=p-a,n.fontSize=n.ascent+n.descent,t._fonts[e]=n,n},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),mc=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();mc.width=mc.height=10,fc._canvas=mc,fc._context=mc.getContext("2d"),fc._fonts={},fc.METRICS_STRING="|Ã‰qÃ…",fc.BASELINE_SYMBOL="M",fc.BASELINE_MULTIPLIER=1.4,fc.HEIGHT_MULTIPLIER=2,fc._newlines=[10,13],fc._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var gc={texture:!0,children:!1,baseTexture:!0},vc=function(t){function e(e,n,r){var i=this,o=!1;r||(r=document.createElement("canvas"),o=!0),r.width=3,r.height=3;var s=fo.from(r);return s.orig=new oi,s.trim=new oi,(i=t.call(this,s)||this)._ownCanvas=o,i.canvas=r,i.context=i.canvas.getContext("2d"),i._resolution=wr.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=e,i.style=n,i.localStyleID=-1,i}return function(t,e){function n(){this.constructor=t}ac(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.updateText=function(t){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,i,o=this.context,s=fc.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,l=s.height,c=s.lines,u=s.lineHeight,h=s.lineWidths,p=s.maxLineWidth,d=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+2*n.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,l)+2*n.padding)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=n.strokeThickness,o.textBaseline=n.textBaseline,o.lineJoin=n.lineJoin,o.miterLimit=n.miterLimit;for(var f=n.dropShadow?2:1,m=0;m<f;++m){var g=n.dropShadow&&0===m,v=g?Math.ceil(Math.max(1,l)+2*n.padding):0,y=v*this._resolution;if(g){o.fillStyle="black",o.strokeStyle="black";var b=n.dropShadowColor,_=Or("number"==typeof b?b:Lr(b));o.shadowColor="rgba("+255*_[0]+","+255*_[1]+","+255*_[2]+","+n.dropShadowAlpha+")",o.shadowBlur=n.dropShadowBlur,o.shadowOffsetX=Math.cos(n.dropShadowAngle)*n.dropShadowDistance,o.shadowOffsetY=Math.sin(n.dropShadowAngle)*n.dropShadowDistance+y}else o.fillStyle=this._generateFillStyle(n,c,s),o.strokeStyle=n.stroke,o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;var x=(u-d.fontSize)/2;(!e.nextLineHeightBehavior||u-d.fontSize<0)&&(x=0);for(var w=0;w<c.length;w++)r=n.strokeThickness/2,i=n.strokeThickness/2+w*u+d.ascent+x,"right"===n.align?r+=p-h[w]:"center"===n.align&&(r+=(p-h[w])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(c[w],r+n.padding,i+n.padding-v,!0),n.fill&&this.drawLetterSpacing(c[w],r+n.padding,i+n.padding-v)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,n,r){void 0===r&&(r=!1);var i=this._style.letterSpacing;if(0!==i)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,l=0,c=0;c<s.length;++c){var u=s[c];r?this.context.strokeText(u,o,n):this.context.fillText(u,o,n),o+=a-(l=this.context.measureText(t.substring(c+1)).width)+i,a=l}else r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=function(t){var e,n,r,i=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,i,o).data,l=a.length,c={top:null,left:null,right:null,bottom:null},u=null;for(e=0;e<l;e+=4)0!==a[e+3]&&(n=e/4%i,r=~~(e/4/i),null===c.top&&(c.top=r),(null===c.left||n<c.left)&&(c.left=n),(null===c.right||c.right<n)&&(c.right=n+1),(null===c.bottom||c.bottom<r)&&(c.bottom=r));return null!==c.top&&(i=c.right-c.left,o=c.bottom-c.top+1,u=s.getImageData(c.left,c.top,i,o)),{height:o,width:i,data:u}}(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var n=this._texture,r=this._style,i=r.trim?0:r.padding,o=n.baseTexture;n.trim.width=n._frame.width=t.width/this._resolution,n.trim.height=n._frame.height=t.height/this._resolution,n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),n.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,n){var r,i=t.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var o=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,a=this.canvas.width/this._resolution-o-2*s,l=this.canvas.height/this._resolution-o-2*s,c=i.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var h=c.length+1,p=1;p<h;++p)u.push(p/h);if(c.unshift(i[0]),u.unshift(0),c.push(i[i.length-1]),u.push(1),t.fillGradientType===rc.LINEAR_VERTICAL){r=this.context.createLinearGradient(a/2,s,a/2,l+s);var d=n.fontProperties.fontSize+t.strokeThickness;for(p=0;p<e.length;p++){var f=n.lineHeight*(p-1)+d,m=n.lineHeight*p,g=m;p>0&&f>m&&(g=(m+f)/2);var v=m+d,y=n.lineHeight*(p+1),b=v;p+1<e.length&&y<v&&(b=(v+y)/2);for(var _=(b-g)/l,x=0;x<c.length;x++){var w=0;w="number"==typeof u[x]?u[x]:x/c.length;var E=Math.min(1,Math.max(0,g/l+w*_));E=Number(E.toFixed(5)),r.addColorStop(E,c[x])}}}else{r=this.context.createLinearGradient(s,l/2,a+s,l/2);var S=c.length+1,T=1;for(p=0;p<c.length;p++){var A=void 0;A="number"==typeof u[p]?u[p]:T/S,r.addColorStop(A,c[p]),T++}}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},gc,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=Vr(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=Vr(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof uc?t:new uc(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e}(sc);wr.UPLOADS_PER_FRAME=4;var yc=function(t,e){return(yc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var bc=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function _c(t,e){var n=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof fo){var i=t._textures[r].baseTexture;-1===e.indexOf(i)&&(e.push(i),n=!0)}return n}function xc(t,e){if(t.baseTexture instanceof Zi){var n=t.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function wc(t,e){if(t._texture&&t._texture instanceof fo){var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function Ec(t,e){return e instanceof vc&&(e.updateText(!0),!0)}function Sc(t,e){if(e instanceof uc){var n=e.toFontString();return fc.measureFont(n),!0}return!1}function Tc(t,e){if(t instanceof vc){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function Ac(t,e){return t instanceof uc&&(-1===e.indexOf(t)&&e.push(t),!0)}function Mc(t,e){return e instanceof Zi&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function Cc(t,e){if(!(e instanceof ec))return!1;var n=e.geometry;e.finishPoly(),n.updateBatches();for(var r=n.batches,i=0;i<r.length;i++){var o=r[i].style.texture;o&&Mc(t,o.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function Pc(t,e){return t instanceof ec&&(e.push(t),!0)}var Dc=function(t){function e(e){var n=t.call(this,e)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(Pc),n.registerUploadHook(Mc),n.registerUploadHook(Cc),n}return function(t,e){function n(){this.constructor=t}yc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(function(){function t(t){var e=this;this.limiter=new bc(wr.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(Tc),this.registerFindHook(Ac),this.registerFindHook(_c),this.registerFindHook(xc),this.registerFindHook(wc),this.registerUploadHook(Ec),this.registerUploadHook(Sc)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Oi.system.addOnce(this.tick,this,Pi.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Oi.system.addOnce(this.tick,this,Pi.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(n=0,r=i.length;n<r;n++)i[n]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Ci)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&Oi.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}()),Rc=(function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds}}(),function(){function t(t,e,n){void 0===n&&(n=null),this._texture=t instanceof fo?t:null,this.baseTexture=t instanceof Zi?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,n=ti(t,null);return null===n&&(n=void 0!==e?parseFloat(e):1),1!==n&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var n=e,r=t.BATCH_SIZE;n-e<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],o=this._frames[i],s=o.frame;if(s){var a=null,l=null,c=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,u=new oi(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);a=o.rotated?new oi(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new oi(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new oi(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[i]=new fo(this.baseTexture,a,u,l,o.rotated?2:0,o.anchor),fo.addToCache(this.textures[i],i)}n++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var n=0;n<t[e].length;n++){var r=t[e][n];this.animations[e].push(this.textures[r])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var n in void 0===t&&(t=!1),this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}()),Oc=function(){function t(){}return t.use=function(e,n){var r,i,o=this,s=e.name+"_image";if(e.data&&e.type===_a.TYPE.JSON&&e.data.frames&&!o.resources[s]){var a=null===(i=null===(r=e.data)||void 0===r?void 0:r.meta)||void 0===i?void 0:i.related_multi_packs;if(Array.isArray(a))for(var l=function(t){if("string"!=typeof t)return"continue";var n=t.replace(".json",""),r=Cr.resolve(e.url.replace(o.baseUrl,""),t);if(o.resources[n]||Object.values(o.resources).some((function(t){return Cr.format(Cr.parse(t.url))===r})))return"continue";var i={crossOrigin:e.crossOrigin,loadType:_a.LOAD_TYPE.XHR,xhrType:_a.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};o.add(n,r,i)},c=0,u=a;c<u.length;c++){l(u[c])}var h={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=t.getResourcePath(e,o.baseUrl);o.add(s,p,h,(function(t){if(t.error)n(t.error);else{var r=new Rc(t.texture,e.data,e.url);r.parse((function(){e.spritesheet=r,e.textures=r.textures,n()}))}}))}else n()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:Cr.resolve(t.url.replace(e,""),t.data.meta.image)},t}(),Ic=function(t,e){return(Ic=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Lc(t,e){function n(){this.constructor=t}Ic(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var kc=new ui,Fc=(function(t){function e(e,n,r){void 0===n&&(n=100),void 0===r&&(r=100);var i=t.call(this,e)||this;return i.tileTransform=new xi,i._width=n,i._height=r,i.uvMatrix=i.texture.uvMatrix||new vs(e),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}Lc(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,n,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new oi),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,kc);var e=this._width,n=this._height,r=-e*this.anchor._x;if(kc.x>=r&&kc.x<r+e){var i=-n*this.anchor._y;if(kc.y>=i&&kc.y<i+n)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,n){return new e(t instanceof fo?t:fo.from(t,n),n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0})}(sc),"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"),Nc=new pi,Bc=function(t){function e(e){var n=t.call(this,e)||this,r={globals:n.renderer.globalUniforms};return n.shader=ds.from(Fc,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",r),n.simpleShader=ds.from(Fc,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",r),n.quad=new Mo,n.state=fs.for2d(),n}return Lc(e,t),e.prototype.render=function(t){var e=this.renderer,n=this.quad,r=n.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y);var i=t.uvRespectAnchor?t.anchor.x:0,o=t.uvRespectAnchor?t.anchor.y:0;(r=n.uvs)[0]=r[6]=-i,r[1]=r[3]=-o,r[2]=r[4]=1-i,r[5]=r[7]=1-o,n.invalidate();var s=t._texture,a=s.baseTexture,l=t.tileTransform.localTransform,c=t.uvMatrix,u=a.isPowerOfTwo&&s.frame.width===a.width&&s.frame.height===a.height;u&&(a._glTextures[e.CONTEXT_UID]?u=a.wrapMode!==dr.CLAMP:a.wrapMode===dr.CLAMP&&(a.wrapMode=dr.REPEAT));var h=u?this.simpleShader:this.shader,p=s.width,d=s.height,f=t._width,m=t._height;Nc.set(l.a*p/f,l.b*p/m,l.c*d/f,l.d*d/m,l.tx/f,l.ty/m),Nc.invert(),u?Nc.prepend(c.mapCoord):(h.uniforms.uMapCoord=c.mapCoord.toArray(!0),h.uniforms.uClampFrame=c.uClampFrame,h.uniforms.uClampOffset=c.uClampOffset),h.uniforms.uTransform=Nc.toArray(!0),h.uniforms.uColor=Br(t.tint,t.worldAlpha,h.uniforms.uColor,a.alphaMode),h.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),h.uniforms.uSampler=s,e.shader.bind(h),e.geometry.bind(n),this.state.blendMode=Fr(t.blendMode,a.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Lo),Uc=function(t,e){return(Uc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Gc(t,e){function n(){this.constructor=t}Uc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var zc=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),Hc=new ui,jc=new li,Vc=function(t){function e(e,n,r,i){void 0===i&&(i=ar.TRIANGLES);var o=t.call(this)||this;return o.geometry=e,e.refCount++,o.shader=n,o.state=r||fs.for2d(),o.drawMode=i,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=wr.ROUND_PIXELS,o.batchUvs=null,o}return Gc(e,t),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===ar.TRIANGLES&&n.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry.buffers[0],e=t.data,n=t._updateID;if(n!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,o=r.b,s=r.c,a=r.d,l=r.tx,c=r.ty,u=this.vertexData,h=0;h<u.length/2;h++){var p=e[2*h],d=e[2*h+1];u[2*h]=i*p+s*d+l,u[2*h+1]=o*p+a*d+c}if(this._roundPixels){var f=wr.RESOLUTION;for(h=0;h<u.length;++h)u[h]=Math.round((u[h]*f|0)/f)}this.vertexDirty=n}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new zc(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Hc);for(var e=this.geometry.getBuffer("aVertexPosition").data,n=jc.points,r=this.geometry.getIndex().data,i=r.length,o=4===this.drawMode?3:1,s=0;s+2<i;s+=o){var a=2*r[s],l=2*r[s+1],c=2*r[s+2];if(n[0]=e[a],n[1]=e[a+1],n[2]=e[l],n[3]=e[l+1],n[4]=e[c],n[5]=e[c+1],jc.contains(Hc.x,Hc.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Ci),Xc=function(t){function e(e,n){var r=this,i={uSampler:e,alpha:1,uTextureMatrix:pi.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n)).uniforms&&Object.assign(i,n.uniforms),(r=t.call(this,n.program||ps.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i)||this)._colorDirty=!1,r.uvMatrix=new vs(e),r.batchable=void 0===n.program,r.pluginName=n.pluginName,r.tint=n.tint,r.alpha=n.alpha,r}return Gc(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;Br(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(ds),Wc=function(t){function e(e,n,r){var i=t.call(this)||this,o=new _o(e),s=new _o(n,!0),a=new _o(r,!0,!0);return i.addAttribute("aVertexPosition",o,2,!1,ur.FLOAT).addAttribute("aTextureCoord",s,2,!1,ur.FLOAT).addIndex(a),i._updateId=-1,i}return Gc(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(To),qc=function(t,e){return(qc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Yc=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},$c=function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var r in e){var i=e[r].match(/^[a-z]+/gm)[0],o=e[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var a in o){var l=o[a].split("="),c=l[0],u=l[1].replace(/"/gm,""),h=parseFloat(u),p=isNaN(h)?u:h;s[c]=p}n[i].push(s)}var d=new Yc;return n.info.forEach((function(t){return d.info.push({face:t.face,size:parseInt(t.size,10)})})),n.common.forEach((function(t){return d.common.push({lineHeight:parseInt(t.lineHeight,10)})})),n.page.forEach((function(t){return d.page.push({id:parseInt(t.id,10),file:t.file})})),n.char.forEach((function(t){return d.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),n.kerning.forEach((function(t){return d.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),d},t}(),Kc=function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new Yc,n=t.getElementsByTagName("info"),r=t.getElementsByTagName("common"),i=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),a=0;a<n.length;a++)e.info.push({face:n[a].getAttribute("face"),size:parseInt(n[a].getAttribute("size"),10)});for(a=0;a<r.length;a++)e.common.push({lineHeight:parseInt(r[a].getAttribute("lineHeight"),10)});for(a=0;a<i.length;a++)e.page.push({id:parseInt(i[a].getAttribute("id"),10)||0,file:i[a].getAttribute("file")});for(a=0;a<o.length;a++){var l=o[a];e.char.push({id:parseInt(l.getAttribute("id"),10),page:parseInt(l.getAttribute("page"),10)||0,x:parseInt(l.getAttribute("x"),10),y:parseInt(l.getAttribute("y"),10),width:parseInt(l.getAttribute("width"),10),height:parseInt(l.getAttribute("height"),10),xoffset:parseInt(l.getAttribute("xoffset"),10),yoffset:parseInt(l.getAttribute("yoffset"),10),xadvance:parseInt(l.getAttribute("xadvance"),10)})}for(a=0;a<s.length;a++)e.kerning.push({first:parseInt(s[a].getAttribute("first"),10),second:parseInt(s[a].getAttribute("second"),10),amount:parseInt(s[a].getAttribute("amount"),10)});return e},t}(),Zc=function(){function t(){}return t.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return Kc.test(e)}return!1},t.parse=function(t){var e=(new self.DOMParser).parseFromString(t,"text/xml");return Kc.parse(e)},t}(),Jc=[$c,Kc,Zc];function Qc(t){for(var e=0;e<Jc.length;e++)if(Jc[e].test(t))return Jc[e];return null}function tu(t,e,n,r,i,o,s){var a=n.text,l=n.fontProperties;e.translate(r,i),e.scale(o,o);var c=s.strokeThickness/2,u=-s.strokeThickness/2;e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=function(t,e,n,r,i,o){var s,a=n.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var l=n.dropShadow?n.dropShadowDistance:0,c=n.padding||0,u=t.width/r-l-2*c,h=t.height/r-l-2*c,p=a.slice(),d=n.fillGradientStops.slice();if(!d.length)for(var f=p.length+1,m=1;m<f;++m)d.push(m/f);if(p.unshift(a[0]),d.unshift(0),p.push(a[a.length-1]),d.push(1),n.fillGradientType===rc.LINEAR_VERTICAL){s=e.createLinearGradient(u/2,c,u/2,h+c);var g=0,v=(o.fontProperties.fontSize+n.strokeThickness)/h;for(m=0;m<i.length;m++)for(var y=o.lineHeight*m,b=0;b<p.length;b++){var _=y/h+("number"==typeof d[b]?d[b]:b/p.length)*v,x=Math.max(g,_);x=Math.min(x,1),s.addColorStop(x,p[b]),g=x}}else{s=e.createLinearGradient(c,h/2,u+c,h/2);var w=p.length+1,E=1;for(m=0;m<p.length;m++){var S=void 0;S="number"==typeof d[m]?d[m]:E/w,s.addColorStop(S,p[m]),E++}}return s}(t,e,s,o,[a],n),e.strokeStyle=s.stroke;var h=s.dropShadowColor,p=Or("number"==typeof h?h:Lr(h));s.dropShadow?(e.shadowColor="rgba("+255*p[0]+","+255*p[1]+","+255*p[2]+","+s.dropShadowAlpha+")",e.shadowBlur=s.dropShadowBlur,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*s.dropShadowDistance,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*s.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),s.stroke&&s.strokeThickness&&e.strokeText(a,c,u+n.lineHeight-l.descent),s.fill&&e.fillText(a,c,u+n.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}var eu=function(){function t(t,e,n){var r=t.info[0],i=t.common[0],o=ti(t.page[0].file),s={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/o,this.chars={},this.pageTextures=s;for(var a=0;a<t.page.length;a++){var l=t.page[a],c=l.id,u=l.file;s[c]=e instanceof Array?e[a]:e[u]}for(a=0;a<t.char.length;a++){var h=t.char[a],p=(c=h.id,h.page),d=t.char[a],f=d.x,m=d.y,g=d.width,v=d.height,y=d.xoffset,b=d.yoffset,_=d.xadvance;m/=o,g/=o,v/=o,y/=o,b/=o,_/=o;var x=new oi((f/=o)+s[p].frame.x/o,m+s[p].frame.y/o,g,v);this.chars[c]={xOffset:y,yOffset:b,xAdvance:_,kerning:{},texture:new fo(s[p].baseTexture,x),page:p}}for(a=0;a<t.kerning.length;a++){var w=t.kerning[a],E=w.first,S=w.second,T=w.amount;E/=o,S/=o,T/=o,this.chars[S]&&(this.chars[S].kerning[E]=T)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,n,r){var i;if(e instanceof Yc)i=e;else{var o=Qc(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}n instanceof fo&&(n=[n]);var s=new t(i,n,r);return t.available[s.font]=s,s},t.uninstall=function(e){var n=t.available[e];if(!n)throw new Error("No font found named '"+e+"'");n.destroy(),delete t.available[e]},t.from=function(e,n,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,r),o=i.chars,s=i.padding,a=i.resolution,l=i.textureWidth,c=i.textureHeight,u=function(t){"string"==typeof t&&(t=[t]);for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),s=i[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,l=s;a<=l;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,i.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),h=n instanceof uc?n:new uc(n),p=l,d=new Yc;d.info[0]={face:h.fontFamily,size:h.fontSize},d.common[0]={lineHeight:h.fontSize};for(var f,m,g,v=0,y=0,b=0,_=[],x=0;x<u.length;x++){f||((f=document.createElement("canvas")).width=l,f.height=c,m=f.getContext("2d"),g=new Zi(f,{resolution:a}),_.push(new fo(g)),d.page.push({id:_.length-1,file:""}));var w=fc.measureText(u[x],h,!1,f),E=w.width,S=Math.ceil(w.height),T=Math.ceil(("italic"===h.fontStyle?2:1)*E);if(y>=c-S*a){if(0===y)throw new Error("[BitmapFont] textureHeight "+c+"px is too small for "+h.fontSize+"px fonts");--x,f=null,m=null,g=null,y=0,v=0,b=0}else if(b=Math.max(S+w.fontProperties.descent,b),T*a+v>=p)--x,y+=b*a,y=Math.ceil(y),v=0,b=0;else{tu(f,m,w,v,y,a,h);var A=w.text.charCodeAt(0);d.char.push({id:A,page:_.length-1,x:v/a,y:y/a,width:T,height:S,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0))}),v+=(T+2*s)*a,v=Math.ceil(v)}}x=0;for(var M=u.length;x<M;x++)for(var C=u[x],P=0;P<M;P++){var D=u[P],R=m.measureText(C).width,O=m.measureText(D).width,I=m.measureText(C+D).width-(R+O);I&&d.kerning.push({first:C.charCodeAt(0),second:D.charCodeAt(0),amount:I})}var L=new t(d,_,!0);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=L,L},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),nu=[],ru=[],iu=(function(t){function e(n,r){void 0===r&&(r={});var i=t.call(this)||this;i._tint=16777215;var o=Object.assign({},e.styleDefaults,r),s=o.align,a=o.tint,l=o.maxWidth,c=o.letterSpacing,u=o.fontName,h=o.fontSize;if(!eu.available[u])throw new Error('Missing BitmapFont "'+u+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=s,i._tint=a,i._fontName=u,i._fontSize=h||eu.available[u].size,i._text=n,i._maxWidth=l,i._maxLineHeight=0,i._letterSpacing=c,i._anchor=new hi((function(){i.dirty=!0}),i,0,0),i._roundPixels=wr.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}(function(t,e){function n(){this.constructor=t}qc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.updateText=function(){for(var t,e=eu.available[this._fontName],n=this._fontSize/e.size,r=new ui,i=[],o=[],s=[],a=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",l=a.length,c=this._maxWidth*e.size/this._fontSize,u=null,h=0,p=0,d=0,f=-1,m=0,g=0,v=0,y=0,b=0;b<l;b++){var _=a.charCodeAt(b),x=a.charAt(b);if(/(?:\s)/.test(x)&&(f=b,m=h,y++),"\r"!==x&&"\n"!==x){var w=e.chars[_];if(w){u&&w.kerning[u]&&(r.x+=w.kerning[u]);var E=ru.pop()||{texture:fo.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ui};E.texture=w.texture,E.line=d,E.charCode=_,E.position.x=r.x+w.xOffset+this._letterSpacing/2,E.position.y=r.y+w.yOffset,E.prevSpaces=y,i.push(E),h=E.position.x+w.texture.orig.width,r.x+=w.xAdvance+this._letterSpacing,v=Math.max(v,w.yOffset+w.texture.height),u=_,-1!==f&&c>0&&r.x>c&&(jr(i,1+f-++g,1+b-f),b=f,f=-1,o.push(m),s.push(i.length>0?i[i.length-1].prevSpaces:0),p=Math.max(p,m),d++,r.x=0,r.y+=e.lineHeight,u=null,y=0)}}else o.push(h),s.push(-1),p=Math.max(p,h),++d,++g,r.x=0,r.y+=e.lineHeight,u=null,y=0}var S=a.charAt(a.length-1);"\r"!==S&&"\n"!==S&&(/(?:\s)/.test(S)&&(h=m),o.push(h),p=Math.max(p,h),s.push(-1));var T=[];for(b=0;b<=d;b++){var A=0;"right"===this._align?A=p-o[b]:"center"===this._align?A=(p-o[b])/2:"justify"===this._align&&(A=s[b]<0?0:(p-o[b])/s[b]),T.push(A)}var M=i.length,C={},P=[],D=this._activePagesMeshData;for(b=0;b<D.length;b++)nu.push(D[b]);for(b=0;b<M;b++){var R=(G=i[b].texture).baseTexture.uid;if(!C[R]){if(!(q=nu.pop())){var O=new Wc,I=new Xc(fo.EMPTY);q={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new Vc(O,I),vertices:null,uvs:null,indices:null}}q.index=0,q.indexCount=0,q.vertexCount=0,q.uvsCount=0,q.total=0;var L=this._textureCache;L[R]=L[R]||new fo(G.baseTexture),q.mesh.texture=L[R],q.mesh.tint=this._tint,P.push(q),C[R]=q}C[R].total++}for(b=0;b<D.length;b++)-1===P.indexOf(D[b])&&this.removeChild(D[b].mesh);for(b=0;b<P.length;b++)P[b].mesh.parent!==this&&this.addChild(P[b].mesh);for(var b in this._activePagesMeshData=P,C){var k=(q=C[b]).total;if(!((null===(t=q.indices)||void 0===t?void 0:t.length)>6*k)||q.vertices.length<2*Vc.BATCHABLE_SIZE)q.vertices=new Float32Array(8*k),q.uvs=new Float32Array(8*k),q.indices=new Uint16Array(6*k);else for(var F=q.total,N=q.vertices,B=4*F*2;B<N.length;B++)N[B]=0;q.mesh.size=6*k}for(b=0;b<M;b++){var U=(x=i[b]).position.x+T[x.line]*("justify"===this._align?x.prevSpaces:1);this._roundPixels&&(U=Math.round(U));var G,z=U*n,H=x.position.y*n,j=C[(G=x.texture).baseTexture.uid],V=G.frame,X=G._uvs,W=j.index++;j.indices[6*W+0]=0+4*W,j.indices[6*W+1]=1+4*W,j.indices[6*W+2]=2+4*W,j.indices[6*W+3]=0+4*W,j.indices[6*W+4]=2+4*W,j.indices[6*W+5]=3+4*W,j.vertices[8*W+0]=z,j.vertices[8*W+1]=H,j.vertices[8*W+2]=z+V.width*n,j.vertices[8*W+3]=H,j.vertices[8*W+4]=z+V.width*n,j.vertices[8*W+5]=H+V.height*n,j.vertices[8*W+6]=z,j.vertices[8*W+7]=H+V.height*n,j.uvs[8*W+0]=X.x0,j.uvs[8*W+1]=X.y0,j.uvs[8*W+2]=X.x1,j.uvs[8*W+3]=X.y1,j.uvs[8*W+4]=X.x2,j.uvs[8*W+5]=X.y2,j.uvs[8*W+6]=X.x3,j.uvs[8*W+7]=X.y3}for(var b in this._textWidth=p*n,this._textHeight=(r.y+e.lineHeight)*n,C){var q=C[b];if(0!==this.anchor.x||0!==this.anchor.y)for(var Y=0,$=this._textWidth*this.anchor.x,K=this._textHeight*this.anchor.y,Z=0;Z<q.total;Z++)q.vertices[Y++]-=$,q.vertices[Y++]-=K,q.vertices[Y++]-=$,q.vertices[Y++]-=K,q.vertices[Y++]-=$,q.vertices[Y++]-=K,q.vertices[Y++]-=$,q.vertices[Y++]-=K;this._maxLineHeight=v*n;var J=q.mesh.geometry.getBuffer("aVertexPosition"),Q=q.mesh.geometry.getBuffer("aTextureCoord"),tt=q.mesh.geometry.getIndex();J.data=q.vertices,Q.data=q.uvs,tt.data=q.indices,J.update(),Q.update(),tt.update()}for(b=0;b<i.length;b++)ru.push(i[b])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!eu.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype.destroy=function(e){var n=this._textureCache;for(var r in n){n[r].destroy(),delete n[r]}this._textureCache=null,t.prototype.destroy.call(this,e)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(Ci),function(){function t(){}return t.add=function(){_a.setExtensionXhrType("fnt",_a.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,n){var r=Qc(e.data);if(r)for(var i=t.getBaseUrl(this,e),o=r.parse(e.data),s={},a=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===o.page.length&&(e.bitmapFont=eu.install(o,s,!0),n())},l=0;l<o.page.length;++l){var c=o.page[l].file,u=i+c,h=!1;for(var p in this.resources){var d=this.resources[p];if(d.url===u){d.metadata.pageFile=c,d.texture?a(d):d.onAfterMiddleware.add(a),h=!0;break}}if(!h){var f={crossOrigin:e.crossOrigin,loadType:_a.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},e.metadata.imageMetadata),parentResource:e};this.add(u,f,a)}}else n()},t.getBaseUrl=function(e,n){var r=n.isDataUrl?"":t.dirname(n.url);return n.isDataUrl&&("."===r&&(r=""),e.baseUrl&&r&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(r+="/")),(r=r.replace(e.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}()),ou=function(t,e){return(ou=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var su=function(t){function e(e){void 0===e&&(e=1);var n=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return n.alpha=e,n}return function(t,e){function n(){this.constructor=t}ou(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(ms),au=function(t,e){return(au=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function lu(t,e){function n(){this.constructor=t}au(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var cu,uu,hu,pu,du,fu,mu,gu,vu,yu,bu,_u,xu,wu,Eu,Su,Tu,Au,Mu,Cu={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Pu=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(cu||(cu={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(uu||(uu={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(hu||(hu={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(pu||(pu={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(du||(du={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(fu||(fu={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(mu||(mu={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(gu||(gu={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(vu||(vu={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(yu||(yu={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(bu||(bu={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(_u||(_u={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(xu||(xu={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(wu||(wu={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(Eu||(Eu={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(Su||(Su={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(Tu||(Tu={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Au||(Au={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(Mu||(Mu={}));var Du=function(t){function e(e,n,r,i,o){void 0===n&&(n=8),void 0===r&&(r=4),void 0===i&&(i=wr.FILTER_RESOLUTION),void 0===o&&(o=5);var s=this,a=function(t,e){var n,r=Math.ceil(t/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";n=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=n.replace("%index%",s.toString());o+=a=a.replace("%sampleIndex%",s-(r-1)+".0"),o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t.toString())}(o,e),l=function(t){for(var e,n=Cu[t],r=n.length,i=Pu,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());e=s,s>=r&&(e=t-s-1),o+=a=a.replace("%value%",n[e].toString()),o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t.toString())}(o);return(s=t.call(this,a,l)||this).horizontal=e,s.resolution=i,s._quality=0,s.quality=r,s.blur=n,s}return lu(e,t),e.prototype.apply=function(t,e,n,r){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/e.width):this.uniforms.strength=1/n.height*(n.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{var i=t.getFilterTexture(),o=t.renderer,s=e,a=i;this.state.blend=!1,t.applyFilter(this,s,a,wu.CLEAR);for(var l=1;l<this.passes-1;l++){t.bindAndClear(s,wu.BLIT),this.uniforms.uSampler=a;var c=a;a=s,s=c,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,n,r),t.returnFilterTexture(i)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(ms),Ru=function(t){function e(e,n,r,i){void 0===e&&(e=8),void 0===n&&(n=4),void 0===r&&(r=wr.FILTER_RESOLUTION),void 0===i&&(i=5);var o=t.call(this)||this;return o.blurXFilter=new Du(!0,e,n,r,i),o.blurYFilter=new Du(!1,e,n,r,i),o.resolution=r,o.quality=n,o.blur=e,o.repeatEdgePixels=!1,o}return lu(e,t),e.prototype.apply=function(t,e,n,r){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(i&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,wu.CLEAR),this.blurYFilter.apply(t,s,n,r),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,n,r):this.blurXFilter.apply(t,e,n,r)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),e}(ms),Ou=function(t,e){return(Ou=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Iu=function(t){function e(){var e=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,Ws,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",n)||this).alpha=1,e}return function(t,e){function n(){this.constructor=t}Ou(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var n=t;e&&(this._multiply(n,this.uniforms.m,t),n=this._colorMatrix(n)),this.uniforms.m=n},e.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19]+e[4],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19]+e[9],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19]+e[14],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.tint=function(t,e){var n=[(t>>16&255)/255,0,0,0,0,0,(t>>8&255)/255,0,0,0,0,0,(255&t)/255,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),r=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),s=[n+(1-n)*i,i*(1-n)-o*r,i*(1-n)+o*r,0,0,i*(1-n)+o*r,n+i*(1-n),i*(1-n)-o*r,0,0,i*(1-n)-o*r,i*(1-n)+o*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var n=(t||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var n=2*t/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,n,r,i){var o=((n=n||16770432)>>16&255)/255,s=(n>>8&255)/255,a=(255&n)/255,l=((r=r||3375104)>>16&255)/255,c=(r>>8&255)/255,u=(255&r)/255,h=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,l,c,u,e=e||.15,0,o-l,s-c,a-u,0,0];this._loadMatrix(h,i)},e.prototype.night=function(t,e){var n=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(ms);Iu.prototype.grayscale=Iu.prototype.greyscale;var Lu=function(t,e){return(Lu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var ku=function(t){function e(e,n){var r=this,i=new pi;return e.renderable=!1,(r=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,r.maskMatrix=i,null==n&&(n=20),r.scale=new ui(n,n),r}return function(t,e){function n(){this.constructor=t}Lu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.apply=function(t,e,n,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),s=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/s,this.uniforms.rotation[3]=i.d/s),t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(ms),Fu=function(t,e){return(Fu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Nu=function(t){function e(){return t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function(t,e){function n(){this.constructor=t}Fu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(ms),Bu=function(t,e){return(Bu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Uu,Gu,zu,Hu,ju,Vu,Xu,Wu,qu,Yu,$u,Ku,Zu,Ju,Qu,th,eh,nh,rh,ih=function(t){function e(e,n){void 0===e&&(e=.5),void 0===n&&(n=Math.random());var r=t.call(this,Ws,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=e,r.seed=n,r}return function(t,e){function n(){this.constructor=t}Bu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),e}(ms);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Uu||(Uu={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Gu||(Gu={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(zu||(zu={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(Hu||(Hu={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(ju||(ju={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Vu||(Vu={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Xu||(Xu={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Wu||(Wu={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(qu||(qu={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(Yu||(Yu={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}($u||($u={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(Ku||(Ku={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(Zu||(Zu={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(Ju||(Ju={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(Qu||(Qu={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(th||(th={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(eh||(eh={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(nh||(nh={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(rh||(rh={}));var oh=new pi;Ti.prototype._cacheAsBitmap=!1,Ti.prototype._cacheData=null,Ti.prototype._cacheAsBitmapResolution=null,Ti.prototype._cacheAsBitmapMultisample=nh.NONE;var sh=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Ti.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new sh),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Ti.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Ti.prototype._initCachedDisplayObject=function(t){var e;if(!this._cacheData||!this._cacheData.sprite){var n=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(wr.RESOLUTION);var o=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),a=t.renderTexture.destinationFrame.clone(),l=t.projection.transform,c=go.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:null!==(e=this.cacheAsBitmapMultisample)&&void 0!==e?e:t.multisample}),u="cacheAsBitmap_"+Wr();this._cacheData.textureCacheId=u,Zi.addToCache(c.baseTexture,u),fo.addToCache(c,u);var h=this.transform.localTransform.copyTo(oh).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:h,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=l,t.renderTexture.bind(o,s,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var p=new sc(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-r.x/r.width,p.anchor.y=-r.y/r.height,p.alpha=n,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)}},Ti.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Ti.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var r=t.context,i=t._projTransform;e.ceil(wr.RESOLUTION);var o=go.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+Wr();this._cacheData.textureCacheId=s,Zi.addToCache(o.baseTexture,s),fo.addToCache(o,s);var a=oh;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:a,skipUpdateTransform:!1}),t.context=r,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var l=new sc(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-e.x/e.width,l.anchor.y=-e.y/e.height,l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},Ti.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Ti.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Ti.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Zi.removeFromCache(this._cacheData.textureCacheId),fo.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Ti.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},Ti.prototype.name=null,Ci.prototype.getChildByName=function(t,e){for(var n=0,r=this.children.length;n<r;n++)if(this.children[n].name===t)return this.children[n];if(e)for(n=0,r=this.children.length;n<r;n++){if(this.children[n].getChildByName){var i=this.children[n].getChildByName(t,!0);if(i)return i}}return null},Ti.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new ui),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var ah=function(t,e){return(ah=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function lh(t,e){function n(){this.constructor=t}ah(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ch=function(t){function e(e,n,r,i){void 0===e&&(e=100),void 0===n&&(n=100),void 0===r&&(r=10),void 0===i&&(i=10);var o=t.call(this)||this;return o.segWidth=r,o.segHeight=i,o.width=e,o.height=n,o.build(),o}return lh(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],n=[],r=[],i=this.segWidth-1,o=this.segHeight-1,s=this.width/i,a=this.height/o,l=0;l<t;l++){var c=l%this.segWidth,u=l/this.segWidth|0;e.push(c*s,u*a),n.push(c/i,u/o)}var h=i*o;for(l=0;l<h;l++){var p=l%i,d=l/i|0,f=d*this.segWidth+p,m=d*this.segWidth+p+1,g=(d+1)*this.segWidth+p,v=(d+1)*this.segWidth+p+1;r.push(f,m,g,m,v,g)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(Wc),uh=function(t){function e(e,n,r){void 0===e&&(e=200),void 0===r&&(r=0);var i=t.call(this,new Float32Array(4*n.length),new Float32Array(4*n.length),new Uint16Array(6*(n.length-1)))||this;return i.points=n,i._width=e,i.textureScale=r,i.build(),i}return lh(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),n.data=new Float32Array(4*t.length),r.data=new Uint16Array(6*(t.length-1)));var i=n.data,o=r.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var s=0,a=t[0],l=this._width*this.textureScale,c=t.length,u=0;u<c;u++){var h=4*u;if(this.textureScale>0){var p=a.x-t[u].x,d=a.y-t[u].y,f=Math.sqrt(p*p+d*d);a=t[u],s+=f/l}else s=u/(c-1);i[h]=s,i[h+1]=0,i[h+2]=s,i[h+3]=1}var m=0;for(u=0;u<c-1;u++){h=2*u;o[m++]=h,o[m++]=h+1,o[m++]=h+2,o[m++]=h+2,o[m++]=h+1,o[m++]=h+3}n.update(),r.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,n=t[0],r=0,i=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var l=t[a],c=4*a;i=-((e=a<t.length-1?t[a+1]:l).x-n.x),r=e.y-n.y;var u=Math.sqrt(r*r+i*i),h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;r/=u,i/=u,r*=h,i*=h,o[c]=l.x+r,o[c+1]=l.y+i,o[c+2]=l.x-r,o[c+3]=l.y-i,n=l}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(Wc),hh=(function(t){function e(e,n,r){void 0===r&&(r=0);var i=this,o=new uh(e.height,n,r),s=new Xc(e);return r>0&&(e.baseTexture.wrapMode=dr.REPEAT),(i=t.call(this,o,s)||this).autoUpdate=!0,i}lh(e,t),e.prototype._render=function(e){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,e)}}(Vc),function(t){function e(e,n,r){var i=this,o=new ch(e.width,e.height,n,r),s=new Xc(fo.WHITE);return(i=t.call(this,o,s)||this).texture=e,i.autoResize=!0,i}return lh(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry,e=this.shader.texture,n=e.width,r=e.height;!this.autoResize||t.width===n&&t.height===r||(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},e}(Vc)),ph=(function(t){function e(e,n,r,i,o){void 0===e&&(e=fo.EMPTY);var s=this,a=new Wc(n,r,i);a.getBuffer("aVertexPosition").static=!1;var l=new Xc(e);return(s=t.call(this,a,l,null,o)||this).autoUpdate=!0,s}lh(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)}}(Vc),function(t){function e(e,n,r,i,o){void 0===n&&(n=10),void 0===r&&(r=10),void 0===i&&(i=10),void 0===o&&(o=10);var s=t.call(this,fo.WHITE,4,4)||this;return s._origWidth=e.orig.width,s._origHeight=e.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=i,s._topHeight=r,s._bottomHeight=o,s.texture=e,s}lh(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,n=this._topHeight+this._bottomHeight,r=this._height>n?1:this._height/n;return Math.min(e,r)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var n=1/this._origWidth,r=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}(hh),function(t,e){return(ph=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)});!function(t){function e(e,n){void 0===n&&(n=!0);var r=t.call(this,e[0]instanceof fo?e[0]:e[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=n,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=e,r}(function(t,e){function n(){this.constructor=t}ph(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Oi.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Oi.shared.add(this.update,this,Pi.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var n=[],r=0;r<t.length;++r)n.push(fo.from(t[r]));return new e(n)},e.fromImages=function(t){for(var n=[],r=0;r<t.length;++r)n.push(fo.from(t[r]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof fo)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Oi.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Oi.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0})}(sc);Xs.registerPlugin("accessibility",Di),Xs.registerPlugin("extract",ua),Xs.registerPlugin("interaction",zi),Xs.registerPlugin("particle",Tl),Xs.registerPlugin("prepare",Dc),Xs.registerPlugin("batch",ea),Xs.registerPlugin("tilingSprite",Bc),Aa.registerPlugin(iu),Aa.registerPlugin(Ua),Aa.registerPlugin(rl),Aa.registerPlugin(bl),Aa.registerPlugin(Oc),aa.registerPlugin(Ii),aa.registerPlugin(Ma);var dh={AlphaFilter:su,BlurFilter:Ru,BlurFilterPass:Du,ColorMatrixFilter:Iu,DisplacementFilter:ku,FXAAFilter:Nu,NoiseFilter:ih};function fh(t){return(fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gh(r.key),r)}}function gh(t){var e=function(t,e){if("object"!=fh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fh(e)?e:String(e)}var vh=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.setSizes(),this.initScene(),this.loadImages()}var e,n,r;return e=t,r=[{key:"create",value:function(e){return t.instance||(t.instance=new t(e)),t.instance}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}}],(n=[{key:"loadImages",value:function(){var t=this;this.loader=new Aa,this.loader.add("shapeOrange","".concat(window.theme_assets_url,"/images/cyber-60/cyber60_gradient-1.png")),this.loader.add("shapeBlue","".concat(window.theme_assets_url,"/images/cyber-60/cyber60_gradient-2.png")),this.loader.add("turbulence","".concat(window.theme_assets_url,"/images/cyber-60/turbulence.frag")),this.loader.load((function(e,n){t.initSprites(n)}))}},{key:"initSprites",value:function(t){var e=this;this.el.parentElement.classList.add("loaded"),this.shapeOrange=new sc(t.shapeOrange.texture),this.shapeBlue=new sc(t.shapeBlue.texture),this.shapeBlue.anchor.set(.5,.5),this.shapeOrange.anchor.set(.5,.5);var n=this.shapeBlue.texture.orig.width/this.shapeBlue.texture.orig.height;this.shapeBlue.height=1.2*this.elHeight,this.shapeBlue.width=this.shapeBlue.height*n;var r=this.shapeOrange.texture.orig.width/this.shapeOrange.texture.orig.height;this.shapeOrange.height=1.2*this.elHeight,this.shapeOrange.width=this.shapeOrange.height*r,this.shapeBlue.x=this.elWidth/2,this.shapeBlue.y=this.elHeight/2,this.shapeOrange.x=this.elWidth/2,this.shapeOrange.y=this.elHeight/2,this.shapeBlueScale=this.shapeBlue.scale.x,this.shapeOrangeScale=this.shapeOrange.scale.x;var i=t.turbulence.data;this.uniformTimeAmount=0,this.uniformTimeSize=0,this.speedAmount=.01,this.speedSize=.02,this.filterParams={amount:0,complexity:3,size:0,time:0,offsetX:this.elWidth/2,offsetY:this.elHeight/2,offset:[this.elWidth/2,this.elHeight/2]},this.turbulenceFilter=new ms(null,i,this.filterParams),this.turbulenceFilter.autoFit=!1,this.filterContainer=new Ci,this.filterContainer.position.set(0,0),this.filterContainer.addChild(this.shapeOrange),this.filterContainer.addChild(this.shapeBlue),this.filterContainer.filters=[this.turbulenceFilter],this.shapeBlue.blendMode=sr.SCREEN,this.app.stage.addChild(this.filterContainer);var o=.15*this.elWidth,s=.15*this.elHeight;this.filterContainer.filterArea=new oi(-o,-s,this.elWidth+2*o,this.elHeight+2*s),this.scaleTimeBlue=0,this.scaleTimeOrange=0,this.time=0,this.blur=-1,this.isAnimated=!0,this.app.start(),this.app.ticker.add((function(t){e.update(t)}))}},{key:"update",value:function(t){this.shapeBlue.rotation+=.01,this.shapeOrange.rotation-=.01,this.scaleTimeBlue+=.005*t;var e=1.2+.3*Math.sin(this.scaleTimeBlue)*this.shapeBlueScale;this.shapeBlue.scale.set(e),this.scaleTimeOrange+=.006*t;var n=1+.25*Math.sin(this.scaleTimeOrange)*this.shapeOrangeScale;this.shapeOrange.scale.set(n),this.uniformTimeAmount+=t*this.speedAmount,this.uniformTimeSize+=t*this.speedSize,this.time+=.001*t,this.turbulenceFilter.uniforms.amount=.12*(.5*Math.sin(this.uniformTimeAmount)+.5),this.turbulenceFilter.uniforms.size=.5*Math.sin(this.uniformTimeSize)+.5,this.turbulenceFilter.uniforms.time=Math.sin(this.time)}},{key:"initScene",value:function(){this.app=new aa({width:this.elWidth,height:this.elHeight,backgroundColor:0,resolution:1,autoResize:!0,antialias:!0}),this.el.appendChild(this.app.view),this.initMonitorIfInView()}},{key:"setSizes",value:function(){this.elWidth=this.el.offsetWidth,this.elHeight=this.el.offsetHeight}},{key:"initMonitorIfInView",value:function(){var t=this;new MutationObserver((function(e){e.forEach((function(e){e.target===t.el&&"class"===e.attributeName&&(t.isAnimated=e.target.classList.contains("is-inview"),t.isAnimated?t.app.start():t.app.stop())}))})).observe(this.el,{attributes:!0})}},{key:"beforeDestroy",value:function(){this.shapeBlue&&(this.shapeBlue.destroy(!0),this.shapeBlue=null),this.shapeOrange&&(this.shapeOrange.destroy(!0),this.shapeOrange=null),this.turbulenceFilter&&(this.turbulenceFilter.destroy(!0),this.turbulenceFilter=null),this.filterContainer&&(this.filterContainer.destroy(!0),this.filterContainer=null),this.loader&&(this.loader.destroy(!0),this.loader=null),this.app&&(this.app.destroy(!0),this.app=null)}}])&&mh(e.prototype,n),r&&mh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=gh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(vh,"instance",null);var yh=vh;function bh(t){return(bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wh(r.key),r)}}function xh(t,e,n){return(e=wh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wh(t){var e=function(t,e){if("object"!=bh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bh(e)?e:String(e)}c.b.registerPlugin(u.a);var Eh=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.initApp(),this.loadSprites(),this.currentMouse=1,this.targetMouse=.5,this.opacity=0,this.scrollerPos=0}var e,n,r;return e=t,(n=[{key:"initApp",value:function(){this.containerEl=document.getElementById("lsvp-logo-3d"),this.parent=document.getElementById("introduction"),this.scroller=window.scroller,this.initialized=!1,this.mouseInitialized=!1,this.app=new aa({backgroundAlpha:0,resolution:window.devicePixelRatio||1,autoDensity:!0,antialias:!0,width:this.containerEl.offsetWidth,height:this.containerEl.offsetHeight}),this.containerEl.appendChild(this.app.view)}},{key:"initScrollTrigger",value:function(){var t=this;u.a.create({trigger:this.parent,start:"top top",end:function(){return"+=".concat(window.innerHeight/2)},scroller:"[data-scroll-container]",invalidateOnRefresh:!0,scrub:!0,onUpdate:function(e){t.scrollerPos=.25*e.progress}})}},{key:"loadSprites",value:function(){var e=this;Aa.shared.add("logo",t.SPRITE_SHEET_PATH).add("overlay",t.OVERLAY_PATH).load((function(t,n){e.setup(n.logo.texture,n.overlay.texture)}))}},{key:"setup",value:function(t,e){var n={uSampler:t,uOverlay:e,uMouse:0,uOffsetX:.3,uOffsetY:-.07,uScale:2,uOverlayStrength:1.6,uAlpha:0},r=(new To).addAttribute("aVertexPosition",[-1,-1,1,-1,1,1,-1,1],2).addAttribute("aTextureCoord",[0,0,1,0,1,1,0,1],2).addIndex([0,1,2,0,2,3]);this.shader=ds.from("\n            attribute vec2 aVertexPosition;\n            attribute vec2 aTextureCoord;\n\n            uniform mat3 projectionMatrix;\n            uniform mat3 translationMatrix;\n\n            varying vec2 vTextureCoord;\n\n            void main() {\n                gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n                vTextureCoord = aTextureCoord;\n            }","\n            precision highp float;\n            varying vec2 vTextureCoord;\n            uniform sampler2D uSampler;\n            uniform sampler2D uOverlay;\n            uniform float uMouse;\n            uniform float uOffsetX;\n            uniform float uOffsetY;\n            uniform float uScale;\n            uniform float uOverlayStrength;\n            uniform float uAlpha;\n\n            vec2 getSubUV(vec2 uv, float index) {\n                float ind = index / 8.0;\n                vec2 uv1 = uv / 8.0;\n                uv1.y += floor(ind) / 8.0;\n                uv1.x += mod(floor(ind * 8.0), 8.0) / 8.0;\n                return uv1;\n            }\n\n            vec3 overlayBlend(vec3 base, vec3 blend) {\n                return mix(\n                    2.0 * base * blend,\n                    1.0 - 2.0 * (1.0 - base) * (1.0 - blend),\n                    step(0.5, base)\n                );\n            }\n\n            void main() {\n                float index = mix(1.0, 63.0, uMouse);\n                float blend = fract(index);\n                vec2 subUV = getSubUV(vTextureCoord, index);\n                vec2 subUV2 = getSubUV(vTextureCoord, index + 1.0);\n                \n                vec4 diffuse = texture2D(uSampler, subUV);\n                vec4 diffuseNext = texture2D(uSampler, subUV2);\n                \n                vec4 spriteColor = mix(diffuse, diffuseNext, blend);\n                \n                vec2 overlayUV = (vTextureCoord - 0.5) / uScale + 0.5;\n                overlayUV += vec2(uOffsetX, uOffsetY);\n                \n                vec4 overlayColor = texture2D(uOverlay, overlayUV);\n                \n                vec3 blendedColor = overlayBlend(spriteColor.rgb, overlayColor.rgb);\n                \n                float alpha = spriteColor.a * uAlpha;\n                \n                gl_FragColor = vec4(mix(spriteColor.rgb, blendedColor, overlayColor.a * uOverlayStrength), alpha);\n            }",n),this.quad=new Vc(r,this.shader);var i=Math.min(this.app.screen.width,this.app.screen.height)/2;this.quad.scale.set(i),this.quad.position.set(this.app.screen.width/2,this.app.screen.height/2),this.renderTexture=go.create({width:this.app.screen.width,height:this.app.screen.height}),this.outputSprite=new sc(this.renderTexture),this.blurFilter=new dh.BlurFilter(23,12),this.outputSprite.filters=[this.blurFilter],this.app.stage.addChild(this.outputSprite),window.addEventListener("mousemove",this.onMouseMove.bind(this)),this.app.ticker.add(this.animate.bind(this)),this.initScrollTrigger()}},{key:"onMouseMove",value:function(t){this.mouseInitialized&&(this.targetMouse=t.clientX/window.innerWidth*.5+.25)}},{key:"easeOutPower",value:function(t,e){return 1-Math.pow(1-t,e)}},{key:"animate",value:function(t){var e=this.targetMouse-this.currentMouse;this.mouseInitialized?Math.abs(e)>1e-4?this.currentMouse+=e*this.easeOutPower(.07,2):this.currentMouse=this.targetMouse:Math.abs(e)>.003?this.currentMouse+=.04*e:(this.currentMouse=this.targetMouse,this.mouseInitialized=!0),this.shader.uniforms.uMouse=this.currentMouse-this.scrollerPos,this.shader.uniforms.uAlpha=this.opacity,this.opacity<.999?this.opacity+=.03*(1-this.opacity):this.opacity=1,this.app.renderer.render(this.quad,{renderTexture:this.renderTexture})}},{key:"destroy",value:function(){window.removeEventListener("mousemove",this.onMouseMove),this.app.destroy()}}])&&_h(e.prototype,n),r&&_h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Sh(t){return(Sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Th(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ah(r.key),r)}}function Ah(t){var e=function(t,e){if("object"!=Sh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sh(e)?e:String(e)}xh(Eh,"SPRITE_SHEET_PATH","".concat(window.theme_assets_url,"/images/lsvp-logo-3d/lsvp-logo-v3.png")),xh(Eh,"OVERLAY_PATH","".concat(window.theme_assets_url,"/images/lsvp-logo-3d/overlay.png")),c.b.registerPlugin(u.a);var Mh=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroller=window.scroller,this.isMobile=this.scroller.scroll.isMobile,this.isTablet=this.scroller.scroll.isTablet;var e=document.querySelector("main[data-template]"),n=e?e.getAttribute("data-template"):null;this.isPageGameChangers="game-changers.blade.php"===n,this.isPageNewsletter="newsletter-page.blade.php"===n,this.scrollAnimations(),this.initNavigation(),this.setupScrollTrigger(),this.setupMenuColorScrollTrigger()}var e,n,r;return e=t,r=[{key:"create",value:function(){document.querySelector("body");var e=document.querySelector("main[data-template]"),n=e?e.getAttribute("data-template"):null;n&&["newsletter-page.blade.php","game-changers.blade.php"].includes(n)&&null===t._instance&&(t._instance=new t)}},{key:"destroy",value:function(){t._instance&&(t._instance.beforeDestroy(),t._instance=null)}}],(n=[{key:"initNavigation",value:function(){var t=this;this.header=document.getElementById("header"),this.sections=Array.from(document.querySelectorAll(".section-content")),this.navLinks=Array.from(document.querySelectorAll(".nav-timeline .nav a")),this.colorMenuSections=Array.from(document.querySelectorAll(".color-menu")),this.navLinks.forEach((function(e){e.addEventListener("click",(function(n){n.preventDefault();var r=e.getAttribute("href").substring(1),i=document.getElementById(r);if(i){var o;if(o=t.isMobile?i.dataset.scrollOffsetMobile||i.dataset.scrollOffset||"0":i.dataset.scrollOffset||"0",console.log("offset",o),o.endsWith("%")){var s=parseFloat(o)/100;o=window.innerHeight*s}t.scroller.scrollTo(i,{offset:parseInt(o),duration:1e3,easing:[.25,0,.35,1]})}else console.error("Target section not found: ".concat(r))}))}))}},{key:"setupScrollTrigger",value:function(){var t=this;this.sections.forEach((function(e){try{u.a.create({trigger:e,start:"top 50%",end:"bottom 50%",scroller:"[data-scroll-container]",invalidateOnRefresh:!0,onEnter:function(){return t.updateActiveLink(e.id,!0)},onEnterBack:function(){return t.updateActiveLink(e.id,!0)}})}catch(t){console.error("Error creating ScrollTrigger for section ".concat(e.id,":"),t)}}))}},{key:"setupMenuColorScrollTrigger",value:function(){var t=this;this.colorMenuSections.forEach((function(e){u.a.create({trigger:e,start:"top 90px",end:"bottom 90px",scroller:"[data-scroll-container]",invalidateOnRefresh:!0,onEnter:function(){return t.updateMenuColor(e)},onEnterBack:function(){return t.updateMenuColor(e)}})}))}},{key:"updateActiveLink",value:function(t,e){var n=document.querySelector('.nav-timeline .nav a[href="#'.concat(t,'"]'));n?e&&(this.navLinks.forEach((function(t){return t.parentElement.classList.remove("active")})),n.parentElement.classList.add("active")):console.error("Link not found for id: ".concat(t))}},{key:"updateMenuColor",value:function(t){this.header?(this.header.classList.remove("dark-menu","light-menu"),t.classList.contains("dark-menu")?this.header.classList.add("dark-menu"):t.classList.contains("light-menu")&&this.header.classList.add("light-menu")):console.error("Header element not found")}},{key:"resetMenuColor",value:function(){this.header?this.header.classList.remove("dark-menu","light-menu"):console.error("Header element not found")}},{key:"animationArrow",value:function(){var t=this;c.b.set(".animation-arrow",{x:-200,y:0}),c.b.to(".animation-arrow",{x:function(){return t.isMobile?2*window.innerWidth:window.innerWidth},ease:"none",scrollTrigger:{trigger:".nl-hero",start:"top top",end:"bottom top",scrub:!0,scroller:"[data-scroll-container]"}})}},{key:"animationHero",value:function(){c.b.to(".txt-wrap .h2",{scrollTrigger:{trigger:".nl-hero",start:"top top",end:"50% top",scroller:"[data-scroll-container]",scrub:!0},scale:.7,transformOrigin:"left bottom",ease:"power1.out"})}},{key:"animationExploringMinds",value:function(){c.b.set(".nl-exploring-minds .heading h2 b",{x:"-100vw"}),c.b.set(".nl-exploring-minds .heading h2 span",{x:"100vw"}),c.b.set(".nl-exploring-minds .heading .icon-arrow",{x:"100vw"}),c.b.timeline({scrollTrigger:{trigger:".nl-exploring-minds",start:"top 70%",end:"top 50%",scrub:!0,scroller:"[data-scroll-container]"}}).to(".nl-exploring-minds .heading h2 b",{x:0,ease:"power1.out"},0).to(".nl-exploring-minds .heading h2 span",{x:0,ease:"power1.out"},0),c.b.to(".nl-exploring-minds .heading h2",{scale:.7,transformOrigin:"right top",scrollTrigger:{trigger:".nl-exploring-minds",start:"top 55%",end:"top 20%",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}}),c.b.to(".nl-exploring-minds .heading .icon-arrow",{x:0,transformOrigin:"right top",scrollTrigger:{trigger:".nl-exploring-minds",start:"top 55%",end:"top 20%",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}}),document.querySelectorAll(".nl-exploring-minds .nl-post-list .news-post-row").forEach((function(t,e){c.b.set(t,{opacity:0,x:function(){return e%2==0?200:-200}}),c.b.to(t,{opacity:1,x:0,scrollTrigger:{trigger:t,start:"top 80%",end:"top 45%",scrub:!0,scroller:"[data-scroll-container]"}})}))}},{key:"animationStories",value:function(){var t=this,e=document.querySelector("#stories .heading h2"),n=e.querySelector("span"),r=document.getElementById("full-story");c.b.set(n,{scale:2.5,xPercent:-50,yPercent:-50,left:"50%",transformOrigin:"center center"}),c.b.to(n,{scale:1,yPercent:0,ease:"power1.out",scrollTrigger:{trigger:"#stories",start:"top 70%",end:"top 30%",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}}),c.b.to(n,{xPercent:0,left:function(){var t=e.offsetWidth,r=n.offsetWidth;return"".concat(t-r,"px")},ease:"power1.out",scrollTrigger:{trigger:"#stories",start:"top 30.5%",end:"top 0%",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}}),c.b.set("#stories .heading p span",{opacity:0,x:"-=100"});var i="top 30%";this.isPageGameChangers&&(i="top 50%");var o="top 0%";if(this.isPageGameChangers&&(o=this.isMobile?"top 30%":"top 20%"),c.b.to("#stories .heading p span",{opacity:1,x:0,ease:"power1.out",stagger:.2,scrollTrigger:{trigger:"#stories",start:i,end:o,scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}}),r){var s=r.querySelector(".img");if(s){var a=s.getBoundingClientRect(),l={width:.9,height:.95},u=a.width*l.width,h={top:0,left:u/2,right:u/2,bottom:.5625*a.width*l.height};c.b.set(s,{clipPath:"inset(".concat(h.top,"px ").concat(h.right,"px ").concat(h.bottom,"px ").concat(h.left+1,"px)"),y:"-=100",opacity:0}),c.b.timeline({scrollTrigger:{trigger:r,start:function(){return t.isMobile?"top 87%":"top 70%"},end:"+=30%",scrub:!0,scroller:"[data-scroll-container]"}}).to(s,{opacity:1,ease:"power1.inOut"},0).to(s,{y:0,clipPath:"inset(0px 0px 0px 0px)",ease:"none"},0)}}var p=document.querySelector(".nl-stories-slider"),d=document.querySelector(".nl-stories-footer");if(d){var f=d.querySelector("h2");p&&c.b.to(p,{scale:.8,transformOrigin:"center center",ease:"none",scrollTrigger:{trigger:".nl-stories",start:"bottom 100%",end:"bottom 80%",scrub:!0,scroller:"[data-scroll-container]"}}),f&&(c.b.set(f,{y:"-=100%"}),c.b.to(f,{scale:1,opacity:1,transformOrigin:"center center",y:"40%",ease:"none",scrollTrigger:{trigger:".nl-stories",start:"bottom 120%",end:"bottom 80%",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}}),c.b.to(f,{scale:.5,ease:"none",transformOrigin:"center center",scrollTrigger:{trigger:".nl-stories",start:"bottom 80%",end:function(){return"+=".concat(.66*window.innerHeight)},scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}}))}}},{key:"animationOnAi",value:function(){var t=document.querySelector("#on_ai .heading .category-title"),e=document.querySelector("#on_ai .heading h2"),n=document.querySelector("#on_ai .heading .ellipse"),r=document.querySelector("#on-ai--story");c.b.set(t,{scale:7,transformOrigin:"center center"}),c.b.set(e,{opacity:0,scale:3,transformOrigin:"center center"}),c.b.set(n,{opacity:0,transformOrigin:"center center"}),u.a.create({trigger:"#on-ai--hero",start:"top top",end:function(){return"+=".concat(1.5*window.innerHeight)},pin:"#on-ai--hero-inner",pinSpacing:!0,scroller:"[data-scroll-container]",pinType:this.isMobile?"fixed":"transform",invalidateOnRefresh:!0});var i=c.b.timeline({scrollTrigger:{trigger:"#on-ai--hero",start:"top 40%",end:"bottom top",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}});i.fromTo(t,{scale:7,y:function(){return"".concat(window.innerHeight/2)}},{duration:.2,scale:5,y:function(){return"".concat(window.innerHeight/4)},ease:"none"},0),i.to(t,{duration:.2,scale:2.5,ease:"none"},.2),i.fromTo(e,{opacity:0,scale:3,y:function(){return"".concat(window.innerHeight/2)}},{opacity:1,duration:.2,scale:2,y:function(){return"".concat(window.innerHeight/3.5)},ease:"none"},.2),i.to(t,{duration:.2,scale:1,y:0,ease:"none"},.4),i.to(e,{duration:.2,scale:1,y:0,ease:"none"},.4),i.fromTo(n,{opacity:0,y:function(){return"".concat(window.innerHeight/3.5)}},{duration:.2,opacity:1,y:0,ease:"none"},.4),r&&i.fromTo(r,{opacity:0,y:"+=100",scale:1.4},{opacity:1,y:0,scale:1,duration:.2,transformOrigin:"center top",ease:"none"},.6),i.to({progress:0},{progress:1,duration:.2,ease:"none"},.8),r&&!this.isMobile&&c.b.to(r,{scale:.6,ease:"none",scrollTrigger:{trigger:r,start:"top 50%",end:"bottom 20%",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}})}},{key:"animationPodcasts",value:function(){var t=document.querySelector(".nl-podcast"),e=t.querySelector(".heading h2");t&&e&&(c.b.fromTo(e,{scale:3,y:function(){return"-".concat(window.innerHeight/2)}},{scale:1,y:0,ease:"none",scrollTrigger:{trigger:t,start:"top bottom",end:"top 40%",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}}),c.b.timeline({scrollTrigger:{trigger:t,start:"top top",end:"bottom bottom",pin:e,pinSpacing:!1,pinType:this.isMobile?"fixed":"transform",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}}).fromTo(e,{scale:1,y:0},{scale:1.8,y:function(){return"".concat(window.innerHeight/2-e.offsetHeight)},opacity:0,ease:"none"}).to({progress:0},{progress:1,ease:"none"})),u.a.create({trigger:".nl-podcast",start:"bottom bottom",end:function(){return"+=".concat(window.innerHeight)},pin:".nl-podcast--inner",pinSpacing:!1,scroller:"[data-scroll-container]",pinType:this.isMobile?"fixed":"transform",invalidateOnRefresh:!0})}},{key:"animationAdvisory",value:function(){var t=this,e=document.querySelector(".nl-unlocking-impact"),n=e.querySelector(".heading"),r=e.querySelectorAll(".advisory-council-hero .images .img");e&&n&&c.b.fromTo(n,{scale:3,opacity:0},{scale:1,opacity:1,transformOrigin:"right top",ease:"none",scrollTrigger:{trigger:e,start:"top 80%",end:function(){return t.isMobile?"top 40%":"top 20%"},scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}}),e&&r.length&&c.b.fromTo(r,{scale:1.5,opacity:0,x:"50vw"},{scale:1,x:0,opacity:1,ease:"none",stagger:.2,scrollTrigger:{trigger:e,start:"top 75%",end:"top 0%",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}})}},{key:"animationBackgroundsHighlights",value:function(){}},{key:"animationBackgroundsOnAi",value:function(){u.a.create({trigger:"#on_ai",start:"top top",end:"bottom top",pin:"#on-ai-bg",pinType:this.isMobile?"fixed":"transform",pinSpacing:!1,scroller:"[data-scroll-container]",invalidateOnRefresh:!0,scrub:!0}),c.b.set("#on-ai-bg--inner",{rotate:30,y:function(){return"+=".concat(window.innerHeight/5)}});var t=c.b.timeline({scrollTrigger:{trigger:"#on_ai",start:"top 80%",end:"bottom top",scroller:"[data-scroll-container]",invalidateOnRefresh:!0,scrub:!0}});t.to("#on-ai-bg--inner",{rotate:60,x:function(){return"-=".concat(window.innerWidth/3)},y:function(){return"+=".concat(window.innerHeight/5)},ease:"none"}),t.to("#on-ai-bg--inner",{rotate:90,ease:"none"}),t.to("#on-ai-bg--inner",{rotate:120,y:0,x:0,ease:"none"})}},{key:"animationBackgroundsStories",value:function(){u.a.create({trigger:"#stories",start:"top top",end:"bottom top",pin:"#stories-bg",pinType:this.isMobile?"fixed":"transform",pinSpacing:!1,scroller:"[data-scroll-container]",invalidateOnRefresh:!0,scrub:!0});var t=c.b.timeline({scrollTrigger:{trigger:"#stories",start:"top 80%",end:"bottom top",scroller:"[data-scroll-container]",invalidateOnRefresh:!0,scrub:!0}});c.b.set("#stories-bg--inner",{rotate:90}),t.to("#stories-bg--inner",{rotate:-10,y:function(){return"+=".concat(window.innerHeight/5)},ease:"none"}),t.to("#stories-bg--inner",{rotate:30,x:function(){return"-=".concat(window.innerWidth/3)},ease:"none"}),t.to("#stories-bg--inner",{rotate:60,y:function(){return"+=".concat(window.innerHeight/3)},ease:"none"}),t.to("#stories-bg--inner",{rotate:90,ease:"none"}),t.to("#stories-bg--inner",{rotate:120,y:0,x:0,ease:"none"})}},{key:"animationBackgroundsEvents",value:function(){var t=c.b.timeline({scrollTrigger:{trigger:"#events",start:"top top",end:"bottom bottom",pin:"#events-bg",pinSpacing:!1,scroller:"[data-scroll-container]",pinType:this.isMobile?"fixed":"transform",invalidateOnRefresh:!0,scrub:!0}});t.to("#events-bg--inner",{rotate:270,x:function(){return"-=".concat(window.innerWidth/4)},y:function(){return"+=".concat(window.innerHeight/6)},ease:"none"},"-=0.1").addLabel("start"),t.to("#events-bg--inner",{rotate:180,x:function(){return"-=".concat(window.innerWidth/3)},y:function(){return"-=".concat(window.innerHeight/6)},ease:"none"}).addLabel("checkpoint0"),t.to("#events-bg--inner",{rotate:90,x:function(){return"-=".concat(window.innerWidth/6)},y:function(){return"+=".concat(window.innerHeight/6)},ease:"none"}).addLabel("checkpoint1"),t.to("#events-bg--noise",{opacity:1,ease:"none"},"start"),t.to("#events-bg--inner",{rotate:45,x:function(){return"+=".concat(window.innerWidth/2)},ease:"none"},"checkpoint1"),t.to("#events-bg--inner",{rotate:0,x:function(){return"+=".concat(window.innerWidth/2)},y:function(){return"-".concat(window.innerHeight/10)},ease:"none"})}},{key:"animationBackgroundsPodcasts",value:function(){u.a.create({trigger:".nl-podcast",start:"top top",end:"bottom bottom",pin:"#podcast-bg",pinType:this.isMobile?"fixed":"transform",pinSpacing:!1,scroller:"[data-scroll-container]",invalidateOnRefresh:!0,scrub:!0}),c.b.timeline({scrollTrigger:{trigger:".nl-podcast",start:"top 80%",end:"bottom bottom",scroller:"[data-scroll-container]",invalidateOnRefresh:!0,scrub:!0}}).to("#podcast-bg--inner",{rotate:20,ease:"none"}).to("#podcast-bg--inner",{rotate:40,x:function(){return"-=".concat(window.innerWidth/4)},ease:"none"}).to("#podcast-bg--inner",{rotate:60,y:function(){return"+=".concat(window.innerHeight/4)},x:function(){return"+=".concat(window.innerWidth/4)},ease:"none"}).to("#podcast-bg--inner",{rotate:80,opacity:0,y:function(){return"-=".concat(window.innerHeight/4)},x:function(){return"+=".concat(window.innerWidth/4)},ease:"none"})}},{key:"animationBackgrounds",value:function(){this.animationBackgroundsOnAi(),this.animationBackgroundsStories(),this.animationBackgroundsPodcasts(),this.animationBackgroundsEvents()}},{key:"animationLogo",value:function(){this.logoContainerEl=document.getElementById("lsvp-logo-3d"),this.logoContainerEl&&(this.logo3d=new Eh(this.logoContainerEl))}},{key:"scrollAnimations",value:function(){this.animationLogo(),this.animationHero(),this.animationArrow(),this.animationOnAi(),this.animationPodcasts(),this.animationStories(),this.animationExploringMinds(),this.animationBackgrounds(),u.a.refresh()}},{key:"beforeDestroy",value:function(){this.logo3d&&this.logo3d.destroy(),u.a.getAll().forEach((function(t){return t.kill()}))}}])&&Th(e.prototype,n),r&&Th(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=Ah(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Mh,"_instance",null);var Ch=n("Womt");function Ph(t){return(Ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rh(r.key),r)}}function Rh(t){var e=function(t,e){if("object"!=Ph(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ph(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ph(e)?e:String(e)}var Oh=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.callbacks={},this.callbacks.base={}}var e,n,r;return e=t,(n=[{key:"on",value:function(t,e){var n=this;return void 0===t||""===t?(console.warn("wrong names"),!1):void 0===e?(console.warn("wrong callback"),!1):(this.resolveNames(t).forEach((function(t){var r=n.resolveName(t);n.callbacks[r.namespace]instanceof Object||(n.callbacks[r.namespace]={}),n.callbacks[r.namespace][r.value]instanceof Array||(n.callbacks[r.namespace][r.value]=[]),n.callbacks[r.namespace][r.value].push(e)})),this)}},{key:"off",value:function(t){var e=this;return void 0===t||""===t?(console.warn("wrong name"),!1):(this.resolveNames(t).forEach((function(t){var n=e.resolveName(t);if("base"!==n.namespace&&""===n.value)delete e.callbacks[n.namespace];else if("base"===n.namespace)for(var r in e.callbacks)e.callbacks[r]instanceof Object&&e.callbacks[r][n.value]instanceof Array&&(delete e.callbacks[r][n.value],0===Object.keys(e.callbacks[r]).length&&delete e.callbacks[r]);else e.callbacks[n.namespace]instanceof Object&&e.callbacks[n.namespace][n.value]instanceof Array&&(delete e.callbacks[n.namespace][n.value],0===Object.keys(e.callbacks[n.namespace]).length&&delete e.callbacks[n.namespace])})),this)}},{key:"trigger",value:function(t,e){if(void 0===t||""===t)return console.warn("wrong name"),!1;var n=null,r=null,i=e instanceof Array?e:[],o=this.resolveNames(t);if("base"===(o=this.resolveName(o[0])).namespace)for(var s in this.callbacks)this.callbacks[s]instanceof Object&&this.callbacks[s][o.value]instanceof Array&&this.callbacks[s][o.value].forEach((function(t){r=t.apply(this,i),void 0===n&&(n=r)}));else if(this.callbacks[o.namespace]instanceof Object){if(""===o.value)return console.warn("wrong name"),this;this.callbacks[o.namespace][o.value].forEach((function(t){r=t.apply(this,i),void 0===n&&(n=r)}))}return n}},{key:"resolveNames",value:function(t){var e=t;return e=(e=(e=e.replace(/[^a-zA-Z0-9 ,/.]/g,"")).replace(/[,/]+/g," ")).split(" ")}},{key:"resolveName",value:function(t){var e={},n=t.split(".");return e.original=t,e.value=n[0],e.namespace="base",n.length>1&&""!==n[1]&&(e.namespace=n[1]),e}}])&&Dh(e.prototype,n),r&&Dh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ih(t){return(Ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lh(t){return function(t){if(Array.isArray(t))return kh(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return kh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kh(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hh(r.key),r)}}function Nh(t,e){return(Nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zh(t);if(e){var i=zh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Uh(this,n)}}function Uh(t,e){if(e&&("object"===Ih(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gh(t)}function Gh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zh(t){return(zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hh(t){var e=function(t,e){if("object"!=Ih(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ih(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ih(e)?e:String(e)}c.b.registerPlugin(u.b),c.b.registerPlugin(Jt.a);var jh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nh(t,e)}(o,t);var e,n,r,i=Bh(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this)).parent=t||document,o._instance?Uh(e,o._instance):(o._instance=Gh(e),e.experience=window.experience,e.scroller=window.scroller,e.isMobile=e.scroller.scroll.isMobile,e.setViewportHeight(),e.init(),e)}return e=o,r=[{key:"getInstance",value:function(){return o._instance||new o}}],(n=[{key:"setViewportHeight",value:function(){var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px"))}},{key:"initPreloader",value:function(){this.html.preloader={el:this.parent.getElementById("preloader")},this.html.preloader.progressEl=this.html.preloader.el.querySelector(".preloader--progress"),this.html.preloader.progressBarEl=this.html.preloader.el.querySelector(".preloader--progress-bar"),this.html.preloader.textEl=this.html.preloader.el.querySelector(".preloader--logo"),this.html.preloader.placeholderEl=this.html.preloader.el.querySelector(".preloader--placeholder"),this.html.preloader.overlayEl=this.html.preloader.el.querySelector(".preloader--overlay")}},{key:"setPreloaderProgress",value:function(t){c.b.to(this.html.preloader.progressBarEl,{width:"".concat(t,"%"),duration:.5,ease:"power4.inOut"})}},{key:"hidePreloader",value:function(){var t=this;c.b.timeline({onComplete:function(){t.html.preloader.el.style.display="none",t.runAnimation("heroTitle")}}).to(this.html.preloader.progressEl,{y:"+=30",opacity:0,duration:.5,ease:"power4.inOut"},.5).to(this.html.preloader.textEl,{y:"-=30",opacity:0,duration:.5,ease:"power4.inOut"},.5).to(this.html.preloader.el,{opacity:0,duration:1,ease:"power4.inOut"},.8)}},{key:"init",value:function(){this.html={},this.html.body=document.body,this.html.title=this.parent.getElementById("hero-title"),this.html.hero=this.parent.getElementById("cyber60-hero"),this.html.presented=this.parent.querySelector(".presented-by"),this.html.heroLogo=this.parent.querySelector(".hero--content-left .logo"),this.html.heroInfo=this.parent.querySelector("#hero-info"),this.animations={},this.initPreloader(),this.initTitleParallax(),this.initContentBackground(),this.isMobile||this.initHeroParallax()}},{key:"initContentBackground",value:function(){var t=this;this.html.backgroundEl=this.parent.getElementById("cyber60-content-background"),u.b.create({trigger:"#cyber60-main",endTrigger:".cyber60--content",scroller:"[data-scroll-container]",invalidateOnRefresh:!0,scrub:!0,start:"top top",end:"bottom bottom",onUpdate:function(e){t.trigger("backgroundUpdate",[e.progress])}}),this.isMobile?u.b.create({trigger:"#cyber60-main",endTrigger:".cyber60--content",pin:"#cyber60-content-background",pinType:"fixed",pinSpacing:!1,scroller:"[data-scroll-container]",invalidateOnRefresh:!0,scrub:!0,start:"top top",end:"bottom bottom",onUpdate:function(e){t.trigger("backgroundUpdate",[e.progress])}}):u.b.create({trigger:"#cyber60-main",endTrigger:".cyber60--content",scroller:"[data-scroll-container]",invalidateOnRefresh:!0,scrub:!0,start:"top top",end:"bottom bottom",onUpdate:function(e){t.trigger("backgroundUpdate",[e.progress])}})}},{key:"runAnimation",value:function(t){this.animations[t]&&this.animations[t].play()}},{key:"initTitleParallax",value:function(){this.html.title=this.html.hero.querySelector("h1"),this.html.titleSplit=new Jt.a(this.html.title,{type:"lines,words,chars",charsClass:"js-letter"}),this.html.titleLetters=this.html.titleSplit.chars,this.html.titleLines=this.html.titleSplit.lines,this.html.titleLines.forEach((function(t,e){t.classList.add("js-line-".concat(e))})),this.html.titleLetters.forEach((function(t,e){return t.innerHTML='<div class="js-inner">'+t.innerHTML+"</div>"})),this.html.titleLettersInner=Lh(this.html.title.querySelectorAll(".js-inner")),this.html.subtitle=this.html.hero.querySelector("h2"),this.html.subtitleSplit=new Jt.a(this.html.subtitle,{type:"lines,words,chars",charsClass:"js-letter"}),this.html.subtitleLetters=this.html.subtitleSplit.chars,this.html.subtitleLines=this.html.subtitleSplit.lines,this.html.subtitleLines.forEach((function(t,e){t.classList.add("js-line-".concat(e))})),this.html.subtitleLetters.forEach((function(t,e){return t.innerHTML='<div class="js-inner">'+t.innerHTML+"</div>"})),this.html.subtitleLettersInner=Lh(this.html.subtitle.querySelectorAll(".js-inner")),this.animations.heroTitle=c.b.timeline({paused:!0}),this.html.titleLettersInner.length&&this.animations.heroTitle.to(this.html.titleLettersInner,{y:0,duration:1,stagger:.03,ease:"power4.inOut"}),this.html.subtitleLettersInner.length&&this.animations.heroTitle.to(this.html.subtitleLettersInner,{y:0,duration:1,stagger:.03,ease:"power4.inOut"},.4),this.animations.heroTitle.to(".cyber60-hero--content--arrow",{opacity:1,duration:.5,ease:"power4.inOut"},1);var t=1;this.html.heroLogo&&(c.b.set(this.html.heroLogo,{opacity:0,y:20}),this.animations.heroTitle.to(this.html.heroLogo,{opacity:1,y:0,duration:1.3,ease:"power3.inOut"},t),t+=.2),this.html.heroInfo&&(c.b.set(this.html.heroInfo,{opacity:0,y:20}),this.animations.heroTitle.to(this.html.heroInfo,{opacity:1,y:0,duration:1.3,ease:"power3.inOut"},t),t+=.2),this.html.presented&&this.animations.heroTitle.to(this.html.presented,{opacity:1,x:0,duration:1.3,ease:"power3.inOut"},t)}},{key:"onScroll",value:function(t){this.trigger("smooth-scroll",t),u.b.update()}},{key:"update",value:function(t){}},{key:"initHeroParallax",value:function(){}},{key:"destroy",value:function(){this.scroller&&this.scroller.off("scroll",this.onScroll),this.off("backgroundUpdate"),c.b.killTweensOf(this.html.titleLettersInner),c.b.killTweensOf(this.html.subtitleLettersInner),c.b.killTweensOf(".cyber60-hero--content--arrow"),this.animations.heroTitle&&this.animations.heroTitle.kill(),u.b.getAll().forEach((function(t){return t.kill()})),document.documentElement.style.removeProperty("--vh"),o._instance=null,this.html=null}}])&&Fh(e.prototype,n),r&&Fh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(Oh);function Vh(t){return(Vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zh(r.key),r)}}function Wh(t,e){return(Wh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kh(t);if(e){var i=Kh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yh(this,n)}}function Yh(t,e){if(e&&("object"===Vh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return $h(t)}function $h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kh(t){return(Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zh(t){var e=function(t,e){if("object"!=Vh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vh(e)?e:String(e)}!function(t,e,n){(e=Hh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(jh,"_instance",null);var Jh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wh(t,e)}(o,t);var e,n,r,i=qh(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),o._instance?Yh(t,o._instance):(t=i.call(this),o._instance=$h(t),t.UI=jh.getInstance(),t.width=window.innerWidth,t.height=window.innerHeight,t.pixelRatio=Math.min(window.devicePixelRatio,2),t.hero={},t.hero.height=t.UI.html.hero.clientHeight,t.hero.width=t.UI.html.hero.clientWidth,t.hero.wrapperRect=t.UI.html.hero.getBoundingClientRect(),t.isMobile=t.getIsMobile(),window.addEventListener("resize",(function(){t.width=window.innerWidth,t.height=window.innerHeight,t.pixelRatio=Math.min(window.devicePixelRatio,2),t.hero.height=t.UI.html.hero.clientHeight,t.hero.width=t.UI.html.hero.clientWidth,t.hero.wrapperRect=t.UI.html.hero.getBoundingClientRect(),t.isMobile=t.getIsMobile(),t.trigger("resize")})),t)}return e=o,r=[{key:"getInstance",value:function(){return o._instance||new o}}],(n=[{key:"getIsMobile",value:function(){return window.matchMedia("(max-width: 767px)").matches}}])&&Xh(e.prototype,n),r&&Xh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(Oh);function Qh(t){return(Qh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sp(r.key),r)}}function ep(t,e){return(ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function np(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=op(t);if(e){var i=op(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rp(this,n)}}function rp(t,e){if(e&&("object"===Qh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ip(t)}function ip(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function op(t){return(op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sp(t){var e=function(t,e){if("object"!=Qh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qh(e)?e:String(e)}!function(t,e,n){(e=Zh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Jh,"_instance",null);var ap=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ep(t,e)}(o,t);var e,n,r,i=np(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),o._instance?rp(t,o._instance):(t=i.call(this),o._instance=ip(t),t.start=Date.now(),t.current=t.start,t.playing=!0,t.elapsed=0,t.delta=.016666666666666666,t.timeline=c.a.timeline({paused:!0}),window.requestAnimationFrame((function(){t.tick()})),t)}return e=o,r=[{key:"getInstance",value:function(){return o._instance||new o}}],(n=[{key:"tick",value:function(){var t=this,e=Date.now();this.delta=Math.min(.001*(e-this.current),.016),this.current=e,this.elapsed=.001*(this.current-this.start),this.delta>.06&&(this.delta=.06),this.timeline.time(this.elapsed),this.trigger("tick"),window.requestAnimationFrame((function(){t.tick()}))}},{key:"reset",value:function(){this.start=Date.now(),this.current=this.start,this.elapsed=0}},{key:"getDelta",value:function(){return this.delta}}])&&tp(e.prototype,n),r&&tp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(Oh);function lp(t){return(lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hp(r.key),r)}}function up(t,e,n){return(e=hp(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hp(t){var e=function(t,e){if("object"!=lp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lp(e)?e:String(e)}!function(t,e,n){(e=sp(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ap,"_instance",null);var pp=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),up(this,"experience",new Sf),up(this,"scene",this.experience.scene),up(this,"renderer",this.experience.renderer),up(this,"sizes",this.experience.sizes),up(this,"input",this.experience.input),up(this,"instance",new Ch.pb(-1,1,1,-1,-1,10)),up(this,"target",new Ch.hc),this.scene.add(this.instance),this.instance.position.z=5}var e,n,r;return e=t,(n=[{key:"resize",value:function(){this.instance.aspect=this.sizes.hero.width/this.sizes.hero.height,this.instance.updateProjectionMatrix()}},{key:"getWidthModifier",value:function(){return 1/this.sizes.width/this.sizes.height}},{key:"destroy",value:function(){this.scene.remove(this.instance),this.instance=null}}])&&cp(e.prototype,n),r&&cp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function dp(t){return(dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mp(r.key),r)}}function mp(t){var e=function(t,e){if("object"!=dp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dp(e)?e:String(e)}var gp=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.experience=new Sf,this.sizes=this.experience.sizes,this.scene=this.experience.scene,this.camera=this.experience.camera,this.ui=this.experience.ui,this.setInstance()}var e,n,r;return e=t,(n=[{key:"setInstance",value:function(){this.clearColor="#010101",this.instance=new Ch.mc({powerPreference:"high-performance",antialias:!0,alpha:!1,stencil:!1,depth:!1,useLegacyLights:!1,physicallyCorrectLights:!1}),this.canvas=this.ui.html.hero.appendChild(this.instance.domElement),this.instance.outputColorSpace=Ch.Rb,this.instance.toneMapping=Ch.mb,this.instance.setPixelRatio(Math.min(this.sizes.pixelRatio,2)),this.instance.setClearColor(this.clearColor,1),this.instance.setSize(this.sizes.hero.width,this.sizes.hero.height)}},{key:"update",value:function(){this.productionRender()}},{key:"productionRender",value:function(){this.instance.render(this.scene,this.camera.instance)}},{key:"resize",value:function(){this.instance.setSize(this.sizes.hero.width,this.sizes.hero.height),this.instance.setPixelRatio(this.sizes.pixelRatio)}},{key:"destroy",value:function(){this.instance&&(this.instance.dispose(),this.instance=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null,this.experience=null,this.sizes=null,this.scene=null,this.camera=null,this.ui=null,this.clearColor=null}}])&&fp(e.prototype,n),r&&fp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function vp(t){return(vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yp(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return bp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bp(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function bp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xp(r.key),r)}}function xp(t){var e=function(t,e){if("object"!=vp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vp(e)?e:String(e)}function wp(t,e){return(wp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ep(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tp(t);if(e){var i=Tp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Sp(this,n)}}function Sp(t,e){if(e&&("object"===vp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Tp(t){return(Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ap=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wp(t,e)}(o,t);var e,n,r,i=Ep(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this)).ui=jh.getInstance(),e.sources=t,e.items={},e.toLoad=e.sources.length,e.loaded=0,e.loadedAll=!1,e.setLoaders(),e.startLoading(),e}return e=o,(n=[{key:"setLoaders",value:function(){this.loaders={},this.loaders.textureLoader=new Ch.ac}},{key:"startLoading",value:function(){var t,e=this,n=yp(this.sources);try{var r=function(){var n=t.value;if("texture"===n.type)e.loaders.textureLoader.load(n.path,(function(t){e.sourceLoaded(n,t)}));else if("videoTexture"===n.type){var r=document.createElement("video");r.src=n.path,r.setAttribute("crossorigin","anonymous"),r.muted=!0,r.loop=!0,r.load(),r.setAttribute("playsinline",""),r.setAttribute("webkit-playsinline",""),r.pause(),r.onerror=function(){e.sourceError(n)};var i={videoTexture:new Ch.kc(r),videoElement:r,videoWidth:0,videoHeight:0,isVideoTexture:!0,isGalleryObject:!0};r.addEventListener("canplaythrough",(function(){i.videoWidth=r.videoWidth,i.videoHeight=r.videoHeight,e.sourceLoaded(n,i)}),{once:!0})}};for(n.s();!(t=n.n()).done;)r()}catch(t){n.e(t)}finally{n.f()}0===this.sources.length&&setTimeout((function(){e.loadedAll=!0,e.trigger("ready")}))}},{key:"sourceError",value:function(t){this.items[t.name]=null,this.handleLoading()}},{key:"sourceLoaded",value:function(t,e){this.items[t.name]=e,this.handleLoading()}},{key:"handleLoading",value:function(){this.loaded++,this.loadedPercentage=this.loaded/this.toLoad,this.ui.setPreloaderProgress(100*this.loadedPercentage),this.loaded===this.toLoad&&(this.loadedAll=!0,this.trigger("ready"))}}])&&_p(e.prototype,n),r&&_p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(Oh),Mp=window.matchMedia("(max-width: 767px)").matches?"-mobile":"",Cp=[{name:"videoTextureHero",type:"videoTexture",path:"".concat(window.theme_assets_url,"/images/cyber60-v2/cyber60-hero").concat(Mp,".mp4")},{name:"videoTextureBackground",type:"videoTexture",path:"".concat(window.theme_assets_url,"/images/cyber60-v2/cyber60-background").concat(Mp,".mp4")}];function Pp(t){return(Pp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Op(r.key),r)}}function Rp(t,e,n){return(e=Op(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Op(t){var e=function(t,e){if("object"!=Pp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Pp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pp(e)?e:String(e)}var Ip=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Rp(this,"gallery",new Ch.C),t._instance)return t._instance;t._instance=this,this.experience=new Sf,this.input=this.experience.input,this.sizes=this.experience.sizes,this.resources=this.experience.resources,this.scene=this.experience.scene,this.fluidCursorTexture=e,this.pano=this.experience.pano,this.canvas=this.experience.renderer.canvas,this.init(),this.initEvents()}var e,n,r;return e=t,r=[{key:"getInstance",value:function(){return t._instance||new t}}],(n=[{key:"initTexture",value:function(){if(null!==this.resources.items.videoTextureHero){this.videoTexture=this.resources.items.videoTextureHero,this.videoTexture.videoTexture.format=Ch.Hb,this.videoTexture.videoTexture.colorSpace=Ch.Rb,this.videoTexture.videoTexture.minFilter=Ch.R,this.videoTexture.videoTexture.magFilter=Ch.R,this.videoTexture.videoTexture.generateMipmaps=!1,this.videoElement=this.videoTexture.videoElement,this.videoElement.play();var t=this.calcAspectRatio();this.material.uniforms.uVideo.value=this.videoTexture.videoTexture,this.material.uniforms.uResolution.value=new Ch.ic(t.x,t.y,t.z,t.w)}else this.videoTexture=null}},{key:"init",value:function(){this.scene.add(this.gallery),this.geometry=new Ch.sb(2,2),this.material=new Ch.Ub({uniforms:{uVideo:{value:null},uDisplacement:{value:this.fluidCursorTexture},uDisplacementFactor:{value:.3},uResolution:{value:new Ch.ic},uGrainAmount:{value:.035},uGrainSize:{value:this.sizes.isMobile?.8:1.4},uLumAmount:{value:1},uTimer:{value:0},uCursorDelta:{value:new Ch.gc}},vertexShader:"varying vec2 vUv;\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:"uniform sampler2D uVideo;\nuniform vec4 uResolution;\nuniform float uTimer;\nuniform float uGrainAmount;\nuniform float uGrainSize;\nuniform float uLumAmount;\nuniform sampler2D uDisplacement;\nuniform float uDisplacementFactor;\nuniform vec2 uCursorDelta;\n\nvarying vec2 vUv;\n\nconst float permTexUnit = 1.0/256.0;        // Perm texture texel-size\nconst float permTexUnitHalf = 0.5/256.0;    // Half perm texture texel-size\n\n#define Blend(base, blend, funcf)       vec3(funcf(base.r, blend.r), funcf(base.g, blend.g), funcf(base.b, blend.b))\n#define BlendSoftLightf(base, blend)    ((blend < 0.5) ? (2.0 * base * blend + base * base * (1.0 - 2.0 * blend)) : (sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend)))\n#define BlendLightenf(base, blend)      max(blend, base)\n\n#define BlendSoftLight(base, blend)     Blend(base, blend, BlendSoftLightf)\n#define BlendLighten                    BlendLightenf\n\n//a random texture generator, but you can also use a pre-computed perturbation texture\nvec4 rnm(in vec2 tc)\n{\n    float noise =  sin(dot(tc,vec2(uTimer)+vec2(12.9898,78.233))) * 43758.5453;\n    float noiseR =  fract(noise)*2.0-1.0;\n    float noiseG =  fract(noise*1.2154)*2.0-1.0;\n    float noiseB =  fract(noise*1.3453)*2.0-1.0;\n    float noiseA =  fract(noise*1.3647)*2.0-1.0;\n\n    return vec4(noiseR,noiseG,noiseB,noiseA);\n}\n\nfloat fade(in float t) {\n    return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\nfloat pnoise3D(in vec3 p)\n{\n    vec3 pi = permTexUnit*floor(p)+permTexUnitHalf; // Integer part, scaled so +1 moves permTexUnit texel\n    // and offset 1/2 texel to sample texel centers\n    vec3 pf = fract(p);     // Fractional part for interpolation\n\n    // Noise contributions from (x=0, y=0), z=0 and z=1\n    float perm00 = rnm(pi.xy).a ;\n    vec3  grad000 = rnm(vec2(perm00, pi.z)).rgb * 4.0 - 1.0;\n    float n000 = dot(grad000, pf);\n    vec3  grad001 = rnm(vec2(perm00, pi.z + permTexUnit)).rgb * 4.0 - 1.0;\n    float n001 = dot(grad001, pf - vec3(0.0, 0.0, 1.0));\n\n    // Noise contributions from (x=0, y=1), z=0 and z=1\n    float perm01 = rnm(pi.xy + vec2(0.0, permTexUnit)).a ;\n    vec3  grad010 = rnm(vec2(perm01, pi.z)).rgb * 4.0 - 1.0;\n    float n010 = dot(grad010, pf - vec3(0.0, 1.0, 0.0));\n    vec3  grad011 = rnm(vec2(perm01, pi.z + permTexUnit)).rgb * 4.0 - 1.0;\n    float n011 = dot(grad011, pf - vec3(0.0, 1.0, 1.0));\n\n    // Noise contributions from (x=1, y=0), z=0 and z=1\n    float perm10 = rnm(pi.xy + vec2(permTexUnit, 0.0)).a ;\n    vec3  grad100 = rnm(vec2(perm10, pi.z)).rgb * 4.0 - 1.0;\n    float n100 = dot(grad100, pf - vec3(1.0, 0.0, 0.0));\n    vec3  grad101 = rnm(vec2(perm10, pi.z + permTexUnit)).rgb * 4.0 - 1.0;\n    float n101 = dot(grad101, pf - vec3(1.0, 0.0, 1.0));\n\n    // Noise contributions from (x=1, y=1), z=0 and z=1\n    float perm11 = rnm(pi.xy + vec2(permTexUnit, permTexUnit)).a ;\n    vec3  grad110 = rnm(vec2(perm11, pi.z)).rgb * 4.0 - 1.0;\n    float n110 = dot(grad110, pf - vec3(1.0, 1.0, 0.0));\n    vec3  grad111 = rnm(vec2(perm11, pi.z + permTexUnit)).rgb * 4.0 - 1.0;\n    float n111 = dot(grad111, pf - vec3(1.0, 1.0, 1.0));\n\n    // Blend contributions along x\n    vec4 n_x = mix(vec4(n000, n001, n010, n011), vec4(n100, n101, n110, n111), fade(pf.x));\n\n    // Blend contributions along y\n    vec2 n_xy = mix(n_x.xy, n_x.zw, fade(pf.y));\n\n    // Blend contributions along z\n    float n_xyz = mix(n_xy.x, n_xy.y, fade(pf.z));\n\n    // We're done, return the final noise value.\n    return n_xyz;\n}\n\n//2d coordinate orientation thing\nvec2 coordRot(in vec2 tc, in float angle)\n{\n    float aspect = uResolution.x/uResolution.y;\n    float rotX = ((tc.x*2.0-1.0)*aspect*cos(angle)) - ((tc.y*2.0-1.0)*sin(angle));\n    float rotY = ((tc.y*2.0-1.0)*cos(angle)) + ((tc.x*2.0-1.0)*aspect*sin(angle));\n    rotX = ((rotX/aspect)*0.5+0.5);\n    rotY = rotY*0.5+0.5;\n    return vec2(rotX,rotY);\n}\n\n\nhighp float rand(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\nfloat fastNoise(vec2 n) {\n\tconst vec2 d = vec2(0.0, 1.0);\n\tvec2 b = floor(n), f = smoothstep(vec2(0.0), vec2(1.0), fract(n));\n\treturn mix(mix(rand(b), rand(b + d.yx ), f.x), mix(rand(b + d.xy ), rand(b + d.yy ), f.x), f.y);\n}\n\nvoid main() {\n    vec2 newUv = (vUv - vec2(0., 0.5)) * uResolution.zw + vec2(0., 0.5);\n\n    vec2 position = newUv;\n\n\tfloat c = 1.0;\n\tvec3 color = vec3(c);\n\n\tvec2 texCoord = position.st;\n\n\tvec3 rotOffset = vec3(1.425,3.892,5.835); //rotation offset values\n\tvec2 rotCoordsR = coordRot(texCoord, uTimer+rotOffset.x);\n\tvec3 noise = vec3(pnoise3D(vec3(rotCoordsR*vec2(uResolution.x/uGrainSize,uResolution.y/uGrainSize),0.0)));\n\n    vec2 displacementUv = vUv + uCursorDelta;\n\n    vec2 displacement = texture2D(uDisplacement, displacementUv).xy;\n    newUv += displacement * uDisplacementFactor;\n\n    vec4 diffuse = texture2D(uVideo, newUv);\n    vec3 col = diffuse.rgb;\n\n\n\tcolor = noise;\n\t//constant moving burn\n    color += vec3( fastNoise(texCoord*sin(uTimer*0.1)*3.0 + fastNoise(uTimer*0.4+texCoord*2.0)) )*0.2;\n\n\n    vec3 lumcoeff = vec3(0.299,0.587,0.114);\n    float luminance = mix(0.0,dot(col, lumcoeff),uLumAmount);\n    float lum = smoothstep(0.2,0.0,luminance);\n    lum += luminance;\n\n    color = mix(color,vec3(0.0),pow(lum,4.0));\n    col += color*uGrainAmount;\n\n    col = mix(col, BlendSoftLight(col, color), uGrainAmount );\n\n\n    col -= clamp( 0.1*vec3( smoothstep(0.000001, 0.0000, rand(texCoord.xx*uTimer) ) * (abs(cos(uTimer)*sin(uTimer*1.5))-0.5) ), 0.0, 1.0 );\n\n\tgl_FragColor = vec4( col, diffuse.a );\n}\n"}),this.mesh=new Ch.bb(this.geometry,this.material),this.gallery.add(this.mesh)}},{key:"fitPlaneToCamera",value:function(){var t=this.experience.camera.instance.position.z,e=this.sizes.hero.width/this.sizes.hero.height,n=this.experience.camera.instance.fov*Math.PI/180,r=2*Math.tan(n/2)*t,i=r*e;this.mesh.scale.x=i,this.mesh.scale.y=r}},{key:"initEvents",value:function(){var t=this;this.resources.on("ready",(function(){t.initTexture()}))}},{key:"calcAspectRatio",value:function(){var t,e,n=[{width:512,height:512},{width:1920,height:1080}],r=this.sizes.isMobile?0:1,i=n[r].width,o=n[r].height/i;return this.sizes.hero.height/this.sizes.hero.width>o?(t=this.sizes.hero.width/this.sizes.hero.height*o,e=1):(t=1,e=this.sizes.hero.height/this.sizes.hero.width/o),{x:this.sizes.hero.width,y:this.sizes.hero.height,z:t,w:e}}},{key:"updateGlobalCursor",value:function(){var t=this.canvas.getBoundingClientRect(),e=this.input.calculateCursorDelta(t);this.material.uniforms.uCursorDelta.value.copy(e)}},{key:"update",value:function(t){this.videoTexture&&this.videoTexture.videoTexture&&this.videoTexture.videoTexture.update(),this.updateGlobalCursor(),this.material.uniforms.uTimer.value+=t}},{key:"resize",value:function(){var t=this.calcAspectRatio();this.material.uniforms.uResolution.value.set(t.x,t.y,t.z,t.w)}},{key:"destroy",value:function(){this.scene&&this.scene.remove(this.gallery),this.geometry&&this.geometry.dispose(),this.material&&this.material.dispose(),this.mesh&&(this.mesh.geometry.dispose(),this.mesh.material.dispose()),this.videoTexture&&this.videoTexture.videoTexture.dispose(),this.videoElement&&(this.videoElement.pause(),this.videoElement.src="",this.videoElement.load()),this.resources&&this.resources.off("ready",this.initTexture),this.gallery=null,this.experience=null,this.input=null,this.sizes=null,this.resources=null,this.scene=null,this.fluidCursorTexture=null,this.pano=null,this.canvas=null,this.geometry=null,this.material=null,this.mesh=null,this.videoTexture=null,this.videoElement=null,t._instance=null}}])&&Dp(e.prototype,n),r&&Dp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Lp(t){return(Lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fp(r.key),r)}}function Fp(t){var e=function(t,e){if("object"!=Lp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Lp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lp(e)?e:String(e)}Rp(Ip,"_instance",null);var Np=function(){function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t._instance)return t._instance;t._instance=this,this.experience=new Sf,this.sizes=this.experience.sizes,this.clock=this.experience.time,this.width=this.sizes.hero.width,this.height=this.sizes.hero.height,this.aspect=this.width/this.height,this.isMobile=!1,this.breakpoint=768,this.fboWidth=null,this.fboHeight=null,this.resizeFunc=this.resize.bind(this),this.time=0,this.delta=0,this.init()}var e,n,r;return e=t,r=[{key:"getInstance",value:function(){return null===this._instance&&(this._instance=new t),this._instance}}],(n=[{key:"init",value:function(){this.pixelRatio=window.devicePixelRatio,this.resize(),this.renderer=this.experience.renderer.instance,this.renderTarget=new Ch.lc(this.width,this.height,{minFilter:Ch.gb,magFilter:Ch.gb,format:Ch.zb,type:Ch.D,stencilBuffer:!1,depthBuffer:!1,generateMipmaps:!1})}},{key:"resize",value:function(){this.width=this.sizes.hero.width,this.height=this.sizes.hero.height,this.aspect=this.width/this.height}},{key:"update",value:function(){this.delta=this.clock.getDelta(),this.time+=this.delta}},{key:"getTexture",value:function(){return this.renderTarget.texture}},{key:"destroy",value:function(){window.removeEventListener("resize",this.resizeFunc),this.renderTarget&&this.renderTarget.dispose(),this.experience=null,this.sizes=null,this.clock=null,this.renderer=null,this.width=null,this.height=null,this.aspect=null,this.isMobile=!1,this.fboWidth=null,this.fboHeight=null,this.pixelRatio=null,this.time=0,this.delta=0,t._instance=null}}])&&kp(e.prototype,n),r&&kp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=Fp(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Np,"_instance",null);var Bp="precision lowp float;\nattribute vec3 position;\nuniform vec2 px;\nuniform vec2 boundarySpace;\nvarying vec2 uv;\n\n\nvoid main(){\n    vec3 pos = position;\n    vec2 scale = 1.0 - boundarySpace * 2.0;\n    pos.xy = pos.xy * scale;\n    uv = vec2(0.5)+(pos.xy)*0.5;\n    gl_Position = vec4(pos, 1.0);\n}\n",Up="precision lowp float;\nuniform sampler2D velocity;\nuniform float dt;\nuniform vec2 fboSize;\nuniform vec2 px;\nuniform float dissipation;\nvarying vec2 uv;\n\nvoid main() {\n    vec2 ratio = max(fboSize.x, fboSize.y) / fboSize;\n\n    vec2 spot_new = uv;\n    vec2 vel_old = texture2D(velocity, uv).xy;\n    // back trace\n    vec2 spot_old = spot_new - vel_old * dt * ratio;\n    vec2 vel_new1 = texture2D(velocity, spot_old).xy;\n\n    // forward trace\n    vec2 spot_new2 = spot_old + vel_new1 * dt * ratio;\n\n    vec2 error = spot_new2 - spot_new;\n\n    vec2 spot_new3 = spot_new - error / 2.0;\n    vec2 vel_2 = texture2D(velocity, spot_new3).xy * 0.95;\n\n    // back trace 2\n    vec2 spot_old2 = spot_new3 - vel_2 * dt * ratio;\n    vec2 newVel2 = texture2D(velocity, spot_old2).xy;\n\n    // Apply dissipation\n    newVel2 *= dissipation;\n\n    gl_FragColor = vec4(newVel2, 0.0, 1.0);\n//    vec2 vel = texture2D(velocity, uv).xy;\n//    vec2 uv2 = uv - vel * dt * ratio;\n//    vec2 newVel = texture2D(velocity, uv2).xy;\n//\n//    newVel *= dissipation;\n//\n//    gl_FragColor = vec4(newVel, 0.0, 0.0);\n\n\n}\n";function Gp(t){return(Gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hp(r.key),r)}}function Hp(t){var e=function(t,e){if("object"!=Gp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Gp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gp(e)?e:String(e)}var jp=function(){function t(e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.props=e,this.uniforms=null===(n=this.props.material)||void 0===n?void 0:n.uniforms,this.common=Np.getInstance()}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.scene=new Ch.Tb,this.camera=new Ch.i,this.uniforms&&(this.material=new Ch.Mb(this.props.material),this.geometry=new Ch.sb(2,2),this.plane=new Ch.bb(this.geometry,this.material),this.scene.add(this.plane))}},{key:"update",value:function(){this.common.renderer.setRenderTarget(this.props.output),this.common.renderer.render(this.scene,this.camera),this.common.renderer.setRenderTarget(null)}},{key:"destroy",value:function(){if(this.geometry&&(this.geometry.dispose(),this.geometry=null),this.material&&(this.material.dispose(),this.material=null),this.plane&&(this.scene.remove(this.plane),this.plane=null),this.scene){for(;this.scene.children.length>0;){var t=this.scene.children[0];this.scene.remove(t),t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()}this.scene=null}if(this.camera=null,this.uniforms){for(var e in this.uniforms)this.uniforms[e].value=null;this.uniforms=null}this.props=null,this.common=null}}])&&zp(e.prototype,n),r&&zp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Vp(t){return(Vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wp(r.key),r)}}function Wp(t){var e=function(t,e){if("object"!=Vp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vp(e)?e:String(e)}function qp(){return(qp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Yp(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function Yp(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jp(t)););return t}function $p(t,e){return($p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Kp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jp(t);if(e){var i=Jp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Zp(this,n)}}function Zp(t,e){if(e&&("object"===Vp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Jp(t){return(Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$p(t,e)}(o,t);var e,n,r,i=Kp(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,{material:{depthWrite:!1,depthTest:!1,vertexShader:Bp,fragmentShader:Up,uniforms:{boundarySpace:{value:t.cellScale},px:{value:t.cellScale},fboSize:{value:t.fboSize},velocity:{value:t.src.texture},dt:{value:t.dt},dissipation:{value:.95}}},output:t.dst})).init(),e}return e=o,(n=[{key:"init",value:function(){qp(Jp(o.prototype),"init",this).call(this),this.createBoundary()}},{key:"createBoundary",value:function(){var t=new Ch.h,e=new Float32Array([-1,-1,0,-1,1,0,-1,1,0,1,1,0,1,1,0,1,-1,0,1,-1,0,-1,-1,0]);t.setAttribute("position",new Ch.g(e,3));var n=new Ch.Mb({vertexShader:"precision lowp float;\nattribute vec3 position;\nvarying vec2 uv;\nuniform vec2 px;\n\n\n\nvoid main(){\n    vec3 pos = position;\n    uv = 0.5 + pos.xy * 0.5;\n    vec2 n = sign(pos.xy);\n    pos.xy = abs(pos.xy) - px * 1.0;\n    pos.xy *= n;\n    gl_Position = vec4(pos, 1.0);\n}\n",fragmentShader:Up,uniforms:this.uniforms});this.line=new Ch.P(t,n),this.scene.add(this.line)}},{key:"update",value:function(t){var e=t.dt,n=t.isBounce;t.BFECC,this.uniforms.dt.value=e,this.line.visible=n,qp(Jp(o.prototype),"update",this).call(this)}},{key:"destroy",value:function(){for(var t in qp(Jp(o.prototype),"destroy",this).call(this),this.line&&(this.line.geometry&&this.line.geometry.dispose(),this.line.material&&this.line.material.dispose(),this.scene.remove(this.line),this.line=null),this.uniforms)this.uniforms[t].value=null;this.uniforms=null,this.output=null}}])&&Xp(e.prototype,n),r&&Xp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(jp);function td(t){return(td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ed(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rd(r.key),r)}}function nd(t,e,n){return(e=rd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rd(t){var e=function(t,e){if("object"!=td(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=td(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==td(e)?e:String(e)}var id=function(){function t(){var e=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),nd(this,"onMouseMoved",(function(t){var n=t.clientX,r=t.clientY;e.clientX=n,e.clientY=r,e.cursor.x=n/window.innerWidth*2-1,e.cursor.y=-r/window.innerHeight*2+1,e.cursor.x=Math.max(-1,Math.min(1,e.cursor.x)),e.cursor.y=Math.max(-1,Math.min(1,e.cursor.y))})),t._instance)return t._instance;t._instance=this,this.experience=Sf.getInstance(),this.canvas=this.experience.renderer.canvas,this.sizes=Jh.getInstance(),this.cursor=new Ch.hc,this.coords_old=new Ch.gc,this.diff=new Ch.gc,this.clientX=0,this.clientY=0,this.init()}var e,n,r;return e=t,r=[{key:"getInstance",value:function(){return t.instance||new t}}],(n=[{key:"init",value:function(){window.addEventListener("mousemove",this.onMouseMoved)}},{key:"update",value:function(){this.diff.subVectors(this.cursor,this.coords_old),this.coords_old.copy(this.cursor),0===this.coords_old.x&&0===this.coords_old.y&&this.diff.set(0,0)}},{key:"getCursorPosition",value:function(){return this.cursor}},{key:"getCursorDiff",value:function(){return this.diff}},{key:"calculateCursorDelta",value:function(t){var e=t.left/t.width,n=-t.top/t.height;return new Ch.gc(e,n)}},{key:"destroy",value:function(){window.removeEventListener("mousemove",this.onMouseMoved),t._instance=null}}])&&ed(e.prototype,n),r&&ed(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function od(t){return(od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ad(r.key),r)}}function ad(t){var e=function(t,e){if("object"!=od(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=od(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==od(e)?e:String(e)}function ld(){return(ld="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=cd(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function cd(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dd(t)););return t}function ud(t,e){return(ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function hd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=dd(t);if(e){var i=dd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pd(this,n)}}function pd(t,e){if(e&&("object"===od(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function dd(t){return(dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}nd(id,"instance",null);var fd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ud(t,e)}(o,t);var e,n,r,i=hd(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,{output:t.dst})).input=id.getInstance(),e.init(t),e}return e=o,(n=[{key:"init",value:function(t){ld(dd(o.prototype),"init",this).call(this);var e=new Ch.sb(1,1),n=new Ch.Mb({vertexShader:"precision lowp float;\n\nattribute vec3 position;\nattribute vec2 uv;\nuniform vec2 center;\nuniform vec2 scale;\nuniform vec2 px;\nvarying vec2 vUv;\n\nvoid main(){\n    vec2 pos = position.xy * scale * 2.0 * px + center;\n    vUv = uv;\n    gl_Position = vec4(pos, 0.0, 1.0);\n}\n",fragmentShader:"precision lowp float;\n\nuniform vec2 force;\nuniform vec2 center;\nuniform vec2 scale;\nuniform vec2 px;\nvarying vec2 vUv;\n\nvoid main(){\n    vec2 circle = (vUv - 0.5) * 2.5;\n    float d = 1.0-min(length(circle), 1.0);\n    d *= d;\n    gl_FragColor = vec4(force * d, 0, 1);\n}\n",blending:Ch.b,depthWrite:!1,depthTest:!1,uniforms:{px:{value:t.cellScale},force:{value:new Ch.gc(0,0)},center:{value:new Ch.gc(0,0)},scale:{value:new Ch.gc(t.cursor_size,t.cursor_size)}}});this.mouseMesh=new Ch.bb(e,n),this.scene.add(this.mouseMesh)}},{key:"update",value:function(t){var e=this.input.diff.x/2*t.mouse_force,n=this.input.diff.y/2*t.mouse_force,r=t.cursor_size*t.cellScale.x,i=t.cursor_size*t.cellScale.y,s=Math.min(Math.max(this.input.cursor.x,-1+r+2*t.cellScale.x),1-r-2*t.cellScale.x),a=Math.min(Math.max(this.input.cursor.y,-1+i+2*t.cellScale.y),1-i-2*t.cellScale.y),l=this.mouseMesh.material.uniforms;l.force.value.set(e,n),l.center.value.set(s,a),l.scale.value.set(t.cursor_size,t.cursor_size),ld(dd(o.prototype),"update",this).call(this)}},{key:"destroy",value:function(){ld(dd(o.prototype),"destroy",this).call(this),this.scene.remove(this.mouseMesh),this.mouseMesh.geometry.dispose(),this.mouseMesh.material.dispose(),this.mouseMesh=null,this.input=null}}])&&sd(e.prototype,n),r&&sd(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(jp);function md(t){return(md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vd(r.key),r)}}function vd(t){var e=function(t,e){if("object"!=md(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=md(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==md(e)?e:String(e)}function yd(){return(yd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=bd(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function bd(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ed(t)););return t}function _d(t,e){return(_d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function xd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ed(t);if(e){var i=Ed(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wd(this,n)}}function wd(t,e){if(e&&("object"===md(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ed(t){return(Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_d(t,e)}(o,t);var e,n,r,i=xd(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,{material:{depthWrite:!1,depthTest:!1,vertexShader:Bp,fragmentShader:"precision lowp float;\nuniform sampler2D velocity;\nuniform float dt;\nuniform vec2 px;\nvarying vec2 uv;\n\nvoid main(){\n    float x0 = texture2D(velocity, uv-vec2(px.x, 0)).x;\n    float x1 = texture2D(velocity, uv+vec2(px.x, 0)).x;\n    float y0 = texture2D(velocity, uv-vec2(0, px.y)).y;\n    float y1 = texture2D(velocity, uv+vec2(0, px.y)).y;\n    float divergence = (x1-x0 + y1-y0) / 2.0;\n\n    gl_FragColor = vec4(divergence / dt);\n}\n",uniforms:{boundarySpace:{value:t.boundarySpace},velocity:{value:t.src.texture},px:{value:t.cellScale},dt:{value:t.dt}}},output:t.dst})).init(),e}return e=o,(n=[{key:"update",value:function(t){var e=t.vel;this.uniforms.velocity.value=e.texture,yd(Ed(o.prototype),"update",this).call(this)}},{key:"destroy",value:function(){for(var t in yd(Ed(o.prototype),"destroy",this).call(this),this.uniforms)this.uniforms[t].value=null;this.uniforms=null,this.output=null}}])&&gd(e.prototype,n),r&&gd(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(jp);function Td(t){return(Td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ad(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Md(r.key),r)}}function Md(t){var e=function(t,e){if("object"!=Td(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Td(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Td(e)?e:String(e)}function Cd(){return(Cd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Pd(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function Pd(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Id(t)););return t}function Dd(t,e){return(Dd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Id(t);if(e){var i=Id(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Od(this,n)}}function Od(t,e){if(e&&("object"===Td(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Id(t){return(Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ld=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dd(t,e)}(o,t);var e,n,r,i=Rd(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,{material:{depthWrite:!1,depthTest:!1,vertexShader:Bp,fragmentShader:"precision lowp float;\nuniform sampler2D pressure;\nuniform sampler2D divergence;\nuniform vec2 px;\nvarying vec2 uv;\n\nvoid main(){\n    // poisson equation\n    float p0 = texture2D(pressure, uv+vec2(px.x * 2.0,  0)).r;\n    float p1 = texture2D(pressure, uv-vec2(px.x * 2.0, 0)).r;\n    float p2 = texture2D(pressure, uv+vec2(0, px.y * 2.0 )).r;\n    float p3 = texture2D(pressure, uv-vec2(0, px.y * 2.0 )).r;\n    float div = texture2D(divergence, uv).r;\n\n    float newP = (p0 + p1 + p2 + p3) / 4.0 - div;\n    gl_FragColor = vec4(newP);\n}\n",uniforms:{boundarySpace:{value:t.boundarySpace},pressure:{value:t.dst_.texture},divergence:{value:t.src.texture},px:{value:t.cellScale}}},output:t.dst,output0:t.dst_,output1:t.dst})).init(),e}return e=o,(n=[{key:"update",value:function(t){for(var e,n,r=t.iterations,i=0;i<r;i++)i%2==0?(e=this.props.output0,n=this.props.output1):(e=this.props.output1,n=this.props.output0),this.uniforms.pressure.value=e.texture,this.props.output=n,Cd(Id(o.prototype),"update",this).call(this);return n}},{key:"destroy",value:function(){for(var t in Cd(Id(o.prototype),"destroy",this).call(this),this.uniforms)this.uniforms[t].value=null;this.uniforms=null,this.props.output=null,this.props.output0=null,this.props.output1=null,this.props=null}}])&&Ad(e.prototype,n),r&&Ad(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(jp);function kd(t){return(kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nd(r.key),r)}}function Nd(t){var e=function(t,e){if("object"!=kd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kd(e)?e:String(e)}function Bd(){return(Bd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Ud(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function Ud(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jd(t)););return t}function Gd(t,e){return(Gd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function zd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jd(t);if(e){var i=jd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hd(this,n)}}function Hd(t,e){if(e&&("object"===kd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function jd(t){return(jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gd(t,e)}(o,t);var e,n,r,i=zd(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,{material:{depthWrite:!1,depthTest:!1,vertexShader:Bp,fragmentShader:"precision lowp float;\nuniform sampler2D pressure;\nuniform sampler2D velocity;\nuniform vec2 px;\nuniform float dt;\nvarying vec2 uv;\n\nvoid main(){\n    float p0 = texture2D(pressure, uv+vec2(px.x, 0)).r;\n    float p1 = texture2D(pressure, uv-vec2(px.x, 0)).r;\n    float p2 = texture2D(pressure, uv+vec2(0, px.y)).r;\n    float p3 = texture2D(pressure, uv-vec2(0, px.y)).r;\n\n    vec2 v = texture2D(velocity, uv).xy;\n    vec2 gradP = vec2(p0 - p1, p2 - p3) * 0.5;\n    v = v - gradP * dt;\n    gl_FragColor = vec4(v, 0.0, 1.0);\n}\n",uniforms:{boundarySpace:{value:t.boundarySpace},pressure:{value:t.src_p.texture},velocity:{value:t.src_v.texture},px:{value:t.cellScale},dt:{value:t.dt}}},output:t.dst})).init(),e}return e=o,(n=[{key:"update",value:function(t){var e=t.vel,n=t.pressure;this.uniforms.velocity.value=e.texture,this.uniforms.pressure.value=n.texture,Bd(jd(o.prototype),"update",this).call(this)}},{key:"destroy",value:function(){for(var t in Bd(jd(o.prototype),"destroy",this).call(this),this.uniforms)this.uniforms[t].value=null;this.uniforms=null,this.output=null,this.init=null}}])&&Fd(e.prototype,n),r&&Fd(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(jp);function Xd(t){return(Xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qd(r.key),r)}}function qd(t){var e=function(t,e){if("object"!=Xd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xd(e)?e:String(e)}var Yd=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.props=e,this.fbos={vel_0:null,vel_1:null,vel_viscous0:null,vel_viscous1:null,div:null,pressure_0:null,pressure_1:null},this.options={iterations_poisson:8,iterations_viscous:8,mouse_force:20,resolution:.5,cursor_size:120,viscous:15,dt:.024,isViscous:!1},this.experience=Sf.getInstance(),this.sizes=this.experience.sizes,this.fboSize=new Ch.gc,this.cellScale=new Ch.gc,this.boundarySpace=new Ch.gc,this.init()}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.calcSize(),this.createAllFBO(),this.createShaderPass()}},{key:"createAllFBO",value:function(){var t=/(iPad|iPhone|iPod)/g.test(navigator.userAgent)?Ch.D:Ch.A;for(var e in this.fbos)this.fbos[e]=new Ch.lc(this.fboSize.x,this.fboSize.y,{type:t})}},{key:"createShaderPass",value:function(){this.advection=new Qp({cellScale:this.cellScale,fboSize:this.fboSize,dt:this.options.dt,src:this.fbos.vel_0,dst:this.fbos.vel_1}),this.externalForce=new fd({cellScale:this.cellScale,cursor_size:this.options.cursor_size,dst:this.fbos.vel_1}),this.divergence=new Sd({cellScale:this.cellScale,boundarySpace:this.boundarySpace,src:this.fbos.vel_viscous0,dst:this.fbos.div,dt:this.options.dt}),this.poisson=new Ld({cellScale:this.cellScale,boundarySpace:this.boundarySpace,src:this.fbos.div,dst:this.fbos.pressure_1,dst_:this.fbos.pressure_0}),this.pressure=new Vd({cellScale:this.cellScale,boundarySpace:this.boundarySpace,src_p:this.fbos.pressure_0,src_v:this.fbos.vel_viscous0,dst:this.fbos.vel_0,dt:this.options.dt})}},{key:"calcSize",value:function(){var t=Math.round(this.options.resolution*this.sizes.hero.width),e=Math.round(this.options.resolution*this.sizes.hero.height),n=1/t,r=1/e;this.cellScale.set(n,r),this.fboSize.set(t,e)}},{key:"resize",value:function(){for(var t in this.calcSize(),this.fbos)this.fbos[t].setSize(this.fboSize.x,this.fboSize.y)}},{key:"update",value:function(){this.boundarySpace.copy(this.cellScale),this.advection.update(this.options),this.externalForce.update({cursor_size:this.options.cursor_size,mouse_force:this.options.mouse_force,cellScale:this.cellScale});var t=this.fbos.vel_1;this.divergence.update({vel:t});var e=this.poisson.update({iterations:this.options.iterations_poisson});this.pressure.update({vel:t,pressure:e})}},{key:"destroy",value:function(){for(var t in this.fbos)this.fbos[t]&&(this.fbos[t].dispose(),this.fbos[t]=null);this.advection&&(this.advection.destroy(),this.advection=null),this.externalForce&&(this.externalForce.destroy(),this.externalForce=null),this.divergence&&(this.divergence.destroy(),this.divergence=null),this.poisson&&(this.poisson.destroy(),this.poisson=null),this.pressure&&(this.pressure.destroy(),this.pressure=null),this.props=null,this.experience=null,this.sizes=null,this.fboSize=null,this.cellScale=null,this.boundarySpace=null,this.options=null}}])&&Wd(e.prototype,n),r&&Wd(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function $d(t){return($d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zd(r.key),r)}}function Zd(t){var e=function(t,e){if("object"!=$d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$d(e)?e:String(e)}var Jd=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.experience=Sf.getInstance(),this.common=Np.getInstance(),this.init()}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.simulation=new Yd,this.scene=new Ch.Tb,this.camera=new Ch.i,this.output=new Ch.bb(new Ch.sb(2,2),new Ch.Mb({depthWrite:!1,depthTest:!1,vertexShader:Bp,fragmentShader:"precision lowp float;\nuniform sampler2D velocity;\nvarying vec2 uv;\n\nvoid main(){\n    vec2 vel = texture2D(velocity, uv).xy;\n    float len = length(vel);\n    vel = vel * 1.5 + 0.1;\n\n    vec3 color = vec3(vel.x, vel.y, 1.0);\n    color = mix(vec3(0.), color, len);\n\n    gl_FragColor = vec4(color,  1.0);\n}\n",uniforms:{velocity:{value:this.simulation.fbos.vel_0.texture},clearColor:{value:new Ch.n(1118481).convertSRGBToLinear()},boundarySpace:{value:new Ch.gc}}})),this.scene.add(this.output)}},{key:"resize",value:function(){this.simulation.resize()}},{key:"render",value:function(){this.common.renderer.setRenderTarget(this.common.renderTarget),this.common.renderer.autoClear=!1,this.common.renderer.render(this.scene,this.camera),this.common.renderer.setRenderTarget(null)}},{key:"update",value:function(){this.simulation.update(),this.render()}},{key:"destroy",value:function(){this.output&&(this.output.geometry&&this.output.geometry.dispose(),this.output.material&&(this.output.material.uniforms.velocity.value&&this.output.material.uniforms.velocity.value.dispose(),this.output.material.dispose())),this.scene&&(this.scene.remove(this.output),this.scene.traverse((function(t){t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()}))),this.simulation&&this.simulation.destroy(),this.experience=null,this.common=null,this.simulation=null,this.scene=null,this.camera=null,this.output=null}}])&&Kd(e.prototype,n),r&&Kd(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Qd(t){return(Qd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ef(r.key),r)}}function ef(t){var e=function(t,e){if("object"!=Qd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qd(e)?e:String(e)}var nf=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.common=new Np,this.input=id.getInstance(),this.init()}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.output=new Jd}},{key:"resize",value:function(){this.common.resize(),this.output.resize()}},{key:"update",value:function(){this.input.update(),this.common.update(),this.output.update()}},{key:"getTexture",value:function(){return this.common.getTexture()}},{key:"destroy",value:function(){this.common.destroy(),this.output.destroy()}}])&&tf(e.prototype,n),r&&tf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function rf(t){return(rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function of(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sf(r.key),r)}}function sf(t){var e=function(t,e){if("object"!=rf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rf(e)?e:String(e)}var af=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.experience=new Sf,this.ui=this.experience.ui,this.sizes=this.experience.sizes,this.resources=this.experience.resources,this.progress=0,this.totalDuration=0,this.videoLoopCount=3,this.init(),this.initEvents()}var e,n,r;return e=t,(n=[{key:"initTexture",value:function(){null!==this.resources.items.videoTextureBackground?(this.videoTexture=this.resources.items.videoTextureBackground,this.videoTexture.videoTexture.format=Ch.Hb,this.videoTexture.videoTexture.colorSpace=Ch.Rb,this.videoTexture.videoTexture.minFilter=Ch.R,this.videoTexture.videoTexture.magFilter=Ch.R,this.videoTexture.videoTexture.generateMipmaps=!1,this.videoTexture.videoTexture.flipY=!1,this.videoElement=this.videoTexture.videoElement,this.uniforms.uTexture.value=this.videoTexture.videoTexture,this.totalDuration=this.videoElement.duration*this.videoLoopCount):this.videoTexture=null}},{key:"init",value:function(){var t=this;this.scene=new Ch.Tb,this.resources.on("ready",(function(){t.initTexture()})),this.camera=new Ch.pb(-1,1,1,-1,-1,1),this.renderer=new Ch.mc({powerPreference:"high-performance",antialias:!1,alpha:!1,stencil:!1,depth:!1,useLegacyLights:!1,physicallyCorrectLights:!1}),this.clearColor="#8272FB",this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setSize(window.innerWidth,1.2*window.innerHeight),this.container.appendChild(this.renderer.domElement),this.renderer.outputColorSpace=Ch.Rb,this.renderer.toneMapping=Ch.mb,this.renderer.setClearColor(this.clearColor,1),this.uniforms={uTexture:{value:null},uScrollRatio:{value:0},uTotalTextureHeight:{value:1}},this.material=new Ch.Ub({uniforms:this.uniforms,vertexShader:"varying vec2 vUv;\nvoid main() {\n    vUv = uv;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}\n",fragmentShader:"uniform sampler2D uTexture;\nuniform float uScrollRatio;\nuniform float uTotalTextureHeight;\nvarying vec2 vUv;\n\nfloat random(vec2 st) {\n    return fract(sin(dot(st.xy, vec2(12.9898, 78.233))) * 43758.5453123);\n}\n\nvoid main() {\n    vec2 uv = vUv;\n    float visibleTextureFraction = 1.0 / uTotalTextureHeight;\n\n    uv.y = uv.y * visibleTextureFraction + (1.0 - uScrollRatio) * (1.0 - visibleTextureFraction);\n\n    float blurAmount = 0.005;\n    vec4 color = vec4(0.0);\n    for (float x = -2.0; x <= 2.0; x++) {\n        for (float y = -2.0; y <= 2.0; y++) {\n            vec2 offset = vec2(x, y) * blurAmount;\n            color += texture2D(uTexture, uv + offset);\n        }\n    }\n    color /= 25.0; // Normalize (5x5 kernel)\n\n    vec3 whiteColor = vec3(1.0, 1.0, 1.0);\n    float overlayOpacity = 0.4;\n    color.rgb = mix(color.rgb, whiteColor, overlayOpacity);\n\n    float grain = random(vUv);\n    float grainThreshold = 0.9;\n    float grainOpacity = 0.25;\n\n    if (grain > grainThreshold) {\n        color.rgb = mix(color.rgb, whiteColor, grainOpacity);\n    }\n\n    gl_FragColor = color;\n}\n"}),this.geometry=new Ch.sb(2,2),this.mesh=new Ch.bb(this.geometry,this.material),this.scene.add(this.mesh)}},{key:"updateUniforms",value:function(){var t=window.innerHeight,e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)/t;this.uniforms.uScrollRatio.value=this.progress,this.uniforms.uTotalTextureHeight.value=e}},{key:"onWindowResize",value:function(){this.renderer.setSize(window.innerWidth,1.2*window.innerHeight),this.updateUniforms()}},{key:"render",value:function(){this.updateUniforms(),this.renderer.render(this.scene,this.camera)}},{key:"initEvents",value:function(){window.addEventListener("resize",this.onWindowResize.bind(this)),this.ui.on("backgroundUpdate",this.update.bind(this))}},{key:"update",value:function(t){if(0!==this.totalDuration){this.progress=t;var e=t*this.totalDuration%this.videoElement.duration;Math.abs(this.videoElement.currentTime-e)>.01&&(this.videoElement.currentTime=e,this.videoTexture.videoTexture.needsUpdate=!0)}}},{key:"destroy",value:function(){window.removeEventListener("resize",this.onWindowResize.bind(this)),this.ui.off("backgroundUpdate",this.update.bind(this)),this.geometry&&this.geometry.dispose(),this.material&&this.material.dispose(),this.mesh&&this.scene.remove(this.mesh),this.renderer&&this.renderer.dispose(),this.container&&this.renderer&&this.container.removeChild(this.renderer.domElement),this.videoTexture&&this.videoTexture.videoTexture.dispose(),this.videoElement&&(this.videoElement.pause(),this.videoElement.src="",this.videoElement.load()),this.scene=null,this.camera=null,this.renderer=null,this.geometry=null,this.material=null,this.mesh=null,this.videoTexture=null,this.videoElement=null,this.uniforms=null,this.experience&&this.experience.background===this&&(this.experience.background=null),this.container=null,this.experience=null,this.ui=null,this.sizes=null,this.resources=null}}])&&of(e.prototype,n),r&&of(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function lf(t){return(lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uf(r.key),r)}}function uf(t){var e=function(t,e){if("object"!=lf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lf(e)?e:String(e)}c.b.registerPlugin(u.a);var hf=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.experience=Sf.getInstance(),this.sizes=this.experience.sizes,this.resources=this.experience.resources,this.element=document.getElementById("cyber60-intro"),this.videoEl=document.getElementById("cyber60-intro-video"),this.maskEl=document.getElementById("cyber60-intro-mask"),this.maskTopEl=document.getElementById("cyber60-intro-mask-top"),this.maskBottomEl=document.getElementById("cyber60-intro-mask-bottom"),this.scroller=window.scroller,this.isMobile=this.scroller.scroll.isMobile,this.addListeners()}var e,n,r;return e=t,(n=[{key:"initMaskDesktop",value:function(){var t=this;c.b.set(this.maskTopEl,{height:function(){return(window.innerHeight-window.innerWidth/t.aspectRatio)/2},scaleY:0}),c.b.set(this.maskBottomEl,{height:function(){return(window.innerHeight-window.innerWidth/t.aspectRatio)/2},scaleY:0}),this.timeline=c.b.timeline({scrollTrigger:{trigger:this.element,start:"top bottom",end:function(){return"+=".concat(2*window.innerHeight)},scrub:!0,invalidateOnRefresh:!0,scroller:"[data-scroll-container]"}}).fromTo(this.maskEl,{y:function(){return-1*window.innerHeight*1.5}},{y:function(){return-1*window.innerHeight},duration:1,ease:"none"}).to(this.maskTopEl,{scaleY:1,transformOrigin:"top",duration:.5,ease:"none"},1).to(this.maskBottomEl,{scaleY:1,transformOrigin:"bottom",duration:.5,ease:"none"},1).to(this.maskEl,{scale:50,duration:.5,ease:"none"},1.5).to(this.maskTopEl,{scaleY:0,transformOrigin:"top",duration:.4,ease:"none"},1.5).to(this.maskBottomEl,{scaleY:0,transformOrigin:"bottom",duration:.4,ease:"none"},1.5)}},{key:"initMaskMobile",value:function(){this.timeline=c.b.timeline({scrollTrigger:{trigger:this.element,start:"top bottom",end:function(){return"+=".concat(2*window.innerHeight)},scrub:!0,invalidateOnRefresh:!0,scroller:"[data-scroll-container]"}}).fromTo(this.maskEl,{y:function(){return-1*window.innerHeight*1.5}},{y:function(){return-1*window.innerHeight},duration:1,ease:"none"})}},{key:"initMask",value:function(){this.aspectRatio=425.2/65.2,c.b.set(this.maskEl,{y:function(){return-1*window.innerHeight*1.5}}),this.isMobile?this.initMaskMobile():this.initMaskDesktop()}},{key:"addListeners",value:function(){this.resources.on("ready",this.onResourcesLoaded.bind(this)),this.scroller.on("scroll",this.onScroll.bind(this))}},{key:"onScroll",value:function(t){u.a.update()}},{key:"onResourcesLoaded",value:function(){var t=this;this.initTexture(),this.initMask(),setTimeout((function(){t.refresh()}),1e3)}},{key:"initTexture",value:function(){var t=this;null!==this.resources.items.videoTextureHero&&(this.videoTexture=this.resources.items.videoTextureHero,this.video=this.videoTexture.videoElement.cloneNode(!0),this.video.loop=!0,this.video.muted=!0,this.video.autoplay=!0,this.video.playsInline=!0,this.video.crossOrigin="anonymous",this.video.setAttribute("playsinline",""),this.video.setAttribute("muted",""),this.video.setAttribute("autoplay",""),this.video.setAttribute("loop",""),this.video.setAttribute("crossorigin","anonymous"),this.video.setAttribute("preload","auto"),this.video.setAttribute("webkit-playsinline",""),this.video.controls=!1,this.videoEl.appendChild(this.video),this.video.play(),this.video.addEventListener("pause",(function(){t.video.play()})))}},{key:"refresh",value:function(){u.a.refresh()}}])&&cf(e.prototype,n),r&&cf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function pf(t){return(pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function df(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ff(r.key),r)}}function ff(t){var e=function(t,e){if("object"!=pf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pf(e)?e:String(e)}var mf=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.experience=new Sf,this.ui=this.experience.ui,this.time=this.experience.time,this.camera=this.experience.camera,this.scene=this.experience.scene,this.resources=this.experience.resources,this.input=this.experience.input,this.fluidCursor=new nf,this.fluidCursorTexture=this.fluidCursor.getTexture(),this.raycaster=new Ch.Nb,this.setupWorld()}var e,n,r;return e=t,(n=[{key:"setupHero",value:function(){this.heroWall=new Ip(this.fluidCursorTexture)}},{key:"setupContentBackground",value:function(){this.backgroundEl=document.getElementById("cyber60-content-background"),this.background=new af(this.backgroundEl)}},{key:"setupWorld",value:function(){this.setupContentBackground(),this.setupHero(),this.setupIntroUI(),this.experience.appLoaded=!0}},{key:"setupIntroUI",value:function(){this.introUI=new hf}},{key:"resize",value:function(){this.fluidCursor&&this.fluidCursor.resize(),this.heroWall&&this.heroWall.resize()}},{key:"update",value:function(t){var e,n;this.camera&&this.heroWall&&this.raycaster.setFromCamera(this.input.cursor,this.camera.instance),null===(e=this.heroWall)||void 0===e||e.update(t),null===(n=this.background)||void 0===n||n.render(t),this.fluidCursor.update(t)}},{key:"destroy",value:function(){var t;null===(t=this.heroWall)||void 0===t||t.destroy(),this.fluidCursor.destroy(),this.background.destroy()}}])&&df(e.prototype,n),r&&df(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function gf(t){return(gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ef(r.key),r)}}function yf(t,e){return(yf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function bf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wf(t);if(e){var i=wf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _f(this,n)}}function _f(t,e){if(e&&("object"===gf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xf(t)}function xf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wf(t){return(wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ef(t){var e=function(t,e){if("object"!=gf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gf(e)?e:String(e)}var Sf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yf(t,e)}(o,t);var e,n,r,i=bf(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this)).parent=t||document,o._instance?_f(e,o._instance):(o._instance=xf(e),window.experience=xf(e),e.initResources(),e.init(),e)}return e=o,r=[{key:"getInstance",value:function(){return o._instance||new o}}],(n=[{key:"initDesktop",value:function(){this.scene=new Ch.Tb,this.camera=new pp,this.renderer=new gp,this.input=new id,this.world=new mf}},{key:"initMobile",value:function(){this.scene=new Ch.Tb,this.camera=new pp,this.renderer=new gp,this.input=new id,this.world=new mf}},{key:"initResources",value:function(){this.resources=new Ap(Cp)}},{key:"init",value:function(){this.ui=new jh(this.parent),this.sizes=new Jh,this.time=new ap,this.sizes.isMobile?this.initMobile():this.initDesktop(),this.setListeners(),this.trigger("classesReady")}},{key:"resize",value:function(){this.camera.resize(),this.world.resize(),this.renderer.resize()}},{key:"update",value:function(){this.world.update(this.time.delta),this.ui.update(this.time.current),this.renderer.update(this.time.delta)}},{key:"updateMobile",value:function(){this.world.update(this.time.delta),this.ui.update(this.time.current),this.renderer.update(this.time.delta)}},{key:"setListeners",value:function(){var t=this;this.sizes.on("resize",(function(){t.resize()})),this.time.on("tick",(function(){t.sizes.isMobile?t.updateMobile():t.update()})),this.resources.on("ready",(function(){t.ui.hidePreloader(),setTimeout((function(){window.scroller.update()}),500)}))}},{key:"destroy",value:function(){this.ui.destroy(),this.camera.destroy(),this.renderer.destroy(),this.world.destroy()}}])&&vf(e.prototype,n),r&&vf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(Oh);function Tf(t){return(Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Af(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mf(r.key),r)}}function Mf(t){var e=function(t,e){if("object"!=Tf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Tf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Tf(e)?e:String(e)}!function(t,e,n){(e=Ef(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Sf,"_instance",null);var Cf=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.experience=new Sf(e)}var e,n,r;return e=t,r=[{key:"create",value:function(e){return t.instance||(t.instance=new t(e)),t.instance}},{key:"destroy",value:function(){t.instance&&(t.instance.beforeDestroy(),t.instance=null)}}],(n=[{key:"beforeDestroy",value:function(){this.experience.destroy()}}])&&Af(e.prototype,n),r&&Af(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=Mf(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Cf,"instance",null);var Pf=n("lPHp"),Df=n.n(Pf);function Rf(t){return(Rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Of(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,If(r.key),r)}}function If(t){var e=function(t,e){if("object"!=Rf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Rf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rf(e)?e:String(e)}c.b.registerPlugin(u.a,Jt.a);var Lf=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.scroller=window.scroller,this.isMobile=this.scroller.scroll.isMobile,this.initIllustration(),this.initNavigation(),this.setupScrollTrigger(),this.setupMenuColorScrollTrigger(),this.scrollAnimations()}var e,n,r;return e=t,r=[{key:"create",value:function(e){null===t._instance&&(t._instance=new t(e))}},{key:"destroy",value:function(){t._instance&&(t._instance.beforeDestroy(),t._instance=null)}}],(n=[{key:"initIllustration",value:function(){var t=this;this.illustration={element:document.querySelector(".nl-hero .illustration"),animation:null},this.illustration.mediaTypeOnMobiles=this.illustration.element.dataset.mediaTypeMobiles,this.isMobile&&"lottie"!==this.illustration.mediaTypeOnMobiles?this.illustration.element.classList.add("is-visible"):(this.illustration.element.classList.add("is-animated"),this.illustration.animation=Df.a.loadAnimation({container:this.illustration.element,renderer:"svg",loop:!0,autoplay:!0,rendererSettings:{preserveAspectRatio:"xMidYMid meet"},path:"".concat(window.theme_assets_url,"/lottie/newsletter2025q1/hero2.json")}),this.illustration.animation.addEventListener("DOMLoaded",(function(){t.illustration.element.classList.add("is-visible")})))}},{key:"animationHero",value:function(){var t=document.querySelector("#introduction .category-title"),e=document.querySelector("#introduction h1"),n=document.querySelector("#introduction .txt");if(e){var r=new Jt.a(e,{type:"lines",linesClass:"js-line"});t&&c.b.set(t,{opacity:0}),n&&c.b.set(n,{opacity:0,y:30}),r.lines.forEach((function(t){var e=document.createElement("div");e.classList.add("js-line-wrapper"),t.parentNode.insertBefore(e,t),e.appendChild(t),c.b.set(t,{yPercent:100})}))}var i=c.b.timeline();e&&i.to("#introduction h1 .js-line",{yPercent:0,stagger:.2,ease:"power1.out",duration:.6},.5),t&&i.to(t,{opacity:1,duration:.6},.7),n&&i.to(n,{opacity:1,y:0},.9),c.b.to(".txt-wrap .h2",{scrollTrigger:{trigger:".nl-hero",start:"top top",end:"50% top",scroller:"[data-scroll-container]",scrub:!0},scale:.7,transformOrigin:"left bottom",ease:"power1.out"})}},{key:"animationOnAi",value:function(){var t=this,e=document.querySelector("#on-ai--story"),n=document.querySelector(".nl-powered-ai .heading-glow"),r=document.querySelector(".nl-powered-ai .heading-glow-before");r&&!this.isMobile&&c.b.timeline({scrollTrigger:{trigger:n,start:"top 80%",end:"bottom 65%",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}}).fromTo(r,{opacity:0},{opacity:1});var i=c.b.timeline({scrollTrigger:{trigger:".nl-powered-ai",start:"top 40%",end:function(){return t.isMobile?"top 10%":"top -50%"},scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}});e&&i.fromTo(e,{opacity:0,y:"+=50",scale:1.4},{opacity:1,y:0,scale:1,duration:.3,transformOrigin:"center top",ease:"none"}),e&&!this.isMobile&&i.to(e,{scale:.6,ease:"none"},"+=.5")}},{key:"animationPodcasts",value:function(){var t=document.querySelector(".nl-podcast"),e=t.querySelector(".heading h2");if(t&&e){c.b.fromTo(e,{scale:3,y:function(){return"-".concat(window.innerHeight/2)}},{scale:1,y:0,ease:"none",scrollTrigger:{trigger:t,start:"top bottom",end:"top 40%",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}});var n=c.b.timeline({scrollTrigger:{trigger:t,start:"top top",end:"bottom bottom",pin:e,pinSpacing:!1,pinType:this.isMobile?"fixed":"transform",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}});n.fromTo(e,{scale:1,y:0},{scale:1.8,y:function(){return"".concat(window.innerHeight/2-e.offsetHeight)},opacity:0,ease:"none",duration:1}),n.to({},{duration:1,ease:"none"})}this.isMobile||u.a.create({trigger:".nl-podcast",start:"bottom bottom",end:function(){return"+=".concat(window.innerHeight)},pin:".nl-podcast--inner",pinSpacing:!1,scroller:"[data-scroll-container]",pinType:this.isMobile?"fixed":"transform",invalidateOnRefresh:!0})}},{key:"animationStories",value:function(){var t=this,e=document.querySelector(".nl-stories .heading"),n=document.getElementById("news-title-1"),r=document.getElementById("news-title-2"),i=(document.querySelector(".news-title-center"),document.querySelectorAll(".news-title span:not(.news-title-center)")),o=document.getElementById("full-story");if(n){var s=n.querySelector("span");s&&c.b.set(n,{x:function(){var t=s.offsetWidth;return-1*(n.scrollWidth/2-t)}}),i.forEach((function(t){c.b.set(t,{opacity:0})}))}e&&c.b.set(e,{scale:3,y:150,transformOrigin:"center center"});var a=c.b.timeline({scrollTrigger:{trigger:".nl-stories",start:"top 80%",end:"top -40%",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}});if(a.to(e,{scale:1,y:0,ease:"none"}),a.to(i,{opacity:1,ease:"none"},"-=.15"),n&&r&&(a.to(n,{x:"+=800",ease:"none"},"-=.2"),a.to(r,{x:"-=800",ease:"none"},"<")),o){var l=o.querySelector(".img");if(l){var u=l.getBoundingClientRect(),h={width:.9,height:.95},p=u.width*h.width,d={top:0,left:p/2,right:p/2,bottom:.5625*u.width*h.height};c.b.set(l,{clipPath:"inset(".concat(d.top,"px ").concat(d.right,"px ").concat(d.bottom,"px ").concat(d.left+1,"px)"),y:"-=100",opacity:0}),c.b.timeline({scrollTrigger:{trigger:o,start:function(){return t.isMobile?"top 87%":"top 70%"},end:"+=30%",scrub:!0,scroller:"[data-scroll-container]"}}).to(l,{opacity:1,ease:"power1.inOut"},0).to(l,{y:0,clipPath:"inset(0px 0px 0px 0px)",ease:"none"},0)}}var f=document.querySelector(".nl-stories-slider"),m=document.querySelector(".nl-stories-footer");if(m){var g=m.querySelector("h2");f&&c.b.to(f,{scale:.8,transformOrigin:"center center",ease:"none",scrollTrigger:{trigger:".nl-stories",start:"bottom 100%",end:"bottom 80%",scrub:!0,scroller:"[data-scroll-container]"}}),g&&(c.b.set(g,{y:"-=100%"}),c.b.to(g,{scale:1,opacity:1,transformOrigin:"center center",y:"40%",ease:"none",scrollTrigger:{trigger:".nl-stories",start:"bottom 120%",end:"bottom 80%",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}}),c.b.to(g,{scale:.5,ease:"none",transformOrigin:"center center",scrollTrigger:{trigger:".nl-stories",start:"bottom 80%",end:function(){return"+=".concat(.66*window.innerHeight)},scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}}))}}},{key:"animationExploringMinds",value:function(){var t=document.querySelector(".nl-exploring-minds .heading h2 > b"),e=document.querySelector(".nl-exploring-minds .heading h2 > i"),n=document.querySelector(".nl-exploring-minds .heading h2 > span"),r=null,i=null,o=null;t&&(r=new Jt.a(t,{type:"chars",charsClass:"js-char"})).chars.forEach((function(t){var e=document.createElement("div");e.classList.add("js-char-wrapper"),t.parentNode.insertBefore(e,t),e.appendChild(t),c.b.set(t,{yPercent:100})})),e&&(i=new Jt.a(e,{type:"lines",linesClass:"js-line"})).lines.forEach((function(t){var e=document.createElement("div");e.classList.add("js-line-wrapper"),t.parentNode.insertBefore(e,t),e.appendChild(t),c.b.set(t,{yPercent:-100})})),n&&(o=new Jt.a(n,{type:"lines",linesClass:"js-line"})).lines.forEach((function(t){var e=document.createElement("div");e.classList.add("js-line-wrapper"),t.parentNode.insertBefore(e,t),e.appendChild(t),c.b.set(t,{yPercent:-100})}));var s=c.b.timeline({scrollTrigger:{trigger:".nl-exploring-minds",start:"top 70%",end:"top 30%",scrub:!0,scroller:"[data-scroll-container]"}});r&&s.to(r.chars,{yPercent:0,ease:"none",stagger:{each:.2}}),i&&s.to(i.lines,{yPercent:0,ease:"none"},"+=.5"),o&&s.to(o.lines,{yPercent:0,ease:"none"}),this.isMobile?c.b.fromTo(".nl-exploring-minds .heading h2",{scale:1.3},{scale:1,transformOrigin:"right top",scrollTrigger:{trigger:".nl-exploring-minds",start:"top 55%",end:"top 20%",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}}):c.b.to(".nl-exploring-minds .heading h2",{scale:.7,transformOrigin:"right top",scrollTrigger:{trigger:".nl-exploring-minds",start:"top 55%",end:"top 20%",scrub:!0,scroller:"[data-scroll-container]",invalidateOnRefresh:!0}}),document.querySelectorAll(".nl-exploring-minds .nl-post-list .news-post-row").forEach((function(t,e){c.b.set(t,{opacity:0,x:function(){return e%2==0?200:-200}}),c.b.to(t,{opacity:1,x:0,scrollTrigger:{trigger:t,start:"top 80%",end:"top 45%",scrub:!0,scroller:"[data-scroll-container]"}})}))}},{key:"scrollAnimations",value:function(){this.animationHero(),this.animationOnAi(),this.animationPodcasts(),this.animationStories(),this.animationExploringMinds(),setTimeout((function(){u.a.getAll().forEach((function(t){return t.refresh()}))}),3e3)}},{key:"initNavigation",value:function(){var t=this;this.header=document.getElementById("header"),this.sections=Array.from(document.querySelectorAll(".section-content")),this.navLinks=Array.from(document.querySelectorAll(".nav-timeline .nav a")),this.colorMenuSections=Array.from(document.querySelectorAll(".color-menu")),this.navLinks.forEach((function(e){e.addEventListener("click",(function(n){n.preventDefault();var r=e.getAttribute("href").substring(1),i=document.getElementById(r);if(i){var o;if(o=t.isMobile?i.dataset.scrollOffsetMobile||i.dataset.scrollOffset||"0":i.dataset.scrollOffset||"0",console.log("offset",o),o.endsWith("%")){var s=parseFloat(o)/100;o=window.innerHeight*s}t.scroller.scrollTo(i,{offset:parseInt(o),duration:1e3,easing:[.25,0,.35,1]})}else console.error("Target section not found: ".concat(r))}))}))}},{key:"setupScrollTrigger",value:function(){var t=this;this.sections.forEach((function(e){try{u.a.create({trigger:e,start:"top 50%",end:"bottom 50%",scroller:"[data-scroll-container]",invalidateOnRefresh:!0,onEnter:function(){return t.updateActiveLink(e.id)},onEnterBack:function(){return t.updateActiveLink(e.id)}})}catch(t){console.error("Error creating ScrollTrigger for section ".concat(e.id,":"),t)}}))}},{key:"setupMenuColorScrollTrigger",value:function(){var t=this;this.colorMenuSections.forEach((function(e){u.a.create({trigger:e,start:"top 90px",end:"bottom 90px",scroller:"[data-scroll-container]",invalidateOnRefresh:!0,onEnter:function(){return t.updateMenuColor(e)},onEnterBack:function(){return t.updateMenuColor(e)}})}))}},{key:"updateActiveLink",value:function(t){var e=document.querySelector('.nav-timeline .nav a[href="#'.concat(t,'"]'));e?(this.navLinks.forEach((function(t){return t.parentElement.classList.remove("active")})),e.parentElement.classList.add("active")):console.error("Link not found for id: ".concat(t))}},{key:"updateMenuColor",value:function(t){this.header?(this.header.classList.remove("dark-menu","light-menu"),t.classList.contains("dark-menu")?this.header.classList.add("dark-menu"):t.classList.contains("light-menu")&&this.header.classList.add("light-menu")):console.error("Header element not found")}},{key:"beforeDestroy",value:function(){u.a.getAll().forEach((function(t){return t.kill()}))}}])&&Of(e.prototype,n),r&&Of(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function kf(t){return(kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ff(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bf(r.key),r)}}function Bf(t){var e=function(t,e){if("object"!=kf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kf(e)?e:String(e)}!function(t,e,n){(e=If(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Lf,"_instance",null);var Uf=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ff(this,t),this.container=e,this.config={cyclesAmount:n.cyclesAmount||4,colorEase:n.colorEase||"power2.inOut",filterPresets:n.filterPresets||["hue-rotate(0deg) saturate(100%)","hue-rotate(60deg) saturate(70%)","hue-rotate(120deg) saturate(60%)","hue-rotate(180deg) saturate(80%)","hue-rotate(240deg) saturate(105%)","hue-rotate(300deg) saturate(125%)"]},this.currentProgress=0,this.imageElement=null,this.isInitialized=!1,this.init()}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.findImageElement(),this.setupInitialState(),this.isInitialized=!0}},{key:"findImageElement",value:function(){this.container?(this.imageElement=this.container.querySelector("img"),this.imageElement?(this.imageElement.style.transition="filter 0.1s linear",this.imageElement.style.willChange="filter"):console.error("HeroBackgroundImageEffect: Image element not found in container")):console.error("HeroBackgroundImageEffect: Container element not found")}},{key:"setupInitialState",value:function(){this.imageElement&&(this.imageElement.style.filter=this.config.filterPresets[0])}},{key:"update",value:function(t){if(this.isInitialized&&this.imageElement){this.currentProgress=Math.max(0,Math.min(1,t));var e=Math.floor(this.currentProgress*(this.config.filterPresets.length-1)),n=Math.min(e+1,this.config.filterPresets.length-1),r=this.currentProgress*(this.config.filterPresets.length-1)-e,i=this.interpolateFilters(this.config.filterPresets[e],this.config.filterPresets[n],r);this.imageElement.style.filter=i}}},{key:"interpolateFilters",value:function(t,e,n){if(0===n)return t;if(1===n)return e;var r=this.extractFilterValue(t,"hue-rotate")||0,i=this.extractFilterValue(e,"hue-rotate")||0,o=this.extractFilterValue(t,"saturate")||100,s=o+((this.extractFilterValue(e,"saturate")||100)-o)*n;return"hue-rotate(".concat(r+(i-r)*n,"deg) saturate(").concat(s,"%)")}},{key:"extractFilterValue",value:function(t,e){var n=new RegExp("".concat(e,"\\(([\\d.]+)(?:deg|%)?\\)")),r=t.match(n);return r?parseFloat(r[1]):null}},{key:"setFilter",value:function(t){this.imageElement&&(this.imageElement.style.filter=t)}},{key:"destroy",value:function(){this.imageElement&&(this.imageElement.style.filter="",this.imageElement.style.transition="",this.imageElement.style.willChange=""),this.imageElement=null,this.isInitialized=!1}}])&&Nf(e.prototype,n),r&&Nf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Gf(t){return(Gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zf(t){return function(t){if(Array.isArray(t))return qf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Wf(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hf(Object(n),!0).forEach((function(e){Vf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vf(t,e,n){return(e=$f(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(t,e)||Wf(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wf(t,e){if(t){if("string"==typeof t)return qf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qf(t,e):void 0}}function qf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$f(r.key),r)}}function $f(t){var e=function(t,e){if("object"!=Gf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Gf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gf(e)?e:String(e)}var Kf={0:{coord:{x:161.8,y:84.1},connections:[1,2,3,4,6],filled:!0,size:18,area:30},1:{coord:{x:390.1,y:76.1},connections:[2,5],filled:!1,size:10,area:30},2:{coord:{x:345.2,y:162.2},connections:[4,5,7],filled:!0,size:13,area:30},3:{coord:{x:50.2,y:285.1},connections:[4,8],filled:!1,size:10,area:30},4:{coord:{x:144.9,y:284.2},connections:[7,8],filled:!1,size:10,area:30},5:{coord:{x:507.1,y:274.3},connections:[6,7,9],filled:!0,size:18,area:30},6:{coord:{x:312.3,y:330.4},connections:[8],filled:!1,size:10,area:30},7:{coord:{x:350.5,y:392.6},connections:[8,9],filled:!0,size:13,area:30},8:{coord:{x:171,y:482.3},connections:[9],filled:!1,size:10,area:30},9:{coord:{x:400.9,y:477},connections:[],filled:!0,size:18,area:30}},Zf=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.container.innerHTML="",this.initSVG(),this.initGroups(),this.buildGeometry(),this.initGlowElements(),this.initAnimations()}var e,n,r;return e=t,(n=[{key:"initSVG",value:function(){this.data=Kf,this.nodes={},this.lines={},this.CENTER_X=280.5,this.CENTER_Y=279.5,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.setAttribute("viewBox","0 0 561 559"),this.container.appendChild(this.svg),this.addDefs()}},{key:"initGroups",value:function(){var t="http://www.w3.org/2000/svg";this.rotGroup=document.createElementNS(t,"g"),this.rotGroup.setAttribute("id","rotGroup"),this.svg.appendChild(this.rotGroup),this.blurGroup=document.createElementNS(t,"g"),this.blurGroup.setAttribute("filter","url(#filter0_f)"),this.rotGroup.appendChild(this.blurGroup),this.maskContainer=document.createElementNS(t,"g"),this.maskContainer.setAttribute("mask","url(#sharpMask)"),this.svg.appendChild(this.maskContainer),this.sharpRotGroup=document.createElementNS(t,"g"),this.sharpRotGroup.setAttribute("id","sharpRotGroup"),this.maskContainer.appendChild(this.sharpRotGroup),this.glowGroup=document.createElementNS(t,"g"),this.glowGroup.setAttribute("id","glowGroup"),this.svg.appendChild(this.glowGroup)}},{key:"buildGeometry",value:function(){var t=this,e="http://www.w3.org/2000/svg";this.refNodes={},Object.entries(this.data).forEach((function(e){var n=Xf(e,2),r=n[0],i=n[1];t.refNodes[r]={pos:jf({},i.coord),base:jf({},i.coord),area:i.area}})),Object.entries(this.data).forEach((function(n){var r=Xf(n,2),i=r[0],o=r[1],s=t.makeCircle(t.blurGroup,o,e),a=t.makeCircle(t.sharpRotGroup,o,e);t.nodes[i]={ref:t.refNodes[i],circleBlur:s,circleSharp:a}})),Object.entries(this.data).forEach((function(n){var r=Xf(n,2),i=r[0];r[1].connections.forEach((function(n){if(+i<n){var r=t.makeLine(t.blurGroup,e),o=t.makeLine(t.sharpRotGroup,e);t.lines["".concat(i,"-").concat(n)]={a:i,b:n,lineBlur:r,lineSharp:o}}}))}))}},{key:"initGlowElements",value:function(){var t="http://www.w3.org/2000/svg";this.bigGlow=this.makeGlow(t,121.141,"url(#grad0)","filter1_f",!1),this.smallGlow=this.makeGlow(t,75.8516,"url(#grad1)","filter2_f",!0)}},{key:"initAnimations",value:function(){this.wanderAll(),this.spinRotators(),this.pulseGlow(),this.animateGradientStops(),c.b.ticker.add(this.update.bind(this))}},{key:"addDefs",value:function(){this.svg.innerHTML='<defs>\n          \x3c!-- blur for blurred layer --\x3e\n          <filter id="filter0_f" x="-11.57" y="-11.8727" width="584.14" height="582.882" filterUnits="userSpaceOnUse">\n            <feGaussianBlur stdDeviation="6.05"/>\n          </filter>\n          \x3c!-- glow blurs --\x3e\n          <filter id="filter1_f" x="102.872" y="94.8721" width="353.345" height="353.345" filterUnits="userSpaceOnUse"><feGaussianBlur stdDeviation="27.75"/></filter>\n          <filter id="filter2_f" x="190.591" y="183.591" width="179.343" height="179.343" filterUnits="userSpaceOnUse"><feGaussianBlur stdDeviation="6.9"/></filter>\n          \x3c!-- colour gradients --\x3e\n          <radialGradient id="grad0" gradientUnits="userSpaceOnUse" cx="0" cy="0" r="1" gradientTransform="translate(317.401 229.902) rotate('.concat(-16.4906,') scale(263.104)">\n            <stop offset="0" stop-color="#8438FF"/>\n            <stop offset="0.259615" stop-color="#02A2FF"/>\n            <stop offset="0.495192" stop-color="#FF6838"/>\n            <stop offset="0.745192" stop-color="#FFD15B"/>\n            <stop offset="1" stop-color="#D3FFA6"/>\n          </radialGradient>\n          <radialGradient id="grad1" gradientUnits="userSpaceOnUse" cx="0" cy="0" r="1" gradientTransform="translate(353.536 255.571) rotate(').concat(-16.4906,') scale(247.55)">\n            <stop offset="0" stop-color="#8438FF"/>\n            <stop offset="0.216719" stop-color="#02A2FF"/>\n            <stop offset="0.43858" stop-color="#FF6838"/>\n            <stop offset="0.626532" stop-color="#FFD15B"/>\n            <stop offset="0.681931" stop-color="#D3FFA6"/>\n          </radialGradient>\n          \x3c!-- static mask (white shows sharp) anchored topâ€‘right --\x3e\n          <linearGradient id="sharpMaskGrad" gradientUnits="userSpaceOnUse" x1="0" y1="559" x2="561" y2="0">\n            <stop offset="0" stop-color="#000000"/>\n            <stop offset="0.5" stop-color="#000000"/>\n            <stop offset=".8" stop-color="#ffffff"/>\n            <stop offset="1" stop-color="#ffffff"/>\n          </linearGradient>\n          <mask id="sharpMask" maskUnits="userSpaceOnUse">\n            <rect width="561" height="559" fill="url(#sharpMaskGrad)"/>\n          </mask>\n        </defs>')}},{key:"makeCircle",value:function(t,e,n){var r=document.createElementNS(n,"circle");return r.setAttribute("r",e.size),r.setAttribute("fill",e.filled?"#fff":"none"),t.appendChild(r),r}},{key:"makeLine",value:function(t,e){var n=document.createElementNS(e,"line");return n.setAttribute("stroke","#fff"),n.setAttribute("stroke-width",2),t.appendChild(n),n}},{key:"makeGlow",value:function(t,e,n,r,i){var o=document.createElementNS(t,"g");o.classList.add("glowGroup"),i&&(o.style.mixBlendMode="screen"),o.setAttribute("filter","url(#".concat(r,")"));var s=document.createElementNS(t,"circle");return s.setAttribute("cx",this.CENTER_X),s.setAttribute("cy",this.CENTER_Y),s.setAttribute("r",e),s.setAttribute("fill",n),o.appendChild(s),this.glowGroup.appendChild(o),o}},{key:"wanderAll",value:function(){var t=this;Object.keys(this.refNodes).forEach((function(e){return t.wander(e)}))}},{key:"wander",value:function(t){var e=this,n=this.refNodes[t],r=n.area;c.b.to(n.pos,{x:n.base.x+c.b.utils.random(-r,r),y:n.base.y+c.b.utils.random(-r,r),duration:c.b.utils.random(3,5,.1),ease:"sine.inOut",yoyo:!0,repeat:1,onComplete:function(){return e.wander(t)}})}},{key:"spinRotators",value:function(){var t=[this.rotGroup,this.sharpRotGroup];c.b.to(t,{rotation:360,svgOrigin:"".concat(this.CENTER_X," ").concat(this.CENTER_Y),duration:200,ease:"none",repeat:-1}),c.b.to(this.glowGroup,{rotation:-360,svgOrigin:"".concat(this.CENTER_X," ").concat(this.CENTER_Y),duration:100,ease:"none",repeat:-1})}},{key:"pulseGlow",value:function(){c.b.to([this.bigGlow,this.smallGlow],{scale:1.1,duration:6,yoyo:!0,repeat:-1,ease:"sine.inOut",svgOrigin:"".concat(this.CENTER_X," ").concat(this.CENTER_Y)})}},{key:"animateGradientStops",value:function(){var t=this;["grad0","grad1"].forEach((function(e){zf(t.svg.querySelectorAll("#".concat(e," stop"))).forEach((function(t,e){var n=parseFloat(t.getAttribute("offset")),r={o:n};c.b.to(r,{o:n+.05,duration:7,yoyo:!0,repeat:-1,ease:"sine.inOut",delay:.2*e,onUpdate:function(){return t.setAttribute("offset",r.o.toFixed(6))}})}))}))}},{key:"update",value:function(){this.updateCircles(),this.updateLines()}},{key:"updateCircles",value:function(){Object.values(this.nodes).forEach((function(t){[t.circleBlur,t.circleSharp].forEach((function(e){e.setAttribute("cx",t.ref.pos.x),e.setAttribute("cy",t.ref.pos.y)}))}))}},{key:"updateLines",value:function(){var t=this;Object.values(this.lines).forEach((function(e){var n=e.a,r=e.b,i=e.lineBlur,o=e.lineSharp,s=t.refNodes[n].pos,a=t.refNodes[r].pos;[i,o].forEach((function(t){t.setAttribute("x1",s.x),t.setAttribute("y1",s.y),t.setAttribute("x2",a.x),t.setAttribute("y2",a.y)}))}))}},{key:"destroy",value:function(){c.b.killTweensOf(this.refNodes),c.b.killTweensOf([this.rotGroup,this.sharpRotGroup]),c.b.killTweensOf([this.bigGlow,this.smallGlow]),c.b.ticker.remove(this.update),this.nodes={},this.lines={},this.refNodes={},this.svg&&this.svg.parentNode&&this.svg.parentNode.removeChild(this.svg),this.container&&(this.container.innerHTML=""),this.container=null,this.svg=null,this.rotGroup=null,this.blurGroup=null,this.maskContainer=null,this.sharpRotGroup=null,this.glowGroup=null,this.bigGlow=null,this.smallGlow=null,this.data=null}}])&&Yf(e.prototype,n),r&&Yf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Jf(t){return(Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tm(r.key),r)}}function tm(t){var e=function(t,e){if("object"!=Jf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jf(e)?e:String(e)}c.b.registerPlugin(u.a,Jt.a);var em=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.scroller=window.scroller,this.isMobile=this.scroller.scroll.isMobile,this.initNavigation(),this.initHeroIllustration(),this.scrollAnimations()}var e,n,r;return e=t,r=[{key:"create",value:function(e){null===t._instance&&(t._instance=new t(e))}},{key:"destroy",value:function(){t._instance&&(t._instance.beforeDestroy(),t._instance=null)}}],(n=[{key:"initHeroIllustration",value:function(){var t=document.getElementById("hero-illustration");new Zf(t)}},{key:"animationHeroGradientBg",value:function(){var t=this,e=document.querySelector(".lp-hero-grad-bg");e&&(this.heroEffect=new Uf(e,{cyclesAmount:4,colorEase:"power2.inOut"}),u.a.create({trigger:e,scroller:"[data-scroll-container]",start:"center 10%",end:function(){return"+="+document.querySelector("#main").offsetHeight},pin:!0,pinSpacing:!1,invalidateOnRefresh:!0,onUpdate:function(e){t.heroEffect.update(e.progress)}}))}},{key:"animationHero",value:function(){var t=document.querySelector(".lr-hero h1"),e=document.querySelector(".lr-hero p"),n=document.querySelector(".lr-hero .illustration"),r=document.querySelector(".lr-hero .quick-links");t&&new Jt.a(t,{type:"lines",linesClass:"js-line"}).lines.forEach((function(t){var e=document.createElement("div");e.classList.add("js-line-wrapper"),t.parentNode.insertBefore(e,t),e.appendChild(t),c.b.set(t,{yPercent:100})})),e&&c.b.set(e,{opacity:0,y:30}),n&&c.b.set(n,{opacity:0,scale:.8,y:50}),r&&c.b.set(r,{opacity:0,y:20});var i=c.b.timeline();t&&i.to(".lr-hero h1 .js-line",{yPercent:0,stagger:.15,ease:"power2.out",duration:.8},.3),e&&i.to(e,{opacity:1,y:0,duration:.6,ease:"power2.out"},.8),n&&i.to(n,{opacity:1,scale:1,y:0,duration:.8,ease:"power2.out"},.6),r&&i.to(r,{opacity:1,y:0,duration:.6,ease:"power2.out"},1)}},{key:"animationLatestPosts",value:function(){var t=document.querySelector(".lr-latest-post .head h2"),e=document.querySelector(".lr-latest-post .lr-post.featured"),n=document.querySelector(".lr-latest-post .lr-post-list");t&&c.b.fromTo(t,{opacity:0,y:50},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 75%",scroller:"[data-scroll-container]"}}),e&&c.b.fromTo(e,{opacity:0,y:40},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 75%",scroller:"[data-scroll-container]"}}),n&&c.b.fromTo(n,{opacity:0,y:30},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:n,start:"top 75%",scroller:"[data-scroll-container]"}})}},{key:"animationPortfolio",value:function(){var t=document.querySelector(".lr-portfolio .lr-portfolio-head h2"),e=document.querySelector(".lr-portfolio .lr-portfolio-head .txt"),n=document.querySelector(".lr-hightlights"),r=document.querySelector(".lr-milestone");t&&c.b.fromTo(t,{opacity:0,scale:1.2,y:30},{opacity:1,scale:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 75%",scroller:"[data-scroll-container]"}}),e&&c.b.fromTo(e,{opacity:0,y:40},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 75%",scroller:"[data-scroll-container]"}}),n&&c.b.fromTo(n,{opacity:0,y:60,scale:.9},{opacity:1,y:0,scale:1,duration:1,ease:"power3.out",scrollTrigger:{trigger:n,start:"top 75%",scroller:"[data-scroll-container]"}}),r&&c.b.fromTo(r,{opacity:0,y:50,scale:.9},{opacity:1,y:0,scale:1,duration:1,ease:"power3.out",scrollTrigger:{trigger:r,start:"top 75%",scroller:"[data-scroll-container]"}})}},{key:"animationReports",value:function(){var t=document.querySelector(".lr-reports .head h2"),e=document.querySelector(".lr-reports .lead-block"),n=document.querySelector(".lr-reports-slider");t&&c.b.fromTo(t,{opacity:0,y:50},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 75%",scroller:"[data-scroll-container]"}}),e&&c.b.fromTo(e,{opacity:0,scale:.9,y:40},{opacity:1,scale:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 75%",scroller:"[data-scroll-container]"}}),n&&c.b.fromTo(n,{opacity:0,y:40},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:n,start:"top 75%",scroller:"[data-scroll-container]"}})}},{key:"animationVisualBreakdowns",value:function(){var t=document.querySelector(".lr-visual-breakdown .head h2"),e=document.querySelector(".visual-breakdown-slider");t&&c.b.fromTo(t,{opacity:0,y:60},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 75%",scroller:"[data-scroll-container]"}}),e&&c.b.fromTo(e,{opacity:0,y:40,scale:.95},{opacity:1,y:0,scale:1,duration:1,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 75%",scroller:"[data-scroll-container]"}})}},{key:"animationResearchDiscussions",value:function(){var t=document.querySelector(".lr-research .head h2"),e=document.querySelector(".lr-research .lr-video-row"),n=document.querySelector(".lr-research .video-thumbnails");t&&c.b.fromTo(t,{opacity:0,scale:1.2,y:40},{opacity:1,scale:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 75%",scroller:"[data-scroll-container]"}}),e&&c.b.fromTo(e,{opacity:0,scale:.9,y:50},{opacity:1,scale:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 75%",scroller:"[data-scroll-container]"}}),n&&c.b.fromTo(n,{opacity:0,x:-30,y:20},{opacity:1,x:0,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:n,start:"top 75%",scroller:"[data-scroll-container]"}})}},{key:"animationAiDownloads",value:function(){var t=document.querySelector(".lr-ai-downloads .head h2"),e=document.querySelector(".lr-ai-downloads .blured-text"),n=document.querySelector(".ai-downloads-slider");e&&(this.setupBluredTextCopies(e),c.b.fromTo(e,{opacity:0,scale:.9},{opacity:1,scale:1,duration:1,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 75%",scroller:"[data-scroll-container]"}}),this.setupBluredTextScrollAnimation(e)),t&&c.b.fromTo(t,{opacity:0,y:50},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 75%",scroller:"[data-scroll-container]"}}),n&&c.b.fromTo(n,{opacity:0,y:40,scale:.95},{opacity:1,y:0,scale:1,duration:1,ease:"power3.out",scrollTrigger:{trigger:n,start:"top 75%",scroller:"[data-scroll-container]"}})}},{key:"setupBluredTextCopies",value:function(t){var e=10-t.querySelectorAll("strong").length;if(e>0)for(var n=0;n<e;n++){var r=document.createElement("strong");r.textContent="AI DIGESTS",t.appendChild(r)}}},{key:"setupBluredTextScrollAnimation",value:function(t){var e=c.b.timeline({scrollTrigger:{trigger:t.closest("#downloads"),start:"top bottom",end:"bottom top",scroller:"[data-scroll-container]",scrub:1,invalidateOnRefresh:!0}}),n=.5*window.innerWidth;e.to(t,{x:-n,ease:"none"})}},{key:"scrollAnimations",value:function(){this.animationHeroGradientBg(),this.animationHero(),this.animationLatestPosts(),this.animationPortfolio(),this.animationReports(),this.animationVisualBreakdowns(),this.animationResearchDiscussions(),this.animationAiDownloads(),setTimeout((function(){u.a.getAll().forEach((function(t){return t.refresh()}))}),3e3)}},{key:"initNavigation",value:function(){var t=this;this.header=document.getElementById("header"),this.sections=Array.from(document.querySelectorAll(".section-content, #leadership, #showcase, #reports, #breakdowns, #discussions, #downloads")),this.navLinks=Array.from(document.querySelectorAll(".quick-links a")),this.colorMenuSections=Array.from(document.querySelectorAll(".color-menu")),this.navLinks.forEach((function(e){e.addEventListener("click",(function(n){n.preventDefault();var r=e.getAttribute("href").substring(1),i=document.getElementById(r);if(i){var o;if(t.navLinks.forEach((function(t){return t.parentElement.classList.remove("active")})),e.parentElement.classList.add("active"),(o=t.isMobile?i.dataset.scrollOffsetMobile||i.dataset.scrollOffset||"-40":i.dataset.scrollOffset||"0").endsWith("%")){var s=parseFloat(o)/100;o=window.innerHeight*s}t.scroller.scrollTo(i,{offset:parseInt(o),duration:1e3,easing:[.25,0,.35,1]})}else console.error("Target section not found: ".concat(r))}))}))}},{key:"setupScrollTrigger",value:function(){var t=this;this.sections.forEach((function(e){try{u.a.create({trigger:e,start:"top 50%",end:"bottom 50%",scroller:"[data-scroll-container]",invalidateOnRefresh:!0,onEnter:function(){return t.updateActiveLink(e.id)},onEnterBack:function(){return t.updateActiveLink(e.id)}})}catch(t){console.error("Error creating ScrollTrigger for section ".concat(e.id,":"),t)}}))}},{key:"setupMenuColorScrollTrigger",value:function(){var t=this;this.colorMenuSections.forEach((function(e){u.a.create({trigger:e,start:"top 90px",end:"bottom 90px",scroller:"[data-scroll-container]",invalidateOnRefresh:!0,onEnter:function(){return t.updateMenuColor(e)},onEnterBack:function(){return t.updateMenuColor(e)}})}))}},{key:"updateActiveLink",value:function(t){var e=document.querySelector('.quick-links a[href="#'.concat(t,'"]'));e?(this.navLinks.forEach((function(t){return t.parentElement.classList.remove("active")})),e.parentElement.classList.add("active")):console.error("Link not found for id: ".concat(t))}},{key:"updateMenuColor",value:function(t){this.header?(this.header.classList.remove("dark-menu","light-menu"),t.classList.contains("dark-menu")?this.header.classList.add("dark-menu"):t.classList.contains("light-menu")&&this.header.classList.add("light-menu")):console.error("Header element not found")}},{key:"beforeDestroy",value:function(){u.a.getAll().forEach((function(t){return t.kill()})),this.heroIllustration.destroy(),this.heroEffect.destroy()}}])&&Qf(e.prototype,n),r&&Qf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();!function(t,e,n){(e=tm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(em,"_instance",null);function nm(t){return(nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rm(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return im(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return im(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function im(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function om(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sm(r.key),r)}}function sm(t){var e=function(t,e){if("object"!=nm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nm(e)?e:String(e)}var am=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.scene=null,this.camera=null,this.renderer=null,this.material=null,this.mesh=null,this.clock=new Ch.m,this.resizeObserver=null,this.isVisible=!0,this.isAnimating=!0,this.lastFrameTime=0,this.frameCount=0,this.resizeTimeout=null,this.resizeThrottleMs=16,this.init()}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.setupScene(),this.setupRenderer(),this.setupGeometry(),this.setupMaterial(),this.setupEventListeners(),this.setupResizeObserver(),this.setupVisibilityObserver(),this.animate()}},{key:"setupScene",value:function(){this.scene=new Ch.Tb,this.camera=new Ch.pb(-1,1,1,-1,0,1)}},{key:"setupRenderer",value:function(){var t=document.getElementById("launch-hero-canvas");this.renderer=new Ch.mc({canvas:t,antialias:!1,alpha:!1,powerPreference:"high-performance"});var e=this.element.getBoundingClientRect();this.renderer.setSize(e.width,e.height);var n=Math.min(window.devicePixelRatio,2);this.renderer.setPixelRatio(n)}},{key:"setupGeometry",value:function(){return new Ch.sb(2,2)}},{key:"setupMaterial",value:function(){this.material=new Ch.Mb({vertexShader:"attribute vec3 position;\nattribute vec2 uv;\nvarying vec2 vUv;\nvoid main() {\n    vUv = uv;\n    gl_Position = vec4(position, 1.0);\n}\n",fragmentShader:"precision highp float;\n\nuniform float uTime;\nuniform vec2  uResolution;\nuniform vec2  uGrainSeed;\n\nvarying vec2 vUv;\n\nmat2 Rot(float a) { float s = sin(a); float c = cos(a); return mat2(c, -s, s, c); }\nvec2 hash(vec2 p) { p = vec2(dot(p, vec2(2127.1, 81.17)), dot(p, vec2(1269.5, 283.37))); return fract(sin(p) * 43758.5453); }\nfloat noise(in vec2 p) {\n    vec2 i = floor(p); vec2 f = fract(p);\n    vec2 u = f * f * (3.0 - 2.0 * f);\n    float n = mix(mix(dot(-1.0 + 2.0 * hash(i + vec2(0.0)), f - vec2(0.0)),\n    dot(-1.0 + 2.0 * hash(i + vec2(1.0, 0.0)), f - vec2(1.0, 0.0)), u.x),\n    mix(dot(-1.0 + 2.0 * hash(i + vec2(0.0, 1.0)), f - vec2(0.0, 1.0)),\n    dot(-1.0 + 2.0 * hash(i + vec2(1.0, 1.0)), f - vec2(1.0, 1.0)), u.x), u.y);\n    return 0.5 + 0.5 * n;\n}\nvec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;} vec2 mod289(vec2 x){return x-floor(x*(1.0/289.0))*289.0;}\nvec3 permute(vec3 x){return mod289(((x*34.0)+1.0)*x);}\nfloat snoise(vec2 v){\n    const vec4 C=vec4(0.211324865405187,0.366025403784439,-0.577350269189626,0.024390243902439);\n    vec2 i=floor(v+dot(v,C.yy));\n    vec2 x0=v-i+dot(i,C.xx);\n    vec2 i1=(x0.x>x0.y)?vec2(1.0,0.0):vec2(0.0,1.0);\n    vec4 x12=x0.xyxy+C.xxzz; x12.xy-=i1;\n    i=mod289(i);\n    vec3 p=permute(permute(i.y+vec3(0.0,i1.y,1.0))+i.x+vec3(0.0,i1.x,1.0));\n    vec3 m=max(0.5-vec3(dot(x0,x0),dot(x12.xy,x12.xy),dot(x12.zw,x12.zw)),0.0);\n    m*=m; m*=m;\n    vec3 x=2.0*fract(p*C.www)-1.0;\n    vec3 h=abs(x)-0.5;\n    vec3 ox=floor(x+0.5);\n    vec3 a0=x-ox;\n    m*=1.79284291400159-0.85373472095314*(a0*a0+h*h);\n    vec3 g;\n    g.x=a0.x*x0.x+h.x*x0.y;\n    g.yz=a0.yz*x12.xz+h.yz*x12.yw;\n    return 130.0*dot(m,g);\n}\nfloat fbm(vec2 p,float oct){float v=0.0;float amp=0.5;float freq=1.0;for(float i=0.0;i<4.0;i++){if(i>=oct)break;v+=amp*snoise(p*freq);freq*=2.0;amp*=0.5;}return v;}\n\nfloat hash12(vec2 p){ vec3 p3 = fract(vec3(p.xyx) * 0.1031); p3 += dot(p3, p3.yzx + 33.33); return fract((p3.x + p3.y) * p3.z); }\n\nvec3 adjustSaturation(vec3 color, float saturation) {\n    vec3 gray = vec3(dot(color, vec3(0.299, 0.587, 0.114)));\n    return mix(gray, color, saturation);\n}\n\nvec3 adjustTemperature(vec3 color, float temp) {\n    vec3 warm = vec3(1.0 + temp * 0.1, 1.0, 1.0 - temp * 0.2);\n    vec3 cool = vec3(1.0 + temp * 0.2, 1.0, 1.0 - temp * 0.1);\n    return color * (temp > 0.0 ? warm : cool);\n}\n\nvec3 adjustLevelsOptimized(vec3 color) {\n    return (color - 0.05) * 1.052631579;\n}\n\nvoid main() {\n    vec2 uv = vUv;\n    float ratio = uResolution.x / uResolution.y;\n    vec2 tuv = uv - 0.5;\n\n    // Flowâ€‘field deformation\n    float deg = noise(vec2(uTime * 0.1, tuv.x * tuv.y));\n    tuv.y *= 1.0 / ratio;\n    tuv *= Rot(radians((deg - 0.5) * 720.0 + 180.0));\n    tuv.y *= ratio;\n    float freq = 5.0;\n    float amp = 30.0;\n    float spd = uTime * 0.05;\n    tuv.x += sin(tuv.y * freq       + spd) / amp;\n    tuv.y += sin(tuv.x * freq * 1.5 + spd) / (amp * 0.5);\n\n    // Color gradients\n    vec3 colA = vec3(0.765, 0.188, 0.459);\n    vec3 colB = vec3(0.576, 0.302, 0.690);\n    vec3 layer1 = mix(colA, colB, smoothstep(-0.3, 0.2, (tuv * Rot(radians(-5.0))).x));\n    vec3 colC = vec3(1.0, 0.718, 0.576);\n    vec3 colD = vec3(0.4, 0.608, 0.835);\n    vec3 layer2 = mix(colC, colD, smoothstep(-0.3, 0.2, (tuv * Rot(radians(-5.0))).x));\n    vec3 color = mix(layer1, layer2, smoothstep(0.5, -0.3, tuv.y));\n\n    float saturation = 1.40;\n    float temperature = 0.16;\n    float contrast = 1.15;\n    float grainAmount = 0.05;\n    float grainSize = 0.5;\n\n    color = adjustTemperature(color, temperature);\n\n    color = adjustSaturation(color, saturation);\n    color = adjustLevelsOptimized(color);\n    color = (color - 0.5) * contrast + 0.5;\n\n    color = clamp(color, 0.0, 1.0);\n\n    vec2 st = uv * 2.0 - 1.0; st.x *= ratio;\n    float dn = fbm(st * 0.15 + vec2(uTime*0.015, -uTime*0.01), 3.0);\n    float pulse = sin(uTime * 0.08) * 0.3;\n    float dark = smoothstep(-0.8 + pulse, 0.0 + pulse, dn);\n    dark = pow(dark, 3.0);\n    color = mix(vec3(0.0), color, dark);\n    float ldn = fbm(st * 0.1 + vec2(-uTime*0.012, uTime*0.008), 2.0);\n    float lp  = cos(uTime * 0.06) * 0.2;\n    float ld  = smoothstep(-0.4 + lp, 0.2 + lp, ldn);\n    ld = pow(ld, 0.8);\n    color *= ld * 0.3 + 0.7;\n    float odn = fbm(st * 0.12 + vec2(-uTime*0.02, uTime*0.015) + 500.0, 2.0);\n    float op  = sin(uTime * 0.12 + 1.57) * 0.25;\n    float od  = smoothstep(-0.7 + op, -0.1 + op, odn);\n    od = pow(od, 2.5);\n    color = mix(vec3(0.0), color, od);\n\n    // ===== GRAIN (final step) =====\n    float grain_noise = (hash12(gl_FragCoord.xy + uGrainSeed) - 0.5) * 2.0;\n    color.rgb += grain_noise * grainAmount * grainSize;\n    color = clamp(color, 0.0, 1.0);\n\n    gl_FragColor = vec4(color, 1.0);\n}\n",uniforms:{uTime:{value:0},uResolution:{value:new Ch.gc(this.element.offsetWidth,this.element.offsetHeight)},uGrainSeed:{value:new Ch.gc(1e3*Math.random(),1e3*Math.random())}},transparent:!1,depthTest:!1,depthWrite:!1});var t=this.setupGeometry();this.mesh=new Ch.bb(t,this.material),this.scene.add(this.mesh)}},{key:"setupEventListeners",value:function(){var t=this;window.addEventListener("resize",(function(){t.throttledResize()})),document.addEventListener("visibilitychange",(function(){t.isAnimating=!document.hidden}))}},{key:"setupResizeObserver",value:function(){var t=this;window.ResizeObserver?(this.resizeObserver=new ResizeObserver((function(e){var n,r=rm(e);try{for(r.s();!(n=r.n()).done;)if(n.value.target===t.element){t.throttledResize();break}}catch(t){r.e(t)}finally{r.f()}})),this.resizeObserver.observe(this.element)):console.warn("ResizeObserver not supported, falling back to window resize")}},{key:"setupVisibilityObserver",value:function(){var t=this;window.IntersectionObserver&&new IntersectionObserver((function(e){e.forEach((function(e){t.isVisible=e.isIntersecting}))}),{rootMargin:"-100px"}).observe(this.element)}},{key:"throttledResize",value:function(){var t=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){t.handleResize(),t.resizeTimeout=null}),this.resizeThrottleMs)}},{key:"handleResize",value:function(){if(this.renderer&&this.material){var t=this.element.getBoundingClientRect(),e=this.renderer.domElement.width,n=this.renderer.domElement.height;(Math.abs(e-t.width)>1||Math.abs(n-t.height)>1)&&(this.renderer.setSize(t.width,t.height),this.material.uniforms.uResolution.value.set(t.width,t.height))}}},{key:"animate",value:function(){var t=this;if(this.isAnimating&&this.isVisible){var e=this.clock.getElapsedTime();e-this.lastFrameTime<1/60||(this.lastFrameTime=e,this.frameCount++,this.material.uniforms.uTime.value=e,this.renderer.render(this.scene,this.camera)),requestAnimationFrame((function(){return t.animate()}))}else requestAnimationFrame((function(){return t.animate()}))}},{key:"dispose",value:function(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.renderer&&this.renderer.dispose(),this.material&&this.material.dispose(),this.mesh&&this.mesh.geometry&&this.mesh.geometry.dispose(),this.scene=null,this.camera=null,this.renderer=null,this.material=null,this.mesh=null}}])&&om(e.prototype,n),r&&om(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function lm(t){return(lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,um(r.key),r)}}function um(t){var e=function(t,e){if("object"!=lm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lm(e)?e:String(e)}c.b.registerPlugin(u.a,Jt.a);var hm=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.scroller=window.scroller,this.isMobile=this.scroller.scroll.isMobile,this.launchHero=null,this.initHeroScene(),this.initNavigation(),this.setupScrollTrigger(),this.setupMenuColorScrollTrigger(),this.scrollAnimations()}var e,n,r;return e=t,r=[{key:"create",value:function(e){null===t._instance&&(t._instance=new t(e))}},{key:"destroy",value:function(){t._instance&&(t._instance.beforeDestroy(),t._instance=null)}}],(n=[{key:"initHeroScene",value:function(){var t=document.querySelector(".launch-hero .img");t&&(this.launchHero=new am(t))}},{key:"animationHero",value:function(){var t=.001,e=.005,n=2,r="power2.out",i=.3,o=.6,s=.05,a=4,l=1,u=.15,h=1.2,p="power1.out",d=document.querySelector(".launch-hero h1"),f=document.querySelector(".launch-hero p"),m=document.querySelector(".launch-hero .logo"),g=document.querySelector(".launch-hero .decor");if(m&&c.b.set(m,{opacity:0,scale:.5}),d&&new Jt.a(d,{type:"lines",linesClass:"js-line"}).lines.forEach((function(t){var e=document.createElement("div");e.classList.add("js-line-wrapper"),t.parentNode.insertBefore(e,t),e.appendChild(t),c.b.set(t,{yPercent:100})})),f&&c.b.set(f,{opacity:0,y:30}),g){c.b.set(g,{opacity:1,scaleX:t,scaleY:e,transformOrigin:"left center"});var v=c.b.timeline();v.to(g,{scaleX:1,duration:n,ease:r},.7),v.to(g,{scaleY:1,duration:o,ease:"power2.out"},n-i),v.to(g,{scaleY:1+s,duration:a/2,ease:"sine.inOut",yoyo:!0,repeat:-1},n+o)}var y=c.b.timeline({delay:l});m&&y.to(m,{opacity:1,scale:1,duration:h,ease:p},0),d&&y.to(".launch-hero h1 .js-line",{yPercent:0,stagger:u,ease:p,duration:h},.2),f&&y.to(f,{opacity:1,y:0,duration:.75*h,ease:p},.6)}},{key:"animationSupports",value:function(){var t=document.querySelector(".launch-supports .head h2"),e=document.querySelector(".launch-supports .head .txt"),n=document.querySelectorAll(".launch-supports .box");t&&c.b.fromTo(t,{opacity:0,y:50,scale:1.1},{opacity:1,y:0,scale:1,duration:1,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 75%",scroller:"[data-scroll-container]"}}),e&&c.b.fromTo(e,{opacity:0,y:30},{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 75%",scroller:"[data-scroll-container]"}}),n.length>0&&n.forEach((function(t,e){c.b.fromTo(t,{opacity:0,y:60,scale:.9},{opacity:1,y:0,scale:1,duration:.8,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 80%",scroller:"[data-scroll-container]"}});var n=t.querySelector(".bg picture");if(n){var r=t.offsetHeight,i=n.offsetHeight,o=Math.max(0,i-r);c.b.fromTo(n,{y:0},{y:-o,ease:"none",scrollTrigger:{trigger:t,start:"top bottom",end:"bottom top",scroller:"[data-scroll-container]",scrub:1}})}}))}},{key:"animationTrust",value:function(){var t=document.querySelector(".launch-trust .head h2"),e=document.querySelector(".launch-trust .head .txt"),n=document.querySelector(".launch-trust .trust-swiper"),r=document.querySelector(".launch-trust .decor");r&&(c.b.fromTo(r,{opacity:0,scale:1.2,y:50},{opacity:1,scale:1,y:0,duration:1.5,ease:"power3.out",scrollTrigger:{trigger:r,start:"top 85%",scroller:"[data-scroll-container]"}}),c.b.to(r,{y:-40,rotation:10,ease:"none",scrollTrigger:{trigger:".launch-trust",start:"top bottom",end:"bottom top",scroller:"[data-scroll-container]",scrub:1}})),t&&c.b.fromTo(t,{opacity:0,y:40},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 75%",scroller:"[data-scroll-container]"}}),e&&c.b.fromTo(e,{opacity:0,y:30},{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 75%",scroller:"[data-scroll-container]"}}),n&&c.b.fromTo(n,{opacity:0,y:50,scale:.95},{opacity:1,y:0,scale:1,duration:1,ease:"power3.out",scrollTrigger:{trigger:n,start:"top 75%",scroller:"[data-scroll-container]"}})}},{key:"animationCommunity",value:function(){var t=document.querySelector(".launch-lsvp-community .head h2"),e=document.querySelector(".launch-lsvp-community .head .txt"),n=document.querySelector(".launch-lsvp-community .launch-community-swiper"),r=document.querySelector(".launch-lsvp-community .btn-wrap"),i=document.querySelector(".launch-lsvp-community .community-bg");i&&c.b.to(i,{y:-100,ease:"none",scrollTrigger:{trigger:".launch-lsvp-community",start:"top bottom",end:"bottom top",scroller:"[data-scroll-container]",scrub:1}}),t&&c.b.fromTo(t,{opacity:0,y:50,scale:1.1},{opacity:1,y:0,scale:1,duration:1,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 75%",scroller:"[data-scroll-container]"}}),e&&c.b.fromTo(e,{opacity:0,y:30},{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 75%",scroller:"[data-scroll-container]"}}),n&&c.b.fromTo(n,{opacity:0,y:60,scale:.9},{opacity:1,y:0,scale:1,duration:1,ease:"power3.out",scrollTrigger:{trigger:n,start:"top 75%",scroller:"[data-scroll-container]"}}),r&&c.b.fromTo(r,{opacity:0,y:20},{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:r,start:"top 75%",scroller:"[data-scroll-container]"}})}},{key:"animationClients",value:function(){var t=document.querySelector(".launch-lsvp-clients .head h2"),e=document.querySelector(".launch-lsvp-clients .head .txt"),n=document.querySelector(".launch-lsvp-clients .clients-grid");t&&c.b.fromTo(t,{opacity:0,y:50},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 75%",scroller:"[data-scroll-container]"}}),e&&c.b.fromTo(e,{opacity:0,y:30},{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 75%",scroller:"[data-scroll-container]"}}),n&&n.querySelectorAll("a").forEach((function(t,e){c.b.fromTo(t,{opacity:0,y:30,scale:.9},{opacity:1,y:0,scale:1,duration:.6,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 85%",scroller:"[data-scroll-container]"}})}))}},{key:"animationLibrary",value:function(){var t=document.querySelector(".launch-supports.library .head h2"),e=document.querySelector(".launch-supports.library .head .txt"),n=document.querySelectorAll(".launch-supports.library .box");t&&c.b.fromTo(t,{opacity:0,y:50,scale:1.1},{opacity:1,y:0,scale:1,duration:1,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 75%",scroller:"[data-scroll-container]"}}),e&&c.b.fromTo(e,{opacity:0,y:30},{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 75%",scroller:"[data-scroll-container]"}}),n.length>0&&n.forEach((function(t,e){c.b.fromTo(t,{opacity:0,y:60,scale:.9},{opacity:1,y:0,scale:1,duration:.8,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 80%",scroller:"[data-scroll-container]"}});var n=t.querySelector(".bg img");n&&c.b.fromTo(n,{y:0},{y:-80,ease:"none",scrollTrigger:{trigger:t,start:"top bottom",end:"bottom top",scroller:"[data-scroll-container]",scrub:1}})}))}},{key:"animationProgram",value:function(){var t=document.querySelector(".launch-program h2"),e=document.querySelector(".launch-program .txt"),n=document.querySelectorAll(".launch-program .decor, .launch-program .decor-t, .launch-program .decor-b");c.b.fromTo(n,{opacity:0,y:50,rotation:5},{opacity:1,y:0,rotation:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:".launch-program",start:"top 85%",scroller:"[data-scroll-container]"}}),n.forEach((function(t){c.b.fromTo(t,{x:100},{x:0,ease:"none",scrollTrigger:{trigger:".launch-program",start:"top bottom",end:"bottom top",scroller:"[data-scroll-container]",scrub:1}})})),t&&c.b.fromTo(t,{opacity:0,y:50},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 75%",scroller:"[data-scroll-container]"}}),e&&c.b.fromTo(e,{opacity:0,y:30},{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 75%",scroller:"[data-scroll-container]"}})}},{key:"animationTeam",value:function(){var t=document.querySelector(".launch-team .head h2"),e=document.querySelector(".launch-team .head .txt"),n=document.querySelectorAll(".launch-team .teamcard"),r=document.querySelector(".launch-team .bg");r&&c.b.fromTo(r,{opacity:0,scale:1.1},{opacity:1,scale:1,duration:1.5,ease:"power3.out",scrollTrigger:{trigger:r,start:"top 85%",scroller:"[data-scroll-container]"}}),t&&c.b.fromTo(t,{opacity:0,y:50},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 75%",scroller:"[data-scroll-container]"}}),e&&c.b.fromTo(e,{opacity:0,y:30},{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 75%",scroller:"[data-scroll-container]"}}),n.length>0&&n.forEach((function(t,e){c.b.fromTo(t,{opacity:0,y:50,scale:.95},{opacity:1,y:0,scale:1,duration:.8,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 80%",scroller:"[data-scroll-container]"}})}))}},{key:"animationFaq",value:function(){var t=document.querySelector(".launch-faq h2"),e=document.querySelectorAll(".launch-faq .accordion li");t&&c.b.fromTo(t,{opacity:0,y:50},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 75%",scroller:"[data-scroll-container]"}}),e.length>0&&e.forEach((function(t,e){c.b.fromTo(t,{opacity:0,y:30},{opacity:1,y:0,duration:.6,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 80%",scroller:"[data-scroll-container]"}})}))}},{key:"scrollAnimations",value:function(){this.animationHero(),this.animationSupports(),this.animationTrust(),this.animationCommunity(),this.animationClients(),this.animationLibrary(),this.animationProgram(),this.animationTeam(),this.animationFaq(),setTimeout((function(){u.a.getAll().forEach((function(t){return t.refresh()}))}),3e3)}},{key:"initNavigation",value:function(){var t=this;this.header=document.getElementById("header"),this.sections=Array.from(document.querySelectorAll("#program, #resource, #community, #library, #team")),this.navLinks=Array.from(document.querySelectorAll(".launch-nav a")),this.colorMenuSections=Array.from(document.querySelectorAll(".color-menu")),this.navLinks.forEach((function(e){e.addEventListener("click",(function(n){n.preventDefault();var r=e.getAttribute("href").substring(1),i=document.getElementById(r);if(i){var o;if(t.navLinks.forEach((function(t){return t.parentElement.classList.remove("active")})),e.parentElement.classList.add("active"),(o=t.isMobile?i.dataset.scrollOffsetMobile||i.dataset.scrollOffset||"0":i.dataset.scrollOffset||"0").endsWith("%")){var s=parseFloat(o)/100;o=window.innerHeight*s}t.scroller.scrollTo(i,{offset:parseInt(o),duration:1e3,easing:[.25,0,.35,1]})}else console.error("Target section not found: ".concat(r))}))}))}},{key:"setupScrollTrigger",value:function(){var t=this;this.sections.forEach((function(e){try{u.a.create({trigger:e,start:"top 50%",end:"bottom 50%",scroller:"[data-scroll-container]",invalidateOnRefresh:!0,onEnter:function(){return t.updateActiveLink(e.id)},onEnterBack:function(){return t.updateActiveLink(e.id)}})}catch(t){console.error("Error creating ScrollTrigger for section ".concat(e.id,":"),t)}}))}},{key:"setupMenuColorScrollTrigger",value:function(){var t=this;this.colorMenuSections.forEach((function(e){u.a.create({trigger:e,start:"top 90px",end:"bottom 90px",scroller:"[data-scroll-container]",invalidateOnRefresh:!0,onEnter:function(){return t.updateMenuColor(e)},onEnterBack:function(){return t.updateMenuColor(e)}})}))}},{key:"updateActiveLink",value:function(t){var e=document.querySelector('.launch-nav a[href="#'.concat(t,'"]'));e?(this.navLinks.forEach((function(t){return t.parentElement.classList.remove("active")})),e.parentElement.classList.add("active")):console.error("Link not found for id: ".concat(t))}},{key:"updateMenuColor",value:function(t){console.log(t),this.header?(this.header.classList.remove("dark-menu","light-menu"),t.classList.contains("dark-menu")?this.header.classList.add("dark-menu"):t.classList.contains("light-menu")&&this.header.classList.add("light-menu")):console.error("Header element not found")}},{key:"beforeDestroy",value:function(){u.a.getAll().forEach((function(t){return t.kill()})),this.launchHero&&(this.launchHero.dispose(),this.launchHero=null)}}])&&cm(e.prototype,n),r&&cm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function pm(t){return(pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fm(r.key),r)}}function fm(t){var e=function(t,e){if("object"!=pm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pm(e)?e:String(e)}!function(t,e,n){(e=um(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(hm,"_instance",null),c.b.registerPlugin(u.a);var mm=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.scroller=window.scroller,this.isMobile=this.scroller.scroll.isMobile,this.initNavigation(),this.setupScrollTrigger()}var e,n,r;return e=t,r=[{key:"create",value:function(e){null===t._instance&&(t._instance=new t(e))}},{key:"destroy",value:function(){t._instance&&(t._instance.beforeDestroy(),t._instance=null)}}],(n=[{key:"initNavigation",value:function(){var t=this;this.sections=Array.from(document.querySelectorAll("#about, #investor-roles, #operations-roles, #apply")),this.navLinks=Array.from(document.querySelectorAll(".careers-nav a")),this.navLinks.forEach((function(e){e.addEventListener("click",(function(n){n.preventDefault();var r=e.getAttribute("href").substring(1),i=document.getElementById(r);if(i){var o;if(t.navLinks.forEach((function(t){return t.parentElement.classList.remove("active")})),e.parentElement.classList.add("active"),(o=t.isMobile?i.dataset.scrollOffsetMobile||i.dataset.scrollOffset||"-98":i.dataset.scrollOffset||"-85").endsWith("%")){var s=parseFloat(o)/100;o=window.innerHeight*s}t.scroller.scrollTo(i,{offset:parseInt(o),duration:1e3,easing:[.25,0,.35,1]})}else console.error("Target section not found: ".concat(r))}))}))}},{key:"setupScrollTrigger",value:function(){var t=this;this.sections.forEach((function(e){try{u.a.create({trigger:e,start:"top 50%",end:"bottom 50%",scroller:"[data-scroll-container]",invalidateOnRefresh:!0,onEnter:function(){return t.updateActiveLink(e.id)},onEnterBack:function(){return t.updateActiveLink(e.id)}})}catch(t){console.error("Error creating ScrollTrigger for section ".concat(e.id,":"),t)}}))}},{key:"updateActiveLink",value:function(t){var e=document.querySelector(".careers-nav a[href='#".concat(t,"']"));e?(this.navLinks.forEach((function(t){return t.parentElement.classList.remove("active")})),e.parentElement.classList.add("active")):console.error("Link not found for id: ".concat(t))}},{key:"beforeDestroy",value:function(){u.a.getAll().forEach((function(t){return t.kill()}))}}])&&dm(e.prototype,n),r&&dm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function gm(t){return(gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vm(t){return function(t){if(Array.isArray(t))return ym(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ym(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ym(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ym(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_m(r.key),r)}}function _m(t){var e=function(t,e){if("object"!=gm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gm(e)?e:String(e)}!function(t,e,n){(e=fm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(mm,"_instance",null),c.b.registerPlugin(u.a);i.a.use(s.a,{routes:[{path:"/global-presence/:id",name:"global-presence"},{path:"/team-member/:id",name:"team-member"},{path:"/company/:id",name:"company"},{path:"/jobs/:id",name:"jobs"},{path:"/:post/:id",name:"post"}]}),i.a.use(l.a);var xm=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.speed=.5,this.mm=c.b.matchMedia(),this.init()}var e,n,r;return e=t,(n=[{key:"identifierPage",value:function(t){t.current;var e,n=t.next,r=(new DOMParser).parseFromString(n.html,"text/html"),i=r.querySelector("body").getAttribute("data-slug"),o=r.querySelector("body").getAttribute("data-additional-classes"),s=document.querySelector("body");(e=s.classList).remove.apply(e,vm(s.classList)),s.classList.add(i),o&&s.classList.add(o)}},{key:"toggleScrollOpacity",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("object"!==gm(this.scroll))return!1;var n=$("."+this.scroll.scrollbarClass);n.length&&setTimeout((function(){n.css("opacity",0===t?0:"")}),e)}},{key:"initBarba",value:function(){var t=this;i.a.hooks.beforeEnter((function(e){t.identifierPage(e),t.initAlways(e)})),i.a.hooks.beforeLeave((function(e){t.destroyAlways(e),t.toggleScrollOpacity(0)})),i.a.hooks.once((function(e){t.initOnce(e)})),i.a.hooks.afterEnter((function(e){t.initAlwaysEnter(e),t.toggleScrollOpacity(1,500)})),i.a.hooks.leave((function(e){setTimeout((function(){t.mm.add("(min-width:992px)",(function(){window.scroller.scrollTo(document.querySelector("[data-scroll-container]").offsetTop,{duration:.1,disableLerp:!0})})),t.mm.add("(max-width:991px)",(function(){window.scrollTo(0,0)}))}),1e3*t.speed)})),i.a.init({prefetchIgnore:["/company/(.*)","/team-member/(.*)","/story/(.*)","/founder/(.*)","/jobs/(.*)","/global-presence/(.*)"],debug:!0,prevent:function(t){var e=t.el,n=t.href,r=(t.event,window.location.origin),i=["launch","gametheory"].some((function(t){return n==="".concat(r,"/").concat(t)||n==="".concat(r,"/").concat(t,"/")}));return e.classList&&(e.classList.contains("ab-item")||e.parentElement.classList.contains("ab-item")||document.querySelector('body[data-template="seed-program"]')||document.querySelector(".page-launch")||i||["enterprise","healthcare","consumer","fintech","gaming","blockchain"].map((function(t){return n===r+"/focus-area-"+t+"/"||n===r+"/focus-area-"+t||document.querySelector("page-focus-area-"+t)})))},timeout:12e3,sync:!0,transitions:[{name:"slide-up-transition",once:function(e){var n=e.next;if("home"!==n.namespace&&"home-india"!==n.namespace&&"cyber60"!==n.namespace&&"gametheory"!==n.namespace)return t.onceTransition=c.b.timeline({onStart:function(){setTimeout((function(){t.mm.add("(min-width:992px)",(function(){window.scroller.scrollTo(document.querySelector("[data-scroll-container]").offsetTop,{duration:.1})})),t.mm.add("(max-width:991px)",(function(){window.scrollTo(0,0)}))}),100)},onComplete:function(){t.onceTransition.kill(),t.onceTransition=null}}).set(n.container,{y:100,autoAlpha:0}).to(n.container,{autoAlpha:1,ease:"circ.out",duration:t.speed,delay:.5,y:0,clearProps:"y"}),t.onceTransition;c.b.set(n.container,{autoAlpha:1})},leave:function(e){return c.b.set(document.querySelector("#footer"),{autoAlpha:0}),t.leaveTransition=c.b.timeline({onComplete:function(){t.leaveTransition.kill(),t.leaveTransition=null}}).to(e.current.container,{autoAlpha:0,ease:"circ.out",duration:t.speed,y:100,clearProps:"all",onStart:function(){}}).set(e.current.container,{opacity:0,y:0}),t.leaveTransition},enter:function(e){"home"!==e.next.namespace?(c.b.set(e.next.container,{autoAlpha:1}),t.enterTransititon=c.b.timeline().from(e.next.container,{autoAlpha:0,ease:"circ.out",delay:.5,y:200,duration:t.speed,clearProps:"y",onStart:function(){},onComplete:function(){c.b.set(document.querySelector("#footer"),{autoAlpha:1}),t.enterTransititon.kill(),t.enterTransititon=null}})):setTimeout((function(){c.b.set(e.next.container,{autoAlpha:1}),c.b.set(document.querySelector("#footer"),{autoAlpha:1})}),700)}}],views:[{namespace:"home",beforeEnter:function(t){p.h(t).then((function(e){var n=t.next.container.querySelector("#banner-type-2");n&&_t.create(n),Se.create({selector:t.next.container.querySelector(".swiper-founder"),container:t.next.container,namespace:t.next.namespace,next:"[data-barba-namespace='home'] .founder-section .swiper-button-next",prev:"[data-barba-namespace='home'] .swiper-button-prev",pagination:'[data-barba-namespace="home"]  .founder-section .swiper-pagination'})}))},beforeLeave:function(){_t.destroy(),Se.destroy()}},{namespace:"home-india",beforeEnter:function(t){p.h(t).then((function(e){var n=t.next.container.querySelector("#banner-type-2");n&&_t.create(n),Se.create({selector:t.next.container.querySelector(".swiper-founder"),container:t.next.container,namespace:t.next.namespace,next:"[data-barba-namespace='home-india'] .founder-section .swiper-button-next",prev:"[data-barba-namespace='home-india'] .founder-section .swiper-button-prev",pagination:'[data-barba-namespace="home-india"]  .founder-section .swiper-pagination',breakpoints:{768:{slidesPerView:2,spaceBetween:64,slidesPerGroup:1},1024:{slidesPerView:2,spaceBetween:64,slidesPerGroup:1},1280:{slidesPerView:5,spaceBetween:116,slidesPerGroup:1}}})})),setTimeout((function(){ft.create({selector:t.next.container.querySelector(".swiper-stories:not(#specialists-swiper)"),next:'[data-barba-namespace="home-india"] .stories-slider-section .swiper-button-next',prev:'[data-barba-namespace="home-india"] .stories-slider-section .swiper-button-prev',pagination:'[data-barba-namespace="home-india"] .stories-slider-section .swiper-pagination',container:t.next.container})}),0)},beforeLeave:function(t){_t.destroy(),ft.destroy(),Se.destroy()}},{namespace:"about",beforeEnter:function(t){},beforeLeave:function(){}},{namespace:"career",beforeEnter:function(t){mm.create(t.next.container)},beforeLeave:function(){mm.destroy()}},{namespace:"lighthouse",beforeEnter:function(e){t.accordion=new P({speed:.5,element:"[data-accordion]",container:e.next.container})},beforeLeave:function(){t.accordion.destroy()}},{namespace:"companies",beforeEnter:function(t){void 0===window.companiesAutocomplete&&t.next.container.querySelectorAll("[data-script]").forEach((function(t){if(!t.src){var e=t.cloneNode(!0),n=document.createElement("script");n.innerHTML=e.innerHTML,document.head.appendChild(n)}t.remove()})),tt.create({container:t.next.container}),setTimeout((function(){Ye.create({container:t.next.container})}),300)},afterEnter:function(t){setTimeout((function(){var e;if("back"===t.trigger&&"company"===(null==t||null===(e=t.current)||void 0===e||null===(e=e.route)||void 0===e?void 0:e.name)){var n,r,i,o=sessionStorage.getItem("founder"),s=null==t||null===(n=t.current)||void 0===n||null===(n=n.route)||void 0===n||null===(n=n.params)||void 0===n?void 0:n.id,a="true"===o?null==t||null===(r=t.next)||void 0===r||null===(r=r.container)||void 0===r?void 0:r.querySelector('.section-founder-spotlight [data-company-id="'.concat(s,'"]')):null==t||null===(i=t.next)||void 0===i||null===(i=i.container)||void 0===i?void 0:i.querySelector('.companies-wrapper [data-company-id="'.concat(s,'"]')),l="true"===o?-1*a.getBoundingClientRect().height:-2*a.getBoundingClientRect().height;a&&window.scroller.scrollTo(a,{duration:100,offset:l})}}),700)},beforeLeave:function(t){tt.destroy(t),Ye.destroy()}},{namespace:"lightspeed-team",beforeEnter:function(t){void 0===window.teamsAutocomplete&&t.next.container.querySelectorAll("[data-script]").forEach((function(t){if(!t.src){var e=t.cloneNode(!0),n=document.createElement("script");n.innerHTML=e.innerHTML,document.head.appendChild(n)}t.remove()})),G.create({container:t.next.container}),setTimeout((function(){Ye.create({container:t.next.container})}),300)},beforeLeave:function(t){G.destroy(),Ye.destroy()}},{namespace:"stories",beforeEnter:function(e){void 0===window.storiesAutocomplete&&e.next.container.querySelectorAll("[data-script]").forEach((function(t){if(!t.src){var e=t.cloneNode(!0),n=document.createElement("script");n.innerHTML=e.innerHTML,document.head.appendChild(n)}t.remove()})),setTimeout((function(){t.StoriesFilters=new L({container:e.next.container}),ft.create({selector:e.next.container.querySelector(".swiper-stories:not(#specialists-swiper)"),next:'[data-barba-namespace="stories"] .swiper-button-next',prev:'[data-barba-namespace="stories"] .swiper-button-prev',pagination:'[data-barba-namespace="stories"] .swiper-pagination',container:e.next.container})}),0),setTimeout((function(){Ye.create({container:e.next.container})}),300)},beforeLeave:function(e){t.StoriesFilters.destroy(),ft.destroy(),Ye.destroy()}},{namespace:"events",beforeEnter:function(t){ft.create({selector:t.next.container.querySelector(".swiper-stories:not(#specialists-swiper)"),next:".page-events .events-slider .swiper-button-next",prev:".page-events .events-slider .swiper-button-prev",pagination:".page-events  .events-slider .swiper-pagination",container:t.next.container})},beforeLeave:function(t){ft.destroy()}},{namespace:"advisory-council",beforeEnter:function(e){ft.create({selector:e.next.container.querySelector(".swiper-stories:not(#specialists-swiper)"),next:".page-advisory-council .events-slider .swiper-button-next",prev:".page-advisory-council .events-slider .swiper-button-prev",pagination:".page-advisory-council  .events-slider .swiper-pagination",container:e.next.container}),t.accordionA=new P({speed:.5,element:"[data-accordion]",container:e.next.container})},beforeLeave:function(e){ft.destroy(),t.accordionA.destroy()}},{namespace:"press-kits",beforeEnter:function(t){void 0===window.teamsAutocomplete&&t.next.container.querySelectorAll("[data-script]").forEach((function(t){if(!t.src){var e=t.cloneNode(!0),n=document.createElement("script");n.innerHTML=e.innerHTML,document.head.appendChild(n)}t.remove()})),setTimeout((function(){G.create({container:t.next.container})}),0)},beforeLeave:function(t){G.destroy()}},{namespace:"lightspeed-launch",beforeEnter:function(t){P.create({speed:.5,element:"[data-accordion]",container:t.next.container})},beforeLeave:function(t){}},{namespace:"focus-area",beforeEnter:function(t){Se.create({selector:t.next.container.querySelector(".swiper-founder"),container:t.next.container,namespace:t.next.namespace,next:"[data-barba-namespace='focus-area'] .team-slider-section .swiper-button-next",prev:"[data-barba-namespace='focus-area'] .team-slider-section .swiper-button-prev",pagination:'[data-barba-namespace="focus-area"]  .team-slider-section .swiper-pagination',mobileSpeed:300}),t.next.container.querySelectorAll("[data-appear-after-transition]").forEach((function(t){var e=t.querySelectorAll("[data-appear-after-transition-item]");c.b.from(e,{y:200,opacity:0,duration:.8,ease:"power1.out",delay:.5,stagger:.1,clearProps:"all",overwrite:!0})})),setTimeout((function(){an.create()}),1e3)},beforeLeave:function(t){an.destroy()}},{namespace:"focus-area-ai",beforeEnter:function(t){Se.create({selector:t.next.container.querySelector(".swiper-founder"),container:t.next.container,namespace:t.next.namespace,next:"[data-barba-namespace='focus-area-ai'] .team-slider-section .swiper-button-next",prev:"[data-barba-namespace='focus-area-ai'] .team-slider-section .swiper-button-prev",pagination:'[data-barba-namespace="focus-area-ai"]  .team-slider-section .swiper-pagination',mobileSpeed:300}),t.next.container.querySelectorAll("[data-appear-after-transition]").forEach((function(t){var e=t.querySelectorAll("[data-appear-after-transition-item]");c.b.from(e,{y:200,opacity:0,duration:.8,ease:"power1.out",delay:.5,stagger:.1,clearProps:"all",overwrite:!0})})),setTimeout((function(){an.create()}),1e3)},beforeLeave:function(t){an.destroy()}},{namespace:"cyber60",beforeEnter:function(t){Cf.create(t.next.container)},beforeLeave:function(t){Cf.destroy()}},{namespace:"newsletter-2025-q1",beforeEnter:function(t){Lf.create(t.next.container)},beforeLeave:function(t){Lf.destroy()}},{namespace:"research-ai",beforeEnter:function(t){em.create(t.next.container)},beforeLeave:function(t){em.destroy()}},{namespace:"launch",beforeEnter:function(t){hm.create(t.next.container)},beforeLeave:function(t){hm.destroy()}},{namespace:"post",beforeEnter:function(t){t.next.container.querySelectorAll(".swiper-stories:not(#specialists-swiper)").forEach((function(e,n){var r=(e.closest(".events-slider")||e.parentElement).querySelector(".swiper-controls");if(r){var i=r.querySelector(".swiper-button-next"),o=r.querySelector(".swiper-button-prev"),s=r.querySelector(".swiper-pagination");ft.create({selector:e,next:i,prev:o,pagination:s,container:t.next.container})}}))},beforeLeave:function(t){ft.destroy()}}]}),window.barba=i.a}},{key:"initLocoScroll",value:function(){var t=p.w(),e=null!==document.querySelector("[data-post-type]");this.scroll=new h.a({el:document.querySelector("[data-scroll-container]"),name:"scroll",offset:[0,0],repeat:!0,smooth:!e,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!0,getDirection:!0,scrollFromAnywhere:!1,multiplier:"Mac"===t?.75:1.5,firefoxMultiplier:150,resetNativeScroll:!1,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical"},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!0}}),window.scroller=this.scroll,u.a.defaults({scroller:this.scroll})}},{key:"locoscrolProxy",value:function(){window.scroller.on("scroll",(function(){try{u.a.update()}catch(t){}})),u.a.scrollerProxy("[data-scroll-container]",{scrollTop:function(t){return window.scroller.scroll.instance.scroll.y},getBoundingClientRect:function(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}},pinType:document.querySelector("[data-scroll-container]").style.transform?"transform":"fixed"}),u.a.addEventListener("refresh",(function(){try{window.scroller.update()}catch(t){}})),u.a.refresh()}},{key:"resizerObserver",value:function(){new ResizeObserver((function(){window.scroller.update(),u.a.refresh()})).observe(document.querySelector("[data-scroll-container]"))}},{key:"initOnce",value:function(t){p.n(),p.c(),p.b(),p.i(".sub-nav a",".sub-nav"),p.i(".footer-nav a",".footer-nav"),p.i(".main-nav a",".main-nav"),se.a(),p.d(),p.D(window.scroller),p.C()}},{key:"initAlwaysEnter",value:function(t){setTimeout((function(){oe.create({selector:t.next.container,container:t.next.container}),Fe.create({selector:t.next.container,container:t.next.container}),pn.create(),Pe.create({selector:vm(t.next.container.querySelectorAll("[data-horizontal-scroll-lines]")),container:t.next.container})}),2*this.speed*1e3)}},{key:"initAlways",value:function(t){p.B(),p.e(),ye.create(t.next.container),be(),p.i(),p.g(),p.k(),d(),Ge.create(t.next.container),p.p(),X.create(),p.E(),p.f(),p.l(),p.u(),p.r.create(t.next.container.querySelectorAll("[data-transparent-img]")),p.s(t.next.container),Je.create({selector:t.next.container}),nn.create(),Mh.create(),Mt.create(vm(document.querySelectorAll("[data-tab-feed]"))),ut.create(t.next.container),p.o(),p.a(),p.A();var e=document.getElementById("cyber60-hero-wrapper");e&&yh.create(e),Ve.create(t.next.container),p.t(),p.j(),p.z(),p.m()}},{key:"destroyAlways",value:function(t){Mt.destroy(),ut.destroy(),oe.destroy(t),Fe.destroy(),p.v(),Pe.destroy(),Ge.destroy(),Ve.destroy(),X.destroy(),ye.destroy(),Je.destroy(),nn.destroy(),p.r.destroy(),pn.destroy(),yh.destroy()}},{key:"recalculateSmoothScroll",value:function(){u.a.refresh(),window.scroller.update()}},{key:"restartPage",value:function(){var t=window.matchMedia("screen and (min-width: 1440px)"),e=window.matchMedia("screen and (max-width: 1339px)");t.addListener((function(t){t.matches&&location.reload()})),e.addListener((function(t){t.matches&&location.reload()}))}},{key:"reloadOnContextChange",value:function(){var t=window.matchMedia("screen and (min-width: 768px)"),e=window.matchMedia("screen and (max-width: 767px)");t.addListener((function(t){t.matches&&(console.log("app barba init"),location.reload())})),e.addListener((function(t){t.matches&&(console.log("inita"),location.reload())}))}},{key:"init",value:function(){this.initLocoScroll(),this.locoscrolProxy(),this.resizerObserver(),this.initBarba(),this.reloadOnContextChange(),window.updateLocoAndScrollTrigger=function(){window.scroller.update(),u.a.refresh()}}}])&&bm(e.prototype,n),r&&bm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();document.addEventListener("DOMContentLoaded",(function(){new xm}))},nmq7:function(t,e,n){"use strict";var r=n("0jNN"),i=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},l=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},c=function(t,e,n,r){if(t){var o=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(o),c=a?o.slice(0,a.index):o,u=[];if(c){if(!n.plainObjects&&i.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var h=0;n.depth>0&&null!==(a=s.exec(o))&&h<n.depth;){if(h+=1,!n.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+o.slice(a.index)+"]"),function(t,e,n,r){for(var i=r?e:l(e,n),o=t.length-1;o>=0;--o){var s,a=t[o];if("[]"===a&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(c,10);n.parseArrays||""!==c?!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[])[u]=i:"__proto__"!==c&&(s[c]=i):s={0:i}}i=s}return i}(u,e,n,r)}};t.exports=function(t,e){var n=function(t){if(!t)return s;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?s.charset:t.charset;return{allowDots:void 0===t.allowDots?s.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:s.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:s.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:s.comma,decoder:"function"==typeof t.decoder?t.decoder:s.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:s.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:s.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:s.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:s.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof t?function(t,e){var n,c={__proto__:null},u=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,h=e.parameterLimit===1/0?void 0:e.parameterLimit,p=u.split(e.delimiter,h),d=-1,f=e.charset;if(e.charsetSentinel)for(n=0;n<p.length;++n)0===p[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[n]?f="utf-8":"utf8=%26%2310003%3B"===p[n]&&(f="iso-8859-1"),d=n,n=p.length);for(n=0;n<p.length;++n)if(n!==d){var m,g,v=p[n],y=v.indexOf("]="),b=-1===y?v.indexOf("="):y+1;-1===b?(m=e.decoder(v,s.decoder,f,"key"),g=e.strictNullHandling?null:""):(m=e.decoder(v.slice(0,b),s.decoder,f,"key"),g=r.maybeMap(l(v.slice(b+1),e),(function(t){return e.decoder(t,s.decoder,f,"value")}))),g&&e.interpretNumericEntities&&"iso-8859-1"===f&&(g=a(g)),v.indexOf("[]=")>-1&&(g=o(g)?[g]:g),i.call(c,m)?c[m]=r.combine(c[m],g):c[m]=g}return c}(t,n):t,h=n.plainObjects?Object.create(null):{},p=Object.keys(u),d=0;d<p.length;++d){var f=p[d],m=c(f,u[f],n,"string"==typeof t);h=r.merge(h,m,n)}return!0===n.allowSparse?h:r.compact(h)}},oh6g:function(t,e,n){"use strict";function r(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}r.prototype=Error.prototype,e.a=function(t){var e=this;return new e((function(n,i){if(!t||void 0===t.length)return i(new TypeError("Promise.any accepts an array"));var o=Array.prototype.slice.call(t);if(0===o.length)return i();for(var s=[],a=0;a<o.length;a++)try{e.resolve(o[a]).then(n).catch((function(t){s.push(t),s.length===o.length&&i(new r(s,"All promises were rejected"))}))}catch(t){i(t)}}))}},sxOR:function(t,e,n){"use strict";var r=String.prototype.replace,i=/%20/g,o="RFC1738",s="RFC3986";t.exports={default:s,formatters:{RFC1738:function(t){return r.call(t,i,"+")},RFC3986:function(t){return String(t)}},RFC1738:o,RFC3986:s}},t9wJ:function(t,e,n){var r=n("Ofh6");"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,i);r.locals&&(t.exports=r.locals)},"u+OR":function(t,e,n){var r=n("PMrG");"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,i);r.locals&&(t.exports=r.locals)},uhBA:function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function s(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(t,e,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new s(n,r||t,o),l=i?i+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],a]:t._events[l].push(a):(t._events[l]=a,t._eventsCount++),t}function l(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,s=new Array(o);r<o;r++)s[r]=n[r].fn;return s},c.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,r,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var l,c,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,r),!0;case 5:return u.fn.call(u.context,e,n,r,o),!0;case 6:return u.fn.call(u.context,e,n,r,o,s),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,d=u.length;for(c=0;c<d;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,r);break;default:if(!l)for(p=1,l=new Array(h-1);p<h;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},c.prototype.on=function(t,e,n){return a(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return a(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return l(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||l(this,o);else{for(var a=0,c=[],u=s.length;a<u;a++)(s[a].fn!==e||r&&!s[a].once||n&&s[a].context!==n)&&c.push(s[a]);c.length?this._events[o]=1===c.length?c[0]:c:l(this,o)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&l(this,e)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,t.exports=c},uvZ8:function(t,e,n){t.exports=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e,n){return(s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function a(t){var e="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return s(t,arguments,i(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,t)})(t)}function l(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}var c;"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),function(t){t[t.off=0]="off",t[t.error=1]="error",t[t.warning=2]="warning",t[t.info=3]="info",t[t.debug=4]="debug"}(c||(c={}));var u=c.off,h=function(){function t(t){this.t=t}t.getLevel=function(){return u},t.setLevel=function(t){return u=c[t]};var e=t.prototype;return e.error=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.i(console.error,c.error,e)},e.warn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.i(console.warn,c.warning,e)},e.info=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.i(console.info,c.info,e)},e.debug=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.i(console.log,c.debug,e)},e.i=function(e,n,r){n<=t.getLevel()&&e.apply(console,["["+this.t+"] "].concat(r))},t}(),p=T,d=b,f=y,m=_,g=S,v=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function y(t,e){for(var n,r=[],i=0,o=0,s="",a=e&&e.delimiter||"/",l=e&&e.whitelist||void 0,c=!1;null!==(n=v.exec(t));){var u=n[0],h=n[1],p=n.index;if(s+=t.slice(o,p),o=p+u.length,h)s+=h[1],c=!0;else{var d="",f=n[2],m=n[3],g=n[4],y=n[5];if(!c&&s.length){var b=s.length-1,_=s[b];(!l||l.indexOf(_)>-1)&&(d=_,s=s.slice(0,b))}s&&(r.push(s),s="",c=!1);var E=m||g,S=d||a;r.push({name:f||i++,prefix:d,delimiter:S,optional:"?"===y||"*"===y,repeat:"+"===y||"*"===y,pattern:E?w(E):"[^"+x(S===a?S:S+a)+"]+?"})}}return(s||o<t.length)&&r.push(s+t.substr(o)),r}function b(t,e){return function(n,r){var i=t.exec(n);if(!i)return!1;for(var o=i[0],s=i.index,a={},l=r&&r.decode||decodeURIComponent,c=1;c<i.length;c++)if(void 0!==i[c]){var u=e[c-1];a[u.name]=u.repeat?i[c].split(u.delimiter).map((function(t){return l(t,u)})):l(i[c],u)}return{path:o,index:s,params:a}}}function _(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",E(e)));return function(e,r){for(var i="",o=r&&r.encode||encodeURIComponent,s=!r||!1!==r.validate,a=0;a<t.length;a++){var l=t[a];if("string"!=typeof l){var c,u=e?e[l.name]:void 0;if(Array.isArray(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but got array');if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<u.length;h++){if(c=o(u[h],l),s&&!n[a].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'"');i+=(0===h?l.prefix:l.delimiter)+c}}else if("string"!=typeof u&&"number"!=typeof u&&"boolean"!=typeof u){if(!l.optional)throw new TypeError('Expected "'+l.name+'" to be '+(l.repeat?"an array":"a string"))}else{if(c=o(String(u),l),s&&!n[a].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but got "'+c+'"');i+=l.prefix+c}}else i+=l}return i}}function x(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function w(t){return t.replace(/([=!:$/()])/g,"\\$1")}function E(t){return t&&t.sensitive?"":"i"}function S(t,e,n){for(var r=(n=n||{}).strict,i=!1!==n.start,o=!1!==n.end,s=n.delimiter||"/",a=[].concat(n.endsWith||[]).map(x).concat("$").join("|"),l=i?"^":"",c=0;c<t.length;c++){var u=t[c];if("string"==typeof u)l+=x(u);else{var h=u.repeat?"(?:"+u.pattern+")(?:"+x(u.delimiter)+"(?:"+u.pattern+"))*":u.pattern;e&&e.push(u),l+=u.optional?u.prefix?"(?:"+x(u.prefix)+"("+h+"))?":"("+h+")?":x(u.prefix)+"("+h+")"}}if(o)r||(l+="(?:"+x(s)+")?"),l+="$"===a?"$":"(?="+a+")";else{var p=t[t.length-1],d="string"==typeof p?p[p.length-1]===s:void 0===p;r||(l+="(?:"+x(s)+"(?="+a+"))?"),d||(l+="(?="+x(s)+"|"+a+")")}return new RegExp(l,E(n))}function T(t,e,n){return t instanceof RegExp?function(t,e){if(!e)return t;var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return t}(t,e):Array.isArray(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(T(t[i],e,n).source);return new RegExp("(?:"+r.join("|")+")",E(n))}(t,e,n):function(t,e,n){return S(y(t,n),e,n)}(t,e,n)}p.match=function(t,e){var n=[];return b(T(t,n,e),n)},p.regexpToFunction=d,p.parse=f,p.compile=function(t,e){return _(y(t,e),e)},p.tokensToFunction=m,p.tokensToRegExp=g;var A={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},M=new(function(){function t(){this.o=A,this.u=new DOMParser}var e=t.prototype;return e.toString=function(t){return t.outerHTML},e.toDocument=function(t){return this.u.parseFromString(t,"text/html")},e.toElement=function(t){var e=document.createElement("div");return e.innerHTML=t,e},e.getHtml=function(t){return void 0===t&&(t=document),this.toString(t.documentElement)},e.getWrapper=function(t){return void 0===t&&(t=document),t.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},e.getContainer=function(t){return void 0===t&&(t=document),t.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},e.removeContainer=function(t){document.body.contains(t)&&t.parentNode.removeChild(t)},e.addContainer=function(t,e){var n=this.getContainer();n?this.s(t,n):e.appendChild(t)},e.getNamespace=function(t){void 0===t&&(t=document);var e=t.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return e?e.getAttribute(this.o.prefix+"-"+this.o.namespace):null},e.getHref=function(t){if(t.tagName&&"a"===t.tagName.toLowerCase()){if("string"==typeof t.href)return t.href;var e=t.getAttribute("href")||t.getAttribute("xlink:href");if(e)return this.resolveUrl(e.baseVal||e)}return null},e.resolveUrl=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.length;if(0===r)throw new Error("resolveUrl requires at least one argument; got none.");var i=document.createElement("base");if(i.href=arguments[0],1===r)return i.href;var o=document.getElementsByTagName("head")[0];o.insertBefore(i,o.firstChild);for(var s,a=document.createElement("a"),l=1;l<r;l++)a.href=arguments[l],i.href=s=a.href;return o.removeChild(i),s},e.s=function(t,e){e.parentNode.insertBefore(t,e.nextSibling)},t}()),C=new(function(){function t(){this.h=[],this.v=-1}var r=t.prototype;return r.init=function(t,e){this.l="barba";var n={ns:e,scroll:{x:window.scrollX,y:window.scrollY},url:t};this.h.push(n),this.v=0;var r={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(r,"",t)},r.change=function(t,e,n){if(n&&n.state){var r=n.state,i=r.index;e=this.m(this.v-i),this.replace(r.states),this.v=i}else this.add(t,e);return e},r.add=function(t,e){var n=this.size,r=this.p(e),i={ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:t};this.h.push(i),this.v=n;var o={from:this.l,index:n,states:[].concat(this.h)};switch(r){case"push":window.history&&window.history.pushState(o,"",t);break;case"replace":window.history&&window.history.replaceState(o,"",t)}},r.update=function(t,e){var r=e||this.v,i=n({},this.get(r),{},t);this.set(r,i)},r.remove=function(t){t?this.h.splice(t,1):this.h.pop(),this.v--},r.clear=function(){this.h=[],this.v=-1},r.replace=function(t){this.h=t},r.get=function(t){return this.h[t]},r.set=function(t,e){return this.h[t]=e},r.p=function(t){var e="push",n=t,r=A.prefix+"-"+A.history;return n.hasAttribute&&n.hasAttribute(r)&&(e=n.getAttribute(r)),e},r.m=function(t){return Math.abs(t)>1?t>0?"forward":"back":0===t?"popstate":t>0?"back":"forward"},e(t,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),t}()),P=function(t,e){try{var n=function(){if(!e.next.html)return Promise.resolve(t).then((function(t){var n=e.next;if(t){var r=M.toElement(t);n.namespace=M.getNamespace(r),n.container=M.getContainer(r),n.html=t,C.update({ns:n.namespace});var i=M.toDocument(t);document.title=i.title}}))}();return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(t){return Promise.reject(t)}},D=p,R={__proto__:null,update:P,nextTick:function(){return new Promise((function(t){window.requestAnimationFrame(t)}))},pathToRegexp:D},O=function(){return window.location.origin},I=function(t){return void 0===t&&(t=window.location.href),L(t).port},L=function(t){var e,n=t.match(/:\d+/);if(null===n)/^http/.test(t)&&(e=80),/^https/.test(t)&&(e=443);else{var r=n[0].substring(1);e=parseInt(r,10)}var i,o=t.replace(O(),""),s={},a=o.indexOf("#");a>=0&&(i=o.slice(a+1),o=o.slice(0,a));var l=o.indexOf("?");return l>=0&&(s=k(o.slice(l+1)),o=o.slice(0,l)),{hash:i,path:o,port:e,query:s}},k=function(t){return t.split("&").reduce((function(t,e){var n=e.split("=");return t[n[0]]=n[1],t}),{})},F=function(t){return void 0===t&&(t=window.location.href),t.replace(/(\/#.*|\/|#.*)$/,"")},N={__proto__:null,getHref:function(){return window.location.href},getOrigin:O,getPort:I,getPath:function(t){return void 0===t&&(t=window.location.href),L(t).path},parse:L,parseQuery:k,clean:F};function B(t,e,n){return void 0===e&&(e=2e3),new Promise((function(r,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE)if(200===o.status)r(o.responseText);else if(o.status){var e={status:o.status,statusText:o.statusText};n(t,e),i(e)}},o.ontimeout=function(){var r=new Error("Timeout error ["+e+"]");n(t,r),i(r)},o.onerror=function(){var e=new Error("Fetch error");n(t,e),i(e)},o.open("GET",t),o.timeout=e,o.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),o.setRequestHeader("x-barba","yes"),o.send()}))}var U=function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then};function G(t,e){return void 0===e&&(e={}),function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=!1,s=new Promise((function(n,i){e.async=function(){return o=!0,function(t,e){t?i(t):n(e)}};var s=t.apply(e,r);o||(U(s)?s.then(n,i):n(s))}));return s}}var z=new(function(t){function e(){var e;return(e=t.call(this)||this).logger=new h("@barba/core"),e.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],e.registered=new Map,e.init(),e}r(e,t);var n=e.prototype;return n.init=function(){var t=this;this.registered.clear(),this.all.forEach((function(e){t[e]||(t[e]=function(n,r){t.registered.has(e)||t.registered.set(e,new Set),t.registered.get(e).add({ctx:r||{},fn:n})})}))},n.do=function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(this.registered.has(t)){var o=Promise.resolve();return this.registered.get(t).forEach((function(t){o=o.then((function(){return G(t.fn,t.ctx).apply(void 0,r)}))})),o.catch((function(n){e.logger.debug("Hook error ["+t+"]"),e.logger.error(n)}))}return Promise.resolve()},n.clear=function(){var t=this;this.all.forEach((function(e){delete t[e]})),this.init()},n.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var t=[];this.registered.forEach((function(e,n){return t.push(n)})),this.logger.info("Registered hooks: "+t.join(","))},e}((function(){}))),H=function(){function t(t){if(this.P=[],"boolean"==typeof t)this.g=t;else{var e=Array.isArray(t)?t:[t];this.P=e.map((function(t){return D(t)}))}}return t.prototype.checkHref=function(t){if("boolean"==typeof this.g)return this.g;var e=L(t).path;return this.P.some((function(t){return null!==t.exec(e)}))},t}(),j=function(t){function e(e){var n;return(n=t.call(this,e)||this).k=new Map,n}r(e,t);var i=e.prototype;return i.set=function(t,e,n){return this.k.set(t,{action:n,request:e}),{action:n,request:e}},i.get=function(t){return this.k.get(t)},i.getRequest=function(t){return this.k.get(t).request},i.getAction=function(t){return this.k.get(t).action},i.has=function(t){return!this.checkHref(t)&&this.k.has(t)},i.delete=function(t){return this.k.delete(t)},i.update=function(t,e){var r=n({},this.k.get(t),{},e);return this.k.set(t,r),r},e}(H),V=function(){return!window.history.pushState},X=function(t){return!t.el||!t.href},W=function(t){var e=t.event;return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},q=function(t){var e=t.el;return e.hasAttribute("target")&&"_blank"===e.target},Y=function(t){var e=t.el;return void 0!==e.protocol&&window.location.protocol!==e.protocol||void 0!==e.hostname&&window.location.hostname!==e.hostname},$=function(t){var e=t.el;return void 0!==e.port&&I()!==I(e.href)},K=function(t){var e=t.el;return e.getAttribute&&"string"==typeof e.getAttribute("download")},Z=function(t){return t.el.hasAttribute(A.prefix+"-"+A.prevent)},J=function(t){return Boolean(t.el.closest("["+A.prefix+"-"+A.prevent+'="all"]'))},Q=function(t){var e=t.href;return F(e)===F()&&I(e)===I()},tt=function(t){function e(e){var n;return(n=t.call(this,e)||this).suite=[],n.tests=new Map,n.init(),n}r(e,t);var n=e.prototype;return n.init=function(){this.add("pushState",V),this.add("exists",X),this.add("newTab",W),this.add("blank",q),this.add("corsDomain",Y),this.add("corsPort",$),this.add("download",K),this.add("preventSelf",Z),this.add("preventAll",J),this.add("sameUrl",Q,!1)},n.add=function(t,e,n){void 0===n&&(n=!0),this.tests.set(t,e),n&&this.suite.push(t)},n.run=function(t,e,n,r){return this.tests.get(t)({el:e,event:n,href:r})},n.checkLink=function(t,e,n){var r=this;return this.suite.some((function(i){return r.run(i,t,e,n)}))},e}(H),et=function(t){function e(n,r){var i;void 0===r&&(r="Barba error");for(var o=arguments.length,s=new Array(o>2?o-2:0),a=2;a<o;a++)s[a-2]=arguments[a];return(i=t.call.apply(t,[this].concat(s))||this).error=n,i.label=r,Error.captureStackTrace&&Error.captureStackTrace(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i),e),i.name="BarbaError",i}return r(e,t),e}(a(Error)),nt=function(){function t(t){void 0===t&&(t=[]),this.logger=new h("@barba/core"),this.all=[],this.page=[],this.once=[],this.A=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],t&&(this.all=this.all.concat(t)),this.update()}var e=t.prototype;return e.add=function(t,e){switch(t){case"rule":this.A.splice(e.position||0,0,e.value);break;case"transition":default:this.all.push(e)}this.update()},e.resolve=function(t,e){var n=this;void 0===e&&(e={});var r=e.once?this.once:this.page;r=r.filter(e.self?function(t){return t.name&&"self"===t.name}:function(t){return!t.name||"self"!==t.name});var i=new Map,o=r.find((function(r){var o=!0,s={};return!(!e.self||"self"!==r.name)||(n.A.reverse().forEach((function(e){o&&(o=n.R(r,e,t,s),r.from&&r.to&&(o=n.R(r,e,t,s,"from")&&n.R(r,e,t,s,"to")),r.from&&!r.to&&(o=n.R(r,e,t,s,"from")),!r.from&&r.to&&(o=n.R(r,e,t,s,"to")))})),i.set(r,s),o)})),s=i.get(o),a=[];if(a.push(e.once?"once":"page"),e.self&&a.push("self"),s){var l,c=[o];Object.keys(s).length>0&&c.push(s),(l=this.logger).info.apply(l,["Transition found ["+a.join(",")+"]"].concat(c))}else this.logger.info("No transition found ["+a.join(",")+"]");return o},e.update=function(){var t=this;this.all=this.all.map((function(e){return t.T(e)})).sort((function(t,e){return t.priority-e.priority})).reverse().map((function(t){return delete t.priority,t})),this.page=this.all.filter((function(t){return void 0!==t.leave||void 0!==t.enter})),this.once=this.all.filter((function(t){return void 0!==t.once}))},e.R=function(t,e,n,r,i){var o=!0,s=!1,a=t,l=e.name,c=l,u=l,h=l,p=i?a[i]:a,d="to"===i?n.next:n.current;if(i?p&&p[l]:p[l]){switch(e.type){case"strings":default:var f=Array.isArray(p[c])?p[c]:[p[c]];d[c]&&-1!==f.indexOf(d[c])&&(s=!0),-1===f.indexOf(d[c])&&(o=!1);break;case"object":var m=Array.isArray(p[u])?p[u]:[p[u]];d[u]?(d[u].name&&-1!==m.indexOf(d[u].name)&&(s=!0),-1===m.indexOf(d[u].name)&&(o=!1)):o=!1;break;case"function":p[h](n)?s=!0:o=!1}s&&(i?(r[i]=r[i]||{},r[i][l]=a[i][l]):r[l]=a[l])}return o},e.O=function(t,e,n){var r=0;return(t[e]||t.from&&t.from[e]||t.to&&t.to[e])&&(r+=Math.pow(10,n),t.from&&t.from[e]&&(r+=1),t.to&&t.to[e]&&(r+=2)),r},e.T=function(t){var e=this;t.priority=0;var n=0;return this.A.forEach((function(r,i){n+=e.O(t,r.name,i+1)})),t.priority=n,t},t}(),rt=function(){function t(t){void 0===t&&(t=[]),this.logger=new h("@barba/core"),this.S=!1,this.store=new nt(t)}var n=t.prototype;return n.get=function(t,e){return this.store.resolve(t,e)},n.doOnce=function(t){var e=t.data,n=t.transition;try{var r=function(){i.S=!1},i=this,o=n||{};i.S=!0;var s=l((function(){return Promise.resolve(i.j("beforeOnce",e,o)).then((function(){return Promise.resolve(i.once(e,o)).then((function(){return Promise.resolve(i.j("afterOnce",e,o)).then((function(){}))}))}))}),(function(t){i.S=!1,i.logger.debug("Transition error [before/after/once]"),i.logger.error(t)}));return Promise.resolve(s&&s.then?s.then(r):r())}catch(t){return Promise.reject(t)}},n.doPage=function(t){var e=t.data,n=t.transition,r=t.page,i=t.wrapper;try{var o=function(t){if(s)return t;a.S=!1},s=!1,a=this,c=n||{},u=!0===c.sync||!1;a.S=!0;var h=l((function(){function t(){return Promise.resolve(a.j("before",e,c)).then((function(){function t(t){return Promise.resolve(a.remove(e)).then((function(){return Promise.resolve(a.j("after",e,c)).then((function(){}))}))}var n=function(){if(u)return l((function(){return Promise.resolve(a.add(e,i)).then((function(){return Promise.resolve(a.j("beforeLeave",e,c)).then((function(){return Promise.resolve(a.j("beforeEnter",e,c)).then((function(){return Promise.resolve(Promise.all([a.leave(e,c),a.enter(e,c)])).then((function(){return Promise.resolve(a.j("afterLeave",e,c)).then((function(){return Promise.resolve(a.j("afterEnter",e,c)).then((function(){}))}))}))}))}))}))}),(function(t){if(a.M(t))throw new et(t,"Transition error [sync]")}));var t=function(t){return l((function(){var t=function(){if(!1!==n)return Promise.resolve(a.add(e,i)).then((function(){return Promise.resolve(a.j("beforeEnter",e,c)).then((function(){return Promise.resolve(a.enter(e,c,n)).then((function(){return Promise.resolve(a.j("afterEnter",e,c)).then((function(){}))}))}))}))}();if(t&&t.then)return t.then((function(){}))}),(function(t){if(a.M(t))throw new et(t,"Transition error [before/after/enter]")}))},n=!1,o=l((function(){return Promise.resolve(a.j("beforeLeave",e,c)).then((function(){return Promise.resolve(Promise.all([a.leave(e,c),P(r,e)]).then((function(t){return t[0]}))).then((function(t){return n=t,Promise.resolve(a.j("afterLeave",e,c)).then((function(){}))}))}))}),(function(t){if(a.M(t))throw new et(t,"Transition error [before/after/leave]")}));return o&&o.then?o.then(t):t()}();return n&&n.then?n.then(t):t()}))}var n=function(){if(u)return Promise.resolve(P(r,e)).then((function(){}))}();return n&&n.then?n.then(t):t()}),(function(t){if(a.S=!1,t.name&&"BarbaError"===t.name)throw a.logger.debug(t.label),a.logger.error(t.error),t;throw a.logger.debug("Transition error [page]"),a.logger.error(t),t}));return Promise.resolve(h&&h.then?h.then(o):o(h))}catch(t){return Promise.reject(t)}},n.once=function(t,e){try{return Promise.resolve(z.do("once",t,e)).then((function(){return e.once?G(e.once,e)(t):Promise.resolve()}))}catch(t){return Promise.reject(t)}},n.leave=function(t,e){try{return Promise.resolve(z.do("leave",t,e)).then((function(){return e.leave?G(e.leave,e)(t):Promise.resolve()}))}catch(t){return Promise.reject(t)}},n.enter=function(t,e,n){try{return Promise.resolve(z.do("enter",t,e)).then((function(){return e.enter?G(e.enter,e)(t,n):Promise.resolve()}))}catch(t){return Promise.reject(t)}},n.add=function(t,e){try{return M.addContainer(t.next.container,e),z.do("nextAdded",t),Promise.resolve()}catch(t){return Promise.reject(t)}},n.remove=function(t){try{return M.removeContainer(t.current.container),z.do("currentRemoved",t),Promise.resolve()}catch(t){return Promise.reject(t)}},n.M=function(t){return t.message?!/Timeout error|Fetch error/.test(t.message):!t.status},n.j=function(t,e,n){try{return Promise.resolve(z.do(t,e,n)).then((function(){return n[t]?G(n[t],n)(e):Promise.resolve()}))}catch(t){return Promise.reject(t)}},e(t,[{key:"isRunning",get:function(){return this.S},set:function(t){this.S=t}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some((function(t){return"self"===t.name}))}},{key:"shouldWait",get:function(){return this.store.all.some((function(t){return t.to&&!t.to.route||t.sync}))}}]),t}(),it=function(){function t(t){var e=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,0!==t.length&&(t.forEach((function(t){e.byNamespace.set(t.namespace,t)})),this.names.forEach((function(t){z[t](e.L(t))})))}return t.prototype.L=function(t){var e=this;return function(n){var r=t.match(/enter/i)?n.next:n.current,i=e.byNamespace.get(r.namespace);return i&&i[t]?G(i[t],i)(n):Promise.resolve()}},t}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var ot={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}};return new(function(){function t(){this.version="2.9.7",this.schemaPage=ot,this.Logger=h,this.logger=new h("@barba/core"),this.plugins=[],this.hooks=z,this.dom=M,this.helpers=R,this.history=C,this.request=B,this.url=N}var r=t.prototype;return r.use=function(t,e){var n=this.plugins;n.indexOf(t)>-1?this.logger.warn("Plugin ["+t.name+"] already installed."):"function"==typeof t.install?(t.install(this,e),n.push(t)):this.logger.warn("Plugin ["+t.name+'] has no "install" method.')},r.init=function(t){var e=void 0===t?{}:t,r=e.transitions,i=void 0===r?[]:r,o=e.views,s=void 0===o?[]:o,a=e.schema,l=void 0===a?A:a,c=e.requestError,u=e.timeout,p=void 0===u?2e3:u,d=e.cacheIgnore,f=void 0!==d&&d,m=e.prefetchIgnore,g=void 0!==m&&m,v=e.preventRunning,y=void 0!==v&&v,b=e.prevent,_=void 0===b?null:b,x=e.debug,w=e.logLevel;if(h.setLevel(!0===(void 0!==x&&x)?"debug":void 0===w?"off":w),this.logger.info(this.version),Object.keys(l).forEach((function(t){A[t]&&(A[t]=l[t])})),this.$=c,this.timeout=p,this.cacheIgnore=f,this.prefetchIgnore=g,this.preventRunning=y,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var E=this.data.current;if(!E.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new j(f),this.prevent=new tt(g),this.transitions=new rt(i),this.views=new it(s),null!==_){if("function"!=typeof _)throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",_)}this.history.init(E.url.href,E.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach((function(t){return t.init()}));var S=this.data;S.trigger="barba",S.next=S.current,S.current=n({},this.schemaPage),this.hooks.do("ready",S),this.once(S),this.q()},r.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},r.force=function(t){window.location.assign(t)},r.go=function(t,e,n){var r;if(void 0===e&&(e="barba"),this.transitions.isRunning)this.force(t);else if(!(r="popstate"===e?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(t):this.prevent.run("sameUrl",null,null,t))||this.transitions.hasSelf)return e=this.history.change(t,e,n),n&&(n.stopPropagation(),n.preventDefault()),this.page(t,e,r)},r.once=function(t){try{var e=this;return Promise.resolve(e.hooks.do("beforeEnter",t)).then((function(){function n(){return Promise.resolve(e.hooks.do("afterEnter",t)).then((function(){}))}var r=function(){if(e.transitions.hasOnce){var n=e.transitions.get(t,{once:!0});return Promise.resolve(e.transitions.doOnce({transition:n,data:t})).then((function(){}))}}();return r&&r.then?r.then(n):n()}))}catch(t){return Promise.reject(t)}},r.page=function(t,e,r){try{var i=function(){var t=o.data;return Promise.resolve(o.hooks.do("page",t)).then((function(){var e=l((function(){var e=o.transitions.get(t,{once:!1,self:r});return Promise.resolve(o.transitions.doPage({data:t,page:s,transition:e,wrapper:o._})).then((function(){o.q()}))}),(function(){0===h.getLevel()&&o.force(t.current.url.href)}));if(e&&e.then)return e.then((function(){}))}))},o=this;o.data.next.url=n({href:t},o.url.parse(t)),o.data.trigger=e;var s=o.cache.has(t)?o.cache.update(t,{action:"click"}).request:o.cache.set(t,o.request(t,o.timeout,o.onRequestError.bind(o,e)),"click").request,a=function(){if(o.transitions.shouldWait)return Promise.resolve(P(s,o.data)).then((function(){}))}();return Promise.resolve(a&&a.then?a.then(i):i())}catch(t){return Promise.reject(t)}},r.onRequestError=function(t){this.transitions.isRunning=!1;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n[0],o=n[1],s=this.cache.getAction(i);return this.cache.delete(i),!(this.$&&!1===this.$(t,s,i,o)||("click"===s&&this.force(i),1))},r.prefetch=function(t){var e=this;this.cache.has(t)||this.cache.set(t,this.request(t,this.timeout,this.onRequestError.bind(this,"barba")).catch((function(t){e.logger.error(t)})),"prefetch")},r.F=function(){!0!==this.prefetchIgnore&&(document.addEventListener("mouseover",this.B),document.addEventListener("touchstart",this.B)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},r.H=function(){!0!==this.prefetchIgnore&&(document.removeEventListener("mouseover",this.B),document.removeEventListener("touchstart",this.B)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},r.B=function(t){var e=this,n=this.I(t);if(n){var r=this.dom.getHref(n);this.prevent.checkHref(r)||this.cache.has(r)||this.cache.set(r,this.request(r,this.timeout,this.onRequestError.bind(this,n)).catch((function(t){e.logger.error(t)})),"enter")}},r.U=function(t){var e=this.I(t);if(e)return this.transitions.isRunning&&this.preventRunning?(t.preventDefault(),void t.stopPropagation()):void this.go(this.dom.getHref(e),e,t)},r.D=function(t){this.go(this.url.getHref(),"popstate",t)},r.I=function(t){for(var e=t.target;e&&!this.dom.getHref(e);)e=e.parentNode;if(e&&!this.prevent.checkLink(e,t,this.dom.getHref(e)))return e},r.q=function(){var t=this.url.getHref(),e={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:n({href:t},this.url.parse(t))};this.C={current:e,next:n({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},e(t,[{key:"data",get:function(){return this.C}},{key:"wrapper",get:function(){return this._}}]),t}())}()},yLpj:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},ynzQ:function(t,e,n){"use strict";var r=n("EVdn"),i=n.n(r);window.$=window.jQuery=i.a},yrm9:function(t,e,n){var r;t.exports=(r=window.requestIdleCallback||function(t){var e=Date.now();return setTimeout((function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}),1)},new(function(){function t(){this.name="@barba/prefetch",this.version="2.1.10",this.toPrefetch=new Set}var e=t.prototype;return e.install=function(t,e){var n=void 0===e?{}:e,r=n.root,i=void 0===r?document.body:r,o=n.timeout,s=void 0===o?2e3:o;this.logger=new t.Logger(this.name),this.logger.info(this.version),this.barba=t,this.root=i,this.timeout=s},e.init=function(){var t=this;this.barba.prefetchIgnore?this.logger.warn("barba.prefetchIgnore is enabled"):this.barba.cacheIgnore?this.logger.warn("barba.cacheIgnore is enabled"):(this.observer=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting){var n=e.target,r=t.barba.dom.getHref(n);t.toPrefetch.has(r)&&(t.observer.unobserve(n),t.barba.cache.has(r)?t.barba.cache.update(r,{action:"prefetch"}):t.barba.cache.set(r,t.barba.request(r,t.barba.timeout,t.barba.onRequestError.bind(t.barba,"barba")).catch((function(e){t.logger.error(e)})),"prefetch"))}}))})),this.observe(),this.barba.hooks.after(this.observe,this))},e.observe=function(){var t=this;r((function(){t.root.querySelectorAll("a").forEach((function(e){var n=e,r=t.barba.dom.getHref(n);t.barba.cache.has(r)||t.barba.prevent.checkHref(r)||t.barba.prevent.checkLink(n,{},r)||(t.observer.observe(e),t.toPrefetch.add(r))}))}),{timeout:this.timeout})},t}()))},yt1c:function(t,e,n){t.exports=new(function(){function t(){this.name="@barba/router",this.version="2.1.10",this.routeNames=[],this.routesByName={}}var e=t.prototype;return e.install=function(t,e){var n=this,r=(void 0===e?{}:e).routes,i=void 0===r?[]:r;this.logger=new t.Logger(this.name),this.logger.info(this.version),this.barba=t,i.forEach((function(t){var e=t.name,r=t.path,i=[],o=n.barba.helpers.pathToRegexp(r,i);n.routeNames.indexOf(e)>-1?console.warn("[@barba/router] Duplicated route name ("+e+")"):(n.routeNames.push(e),n.routesByName[e]={keys:i,path:r,regex:o})})),t.schemaPage.route=void 0},e.init=function(){this.barba.transitions.store.add("rule",{position:1,value:{name:"route",type:"object"}}),this.barba.hooks.page(this.resolveRoutes,this),this.barba.hooks.reset(this.resolveRoutes,this)},e.resolveUrl=function(t){for(var e=this,n=this.barba.url.parse(t).path,r={name:name,params:{}},i=function(t,i){var o=e.routeNames[t],s=e.routesByName[o],a=s.keys,l=s.regex.exec(n);if(null!==l)return r.name=o,a.forEach((function(t,e){r.params[t.name]=l[e+1]})),{v:r}},o=0,s=this.routeNames.length;o<s;o++){var a=i(o);if("object"==typeof a)return a.v}return null},e.resolveRoutes=function(t){var e=t.current,n=t.next;e.route=e.url.href?this.resolveUrl(e.url.href):void 0,n.route=n.url.href?this.resolveUrl(n.url.href):void 0},t}())},"z/o8":function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"b",(function(){return zr})),n.d(e,"a",(function(){return zr}));var o,s,a,l,c,u,h,p,d,f,m,g,v,y,b,_={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},x={duration:.5,overwrite:!1,delay:0},w=1e8,E=2*Math.PI,S=E/4,T=0,A=Math.sqrt,M=Math.cos,C=Math.sin,P=function(t){return"string"==typeof t},D=function(t){return"function"==typeof t},R=function(t){return"number"==typeof t},O=function(t){return void 0===t},I=function(t){return"object"==typeof t},L=function(t){return!1!==t},k=function(){return"undefined"!=typeof window},F=function(t){return D(t)||P(t)},N="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},B=Array.isArray,U=/(?:-?\.?\d|\.)+/gi,G=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,z=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,H=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,j=/[+-]=-?[.\d]+/,V=/[^,'"\[\]\s]+/gi,X=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,W={},q={},Y=function(t){return(q=Et(t,W))&&En},$=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},K=function(t,e){return!e&&console.warn(t)},Z=function(t,e){return t&&(W[t]=e)&&q&&(q[t]=e)||W},J=function(){return 0},Q={suppressEvents:!0,isStart:!0,kill:!1},tt={suppressEvents:!0,kill:!1},et={suppressEvents:!0},nt={},rt=[],it={},ot={},st={},at=30,lt=[],ct="",ut=function(t){var e,n,r=t[0];if(I(r)||D(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(n=lt.length;n--&&!lt[n].targetTest(r););e=lt[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new Fe(t[n],e)))||t.splice(n,1);return t},ht=function(t){return t._gsap||ut(te(t))[0]._gsap},pt=function(t,e,n){return(n=t[e])&&D(n)?t[e]():O(n)&&t.getAttribute&&t.getAttribute(e)||n},dt=function(t,e){return(t=t.split(",")).forEach(e)||t},ft=function(t){return Math.round(1e5*t)/1e5||0},mt=function(t){return Math.round(1e7*t)/1e7||0},gt=function(t,e){var n=e.charAt(0),r=parseFloat(e.substr(2));return t=parseFloat(t),"+"===n?t+r:"-"===n?t-r:"*"===n?t*r:t/r},vt=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},yt=function(){var t,e,n=rt.length,r=rt.slice(0);for(it={},rt.length=0,t=0;t<n;t++)(e=r[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},bt=function(t,e,n,r){rt.length&&!s&&yt(),t.render(e,n,r||s&&e<0&&(t._initted||t._startAt)),rt.length&&!s&&yt()},_t=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(V).length<2?e:P(t)?t.trim():t},xt=function(t){return t},wt=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Et=function(t,e){for(var n in e)t[n]=e[n];return t},St=function t(e,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=I(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Tt=function(t,e){var n,r={};for(n in t)n in e||(r[n]=t[n]);return r},At=function(t){var e,n=t.parent||l,r=t.keyframes?(e=B(t.keyframes),function(t,n){for(var r in n)r in t||"duration"===r&&e||"ease"===r||(t[r]=n[r])}):wt;if(L(t.inherit))for(;n;)r(t,n.vars.defaults),n=n.parent||n._dp;return t},Mt=function(t,e,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var o,s=t[r];if(i)for(o=e[i];s&&s[i]>o;)s=s._prev;return s?(e._next=s._next,s._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=s,e.parent=e._dp=t,e},Ct=function(t,e,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=e._prev,o=e._next;i?i._next=o:t[n]===e&&(t[n]=o),o?o._prev=i:t[r]===e&&(t[r]=i),e._next=e._prev=e.parent=null},Pt=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Dt=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},Rt=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Ot=function(t,e,n,r){return t._startAt&&(s?t._startAt.revert(tt):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,r))},It=function(t){return t._repeat?Lt(t._tTime,t=t.duration()+t._rDelay)*t:0},Lt=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},kt=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Ft=function(t){return t._end=mt(t._start+(t._tDur/Math.abs(t._ts||t._rts||1e-8)||0))},Nt=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=mt(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Ft(t),n._dirty||Dt(n,t)),t},Bt=function(t,e){var n;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(n=kt(t.rawTime(),e),(!e._dur||$t(0,e.totalDuration(),n)-e._tTime>1e-8)&&e.render(n,!0)),Dt(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},Ut=function(t,e,n,r){return e.parent&&Pt(e),e._start=mt((R(n)?n:n||t!==l?Wt(t,n,e):t._time)+e._delay),e._end=mt(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Mt(t,e,"_first","_last",t._sort?"_start":0),Ht(e)||(t._recent=e),r||Bt(t,e),t._ts<0&&Nt(t,t._tTime),t},Gt=function(t,e){return(W.ScrollTrigger||$("scrollTrigger",e))&&W.ScrollTrigger.create(e,t)},zt=function(t,e,n,r,i){return Ve(t,e,i),t._initted?!n&&t._pt&&!s&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&d!==Ee.frame?(rt.push(t),t._lazy=[i,r],1):void 0:1},Ht=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},jt=function(t,e,n,r){var i=t._repeat,o=mt(e)||0,s=t._tTime/t._tDur;return s&&!r&&(t._time*=o/t._dur),t._dur=o,t._tDur=i?i<0?1e10:mt(o*(i+1)+t._rDelay*i):o,s>0&&!r&&Nt(t,t._tTime=t._tDur*s),t.parent&&Ft(t),n||Dt(t.parent,t),t},Vt=function(t){return t instanceof Be?Dt(t):jt(t,t._dur)},Xt={_start:0,endTime:J,totalDuration:J},Wt=function t(e,n,r){var i,o,s,a=e.labels,l=e._recent||Xt,c=e.duration()>=w?l.endTime(!1):e._dur;return P(n)&&(isNaN(n)||n in a)?(o=n.charAt(0),s="%"===n.substr(-1),i=n.indexOf("="),"<"===o||">"===o?(i>=0&&(n=n.replace(/=/,"")),("<"===o?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(s?(i<0?l:r).totalDuration()/100:1)):i<0?(n in a||(a[n]=c),a[n]):(o=parseFloat(n.charAt(i-1)+n.substr(i+1)),s&&r&&(o=o/100*(B(r)?r[0]:r).totalDuration()),i>1?t(e,n.substr(0,i-1),r)+o:c+o)):null==n?c:+n},qt=function(t,e,n){var r,i,o=R(e[1]),s=(o?2:1)+(t<2?0:1),a=e[s];if(o&&(a.duration=e[1]),a.parent=n,t){for(r=a,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=L(i.vars.inherit)&&i.parent;a.immediateRender=L(r.immediateRender),t<2?a.runBackwards=1:a.startAt=e[s-1]}return new $e(e[0],a,e[s+1])},Yt=function(t,e){return t||0===t?e(t):e},$t=function(t,e,n){return n<t?t:n>e?e:n},Kt=function(t,e){return P(t)&&(e=X.exec(t))?e[1]:""},Zt=[].slice,Jt=function(t,e){return t&&I(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&I(t[0]))&&!t.nodeType&&t!==c},Qt=function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var r;return P(t)&&!e||Jt(t,1)?(r=n).push.apply(r,te(t)):n.push(t)}))||n},te=function(t,e,n){return a&&!e&&a.selector?a.selector(t):!P(t)||n||!u&&Se()?B(t)?Qt(t,n):Jt(t)?Zt.call(t,0):t?[t]:[]:Zt.call((e||h).querySelectorAll(t),0)},ee=function(t){return t=te(t)[0]||K("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return te(e,n.querySelectorAll?n:n===t?K("Invalid scope")||h.createElement("div"):t)}},ne=function(t){return t.sort((function(){return.5-Math.random()}))},re=function(t){if(D(t))return t;var e=I(t)?t:{each:t},n=Re(e.ease),r=e.from||0,i=parseFloat(e.base)||0,o={},s=r>0&&r<1,a=isNaN(r)||s,l=e.axis,c=r,u=r;return P(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!s&&a&&(c=r[0],u=r[1]),function(t,s,h){var p,d,f,m,g,v,y,b,_,x=(h||e).length,E=o[x];if(!E){if(!(_="auto"===e.grid?0:(e.grid||[1,w])[1])){for(y=-w;y<(y=h[_++].getBoundingClientRect().left)&&_<x;);_<x&&_--}for(E=o[x]=[],p=a?Math.min(_,x)*c-.5:r%_,d=_===w?0:a?x*u/_-.5:r/_|0,y=0,b=w,v=0;v<x;v++)f=v%_-p,m=d-(v/_|0),E[v]=g=l?Math.abs("y"===l?m:f):A(f*f+m*m),g>y&&(y=g),g<b&&(b=g);"random"===r&&ne(E),E.max=y-b,E.min=b,E.v=x=(parseFloat(e.amount)||parseFloat(e.each)*(_>x?x-1:l?"y"===l?x/_:_:Math.max(_,x/_))||0)*("edges"===r?-1:1),E.b=x<0?i-x:i,E.u=Kt(e.amount||e.each)||0,n=n&&x<0?Pe(n):n}return x=(E[t]-E.min)/E.max||0,mt(E.b+(n?n(x):x)*E.v)+E.u}},ie=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var r=mt(Math.round(parseFloat(n)/t)*t*e);return(r-r%1)/e+(R(n)?0:Kt(n))}},oe=function(t,e){var n,r,i=B(t);return!i&&I(t)&&(n=i=t.radius||w,t.values?(t=te(t.values),(r=!R(t[0]))&&(n*=n)):t=ie(t.increment)),Yt(e,i?D(t)?function(e){return r=t(e),Math.abs(r-e)<=n?r:e}:function(e){for(var i,o,s=parseFloat(r?e.x:e),a=parseFloat(r?e.y:0),l=w,c=0,u=t.length;u--;)(i=r?(i=t[u].x-s)*i+(o=t[u].y-a)*o:Math.abs(t[u]-s))<l&&(l=i,c=u);return c=!n||l<=n?t[c]:e,r||c===e||R(e)?c:c+Kt(e)}:ie(t))},se=function(t,e,n,r){return Yt(B(t)?!e:!0===n?!!(n=0):!r,(function(){return B(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*r)/r}))},ae=function(t,e,n){return Yt(n,(function(n){return t[~~e(n)]}))},le=function(t){for(var e,n,r,i,o=0,s="";~(e=t.indexOf("random(",o));)r=t.indexOf(")",e),i="["===t.charAt(e+7),n=t.substr(e+7,r-e-7).match(i?V:U),s+=t.substr(o,e-o)+se(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),o=r+1;return s+t.substr(o,t.length-o)},ce=function(t,e,n,r,i){var o=e-t,s=r-n;return Yt(i,(function(e){return n+((e-t)/o*s||0)}))},ue=function(t,e,n){var r,i,o,s=t.labels,a=w;for(r in s)(i=s[r]-e)<0==!!n&&i&&a>(i=Math.abs(i))&&(o=r,a=i);return o},he=function(t,e,n){var r,i,o,s=t.vars,l=s[e],c=a,u=t._ctx;if(l)return r=s[e+"Params"],i=s.callbackScope||t,n&&rt.length&&yt(),u&&(a=u),o=r?l.apply(i,r):l.call(i),a=c,o},pe=function(t){return Pt(t),t.scrollTrigger&&t.scrollTrigger.kill(!!s),t.progress()<1&&he(t,"onInterrupt"),t},de=[],fe=function(t){if(k()&&t){var e=(t=!t.name&&t.default||t).name,n=D(t),r=e&&!n&&t.init?function(){this._props=[]}:t,i={init:J,render:on,add:He,kill:an,modifier:sn,rawVars:0},o={targetTest:0,get:0,getSetter:tn,aliases:{},register:0};if(Se(),t!==r){if(ot[e])return;wt(r,wt(Tt(t,i),o)),Et(r.prototype,Et(i,Tt(t,o))),ot[r.prop=e]=r,t.targetTest&&(lt.push(r),nt[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}Z(e,r),t.register&&t.register(En,r,un)}else t&&de.push(t)},me={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ge=function(t,e,n){return 255*(6*(t+=t<0?1:t>1?-1:0)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)+.5|0},ve=function(t,e,n){var r,i,o,s,a,l,c,u,h,p,d=t?R(t)?[t>>16,t>>8&255,255&t]:0:me.black;if(!d){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),me[t])d=me[t];else if("#"===t.charAt(0)){if(t.length<6&&(r=t.charAt(1),i=t.charAt(2),o=t.charAt(3),t="#"+r+r+i+i+o+o+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(d=parseInt(t.substr(1,6),16))>>16,d>>8&255,255&d,parseInt(t.substr(7),16)/255];d=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t]}else if("hsl"===t.substr(0,3))if(d=p=t.match(U),e){if(~t.indexOf("="))return d=t.match(G),n&&d.length<4&&(d[3]=1),d}else s=+d[0]%360/360,a=+d[1]/100,r=2*(l=+d[2]/100)-(i=l<=.5?l*(a+1):l+a-l*a),d.length>3&&(d[3]*=1),d[0]=ge(s+1/3,r,i),d[1]=ge(s,r,i),d[2]=ge(s-1/3,r,i);else d=t.match(U)||me.transparent;d=d.map(Number)}return e&&!p&&(r=d[0]/255,i=d[1]/255,o=d[2]/255,l=((c=Math.max(r,i,o))+(u=Math.min(r,i,o)))/2,c===u?s=a=0:(h=c-u,a=l>.5?h/(2-c-u):h/(c+u),s=c===r?(i-o)/h+(i<o?6:0):c===i?(o-r)/h+2:(r-i)/h+4,s*=60),d[0]=~~(s+.5),d[1]=~~(100*a+.5),d[2]=~~(100*l+.5)),n&&d.length<4&&(d[3]=1),d},ye=function(t){var e=[],n=[],r=-1;return t.split(_e).forEach((function(t){var i=t.match(z)||[];e.push.apply(e,i),n.push(r+=i.length+1)})),e.c=n,e},be=function(t,e,n){var r,i,o,s,a="",l=(t+a).match(_e),c=e?"hsla(":"rgba(",u=0;if(!l)return t;if(l=l.map((function(t){return(t=ve(t,e,1))&&c+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(o=ye(t),(r=n.c).join(a)!==o.c.join(a)))for(s=(i=t.replace(_e,"1").split(z)).length-1;u<s;u++)a+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(o.length?o:l.length?l:n).shift());if(!i)for(s=(i=t.split(_e)).length-1;u<s;u++)a+=i[u]+l[u];return a+i[s]},_e=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in me)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),xe=/hsl[a]?\(/,we=function(t){var e,n=t.join(" ");if(_e.lastIndex=0,_e.test(n))return e=xe.test(n),t[1]=be(t[1],e),t[0]=be(t[0],e,ye(t[1])),!0},Ee=function(){var t,e,n,r,i,o,s=Date.now,a=500,l=33,d=s(),f=d,g=1e3/240,v=g,y=[],b=function n(c){var u,h,p,m,b=s()-f,_=!0===c;if(b>a&&(d+=b-l),((u=(p=(f+=b)-d)-v)>0||_)&&(m=++r.frame,i=p-1e3*r.time,r.time=p/=1e3,v+=u+(u>=g?4:g-u),h=1),_||(t=e(n)),h)for(o=0;o<y.length;o++)y[o](p,i,m,c)};return r={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(t){return i/(1e3/(t||60))},wake:function(){p&&(!u&&k()&&(c=u=window,h=c.document||{},W.gsap=En,(c.gsapVersions||(c.gsapVersions=[])).push(En.version),Y(q||c.GreenSockGlobals||!c.gsap&&c||{}),n=c.requestAnimationFrame,de.forEach(fe)),t&&r.sleep(),e=n||function(t){return setTimeout(t,v-1e3*r.time+1|0)},m=1,b(2))},sleep:function(){(n?c.cancelAnimationFrame:clearTimeout)(t),m=0,e=J},lagSmoothing:function(t,e){a=t||1/0,l=Math.min(e||33,a)},fps:function(t){g=1e3/(t||240),v=1e3*r.time+g},add:function(t,e,n){var i=e?function(e,n,o,s){t(e,n,o,s),r.remove(i)}:t;return r.remove(t),y[n?"unshift":"push"](i),Se(),i},remove:function(t,e){~(e=y.indexOf(t))&&y.splice(e,1)&&o>=e&&o--},_listeners:y}}(),Se=function(){return!m&&Ee.wake()},Te={},Ae=/^[\d.\-M][\d.\-,\s]/,Me=/["']/g,Ce=function(t){for(var e,n,r,i={},o=t.substr(1,t.length-3).split(":"),s=o[0],a=1,l=o.length;a<l;a++)n=o[a],e=a!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,e),i[s]=isNaN(r)?r.replace(Me,"").trim():+r,s=n.substr(e+1).trim();return i},Pe=function(t){return function(e){return 1-t(1-e)}},De=function t(e,n){for(var r,i=e._first;i;)i instanceof Be?t(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?t(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Re=function(t,e){return t&&(D(t)?t:Te[t]||function(t){var e,n,r,i,o=(t+"").split("("),s=Te[o[0]];return s&&o.length>1&&s.config?s.config.apply(null,~t.indexOf("{")?[Ce(o[1])]:(e=t,n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n),e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)).split(",").map(_t)):Te._CE&&Ae.test(t)?Te._CE("",t):s}(t))||e},Oe=function(t,e,n,r){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,o={easeIn:e,easeOut:n,easeInOut:r};return dt(t,(function(t){for(var e in Te[t]=W[t]=o,Te[i=t.toLowerCase()]=n,o)Te[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Te[t+"."+e]=o[e]})),o},Ie=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Le=function t(e,n,r){var i=n>=1?n:1,o=(r||(e?.3:.45))/(n<1?n:1),s=o/E*(Math.asin(1/i)||0),a=function(t){return 1===t?1:i*Math.pow(2,-10*t)*C((t-s)*o)+1},l="out"===e?a:"in"===e?function(t){return 1-a(1-t)}:Ie(a);return o=E/o,l.config=function(n,r){return t(e,n,r)},l},ke=function t(e,n){void 0===n&&(n=1.70158);var r=function(t){return t?--t*t*((n+1)*t+n)+1:0},i="out"===e?r:"in"===e?function(t){return 1-r(1-t)}:Ie(r);return i.config=function(n){return t(e,n)},i};dt("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;Oe(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),Te.Linear.easeNone=Te.none=Te.Linear.easeIn,Oe("Elastic",Le("in"),Le("out"),Le()),g=7.5625,y=1/(v=2.75),Oe("Bounce",(function(t){return 1-b(1-t)}),b=function(t){return t<y?g*t*t:t<.7272727272727273?g*Math.pow(t-1.5/v,2)+.75:t<.9090909090909092?g*(t-=2.25/v)*t+.9375:g*Math.pow(t-2.625/v,2)+.984375}),Oe("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),Oe("Circ",(function(t){return-(A(1-t*t)-1)})),Oe("Sine",(function(t){return 1===t?1:1-M(t*S)})),Oe("Back",ke("in"),ke("out"),ke()),Te.SteppedEase=Te.steps=W.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,r=t+(e?0:1),i=e?1:0;return function(t){return((r*$t(0,1-1e-8,t)|0)+i)*n}}},x.ease=Te["quad.out"],dt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return ct+=t+","+t+"Params,"}));var Fe=function(t,e){this.id=T++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:pt,this.set=e?e.getSetter:tn},Ne=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,jt(this,+t.duration,1,1),this.data=t.data,a&&(this._ctx=a,a.data.push(this)),m||Ee.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,jt(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Se(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Nt(this,t),!n._dp||n.parent||Bt(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Ut(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&1e-8===Math.abs(this._zTime)||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),bt(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+It(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+It(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?Lt(this._tTime,n)+1:1},e.timeScale=function(t,e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var n=this.parent&&this._ts?kt(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime($t(-Math.abs(this._delay),this._tDur,n),!1!==e),Ft(this),Rt(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Se(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&1e-8!==Math.abs(this._zTime)&&(this._tTime-=1e-8)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Ut(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(L(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?kt(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=et);var e=s;return s=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),s=e,this},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Vt(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,Vt(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Wt(this,t),L(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,L(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-1e-8))},e.eventCallback=function(t,e,n){var r=this.vars;return arguments.length>1?(e?(r[t]=e,n&&(r[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise((function(n){var r=D(t)?t:xt,i=function(){var t=e.then;e.then=null,D(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),n(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i}))},e.kill=function(){pe(this)},t}();wt(Ne.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Be=function(t){function e(e,n){var i;return void 0===e&&(e={}),(i=t.call(this,e)||this).labels={},i.smoothChildTiming=!!e.smoothChildTiming,i.autoRemoveChildren=!!e.autoRemoveChildren,i._sort=L(e.sortChildren),l&&Ut(e.parent||l,r(i),n),e.reversed&&i.reverse(),e.paused&&i.paused(!0),e.scrollTrigger&&Gt(r(i),e.scrollTrigger),i}i(e,t);var n=e.prototype;return n.to=function(t,e,n){return qt(0,arguments,this),this},n.from=function(t,e,n){return qt(1,arguments,this),this},n.fromTo=function(t,e,n,r){return qt(2,arguments,this),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,At(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new $e(t,e,Wt(this,n),1),this},n.call=function(t,e,n){return Ut(this,$e.delayedCall(0,t,e),n)},n.staggerTo=function(t,e,n,r,i,o,s){return n.duration=e,n.stagger=n.stagger||r,n.onComplete=o,n.onCompleteParams=s,n.parent=this,new $e(t,n,Wt(this,i)),this},n.staggerFrom=function(t,e,n,r,i,o,s){return n.runBackwards=1,At(n).immediateRender=L(n.immediateRender),this.staggerTo(t,e,n,r,i,o,s)},n.staggerFromTo=function(t,e,n,r,i,o,s,a){return r.startAt=n,At(r).immediateRender=L(r.immediateRender),this.staggerTo(t,e,r,i,o,s,a)},n.render=function(t,e,n){var r,i,o,a,c,u,h,p,d,f,m,g,v=this._time,y=this._dirty?this.totalDuration():this._tDur,b=this._dur,_=t<=0?0:mt(t),x=this._zTime<0!=t<0&&(this._initted||!b);if(this!==l&&_>y&&t>=0&&(_=y),_!==this._tTime||n||x){if(v!==this._time&&b&&(_+=this._time-v,t+=this._time-v),r=_,d=this._start,u=!(p=this._ts),x&&(b||(v=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(m=this._yoyo,c=b+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*c+t,e,n);if(r=mt(_%c),_===y?(a=this._repeat,r=b):((a=~~(_/c))&&a===_/c&&(r=b,a--),r>b&&(r=b)),f=Lt(this._tTime,c),!v&&this._tTime&&f!==a&&this._tTime-f*c-this._dur<=0&&(f=a),m&&1&a&&(r=b-r,g=1),a!==f&&!this._lock){var w=m&&1&f,E=w===(m&&1&a);if(a<f&&(w=!w),v=w?0:_%b?b:_,this._lock=1,this.render(v||(g?0:mt(a*c)),e,!b)._lock=0,this._tTime=_,!e&&this.parent&&he(this,"onRepeat"),this.vars.repeatRefresh&&!g&&(this.invalidate()._lock=1),v&&v!==this._time||u!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(b=this._dur,y=this._tDur,E&&(this._lock=2,v=w?b:-1e-4,this.render(v,!0),this.vars.repeatRefresh&&!g&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;De(this,g)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(t,e,n){var r;if(n>e)for(r=t._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,mt(v),mt(r)))&&(_-=r-(r=h._start)),this._tTime=_,this._time=r,this._act=!p,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,v=0),!v&&r&&!e&&!a&&(he(this,"onStart"),this._tTime!==_))return this;if(r>=v&&t>=0)for(i=this._first;i;){if(o=i._next,(i._act||r>=i._start)&&i._ts&&h!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!u){h=0,o&&(_+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var S=t<0?t:r;i;){if(o=i._prev,(i._act||S<=i._end)&&i._ts&&h!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(S-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(S-i._start)*i._ts,e,n||s&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!u){h=0,o&&(_+=this._zTime=S?-1e-8:1e-8);break}}i=o}}if(h&&!e&&(this.pause(),h.render(r>=v?0:-1e-8)._zTime=r>=v?1:-1,this._ts))return this._start=d,Ft(this),this.render(t,e,n);this._onUpdate&&!e&&he(this,"onUpdate",!0),(_===y&&this._tTime>=this.totalDuration()||!_&&v)&&(d!==this._start&&Math.abs(p)===Math.abs(this._ts)||this._lock||((t||!b)&&(_===y&&this._ts>0||!_&&this._ts<0)&&Pt(this,1),e||t<0&&!v||!_&&!v&&y||(he(this,_===y&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_<y&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(R(e)||(e=Wt(this,e,t)),!(t instanceof Ne)){if(B(t))return t.forEach((function(t){return n.add(t,e)})),this;if(P(t))return this.addLabel(t,e);if(!D(t))return this;t=$e.delayedCall(0,t)}return this!==t?Ut(this,t,e):this},n.getChildren=function(t,e,n,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=-w);for(var i=[],o=this._first;o;)o._start>=r&&(o instanceof $e?e&&i.push(o):(n&&i.push(o),t&&i.push.apply(i,o.getChildren(!0,e,n)))),o=o._next;return i},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return P(t)?this.removeLabel(t):D(t)?this.killTweensOf(t):(Ct(this,t),t===this._recent&&(this._recent=this._last),Dt(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=mt(Ee.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=Wt(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var r=$e.delayedCall(0,e||J,n);return r.data="isPause",this._hasPause=1,Ut(this,r,Wt(this,t))},n.removePause=function(t){var e=this._first;for(t=Wt(this,t);e;)e._start===t&&"isPause"===e.data&&Pt(e),e=e._next},n.killTweensOf=function(t,e,n){for(var r=this.getTweensOf(t,n),i=r.length;i--;)Ue!==r[i]&&r[i].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,r=[],i=te(t),o=this._first,s=R(e);o;)o instanceof $e?vt(o._targets,i)&&(s?(!Ue||o._initted&&o._ts)&&o.globalTime(0)<=e&&o.globalTime(o.totalDuration())>e:!e||o.isActive())&&r.push(o):(n=o.getTweensOf(i,e)).length&&r.push.apply(r,n),o=o._next;return r},n.tweenTo=function(t,e){e=e||{};var n,r=this,i=Wt(r,t),o=e,s=o.startAt,a=o.onStart,l=o.onStartParams,c=o.immediateRender,u=$e.to(r,wt({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale())||1e-8,onStart:function(){if(r.pause(),!n){var t=e.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale());u._dur!==t&&jt(u,t,0,1).render(u._time,!0,!0),n=1}a&&a.apply(u,l||[])}},e));return c?u.render(0):u},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,wt({startAt:{time:Wt(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),ue(this,Wt(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),ue(this,Wt(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+1e-8)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var r,i=this._first,o=this.labels;i;)i._start>=n&&(i._start+=t,i._end+=t),i=i._next;if(e)for(r in o)o[r]>=n&&(o[r]+=t);return Dt(this)},n.invalidate=function(e){var n=this._first;for(this._lock=0;n;)n.invalidate(e),n=n._next;return t.prototype.invalidate.call(this,e)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Dt(this)},n.totalDuration=function(t){var e,n,r,i=0,o=this,s=o._last,a=w;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-t:t));if(o._dirty){for(r=o.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),(n=s._start)>a&&o._sort&&s._ts&&!o._lock?(o._lock=1,Ut(o,s,n-s._delay,1)._lock=0):a=n,n<0&&s._ts&&(i-=n,(!r&&!o._dp||r&&r.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-Infinity),a=0),s._end>i&&s._ts&&(i=s._end),s=e;jt(o,o===l&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(t){if(l._ts&&(bt(l,kt(t,l)),d=Ee.frame),Ee.frame>=at){at+=_.autoSleep||120;var e=l._first;if((!e||!e._ts)&&_.autoSleep&&Ee._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Ee.sleep()}}},e}(Ne);wt(Be.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ue,Ge,ze=function(t,e,n,r,i,o,s){var a,l,c,u,h,p,d,f,m=new un(this._pt,t,e,0,1,rn,null,i),g=0,v=0;for(m.b=n,m.e=r,n+="",(d=~(r+="").indexOf("random("))&&(r=le(r)),o&&(o(f=[n,r],t,e),n=f[0],r=f[1]),l=n.match(H)||[];a=H.exec(r);)u=a[0],h=r.substring(g,a.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),u!==l[v++]&&(p=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:h||1===v?h:",",s:p,c:"="===u.charAt(1)?gt(p,u)-p:parseFloat(u)-p,m:c&&c<4?Math.round:0},g=H.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=s,(j.test(r)||d)&&(m.e=0),this._pt=m,m},He=function(t,e,n,r,i,o,s,a,l,c){D(r)&&(r=r(i||0,t,o));var u,h=t[e],p="get"!==n?n:D(h)?l?t[e.indexOf("set")||!D(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():h,d=D(h)?l?Je:Ze:Ke;if(P(r)&&(~r.indexOf("random(")&&(r=le(r)),"="===r.charAt(1)&&((u=gt(p,r)+(Kt(p)||0))||0===u)&&(r=u)),!c||p!==r||Ge)return isNaN(p*r)||""===r?(!h&&!(e in t)&&$(e,r),ze.call(this,t,e,p,r,d,a||_.stringFilter,l)):(u=new un(this._pt,t,e,+p||0,r-(p||0),"boolean"==typeof h?nn:en,0,d),l&&(u.fp=l),s&&u.modifier(s,this,t),this._pt=u)},je=function(t,e,n,r,i,o){var s,a,l,c;if(ot[t]&&!1!==(s=new ot[t]).init(i,s.rawVars?e[t]:function(t,e,n,r,i){if(D(t)&&(t=We(t,i,e,n,r)),!I(t)||t.style&&t.nodeType||B(t)||N(t))return P(t)?We(t,i,e,n,r):t;var o,s={};for(o in t)s[o]=We(t[o],i,e,n,r);return s}(e[t],r,i,o,n),n,r,o)&&(n._pt=a=new un(n._pt,i,t,0,1,s.render,s,0,s.priority),n!==f))for(l=n._ptLookup[n._targets.indexOf(i)],c=s._props.length;c--;)l[s._props[c]]=a;return s},Ve=function t(e,n,r){var i,a,c,u,h,p,d,f,m,g,v,y,b,_=e.vars,E=_.ease,S=_.startAt,T=_.immediateRender,A=_.lazy,M=_.onUpdate,C=_.runBackwards,P=_.yoyoEase,D=_.keyframes,R=_.autoRevert,O=e._dur,I=e._startAt,k=e._targets,F=e.parent,N=F&&"nested"===F.data?F.vars.targets:k,B="auto"===e._overwrite&&!o,U=e.timeline;if(U&&(!D||!E)&&(E="none"),e._ease=Re(E,x.ease),e._yEase=P?Pe(Re(!0===P?E:P,x.ease)):0,P&&e._yoyo&&!e._repeat&&(P=e._yEase,e._yEase=e._ease,e._ease=P),e._from=!U&&!!_.runBackwards,!U||D&&!_.stagger){if(y=(f=k[0]?ht(k[0]).harness:0)&&_[f.prop],i=Tt(_,nt),I&&(I._zTime<0&&I.progress(1),n<0&&C&&T&&!R?I.render(-1,!0):I.revert(C&&O?tt:Q),I._lazy=0),S){if(Pt(e._startAt=$e.set(k,wt({data:"isStart",overwrite:!1,parent:F,immediateRender:!0,lazy:!I&&L(A),startAt:null,delay:0,onUpdate:M&&function(){return he(e,"onUpdate")},stagger:0},S))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(s||!T&&!R)&&e._startAt.revert(tt),T&&O&&n<=0&&r<=0)return void(n&&(e._zTime=n))}else if(C&&O&&!I)if(n&&(T=!1),c=wt({overwrite:!1,data:"isFromStart",lazy:T&&!I&&L(A),immediateRender:T,stagger:0,parent:F},i),y&&(c[f.prop]=y),Pt(e._startAt=$e.set(k,c)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(s?e._startAt.revert(tt):e._startAt.render(-1,!0)),e._zTime=n,T){if(!n)return}else t(e._startAt,1e-8,1e-8);for(e._pt=e._ptCache=0,A=O&&L(A)||A&&!O,a=0;a<k.length;a++){if(d=(h=k[a])._gsap||ut(k)[a]._gsap,e._ptLookup[a]=g={},it[d.id]&&rt.length&&yt(),v=N===k?a:N.indexOf(h),f&&!1!==(m=new f).init(h,y||i,e,v,N)&&(e._pt=u=new un(e._pt,h,m.name,0,1,m.render,m,0,m.priority),m._props.forEach((function(t){g[t]=u})),m.priority&&(p=1)),!f||y)for(c in i)ot[c]&&(m=je(c,i,e,v,h,N))?m.priority&&(p=1):g[c]=u=He.call(e,h,c,"get",i[c],v,N,0,_.stringFilter);e._op&&e._op[a]&&e.kill(h,e._op[a]),B&&e._pt&&(Ue=e,l.killTweensOf(h,g,e.globalTime(n)),b=!e.parent,Ue=0),e._pt&&A&&(it[d.id]=1)}p&&cn(e),e._onInit&&e._onInit(e)}e._onUpdate=M,e._initted=(!e._op||e._pt)&&!b,D&&n<=0&&U.render(w,!0,!0)},Xe=function(t,e,n,r){var i,o,s=e.ease||r||"power1.inOut";if(B(e))o=n[t]||(n[t]=[]),e.forEach((function(t,n){return o.push({t:n/(e.length-1)*100,v:t,e:s})}));else for(i in e)o=n[i]||(n[i]=[]),"ease"===i||o.push({t:parseFloat(t),v:e[i],e:s})},We=function(t,e,n,r,i){return D(t)?t.call(e,n,r,i):P(t)&&~t.indexOf("random(")?le(t):t},qe=ct+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Ye={};dt(qe+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return Ye[t]=1}));var $e=function(t){function e(e,n,i,s){var a;"number"==typeof n&&(i.duration=n,n=i,i=null);var c,u,h,p,d,f,m,g,v=(a=t.call(this,s?n:At(n))||this).vars,y=v.duration,b=v.delay,x=v.immediateRender,w=v.stagger,E=v.overwrite,S=v.keyframes,T=v.defaults,A=v.scrollTrigger,M=v.yoyoEase,C=n.parent||l,P=(B(e)||N(e)?R(e[0]):"length"in n)?[e]:te(e);if(a._targets=P.length?ut(P):K("GSAP target "+e+" not found. https://gsap.com",!_.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=E,S||w||F(y)||F(b)){if(n=a.vars,(c=a.timeline=new Be({data:"nested",defaults:T||{},targets:C&&"nested"===C.data?C.vars.targets:P})).kill(),c.parent=c._dp=r(a),c._start=0,w||F(y)||F(b)){if(p=P.length,m=w&&re(w),I(w))for(d in w)~qe.indexOf(d)&&(g||(g={}),g[d]=w[d]);for(u=0;u<p;u++)(h=Tt(n,Ye)).stagger=0,M&&(h.yoyoEase=M),g&&Et(h,g),f=P[u],h.duration=+We(y,r(a),u,f,P),h.delay=(+We(b,r(a),u,f,P)||0)-a._delay,!w&&1===p&&h.delay&&(a._delay=b=h.delay,a._start+=b,h.delay=0),c.to(f,h,m?m(u,f,P):0),c._ease=Te.none;c.duration()?y=b=0:a.timeline=0}else if(S){At(wt(c.vars.defaults,{ease:"none"})),c._ease=Re(S.ease||n.ease||"none");var D,O,k,U=0;if(B(S))S.forEach((function(t){return c.to(P,t,">")})),c.duration();else{for(d in h={},S)"ease"===d||"easeEach"===d||Xe(d,S[d],h,S.easeEach);for(d in h)for(D=h[d].sort((function(t,e){return t.t-e.t})),U=0,u=0;u<D.length;u++)(k={ease:(O=D[u]).e,duration:(O.t-(u?D[u-1].t:0))/100*y})[d]=O.v,c.to(P,k,U),U+=k.duration;c.duration()<y&&c.to({},{duration:y-c.duration()})}}y||a.duration(y=c.duration())}else a.timeline=0;return!0!==E||o||(Ue=r(a),l.killTweensOf(P),Ue=0),Ut(C,r(a),i),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(x||!y&&!S&&a._start===mt(C._time)&&L(x)&&function t(e){return!e||e._ts&&t(e.parent)}(r(a))&&"nested"!==C.data)&&(a._tTime=-1e-8,a.render(Math.max(0,-b)||0)),A&&Gt(r(a),A),a}i(e,t);var n=e.prototype;return n.render=function(t,e,n){var r,i,o,a,l,c,u,h,p,d=this._time,f=this._tDur,m=this._dur,g=t<0,v=t>f-1e-8&&!g?f:t<1e-8?0:t;if(m){if(v!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g){if(r=v,h=this.timeline,this._repeat){if(a=m+this._rDelay,this._repeat<-1&&g)return this.totalTime(100*a+t,e,n);if(r=mt(v%a),v===f?(o=this._repeat,r=m):((o=~~(v/a))&&o===mt(v/a)&&(r=m,o--),r>m&&(r=m)),(c=this._yoyo&&1&o)&&(p=this._yEase,r=m-r),l=Lt(this._tTime,a),r===d&&!n&&this._initted&&o===l)return this._tTime=v,this;o!==l&&(h&&this._yEase&&De(h,c),this.vars.repeatRefresh&&!c&&!this._lock&&this._time!==m&&this._initted&&(this._lock=n=1,this.render(mt(a*o),!0).invalidate()._lock=0))}if(!this._initted){if(zt(this,g?t:r,n,e,v))return this._tTime=0,this;if(!(d===this._time||n&&this.vars.repeatRefresh&&o!==l))return this;if(m!==this._dur)return this.render(t,e,n)}if(this._tTime=v,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(p||this._ease)(r/m),this._from&&(this.ratio=u=1-u),r&&!d&&!e&&!o&&(he(this,"onStart"),this._tTime!==v))return this;for(i=this._pt;i;)i.r(u,i.d),i=i._next;h&&h.render(t<0?t:!r&&c?-1e-8:h._dur*h._ease(r/this._dur),e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(g&&Ot(this,t,0,n),he(this,"onUpdate")),this._repeat&&o!==l&&this.vars.onRepeat&&!e&&this.parent&&he(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(g&&!this._onUpdate&&Ot(this,t,0,!0),(t||!m)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Pt(this,1),e||g&&!d||!(v||d||c)||(he(this,v===f?"onComplete":"onReverseComplete",!0),this._prom&&!(v<f&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,r){var i,o,a,l=t.ratio,c=e<0||!e&&(!t._start&&function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))}(t)&&(t._initted||!Ht(t))||(t._ts<0||t._dp._ts<0)&&!Ht(t))?0:1,u=t._rDelay,h=0;if(u&&t._repeat&&(h=$t(0,t._tDur,e),o=Lt(h,u),t._yoyo&&1&o&&(c=1-c),o!==Lt(t._tTime,u)&&(l=1-c,t.vars.repeatRefresh&&t._initted&&t.invalidate())),c!==l||s||r||1e-8===t._zTime||!e&&t._zTime){if(!t._initted&&zt(t,e,r,n,h))return;for(a=t._zTime,t._zTime=e||(n?1e-8:0),n||(n=e&&!a),t.ratio=c,t._from&&(c=1-c),t._time=0,t._tTime=h,i=t._pt;i;)i.r(c,i.d),i=i._next;e<0&&Ot(t,e,0,!0),t._onUpdate&&!n&&he(t,"onUpdate"),h&&t._repeat&&!n&&t.parent&&he(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===c&&(c&&Pt(t,1),n||s||(he(t,c?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},n.resetTo=function(t,e,n,r,i){m||Ee.wake(),this._ts||this.play();var o=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Ve(this,o),function(t,e,n,r,i,o,s,a){var l,c,u,h,p=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!p)for(p=t._ptCache[e]=[],u=t._ptLookup,h=t._targets.length;h--;){if((l=u[h][e])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==e&&l.fp!==e;)l=l._next;if(!l)return Ge=1,t.vars[e]="+=0",Ve(t,s),Ge=0,a?K(e+" not eligible for reset"):1;p.push(l)}for(h=p.length;h--;)(l=(c=p[h])._pt||c).s=!r&&0!==r||i?l.s+(r||0)+o*l.c:r,l.c=n-l.s,c.e&&(c.e=ft(n)+Kt(c.e)),c.b&&(c.b=l.s+Kt(c.b))}(this,t,e,n,r,this._ease(o/this._dur),o,i)?this.resetTo(t,e,n,r,1):(Nt(this,0),this.parent||Mt(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?pe(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Ue&&!0!==Ue.vars.overwrite)._first||pe(this),this.parent&&n!==this.timeline.totalDuration()&&jt(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,o,s,a,l,c,u=this._targets,h=t?te(t):u,p=this._ptLookup,d=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,r=n===e.length;r&&n--&&t[n]===e[n];);return n<0}(u,h))return"all"===e&&(this._pt=0),pe(this);for(r=this._op=this._op||[],"all"!==e&&(P(e)&&(a={},dt(e,(function(t){return a[t]=1})),e=a),e=function(t,e){var n,r,i,o,s=t[0]?ht(t[0]).harness:0,a=s&&s.aliases;if(!a)return e;for(r in n=Et({},e),a)if(r in n)for(i=(o=a[r].split(",")).length;i--;)n[o[i]]=n[r];return n}(u,e)),c=u.length;c--;)if(~h.indexOf(u[c]))for(a in i=p[c],"all"===e?(r[c]=e,s=i,o={}):(o=r[c]=r[c]||{},s=e),s)(l=i&&i[a])&&("kill"in l.d&&!0!==l.d.kill(a)||Ct(this,l,"_pt"),delete i[a]),"all"!==o&&(o[a]=1);return this._initted&&!this._pt&&d&&pe(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,e){return qt(1,arguments)},e.delayedCall=function(t,n,r,i){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},e.fromTo=function(t,e,n){return qt(2,arguments)},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return l.killTweensOf(t,e,n)},e}(Ne);wt($e.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),dt("staggerTo,staggerFrom,staggerFromTo",(function(t){$e[t]=function(){var e=new Be,n=Zt.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var Ke=function(t,e,n){return t[e]=n},Ze=function(t,e,n){return t[e](n)},Je=function(t,e,n,r){return t[e](r.fp,n)},Qe=function(t,e,n){return t.setAttribute(e,n)},tn=function(t,e){return D(t[e])?Ze:O(t[e])&&t.setAttribute?Qe:Ke},en=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},nn=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},rn=function(t,e){var n=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},on=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},sn=function(t,e,n,r){for(var i,o=this._pt;o;)i=o._next,o.p===r&&o.modifier(t,e,n),o=i},an=function(t){for(var e,n,r=this._pt;r;)n=r._next,r.p===t&&!r.op||r.op===t?Ct(this,r,"_pt"):r.dep||(e=1),r=n;return!e},ln=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},cn=function(t){for(var e,n,r,i,o=t._pt;o;){for(e=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:i)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:i=o,o=e}t._pt=r},un=function(){function t(t,e,n,r,i,o,s,a,l){this.t=e,this.s=r,this.c=i,this.p=n,this.r=o||en,this.d=s||this,this.set=a||Ke,this.pr=l||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=ln,this.m=t,this.mt=n,this.tween=e},t}();dt(ct+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return nt[t]=1})),W.TweenMax=W.TweenLite=$e,W.TimelineLite=W.TimelineMax=Be,l=new Be({sortChildren:!1,defaults:x,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),_.stringFilter=we;var hn=[],pn={},dn=[],fn=0,mn=0,gn=function(t){return(pn[t]||dn).map((function(t){return t()}))},vn=function(){var t=Date.now(),e=[];t-fn>2&&(gn("matchMediaInit"),hn.forEach((function(t){var n,r,i,o,s=t.queries,a=t.conditions;for(r in s)(n=c.matchMedia(s[r]).matches)&&(i=1),n!==a[r]&&(a[r]=n,o=1);o&&(t.revert(),i&&e.push(t))})),gn("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t,(function(e){return t.add(null,e)}))})),fn=t,gn("matchMedia"))},yn=function(){function t(t,e){this.selector=e&&ee(e),this.data=[],this._r=[],this.isReverted=!1,this.id=mn++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,n){D(t)&&(n=e,e=t,t=D);var r=this,i=function(){var t,i=a,o=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=ee(n)),a=r,t=e.apply(r,arguments),D(t)&&r._r.push(t),a=i,r.selector=o,r.isReverted=!1,t};return r.last=i,t===D?i(r,(function(t){return r.add(null,t)})):t?r[t]=i:i},e.ignore=function(t){var e=a;a=null,t(this),a=e},e.getTweens=function(){var e=[];return this.data.forEach((function(n){return n instanceof t?e.push.apply(e,n.getTweens()):n instanceof $e&&!(n.parent&&"nested"===n.parent.data)&&e.push(n)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var n=this;if(t?function(){for(var e,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(e=n.data[i]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(t){return r.splice(r.indexOf(t),1)})));for(r.map((function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t:t}})).sort((function(t,e){return e.g-t.g||-1/0})).forEach((function(e){return e.t.revert(t)})),i=n.data.length;i--;)(e=n.data[i])instanceof Be?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof $e)&&e.revert&&e.revert(t);n._r.forEach((function(e){return e(t,n)})),n.isReverted=!0}():this.data.forEach((function(t){return t.kill&&t.kill()})),this.clear(),e)for(var r=hn.length;r--;)hn[r].id===this.id&&hn.splice(r,1)},e.revert=function(t){this.kill(t||{})},t}(),bn=function(){function t(t){this.contexts=[],this.scope=t}var e=t.prototype;return e.add=function(t,e,n){I(t)||(t={matches:t});var r,i,o,s=new yn(0,n||this.scope),l=s.conditions={};for(i in a&&!s.selector&&(s.selector=a.selector),this.contexts.push(s),e=s.add("onMatch",e),s.queries=t,t)"all"===i?o=1:(r=c.matchMedia(t[i]))&&(hn.indexOf(s)<0&&hn.push(s),(l[i]=r.matches)&&(o=1),r.addListener?r.addListener(vn):r.addEventListener("change",vn));return o&&e(s,(function(t){return s.add(null,t)})),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),_n={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return fe(t)}))},timeline:function(t){return new Be(t)},getTweensOf:function(t,e){return l.getTweensOf(t,e)},getProperty:function(t,e,n,r){P(t)&&(t=te(t)[0]);var i=ht(t||{}).get,o=n?xt:_t;return"native"===n&&(n=""),t?e?o((ot[e]&&ot[e].get||i)(t,e,n,r)):function(e,n,r){return o((ot[e]&&ot[e].get||i)(t,e,n,r))}:t},quickSetter:function(t,e,n){if((t=te(t)).length>1){var r=t.map((function(t){return En.quickSetter(t,e,n)})),i=r.length;return function(t){for(var e=i;e--;)r[e](t)}}t=t[0]||{};var o=ot[e],s=ht(t),a=s.harness&&(s.harness.aliases||{})[e]||e,l=o?function(e){var r=new o;f._pt=0,r.init(t,n?e+n:e,f,0,[t]),r.render(1,r),f._pt&&on(1,f)}:s.set(t,a);return o?l:function(e){return l(t,a,n?e+n:e,s,1)}},quickTo:function(t,e,n){var r,i=En.to(t,Et(((r={})[e]="+=0.1",r.paused=!0,r),n||{})),o=function(t,n,r){return i.resetTo(e,t,n,r)};return o.tween=i,o},isTweening:function(t){return l.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Re(t.ease,x.ease)),St(x,t||{})},config:function(t){return St(_,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,i=t.defaults,o=t.extendTimeline;(r||"").split(",").forEach((function(t){return t&&!ot[t]&&!W[t]&&K(e+" effect requires "+t+" plugin.")})),st[e]=function(t,e,r){return n(te(t),wt(e||{},i),r)},o&&(Be.prototype[e]=function(t,n,r){return this.add(st[e](t,I(n)?n:(r=n)&&{},this),r)})},registerEase:function(t,e){Te[t]=Re(e)},parseEase:function(t,e){return arguments.length?Re(t,e):Te},getById:function(t){return l.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,r,i=new Be(t);for(i.smoothChildTiming=L(t.smoothChildTiming),l.remove(i),i._dp=0,i._time=i._tTime=l._time,n=l._first;n;)r=n._next,!e&&!n._dur&&n instanceof $e&&n.vars.onComplete===n._targets[0]||Ut(i,n,n._start-n._delay),n=r;return Ut(l,i,0),i},context:function(t,e){return t?new yn(t,e):a},matchMedia:function(t){return new bn(t)},matchMediaRefresh:function(){return hn.forEach((function(t){var e,n,r=t.conditions;for(n in r)r[n]&&(r[n]=!1,e=1);e&&t.revert()}))||vn()},addEventListener:function(t,e){var n=pn[t]||(pn[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=pn[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},utils:{wrap:function t(e,n,r){var i=n-e;return B(e)?ae(e,t(0,e.length),n):Yt(r,(function(t){return(i+(t-e)%i)%i+e}))},wrapYoyo:function t(e,n,r){var i=n-e,o=2*i;return B(e)?ae(e,t(0,e.length-1),n):Yt(r,(function(t){return e+((t=(o+(t-e)%o)%o||0)>i?o-t:t)}))},distribute:re,random:se,snap:oe,normalize:function(t,e,n){return ce(t,e,0,1,n)},getUnit:Kt,clamp:function(t,e,n){return Yt(n,(function(n){return $t(t,e,n)}))},splitColor:ve,toArray:te,selector:ee,mapRange:ce,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||Kt(n))}},interpolate:function t(e,n,r,i){var o=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!o){var s,a,l,c,u,h=P(e),p={};if(!0===r&&(i=1)&&(r=null),h)e={p:e},n={p:n};else if(B(e)&&!B(n)){for(l=[],c=e.length,u=c-2,a=1;a<c;a++)l.push(t(e[a-1],e[a]));c--,o=function(t){t*=c;var e=Math.min(u,~~t);return l[e](t-e)},r=n}else i||(e=Et(B(e)?[]:{},e));if(!l){for(s in n)He.call(p,e,s,"get",n[s]);o=function(t){return on(t,p)||(h?e.p:e)}}}return Yt(r,o)},shuffle:ne},install:Y,effects:st,ticker:Ee,updateRoot:Be.updateRoot,plugins:ot,globalTimeline:l,core:{PropTween:un,globals:Z,Tween:$e,Timeline:Be,Animation:Ne,getCache:ht,_removeLinkedListItem:Ct,reverting:function(){return s},context:function(t){return t&&a&&(a.data.push(t),t._ctx=a),a},suppressOverwrites:function(t){return o=t}}};dt("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return _n[t]=$e[t]})),Ee.add(Be.updateRoot),f=_n.to({},{duration:0});var xn=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},wn=function(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,i;if(P(n)&&(r={},dt(n,(function(t){return r[t]=1})),n=r),e){for(i in r={},n)r[i]=e(n[i]);n=r}!function(t,e){var n,r,i,o=t._targets;for(n in e)for(r=o.length;r--;)(i=t._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=xn(i,n)),i&&i.modifier&&i.modifier(e[n],t,o[r],n))}(t,n)}}}},En=_n.registerPlugin({name:"attr",init:function(t,e,n,r,i){var o,s,a;for(o in this.tween=n,e)a=t.getAttribute(o)||"",(s=this.add(t,"setAttribute",(a||0)+"",e[o],r,i,0,0,o)).op=o,s.b=a,this._props.push(o)},render:function(t,e){for(var n=e._pt;n;)s?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},wn("roundProps",ie),wn("modifiers"),wn("snap",oe))||_n;$e.version=Be.version=En.version="3.12.3",p=1,k()&&Se();Te.Power0,Te.Power1,Te.Power2,Te.Power3,Te.Power4,Te.Linear,Te.Quad,Te.Cubic,Te.Quart,Te.Quint,Te.Strong,Te.Elastic,Te.Back,Te.SteppedEase,Te.Bounce,Te.Sine,Te.Expo,Te.Circ;var Sn,Tn,An,Mn,Cn,Pn,Dn,Rn,On={},In=180/Math.PI,Ln=Math.PI/180,kn=Math.atan2,Fn=/([A-Z])/g,Nn=/(left|right|width|margin|padding|x)/i,Bn=/[\s,\(]\S/,Un={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Gn=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},zn=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Hn=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},jn=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},Vn=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Xn=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},Wn=function(t,e,n){return t.style[e]=n},qn=function(t,e,n){return t.style.setProperty(e,n)},Yn=function(t,e,n){return t._gsap[e]=n},$n=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},Kn=function(t,e,n,r,i){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},Zn=function(t,e,n,r,i){var o=t._gsap;o[e]=n,o.renderTransform(i,o)},Jn="transform",Qn=Jn+"Origin",tr=function t(e,n){var r=this,i=this.target,o=i.style,s=i._gsap;if(e in On&&o){if(this.tfm=this.tfm||{},"transform"===e)return Un.transform.split(",").forEach((function(e){return t.call(r,e,n)}));if(~(e=Un[e]||e).indexOf(",")?e.split(",").forEach((function(t){return r.tfm[t]=yr(i,t)})):this.tfm[e]=s.x?s[e]:yr(i,e),e===Qn&&(this.tfm.zOrigin=s.zOrigin),this.props.indexOf(Jn)>=0)return;s.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Qn,n,"")),e=Jn}(o||n)&&this.props.push(e,n,o[e])},er=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},nr=function(){var t,e,n=this.props,r=this.target,i=r.style,o=r._gsap;for(t=0;t<n.length;t+=3)n[t+1]?r[n[t]]=n[t+2]:n[t+2]?i[n[t]]=n[t+2]:i.removeProperty("--"===n[t].substr(0,2)?n[t]:n[t].replace(Fn,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)o[e]=this.tfm[e];o.svg&&(o.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(t=Dn())&&t.isStart||i[Jn]||(er(i),o.zOrigin&&i[Qn]&&(i[Qn]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},rr=function(t,e){var n={target:t,props:[],revert:nr,save:tr};return t._gsap||En.core.getCache(t),e&&e.split(",").forEach((function(t){return n.save(t)})),n},ir=function(t,e){var n=Tn.createElementNS?Tn.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Tn.createElement(t);return n&&n.style?n:Tn.createElement(t)},or=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(Fn,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,ar(n)||n,1)||""},sr="O,Moz,ms,Ms,Webkit".split(","),ar=function(t,e,n){var r=(e||Cn).style,i=5;if(t in r&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(sr[i]+t in r););return i<0?null:(3===i?"ms":i>=0?sr[i]:"")+t},lr=function(){"undefined"!=typeof window&&window.document&&(Sn=window,Tn=Sn.document,An=Tn.documentElement,Cn=ir("div")||{style:{}},ir("div"),Jn=ar(Jn),Qn=Jn+"Origin",Cn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Rn=!!ar("perspective"),Dn=En.core.reverting,Mn=1)},cr=function t(e){var n,r=ir("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(An.appendChild(r),r.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(o?i.insertBefore(this,o):i.appendChild(this)),An.removeChild(r),this.style.cssText=s,n},ur=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},hr=function(t){var e;try{e=t.getBBox()}catch(n){e=cr.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===cr||(e=cr.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+ur(t,["x","cx","x1"])||0,y:+ur(t,["y","cy","y1"])||0,width:0,height:0}},pr=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!hr(t))},dr=function(t,e){if(e){var n,r=t.style;e in On&&e!==Qn&&(e=Jn),r.removeProperty?("ms"!==(n=e.substr(0,2))&&"webkit"!==e.substr(0,6)||(e="-"+e),r.removeProperty("--"===n?e:e.replace(Fn,"-$1").toLowerCase())):r.removeAttribute(e)}},fr=function(t,e,n,r,i,o){var s=new un(t._pt,e,n,0,1,o?Xn:Vn);return t._pt=s,s.b=r,s.e=i,t._props.push(n),s},mr={deg:1,rad:1,turn:1},gr={grid:1,flex:1},vr=function t(e,n,r,i){var o,s,a,l,c=parseFloat(r)||0,u=(r+"").trim().substr((c+"").length)||"px",h=Cn.style,p=Nn.test(n),d="svg"===e.tagName.toLowerCase(),f=(d?"client":"offset")+(p?"Width":"Height"),m="px"===i,g="%"===i;if(i===u||!c||mr[i]||mr[u])return c;if("px"!==u&&!m&&(c=t(e,n,r,"px")),l=e.getCTM&&pr(e),(g||"%"===u)&&(On[n]||~n.indexOf("adius")))return o=l?e.getBBox()[p?"width":"height"]:e[f],ft(g?c/o*100:c/100*o);if(h[p?"width":"height"]=100+(m?u:i),s=~n.indexOf("adius")||"em"===i&&e.appendChild&&!d?e:e.parentNode,l&&(s=(e.ownerSVGElement||{}).parentNode),s&&s!==Tn&&s.appendChild||(s=Tn.body),(a=s._gsap)&&g&&a.width&&p&&a.time===Ee.time&&!a.uncache)return ft(c/a.width*100);if(!g||"height"!==n&&"width"!==n)(g||"%"===u)&&!gr[or(s,"display")]&&(h.position=or(e,"position")),s===e&&(h.position="static"),s.appendChild(Cn),o=Cn[f],s.removeChild(Cn),h.position="absolute";else{var v=e.style[n];e.style[n]=100+i,o=e[f],v?e.style[n]=v:dr(e,n)}return p&&g&&((a=ht(s)).time=Ee.time,a.width=s[f]),ft(m?o*c/100:o&&c?100/o*c:0)},yr=function(t,e,n,r){var i;return Mn||lr(),e in Un&&"transform"!==e&&~(e=Un[e]).indexOf(",")&&(e=e.split(",")[0]),On[e]&&"transform"!==e?(i=Pr(t,r),i="transformOrigin"!==e?i[e]:i.svg?i.origin:Dr(or(t,Qn))+" "+i.zOrigin+"px"):(!(i=t.style[e])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=wr[e]&&wr[e](t,e,n)||or(t,e)||pt(t,e)||("opacity"===e?1:0)),n&&!~(i+"").trim().indexOf(" ")?vr(t,e,i,n)+n:i},br=function(t,e,n,r){if(!n||"none"===n){var i=ar(e,t,1),o=i&&or(t,i,1);o&&o!==n?(e=i,n=o):"borderColor"===e&&(n=or(t,"borderTopColor"))}var s,a,l,c,u,h,p,d,f,m,g,v=new un(this._pt,t.style,e,0,1,rn),y=0,b=0;if(v.b=n,v.e=r,n+="","auto"===(r+="")&&(h=t.style[e],t.style[e]=r,r=or(t,e)||r,h?t.style[e]=h:dr(t,e)),we(s=[n,r]),r=s[1],l=(n=s[0]).match(z)||[],(r.match(z)||[]).length){for(;a=z.exec(r);)p=a[0],f=r.substring(y,a.index),u?u=(u+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(u=1),p!==(h=l[b++]||"")&&(c=parseFloat(h)||0,g=h.substr((c+"").length),"="===p.charAt(1)&&(p=gt(c,p)+g),d=parseFloat(p),m=p.substr((d+"").length),y=z.lastIndex-m.length,m||(m=m||_.units[e]||g,y===r.length&&(r+=m,v.e+=m)),g!==m&&(c=vr(t,e,h,m)||0),v._pt={_next:v._pt,p:f||1===b?f:",",s:c,c:d-c,m:u&&u<4||"zIndex"===e?Math.round:0});v.c=y<r.length?r.substring(y,r.length):""}else v.r="display"===e&&"none"===r?Xn:Vn;return j.test(r)&&(v.e=0),this._pt=v,v},_r={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},xr=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,r,i,o=e.t,s=o.style,a=e.u,l=o._gsap;if("all"===a||!0===a)s.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)n=a[i],On[n]&&(r=1,n="transformOrigin"===n?Qn:Jn),dr(o,n);r&&(dr(o,Jn),l&&(l.svg&&o.removeAttribute("transform"),Pr(o,1),l.uncache=1,er(s)))}},wr={clearProps:function(t,e,n,r,i){if("isFromStart"!==i.data){var o=t._pt=new un(t._pt,e,n,0,0,xr);return o.u=r,o.pr=-10,o.tween=i,t._props.push(n),1}}},Er=[1,0,0,1,0,0],Sr={},Tr=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Ar=function(t){var e=or(t,Jn);return Tr(e)?Er:e.substr(7).match(G).map(ft)},Mr=function(t,e){var n,r,i,o,s=t._gsap||ht(t),a=t.style,l=Ar(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?Er:l:(l!==Er||t.offsetParent||t===An||s.svg||(i=a.display,a.display="block",(n=t.parentNode)&&t.offsetParent||(o=1,r=t.nextElementSibling,An.appendChild(t)),l=Ar(t),i?a.display=i:dr(t,"display"),o&&(r?n.insertBefore(t,r):n?n.appendChild(t):An.removeChild(t))),e&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},Cr=function(t,e,n,r,i,o){var s,a,l,c=t._gsap,u=i||Mr(t,!0),h=c.xOrigin||0,p=c.yOrigin||0,d=c.xOffset||0,f=c.yOffset||0,m=u[0],g=u[1],v=u[2],y=u[3],b=u[4],_=u[5],x=e.split(" "),w=parseFloat(x[0])||0,E=parseFloat(x[1])||0;n?u!==Er&&(a=m*y-g*v)&&(l=w*(-g/a)+E*(m/a)-(m*_-g*b)/a,w=w*(y/a)+E*(-v/a)+(v*_-y*b)/a,E=l):(w=(s=hr(t)).x+(~x[0].indexOf("%")?w/100*s.width:w),E=s.y+(~(x[1]||x[0]).indexOf("%")?E/100*s.height:E),"xOrigin"in c||!w&&!E||(w-=s.x,E-=s.y)),r||!1!==r&&c.smooth?(b=w-h,_=E-p,c.xOffset=d+(b*m+_*v)-b,c.yOffset=f+(b*g+_*y)-_):c.xOffset=c.yOffset=0,c.xOrigin=w,c.yOrigin=E,c.smooth=!!r,c.origin=e,c.originIsAbsolute=!!n,t.style[Qn]="0px 0px",o&&(fr(o,c,"xOrigin",h,w),fr(o,c,"yOrigin",p,E),fr(o,c,"xOffset",d,c.xOffset),fr(o,c,"yOffset",f,c.yOffset)),t.setAttribute("data-svg-origin",w+" "+E)},Pr=function(t,e){var n=t._gsap||new Fe(t);if("x"in n&&!e&&!n.uncache)return n;var r,i,o,s,a,l,c,u,h,p,d,f,m,g,v,y,b,x,w,E,S,T,A,M,C,P,D,R,O,I,L,k,F=t.style,N=n.scaleX<0,B=getComputedStyle(t),U=or(t,Qn)||"0";return r=i=o=l=c=u=h=p=d=0,s=a=1,n.svg=!(!t.getCTM||!pr(t)),B.translate&&("none"===B.translate&&"none"===B.scale&&"none"===B.rotate||(F[Jn]=("none"!==B.translate?"translate3d("+(B.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==B.rotate?"rotate("+B.rotate+") ":"")+("none"!==B.scale?"scale("+B.scale.split(" ").join(",")+") ":"")+("none"!==B[Jn]?B[Jn]:"")),F.scale=F.rotate=F.translate="none"),g=Mr(t,n.svg),n.svg&&(n.uncache?(C=t.getBBox(),U=n.xOrigin-C.x+"px "+(n.yOrigin-C.y)+"px",M=""):M=!e&&t.getAttribute("data-svg-origin"),Cr(t,M||U,!!M||n.originIsAbsolute,!1!==n.smooth,g)),f=n.xOrigin||0,m=n.yOrigin||0,g!==Er&&(x=g[0],w=g[1],E=g[2],S=g[3],r=T=g[4],i=A=g[5],6===g.length?(s=Math.sqrt(x*x+w*w),a=Math.sqrt(S*S+E*E),l=x||w?kn(w,x)*In:0,(h=E||S?kn(E,S)*In+l:0)&&(a*=Math.abs(Math.cos(h*Ln))),n.svg&&(r-=f-(f*x+m*E),i-=m-(f*w+m*S))):(k=g[6],I=g[7],D=g[8],R=g[9],O=g[10],L=g[11],r=g[12],i=g[13],o=g[14],c=(v=kn(k,O))*In,v&&(M=T*(y=Math.cos(-v))+D*(b=Math.sin(-v)),C=A*y+R*b,P=k*y+O*b,D=T*-b+D*y,R=A*-b+R*y,O=k*-b+O*y,L=I*-b+L*y,T=M,A=C,k=P),u=(v=kn(-E,O))*In,v&&(y=Math.cos(-v),L=S*(b=Math.sin(-v))+L*y,x=M=x*y-D*b,w=C=w*y-R*b,E=P=E*y-O*b),l=(v=kn(w,x))*In,v&&(M=x*(y=Math.cos(v))+w*(b=Math.sin(v)),C=T*y+A*b,w=w*y-x*b,A=A*y-T*b,x=M,T=C),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),s=ft(Math.sqrt(x*x+w*w+E*E)),a=ft(Math.sqrt(A*A+k*k)),v=kn(T,A),h=Math.abs(v)>2e-4?v*In:0,d=L?1/(L<0?-L:L):0),n.svg&&(M=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!Tr(or(t,Jn)),M&&t.setAttribute("transform",M))),Math.abs(h)>90&&Math.abs(h)<270&&(N?(s*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,h+=h<=0?180:-180)),e=e||n.uncache,n.x=r-((n.xPercent=r&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+"px",n.y=i-((n.yPercent=i&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+"px",n.z=o+"px",n.scaleX=ft(s),n.scaleY=ft(a),n.rotation=ft(l)+"deg",n.rotationX=ft(c)+"deg",n.rotationY=ft(u)+"deg",n.skewX=h+"deg",n.skewY=p+"deg",n.transformPerspective=d+"px",(n.zOrigin=parseFloat(U.split(" ")[2])||!e&&n.zOrigin||0)&&(F[Qn]=Dr(U)),n.svg||(n.xOffset=n.yOffset=0),n.force3D=_.force3D,n.renderTransform=n.svg?Lr:Rn?Ir:Or,n.uncache=0,n},Dr=function(t){return(t=t.split(" "))[0]+" "+t[1]},Rr=function(t,e,n){var r=Kt(e);return ft(parseFloat(e)+parseFloat(vr(t,"x",n+"px",r)))+r},Or=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Ir(t,e)},Ir=function(t,e){var n=e||this,r=n.xPercent,i=n.yPercent,o=n.x,s=n.y,a=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,h=n.skewX,p=n.skewY,d=n.scaleX,f=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,b="",_="auto"===g&&t&&1!==t||!0===g;if(y&&("0deg"!==u||"0deg"!==c)){var x,w=parseFloat(c)*Ln,E=Math.sin(w),S=Math.cos(w);w=parseFloat(u)*Ln,x=Math.cos(w),o=Rr(v,o,E*x*-y),s=Rr(v,s,-Math.sin(w)*-y),a=Rr(v,a,S*x*-y+y)}"0px"!==m&&(b+="perspective("+m+") "),(r||i)&&(b+="translate("+r+"%, "+i+"%) "),(_||"0px"!==o||"0px"!==s||"0px"!==a)&&(b+="0px"!==a||_?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+") "),"0deg"!==l&&(b+="rotate("+l+") "),"0deg"!==c&&(b+="rotateY("+c+") "),"0deg"!==u&&(b+="rotateX("+u+") "),"0deg"===h&&"0deg"===p||(b+="skew("+h+", "+p+") "),1===d&&1===f||(b+="scale("+d+", "+f+") "),v.style[Jn]=b||"translate(0, 0)"},Lr=function(t,e){var n,r,i,o,s,a=e||this,l=a.xPercent,c=a.yPercent,u=a.x,h=a.y,p=a.rotation,d=a.skewX,f=a.skewY,m=a.scaleX,g=a.scaleY,v=a.target,y=a.xOrigin,b=a.yOrigin,_=a.xOffset,x=a.yOffset,w=a.forceCSS,E=parseFloat(u),S=parseFloat(h);p=parseFloat(p),d=parseFloat(d),(f=parseFloat(f))&&(d+=f=parseFloat(f),p+=f),p||d?(p*=Ln,d*=Ln,n=Math.cos(p)*m,r=Math.sin(p)*m,i=Math.sin(p-d)*-g,o=Math.cos(p-d)*g,d&&(f*=Ln,s=Math.tan(d-f),i*=s=Math.sqrt(1+s*s),o*=s,f&&(s=Math.tan(f),n*=s=Math.sqrt(1+s*s),r*=s)),n=ft(n),r=ft(r),i=ft(i),o=ft(o)):(n=m,o=g,r=i=0),(E&&!~(u+"").indexOf("px")||S&&!~(h+"").indexOf("px"))&&(E=vr(v,"x",u,"px"),S=vr(v,"y",h,"px")),(y||b||_||x)&&(E=ft(E+y-(y*n+b*i)+_),S=ft(S+b-(y*r+b*o)+x)),(l||c)&&(s=v.getBBox(),E=ft(E+l/100*s.width),S=ft(S+c/100*s.height)),s="matrix("+n+","+r+","+i+","+o+","+E+","+S+")",v.setAttribute("transform",s),w&&(v.style[Jn]=s)},kr=function(t,e,n,r,i){var o,s,a=P(i),l=parseFloat(i)*(a&&~i.indexOf("rad")?In:1)-r,c=r+l+"deg";return a&&("short"===(o=i.split("_")[1])&&(l%=360)!==l%180&&(l+=l<0?360:-360),"cw"===o&&l<0?l=(l+36e9)%360-360*~~(l/360):"ccw"===o&&l>0&&(l=(l-36e9)%360-360*~~(l/360))),t._pt=s=new un(t._pt,e,n,r,l,zn),s.e=c,s.u="deg",t._props.push(n),s},Fr=function(t,e){for(var n in e)t[n]=e[n];return t},Nr=function(t,e,n){var r,i,o,s,a,l,c,u=Fr({},n._gsap),h=n.style;for(i in u.svg?(o=n.getAttribute("transform"),n.setAttribute("transform",""),h[Jn]=e,r=Pr(n,1),dr(n,Jn),n.setAttribute("transform",o)):(o=getComputedStyle(n)[Jn],h[Jn]=e,r=Pr(n,1),h[Jn]=o),On)(o=u[i])!==(s=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=Kt(o)!==(c=Kt(s))?vr(n,i,o,c):parseFloat(o),l=parseFloat(s),t._pt=new un(t._pt,r,i,a,l-a,Gn),t._pt.u=c||0,t._props.push(i));Fr(r,u)};dt("padding,margin,Width,Radius",(function(t,e){var n="Top",r="Right",i="Bottom",o="Left",s=(e<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map((function(n){return e<2?t+n:"border"+n+t}));wr[e>1?"border"+t:t]=function(t,e,n,r,i){var o,a;if(arguments.length<4)return o=s.map((function(e){return yr(t,e,n)})),5===(a=o.join(" ")).split(o[0]).length?o[0]:a;o=(r+"").split(" "),a={},s.forEach((function(t,e){return a[t]=o[e]=o[e]||o[(e-1)/2|0]})),t.init(e,a,i)}}));var Br,Ur,Gr={name:"css",register:lr,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,i){var o,s,a,l,c,u,h,p,d,f,m,g,v,y,b,x,w,E,S,T,A=this._props,M=t.style,C=n.vars.startAt;for(h in Mn||lr(),this.styles=this.styles||rr(t),x=this.styles.props,this.tween=n,e)if("autoRound"!==h&&(s=e[h],!ot[h]||!je(h,e,n,r,t,i)))if(c=typeof s,u=wr[h],"function"===c&&(c=typeof(s=s.call(n,r,t,i))),"string"===c&&~s.indexOf("random(")&&(s=le(s)),u)u(this,t,h,s,n)&&(b=1);else if("--"===h.substr(0,2))o=(getComputedStyle(t).getPropertyValue(h)+"").trim(),s+="",_e.lastIndex=0,_e.test(o)||(p=Kt(o),d=Kt(s)),d?p!==d&&(o=vr(t,h,o,d)+d):p&&(s+=p),this.add(M,"setProperty",o,s,r,i,0,0,h),A.push(h),x.push(h,0,M[h]);else if("undefined"!==c){if(C&&h in C?(o="function"==typeof C[h]?C[h].call(n,r,t,i):C[h],P(o)&&~o.indexOf("random(")&&(o=le(o)),Kt(o+"")||"auto"===o||(o+=_.units[h]||Kt(yr(t,h))||""),"="===(o+"").charAt(1)&&(o=yr(t,h))):o=yr(t,h),l=parseFloat(o),(f="string"===c&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),a=parseFloat(s),h in Un&&("autoAlpha"===h&&(1===l&&"hidden"===yr(t,"visibility")&&a&&(l=0),x.push("visibility",0,M.visibility),fr(this,M,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==h&&"transform"!==h&&~(h=Un[h]).indexOf(",")&&(h=h.split(",")[0])),m=h in On)if(this.styles.save(h),g||((v=t._gsap).renderTransform&&!e.parseTransform||Pr(t,e.parseTransform),y=!1!==e.smoothOrigin&&v.smooth,(g=this._pt=new un(this._pt,M,Jn,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===h)this._pt=new un(this._pt,v,"scaleY",v.scaleY,(f?gt(v.scaleY,f+a):a)-v.scaleY||0,Gn),this._pt.u=0,A.push("scaleY",h),h+="X";else{if("transformOrigin"===h){x.push(Qn,0,M[Qn]),E=void 0,S=void 0,T=void 0,E=(w=s).split(" "),S=E[0],T=E[1]||"50%","top"!==S&&"bottom"!==S&&"left"!==T&&"right"!==T||(w=S,S=T,T=w),E[0]=_r[S]||S,E[1]=_r[T]||T,s=E.join(" "),v.svg?Cr(t,s,0,y,0,this):((d=parseFloat(s.split(" ")[2])||0)!==v.zOrigin&&fr(this,v,"zOrigin",v.zOrigin,d),fr(this,M,h,Dr(o),Dr(s)));continue}if("svgOrigin"===h){Cr(t,s,1,y,0,this);continue}if(h in Sr){kr(this,v,h,l,f?gt(l,f+s):s);continue}if("smoothOrigin"===h){fr(this,v,"smooth",v.smooth,s);continue}if("force3D"===h){v[h]=s;continue}if("transform"===h){Nr(this,s,t);continue}}else h in M||(h=ar(h)||h);if(m||(a||0===a)&&(l||0===l)&&!Bn.test(s)&&h in M)a||(a=0),(p=(o+"").substr((l+"").length))!==(d=Kt(s)||(h in _.units?_.units[h]:p))&&(l=vr(t,h,o,d)),this._pt=new un(this._pt,m?v:M,h,l,(f?gt(l,f+a):a)-l,m||"px"!==d&&"zIndex"!==h||!1===e.autoRound?Gn:jn),this._pt.u=d||0,p!==d&&"%"!==d&&(this._pt.b=o,this._pt.r=Hn);else if(h in M)br.call(this,t,h,o,f?f+s:s);else if(h in t)this.add(t,h,o||t[h],f?f+s:s,r,i);else if("parseTransform"!==h){$(h,s);continue}m||(h in M?x.push(h,0,M[h]):x.push(h,1,o||t[h])),A.push(h)}b&&cn(this)},render:function(t,e){if(e.tween._time||!Dn())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:yr,aliases:Un,getSetter:function(t,e,n){var r=Un[e];return r&&r.indexOf(",")<0&&(e=r),e in On&&e!==Qn&&(t._gsap.x||yr(t,"x"))?n&&Pn===n?"scale"===e?$n:Yn:(Pn=n||{})&&("scale"===e?Kn:Zn):t.style&&!O(t.style[e])?Wn:~e.indexOf("-")?qn:tn(t,e)},core:{_removeProperty:dr,_getMatrix:Mr}};En.utils.checkPrefix=ar,En.core.getStyleSaver=rr,Ur=dt("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+(Br="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){On[t]=1})),dt(Br,(function(t){_.units[t]="deg",Sr[t]=1})),Un[Ur[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Br,dt("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Un[e[1]]=Ur[e[0]]})),dt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){_.units[t]="px"})),En.registerPlugin(Gr);var zr=En.registerPlugin(Gr)||En;zr.core.Tween}});
//# sourceMappingURL=app.js.map